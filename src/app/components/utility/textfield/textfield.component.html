<!-- Heading -->
<div *ngIf="heading">
    <h4 [innerHTML]="heading" class="d-inline"></h4>
    <h4 [ngClass]="{'d-none': !userHasUpdatePermission(), 'd-inline': userHasUpdatePermission()}">
        <i *ngIf="!isEditState && allowEdit" (click)="enableEdit()" class="fa icon fa-pencil ml-2"></i>
        <i *ngIf="isEditState" (click)="cancelEdit()" class="fa icon fa-times ml-2"></i>
        <i *ngIf="isEditState" (click)="finishEdit()" class="fa icon fa-check ml-2"></i>
    </h4>
</div>

<!-- Text Body -->
<form class="mt-2">
    <div class="textfield">
        <div *ngIf="isEditState">
            <form (submit)="finishEdit()">
                <editor 
                [init]="constants.tinyMCESettings"
                name="textEditField"
                [(ngModel)]="updatedText"
                class="mb-2"
                ></editor>

                <div class="btn btn-secondary mx-2" (click)="cancelEdit()">
                    <span class="fa icon fa-times"></span>
                    Cancel
                </div>
                <button type="submit" class="btn btn-primary">
                    <span class="fa fa-check"></span>
                    Submit
                </button>
            </form>

        </div>

        <div *ngIf="!isEditState" [innerHTML]="updatedText | safeHtml"></div>
    </div>
</form>

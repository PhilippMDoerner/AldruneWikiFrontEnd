(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[179],{993:(tl,vo,ue)=>{"use strict";function Oi(n){return"function"==typeof n}let tt=!1;const yi={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else tt&&console.log("RxJS: Back to a better error behavior. Thank you. <3");tt=n},get useDeprecatedSynchronousErrorHandling(){return tt}};function jt(n){setTimeout(()=>{throw n},0)}const Un={closed:!0,next(n){},error(n){if(yi.useDeprecatedSynchronousErrorHandling)throw n;jt(n)},complete(){}},pt=Array.isArray||(n=>n&&"number"==typeof n.length);function Kl(n){return null!==n&&"object"==typeof n}const Qt=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class ft{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof ft)e.remove(this);else if(null!==e)for(let a=0;a<e.length;++a)e[a].remove(this);if(Oi(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(a){t=a instanceof Qt?sa(a.errors):[a]}}if(pt(o)){let a=-1,c=o.length;for(;++a<c;){const u=o[a];if(Kl(u))try{u.unsubscribe()}catch(h){t=t||[],h instanceof Qt?t=t.concat(sa(h.errors)):t.push(h)}}}if(t)throw new Qt(t)}add(t){let e=t;if(!t)return ft.EMPTY;switch(typeof t){case"function":e=new ft(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof ft)){const o=e;e=new ft,e._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof ft){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function sa(n){return n.reduce((t,e)=>t.concat(e instanceof Qt?e.errors:e),[])}ft.EMPTY=((n=new ft).closed=!0,n);const Cr="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class at extends ft{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Un;break;case 1:if(!t){this.destination=Un;break}if("object"==typeof t){t instanceof at?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new Vc(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new Vc(this,t,e,i)}}[Cr](){return this}static create(t,e,i){const r=new at(t,e,i);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class Vc extends at{constructor(t,e,i,r){super(),this._parentSubscriber=t;let o,a=this;Oi(e)?o=e:e&&(o=e.next,i=e.error,r=e.complete,e!==Un&&(a=Object.create(e),Oi(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=i,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;yi.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=yi;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):jt(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;jt(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);yi.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),yi.useDeprecatedSynchronousErrorHandling)throw i;jt(i)}}__tryOrSetError(t,e,i){if(!yi.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(r){return yi.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(jt(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const aa="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vn(n){return n}function il(n){return 0===n.length?Vn:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Mt=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const{operator:o}=this,a=function Sr(n,t,e){if(n){if(n instanceof at)return n;if(n[Cr])return n[Cr]()}return n||t||e?new at(n,t,e):new at(Un)}(e,i,r);if(a.add(o?o.call(a,this.source):this.source||yi.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),yi.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(i){yi.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function wr(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof at?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=Ts(i))((r,o)=>{let a;a=this.subscribe(c=>{try{e(c)}catch(u){o(u),a&&a.unsubscribe()}},o,r)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[aa](){return this}pipe(...e){return 0===e.length?this:il(e)(this)}toPromise(e){return new(e=Ts(e))((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return n.create=t=>new n(t),n})();function Ts(n){if(n||(n=yi.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const gn=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Mn extends ft{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class rl extends at{constructor(t){super(t),this.destination=t}}let je=(()=>{class n extends Mt{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Cr](){return new rl(this)}lift(e){const i=new ol(this,this);return i.operator=e,i}next(e){if(this.closed)throw new gn;if(!this.isStopped){const{observers:i}=this,r=i.length,o=i.slice();for(let a=0;a<r;a++)o[a].next(e)}}error(e){if(this.closed)throw new gn;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,r=i.length,o=i.slice();for(let a=0;a<r;a++)o[a].error(e);this.observers.length=0}complete(){if(this.closed)throw new gn;this.isStopped=!0;const{observers:e}=this,i=e.length,r=e.slice();for(let o=0;o<i;o++)r[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new gn;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new gn;return this.hasError?(e.error(this.thrownError),ft.EMPTY):this.isStopped?(e.complete(),ft.EMPTY):(this.observers.push(e),new Mn(this,e))}asObservable(){const e=new Mt;return e.source=this,e}}return n.create=(t,e)=>new ol(t,e),n})();class ol extends je{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):ft.EMPTY}}function Bn(n){return n&&"function"==typeof n.schedule}function pe(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Je(n,t))}}class Je{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Dd(t,this.project,this.thisArg))}}class Dd extends at{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const xt=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},xn=function cr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),ur=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function yo(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Xl=n=>{if(n&&"function"==typeof n[aa])return(n=>t=>{const e=n[aa]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(ur(n))return xt(n);if(yo(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,jt),t))(n);if(n&&"function"==typeof n[xn])return(n=>t=>{const e=n[xn]();for(;;){let i;try{i=e.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${Kl(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function on(n,t){return new Mt(e=>{const i=new ft;let r=0;return i.add(t.schedule(function(){r!==n.length?(e.next(n[r++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function un(n,t){return t?function ca(n,t){if(null!=n){if(function ec(n){return n&&"function"==typeof n[aa]}(n))return function ri(n,t){return new Mt(e=>{const i=new ft;return i.add(t.schedule(()=>{const r=n[aa]();i.add(r.subscribe({next(o){i.add(t.schedule(()=>e.next(o)))},error(o){i.add(t.schedule(()=>e.error(o)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(yo(n))return function bo(n,t){return new Mt(e=>{const i=new ft;return i.add(t.schedule(()=>n.then(r=>{i.add(t.schedule(()=>{e.next(r),i.add(t.schedule(()=>e.complete()))}))},r=>{i.add(t.schedule(()=>e.error(r)))}))),i})}(n,t);if(ur(n))return on(n,t);if(function la(n){return n&&"function"==typeof n[xn]}(n)||"string"==typeof n)return function ci(n,t){if(!n)throw new Error("Iterable cannot be null");return new Mt(e=>{const i=new ft;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=n[xn](),i.add(t.schedule(function(){if(e.closed)return;let o,a;try{const c=r.next();o=c.value,a=c.done}catch(c){return void e.error(c)}a?e.complete():(e.next(o),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof Mt?n:new Mt(Xl(n))}class dr extends at{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ni extends at{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Kr(n,t){if(t.closed)return;if(n instanceof Mt)return n.subscribe(t);let e;try{e=Xl(n)(t)}catch(i){t.error(i)}return e}function pn(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(pn((r,o)=>un(n(r,o)).pipe(pe((a,c)=>t(r,a,o,c))),e)):("number"==typeof t&&(e=t),i=>i.lift(new hr(n,e)))}class hr{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Ed(t,this.project,this.concurrent))}}class Ed extends Ni{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new dr(this),i=this.destination;i.add(e);const r=Kr(t,e);r!==e&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Ko(n=Number.POSITIVE_INFINITY){return pn(Vn,n)}function Ds(n,t){return t?on(n,t):new Mt(xt(n))}function Yo(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return Bn(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof Mt?n[0]:Ko(t)(Ds(n,e))}function ua(){return function(t){return t.lift(new Hc(t))}}class Hc{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const r=new jc(t,i),o=e.subscribe(r);return r.closed||(r.connection=i.connect()),o}}class jc extends at{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,r=t._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class da extends Mt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new ft,t.add(this.source.subscribe(new tc(this.getSubject(),this))),t.closed&&(this._connection=null,t=ft.EMPTY)),t}refCount(){return ua()(this)}}const ha=(()=>{const n=da.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class tc extends rl{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function zc(n,t){return function(i){let r;if(r="function"==typeof n?n:function(){return n},"function"==typeof t)return i.lift(new vf(r,t));const o=Object.create(i,ha);return o.source=i,o.subjectFactory=r,o}}class vf{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:i}=this,r=this.subjectFactory(),o=i(r).subscribe(t);return o.add(e.subscribe(r)),o}}function Jo(){return new je}function Ri(){return n=>ua()(zc(Jo)(n))}function Tt(n){for(let t in n)if(n[t]===Tt)return t;throw Error("Could not find renamed property on target object.")}function nc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function en(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(en).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Dr(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Xo=Tt({__forward_ref__:Tt});function lt(n){return n.__forward_ref__=lt,n.toString=function(){return en(this())},n}function Ue(n){return fa(n)?n():n}function fa(n){return"function"==typeof n&&n.hasOwnProperty(Xo)&&n.__forward_ref__===lt}function Qi(n){return n&&!!n.\u0275providers}const ma="https://g.co/ng/security#xss";class ne extends Error{constructor(t,e){super(function Co(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function Qe(n){return"string"==typeof n?n:null==n?"":String(n)}function sl(n,t){throw new ne(-201,!1)}function nt(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}const di=W;function Le(n){return{providers:n.providers||[],imports:n.imports||[]}}function ks(n){return sn(n,ga)||sn(n,Yr)}function sn(n,t){return n.hasOwnProperty(t)?n[t]:null}function bi(n){return n&&(n.hasOwnProperty(es)||n.hasOwnProperty(vn))?n[es]:null}const ga=Tt({\u0275prov:Tt}),es=Tt({\u0275inj:Tt}),Yr=Tt({ngInjectableDef:Tt}),vn=Tt({ngInjectorDef:Tt});var Ee=(()=>((Ee=Ee||{})[Ee.Default=0]="Default",Ee[Ee.Host=1]="Host",Ee[Ee.Self=2]="Self",Ee[Ee.SkipSelf=4]="SkipSelf",Ee[Ee.Optional=8]="Optional",Ee))();let xs;function hi(n){const t=xs;return xs=n,t}function Is(n,t,e){const i=ks(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Ee.Optional?null:void 0!==t?t:void sl(en(n))}const Zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),J={},oe="__NG_DI_FLAG__",ve="ngTempTokenPath",$e=/\n/gm,Dt="__source";let Ci;function va(n){const t=Ci;return Ci=n,t}function Od(n,t=Ee.Default){if(void 0===Ci)throw new ne(-203,!1);return null===Ci?Is(n,void 0,t):Ci.get(n,t&Ee.Optional?null:void 0,t)}function R(n,t=Ee.Default){return(function _a(){return xs}()||Od)(Ue(n),t)}function rt(n,t=Ee.Default){return R(n,ba(t))}function ba(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function pr(n){const t=[];for(let e=0;e<n.length;e++){const i=Ue(n[e]);if(Array.isArray(i)){if(0===i.length)throw new ne(900,!1);let r,o=Ee.Default;for(let a=0;a<i.length;a++){const c=i[a],u=P_(c);"number"==typeof u?-1===u?r=c.token:o|=u:r=c}t.push(R(r,o))}else t.push(R(i))}return t}function Er(n,t){return n[oe]=t,n.prototype[oe]=t,n}function P_(n){return n[oe]}function ts(n){return{toString:n}.toString()}var kr=(()=>((kr=kr||{})[kr.OnPush=0]="OnPush",kr[kr.Default=1]="Default",kr))(),Eo=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(Eo||(Eo={})),Eo))();const ns={},Ie=[],Ad=Tt({\u0275cmp:Tt}),Mr=Tt({\u0275dir:Tt}),al=Tt({\u0275pipe:Tt}),wf=Tt({\u0275mod:Tt}),Ps=Tt({\u0275fac:Tt}),ll=Tt({__NG_ELEMENT_ID__:Tt});let w1=0;function ie(n){return ts(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===kr.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ie,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Eo.Emulated,id:"c"+w1++,styles:n.styles||Ie,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=n.dependencies,a=n.features;return r.inputs=Sf(n.inputs,i),r.outputs=Sf(n.outputs),a&&a.forEach(c=>c(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(Nd).filter(N_):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Fi).filter(N_):null,r})}function Nd(n){return At(n)||wi(n)}function N_(n){return null!==n}function Ge(n){return ts(()=>({type:n.type,bootstrap:n.bootstrap||Ie,declarations:n.declarations||Ie,imports:n.imports||Ie,exports:n.exports||Ie,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Sf(n,t){if(null==n)return ns;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const de=ie;function Zn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function At(n){return n[Ad]||null}function wi(n){return n[Mr]||null}function Fi(n){return n[al]||null}function xr(n,t){const e=n[wf]||null;if(!e&&!0===t)throw new Error(`Type ${en(n)} does not have '\u0275mod' property.`);return e}function Ui(n){return Array.isArray(n)&&"object"==typeof n[1]}function Mo(n){return Array.isArray(n)&&!0===n[1]}function Yc(n){return 0!=(4&n.flags)}function Jc(n){return n.componentOffset>-1}function Jr(n){return 1==(1&n.flags)}function xo(n){return null!==n.template}function cc(n){return 0!=(256&n[2])}function Xr(n,t){return n.hasOwnProperty(Ps)?n[Ps]:null}class M1{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ft(){return B_}function B_(n){return n.type.prototype.ngOnChanges&&(n.setInput=x1),H_}function H_(){const n=j_(this),t=n?.current;if(t){const e=n.previous;if(e===ns)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function x1(n,t,e,i){const r=this.declaredInputs[e],o=j_(n)||function dc(n,t){return n[uc]=t}(n,{previous:ns,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[r];a[r]=new M1(u&&u.currentValue,t,c===ns),n[i]=t}Ft.ngInherit=!0;const uc="__ngSimpleChanges__";function j_(n){return n[uc]||null}function pi(n){for(;Array.isArray(n);)n=n[0];return n}function $d(n,t){return pi(t[n])}function Vi(n,t){return pi(t[n.index])}function Of(n,t){return n.data[t]}function dl(n,t){return n[t]}function Pr(n,t){const e=t[n];return Ui(e)?e:e[0]}function nu(n){return 64==(64&n[2])}function Ns(n,t){return null==t?null:n[t]}function Af(n){n[18]=0}function Ud(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const et={lFrame:OD(null),bindingsEnabled:!0};function D(){return et.bindingsEnabled}function F(){return et.lFrame.lView}function K(){return et.lFrame.tView}function k(n){return et.lFrame.contextLView=n,n[8]}function x(n){return et.lFrame.contextLView=null,n}function Ce(){let n=$t();for(;null!==n&&64===n.type;)n=n.parent;return n}function $t(){return et.lFrame.currentTNode}function Or(){const n=et.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Bi(n,t){const e=et.lFrame;e.currentTNode=n,e.isParent=t}function hc(){return et.lFrame.isParent}function os(){et.lFrame.isParent=!1}function Ji(){const n=et.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ss(){return et.lFrame.bindingIndex}function hl(){return et.lFrame.bindingIndex++}function an(n){const t=et.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function K_(n){et.lFrame.inI18n=n}function I1(n,t){const e=et.lFrame;e.bindingIndex=e.bindingRootIndex=n,iu(t)}function iu(n){et.lFrame.currentDirectiveIndex=n}function Y_(){return et.lFrame.currentQueryIndex}function O1(n){et.lFrame.currentQueryIndex=n}function h3(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function ID(n,t,e){if(e&Ee.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&Ee.Host||(r=h3(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=et.lFrame=PD();return i.currentTNode=t,i.lView=n,!0}function A1(n){const t=PD(),e=n[1];et.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function PD(){const n=et.lFrame,t=null===n?null:n.child;return null===t?OD(n):t}function OD(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function AD(){const n=et.lFrame;return et.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ND=AD;function N1(){const n=AD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ar(){return et.lFrame.selectedIndex}function ru(n){et.lFrame.selectedIndex=n}function Hn(){const n=et.lFrame;return Of(n.tView,n.selectedIndex)}function J_(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:f}=o;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),c&&((n.contentHooks||(n.contentHooks=[])).push(e,c),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,c)),u&&(n.viewHooks||(n.viewHooks=[])).push(-e,u),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function X_(n,t,e){RD(n,t,3,e)}function ev(n,t,e,i){(3&n[2])===e&&RD(n,t,e,i)}function R1(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function RD(n,t,e,i){const o=i??-1,a=t.length-1;let c=0;for(let u=void 0!==i?65535&n[18]:0;u<a;u++)if("number"==typeof t[u+1]){if(c=t[u],null!=i&&c>=i)break}else t[u]<0&&(n[18]+=65536),(c<o||-1==o)&&(C3(n,e,t,u),n[18]=(4294901760&n[18])+u+2),u++}function C3(n,t,e,i){const r=e[i]<0,o=e[i+1],c=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(c)}finally{}}}else try{o.call(c)}finally{}}class Rf{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function L1(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],a=e[i++],c=e[i++];n.setAttribute(t,a,c,o)}else{const o=r,a=e[++i];LD(o)?n.setProperty(t,o,a):n.setAttribute(t,o,a),i++}}return i}function FD(n){return 3===n||4===n||6===n}function LD(n){return 64===n.charCodeAt(0)}function Ff(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||$D(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function $D(n,t,e,i,r){let o=0,a=n.length;if(-1===t)a=-1;else for(;o<n.length;){const c=n[o++];if("number"==typeof c){if(c===t){a=-1;break}if(c>t){a=o-1;break}}}for(;o<n.length;){const c=n[o];if("number"==typeof c)break;if(c===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==a&&(n.splice(a,0,t),o=a+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function UD(n){return-1!==n}function tv(n){return 32767&n}function nv(n,t){let e=function D3(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let $1=!0;function iv(n){const t=$1;return $1=n,t}let E3=0;const Ta={};function rv(n,t){const e=HD(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,U1(i.data,n),U1(t,null),U1(i.blueprint,null));const r=V1(n,t),o=n.injectorIndex;if(UD(r)){const a=tv(r),c=nv(r,t),u=c[1].data;for(let h=0;h<8;h++)t[o+h]=c[a+h]|u[a+h]}return t[o+8]=r,o}function U1(n,t){n.push(0,0,0,0,0,0,0,0,t)}function HD(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function V1(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=ZD(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function B1(n,t,e){!function k3(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ll)&&(i=e[ll]),null==i&&(i=e[ll]=E3++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function jD(n,t,e){if(e&Ee.Optional||void 0!==n)return n;sl()}function zD(n,t,e,i){if(e&Ee.Optional&&void 0===i&&(i=null),!(e&(Ee.Self|Ee.Host))){const r=n[9],o=hi(void 0);try{return r?r.get(t,i,e&Ee.Optional):Is(t,i,e&Ee.Optional)}finally{hi(o)}}return jD(i,0,e)}function GD(n,t,e,i=Ee.Default,r){if(null!==n){if(1024&t[2]){const a=function O3(n,t,e,i,r){let o=n,a=t;for(;null!==o&&null!==a&&1024&a[2]&&!(256&a[2]);){const c=WD(o,a,e,i|Ee.Self,Ta);if(c!==Ta)return c;let u=o.parent;if(!u){const h=a[21];if(h){const f=h.get(e,Ta,i);if(f!==Ta)return f}u=ZD(a),a=a[15]}o=u}return r}(n,t,e,i,Ta);if(a!==Ta)return a}const o=WD(n,t,e,i,Ta);if(o!==Ta)return o}return zD(t,e,i,r)}function WD(n,t,e,i,r){const o=function I3(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ll)?n[ll]:void 0;return"number"==typeof t?t>=0?255&t:P3:t}(e);if("function"==typeof o){if(!ID(t,n,i))return i&Ee.Host?jD(r,0,i):zD(t,e,i,r);try{const a=o(i);if(null!=a||i&Ee.Optional)return a;sl()}finally{ND()}}else if("number"==typeof o){let a=null,c=HD(n,t),u=-1,h=i&Ee.Host?t[16][6]:null;for((-1===c||i&Ee.SkipSelf)&&(u=-1===c?V1(n,t):t[c+8],-1!==u&&QD(i,!1)?(a=t[1],c=tv(u),t=nv(u,t)):c=-1);-1!==c;){const f=t[1];if(qD(o,c,f.data)){const y=x3(c,t,e,a,i,h);if(y!==Ta)return y}u=t[c+8],-1!==u&&QD(i,t[1].data[c+8]===h)&&qD(o,c,t)?(a=f,c=tv(u),t=nv(u,t)):c=-1}}return r}function x3(n,t,e,i,r,o){const a=t[1],c=a.data[n+8],f=ov(c,a,e,null==i?Jc(c)&&$1:i!=a&&0!=(3&c.type),r&Ee.Host&&o===c);return null!==f?ou(t,a,f,c):Ta}function ov(n,t,e,i,r){const o=n.providerIndexes,a=t.data,c=1048575&o,u=n.directiveStart,f=o>>20,T=r?c+f:n.directiveEnd;for(let E=i?c:c+f;E<T;E++){const P=a[E];if(E<u&&e===P||E>=u&&P.type===e)return E}if(r){const E=a[u];if(E&&xo(E)&&E.type===e)return u}return null}function ou(n,t,e,i){let r=n[e];const o=t.data;if(function w3(n){return n instanceof Rf}(r)){const a=r;a.resolving&&function Gc(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new ne(-200,`Circular dependency in DI detected for ${n}${e}`)}(function It(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Qe(n)}(o[e]));const c=iv(a.canSeeViewProviders);a.resolving=!0;const u=a.injectImpl?hi(a.injectImpl):null;ID(n,i,Ee.Default);try{r=n[e]=a.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function b3(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const a=B_(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==u&&hi(u),iv(c),a.resolving=!1,ND()}}return r}function qD(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function QD(n,t){return!(n&Ee.Self||n&Ee.Host&&t)}class jd{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return GD(this._tNode,this._lView,t,ba(i),e)}}function P3(){return new jd(Ce(),F())}function Ut(n){return ts(()=>{const t=n.prototype.constructor,e=t[Ps]||H1(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Ps]||H1(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function H1(n){return fa(n)?()=>{const t=H1(Ue(n));return t&&t()}:Xr(n)}function ZD(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function pl(n){return function M3(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(FD(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(Ce(),n)}const Gd="__parameters__",Wd="__prop__metadata__";function j1(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}function qd(n,t,e){return ts(()=>{const i=j1(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const a=new r(...o);return c.annotation=a,c;function c(u,h,f){const y=u.hasOwnProperty(Gd)?u[Gd]:Object.defineProperty(u,Gd,{value:[]})[Gd];for(;y.length<=f;)y.push(null);return(y[f]=y[f]||[]).push(a),u}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function A3(n,t,e,i){return ts(()=>{const r=j1(t);function o(...a){if(this instanceof o)return r.apply(this,a),this;const c=new o(...a);return function u(h,f){const y=h.constructor,T=y.hasOwnProperty(Wd)?y[Wd]:Object.defineProperty(y,Wd,{value:{}})[Wd];T[f]=T.hasOwnProperty(f)&&T[f]||[],T[f].unshift(c),i&&i(h,f,...a)}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class Pe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=W({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const YD=new Pe("AnalyzeForEntryComponents");function su(n,t){n.forEach(e=>Array.isArray(e)?su(e,t):t(e))}function JD(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function sv(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Uf(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Po(n,t,e){let i=Qd(n,t);return i>=0?n[1|i]=e:(i=~i,function L3(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function G1(n,t){const e=Qd(n,t);if(e>=0)return n[1|e]}function Qd(n,t){return function XD(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),a=n[o<<e];if(t===a)return o<<e;a>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Vf=Er(qd("Inject",n=>({token:n})),-1),pc=Er(qd("Optional"),8),Bf=Er(qd("SkipSelf"),4);var to=(()=>((to=to||{})[to.Important=1]="Important",to[to.DashCase=2]="DashCase",to))();const n4=/^>|^->|<!--|-->|--!>|<!-$/g,i4=/(<|>)/;const K1=new Map;let o4=0;const J1="__ngContext__";function mr(n,t){Ui(t)?(n[J1]=t[20],function a4(n){K1.set(n[20],n)}(t)):n[J1]=t}let X1;function e0(n,t){return X1(n,t)}function Gf(n){const t=n[3];return Mo(t)?t[3]:t}function t0(n){return yE(n[13])}function n0(n){return yE(n[4])}function yE(n){for(;null!==n&&!Mo(n);)n=n[4];return n}function Kd(n,t,e,i,r){if(null!=i){let o,a=!1;Mo(i)?o=i:Ui(i)&&(a=!0,i=i[0]);const c=pi(i);0===n&&null!==e?null==r?DE(t,e,c):au(t,e,c,r||null,!0):1===n&&null!==e?au(t,e,c,r||null,!0):2===n?u0(t,c,a):3===n&&t.destroyNode(c),null!=o&&function I4(n,t,e,i,r){const o=e[7];o!==pi(e)&&Kd(t,n,i,o,r);for(let c=10;c<e.length;c++){const u=e[c];Wf(u[1],u,n,t,i,o)}}(t,n,o,e,r)}}function r0(n,t){return n.createText(t)}function bE(n,t,e){n.setValue(t,e)}function v4(n,t){return n.createComment(function dE(n){return n.replace(n4,t=>t.replace(i4,"\u200b$1\u200b"))}(t))}function o0(n,t,e){return n.createElement(t,e)}function CE(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,Ud(r,-1)),e.splice(i,1)}function s0(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&CE(r,i),t>0&&(n[e-1][4]=i[4]);const o=sv(n,10+t);!function y4(n,t){Wf(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function wE(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Wf(n,t,e,3,null,null),function w4(n){let t=n[13];if(!t)return a0(n[1],n);for(;t;){let e=null;if(Ui(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Ui(t)&&a0(t[1],t),t=t[3];null===t&&(t=n),Ui(t)&&a0(t[1],t),e=t&&t[4]}t=e}}(t)}}function a0(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function E4(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Rf)){const o=e[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const c=r[o[a]],u=o[a+1];try{u.call(c)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function D4(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const a=e[o+3];a>=0?i[r=a]():i[r=-a].unsubscribe(),o+=2}else{const a=i[r=e[o+1]];e[o].call(a)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&Mo(t[3])){e!==t[3]&&CE(e,t);const i=t[19];null!==i&&i.detachView(n)}!function l4(n){K1.delete(n[20])}(t)}}function SE(n,t,e){return TE(n,t.parent,e)}function TE(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Eo.None||o===Eo.Emulated)return null}return Vi(i,e)}}function au(n,t,e,i,r){n.insertBefore(t,e,i,r)}function DE(n,t,e){n.appendChild(t,e)}function EE(n,t,e,i,r){null!==i?au(n,t,e,i,r):DE(n,t,e)}function uv(n,t){return n.parentNode(t)}function kE(n,t,e){return xE(n,t,e)}function ME(n,t,e){return 40&n.type?Vi(n,e):null}let l0,pv,p0,fv,xE=ME;function IE(n,t){xE=n,l0=t}function dv(n,t,e,i){const r=SE(n,i,t),o=t[11],c=kE(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let u=0;u<e.length;u++)EE(o,r,e[u],c,!1);else EE(o,r,e,c,!1);void 0!==l0&&l0(o,i,t,e,r)}function hv(n,t){if(null!==t){const e=t.type;if(3&e)return Vi(t,n);if(4&e)return c0(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return hv(n,i);{const r=n[t.index];return Mo(r)?c0(-1,r):pi(r)}}if(32&e)return e0(t,n)()||pi(n[t.index]);{const i=PE(n,t);return null!==i?Array.isArray(i)?i[0]:hv(Gf(n[16]),i):hv(n,t.next)}}return null}function PE(n,t){return null!==t?n[16][6].projection[t.projection]:null}function c0(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return hv(i,r)}return t[7]}function u0(n,t,e){const i=uv(n,t);i&&function k4(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}function d0(n,t,e,i,r,o,a){for(;null!=e;){const c=i[e.index],u=e.type;if(a&&0===t&&(c&&mr(pi(c),i),e.flags|=2),32!=(32&e.flags))if(8&u)d0(n,t,e.child,i,r,o,!1),Kd(t,n,r,c,o);else if(32&u){const h=e0(e,i);let f;for(;f=h();)Kd(t,n,r,f,o);Kd(t,n,r,c,o)}else 16&u?OE(n,t,i,e,r,o):Kd(t,n,r,c,o);e=a?e.projectionNext:e.next}}function Wf(n,t,e,i,r,o){d0(e,i,n.firstChild,t,r,o,!1)}function OE(n,t,e,i,r,o){const a=e[16],u=a[6].projection[i.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++)Kd(t,n,r,u[h],o);else d0(n,t,u,a[3],r,o,!0)}function AE(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function NE(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&L1(n,t,i),null!==r&&AE(n,t,r),null!==o&&function O4(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function lu(n){return function h0(){if(void 0===pv&&(pv=null,Zt.trustedTypes))try{pv=Zt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pv}()?.createHTML(n)||n}function RE(){return void 0!==p0?p0:typeof document<"u"?document:void 0}function f0(){if(void 0===fv&&(fv=null,Zt.trustedTypes))try{fv=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return fv}function FE(n){return f0()?.createHTML(n)||n}function $E(n){return f0()?.createScriptURL(n)||n}class cu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ma})`}}class L4 extends cu{getTypeName(){return"HTML"}}class $4 extends cu{getTypeName(){return"Style"}}class U4 extends cu{getTypeName(){return"Script"}}class V4 extends cu{getTypeName(){return"URL"}}class B4 extends cu{getTypeName(){return"ResourceURL"}}function Oo(n){return n instanceof cu?n.changingThisBreaksApplicationSecurity:n}function Da(n,t){const e=function H4(n){return n instanceof cu&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${ma})`)}return e===t}function UE(n){const t=new Z4(n);return function K4(){try{return!!(new window.DOMParser).parseFromString(lu(""),"text/html")}catch{return!1}}()?new Q4(t):t}class Q4{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(lu(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class Z4{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=lu(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=lu(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const a=e.item(r).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Y4=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function mv(n){return(n=String(n)).match(Y4)?n:"unsafe:"+n}function fl(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function qf(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const VE=fl("area,br,col,hr,img,wbr"),BE=fl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),HE=fl("rp,rt"),m0=qf(VE,qf(BE,fl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qf(HE,fl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qf(HE,BE)),g0=fl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jE=qf(g0,fl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),J4=fl("script,style,template");class X4{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!m0.hasOwnProperty(e))return this.sanitizedSomething=!0,!J4.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),a=o.name,c=a.toLowerCase();if(!jE.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;g0[c]&&(u=mv(u)),this.buf.push(" ",a,'="',zE(u),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();m0.hasOwnProperty(e)&&!VE.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(zE(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const e$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t$=/([^\#-~ |!])/g;function zE(n){return n.replace(/&/g,"&amp;").replace(e$,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(t$,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gv;function GE(n,t){let e=null;try{gv=gv||UE(n);let i=t?String(t):"";e=gv.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=gv.getInertBodyElement(i)}while(i!==o);return lu((new X4).sanitizeChildren(_0(e)||e))}finally{if(e){const i=_0(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function _0(n){return"content"in n&&function n$(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function Nr(n){const t=Qf();return t?FE(t.sanitize(Sn.HTML,n)||""):Da(n,"HTML")?FE(Oo(n)):GE(RE(),Qe(n))}function Yn(n){const t=Qf();return t?t.sanitize(Sn.URL,n)||"":Da(n,"URL")?Oo(n):mv(Qe(n))}function WE(n){const t=Qf();if(t)return $E(t.sanitize(Sn.RESOURCE_URL,n)||"");if(Da(n,"ResourceURL"))return $E(Oo(n));throw new ne(904,!1)}function Qf(){const n=F();return n&&n[12]}const _v=new Pe("ENVIRONMENT_INITIALIZER"),v0=new Pe("INJECTOR",-1),QE=new Pe("INJECTOR_DEF_TYPES");class ZE{get(t,e=J){if(e===J){const i=new Error(`NullInjectorError: No provider for ${en(t)}!`);throw i.name="NullInjectorError",i}return e}}function c$(...n){return{\u0275providers:KE(0,n),\u0275fromNgModule:!0}}function KE(n,...t){const e=[],i=new Set;let r;return su(t,o=>{const a=o;y0(a,e,[],i)&&(r||(r=[]),r.push(a))}),void 0!==r&&YE(r,e),e}function YE(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];b0(r,o=>{t.push(o)})}}function y0(n,t,e,i){if(!(n=Ue(n)))return!1;let r=null,o=bi(n);const a=!o&&At(n);if(o||a){if(a&&!a.standalone)return!1;r=n}else{const u=n.ngModule;if(o=bi(u),!o)return!1;r=u}const c=i.has(r);if(a){if(c)return!1;if(i.add(r),a.dependencies){const u="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const h of u)y0(h,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let h;i.add(r);try{su(o.imports,f=>{y0(f,t,e,i)&&(h||(h=[]),h.push(f))})}finally{}void 0!==h&&YE(h,t)}if(!c){const h=Xr(r)||(()=>new r);t.push({provide:r,useFactory:h,deps:Ie},{provide:QE,useValue:r,multi:!0},{provide:_v,useValue:()=>R(r),multi:!0})}const u=o.providers;null==u||c||b0(u,f=>{t.push(f)})}}return r!==n&&void 0!==n.providers}function b0(n,t){for(let e of n)Qi(e)&&(e=e.\u0275providers),Array.isArray(e)?b0(e,t):t(e)}const u$=Tt({provide:String,useValue:Tt});function C0(n){return null!==n&&"object"==typeof n&&u$ in n}function uu(n){return"function"==typeof n}const w0=new Pe("Set Injector scope."),vv={},h$={};let S0;function yv(){return void 0===S0&&(S0=new ZE),S0}class ls{}class ek extends ls{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,D0(t,a=>this.processProvider(a)),this.records.set(v0,Yd(void 0,this)),r.has("environment")&&this.records.set(ls,Yd(void 0,this));const o=this.records.get(w0);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(QE.multi,Ie,Ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=va(this),i=hi(void 0);try{return t()}finally{va(e),hi(i)}}get(t,e=J,i=Ee.Default){this.assertNotDestroyed(),i=ba(i);const r=va(this),o=hi(void 0);try{if(!(i&Ee.SkipSelf)){let c=this.records.get(t);if(void 0===c){const u=function _$(n){return"function"==typeof n||"object"==typeof n&&n instanceof Pe}(t)&&ks(t);c=u&&this.injectableDefInScope(u)?Yd(T0(t),vv):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(i&Ee.Self?yv():this.parent).get(t,e=i&Ee.Optional&&e===J?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[ve]=a[ve]||[]).unshift(en(t)),r)throw a;return function C1(n,t,e,i){const r=n[ve];throw t[Dt]&&r.unshift(t[Dt]),n.message=function O_(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=en(t);if(Array.isArray(t))r=t.map(en).join(" -> ");else if("object"==typeof t){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let c=t[a];o.push(a+":"+("string"==typeof c?JSON.stringify(c):en(c)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace($e,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[ve]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{hi(o),va(r)}}resolveInjectorInitializers(){const t=va(this),e=hi(void 0);try{const i=this.get(_v.multi,Ie,Ee.Self);for(const r of i)r()}finally{va(t),hi(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(en(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(t){let e=uu(t=Ue(t))?t:Ue(t&&t.provide);const i=function f$(n){return C0(n)?Yd(void 0,n.useValue):Yd(tk(n),vv)}(t);if(uu(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Yd(void 0,vv,!0),r.factory=()=>pr(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===vv&&(e.value=h$,e.value=e.factory()),"object"==typeof e.value&&e.value&&function g$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Ue(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function T0(n){const t=ks(n),e=null!==t?t.factory:Xr(n);if(null!==e)return e;if(n instanceof Pe)throw new ne(204,!1);if(n instanceof Function)return function p$(n){const t=n.length;if(t>0)throw Uf(t,"?"),new ne(204,!1);const e=function Ki(n){const t=n&&(n[ga]||n[Yr]);if(t){const e=function Ms(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new ne(204,!1)}function tk(n,t,e){let i;if(uu(n)){const r=Ue(n);return Xr(r)||T0(r)}if(C0(n))i=()=>Ue(n.useValue);else if(function XE(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...pr(n.deps||[]));else if(function JE(n){return!(!n||!n.useExisting)}(n))i=()=>R(Ue(n.useExisting));else{const r=Ue(n&&(n.useClass||n.provide));if(!function m$(n){return!!n.deps}(n))return Xr(r)||T0(r);i=()=>new r(...pr(n.deps))}return i}function Yd(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function D0(n,t){for(const e of n)Array.isArray(e)?D0(e,t):e&&Qi(e)?D0(e.\u0275providers,t):t(e)}class v${}class nk{}class b${resolveComponentFactory(t){throw function y$(n){const t=Error(`No component factory found for ${en(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let fc=(()=>{class n{}return n.NULL=new b$,n})();function C$(){return Jd(Ce(),F())}function Jd(n,t){return new Pt(Vi(n,t))}let Pt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=C$,n})();function w$(n){return n instanceof Pt?n.nativeElement:n}class Xd{}let Xi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function S$(){const n=F(),e=Pr(Ce().index,n);return(Ui(e)?e:n)[11]}(),n})(),T$=(()=>{class n{}return n.\u0275prov=W({token:n,providedIn:"root",factory:()=>null}),n})();class Zf{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const D$=new Zf("15.1.2"),E0={};function M0(n){return n.ngOriginalError}class eh{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&M0(t);for(;e&&M0(e);)e=M0(e);return e||null}}function rk(n){return n.ownerDocument.defaultView}function ok(n){return n.ownerDocument}function ml(n){return n instanceof Function?n():n}function ak(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const lk="ng-template";function N$(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==ak(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function ck(n){return 4===n.type&&n.value!==lk}function R$(n,t,e){return t===(4!==n.type||e?n.value:lk)}function F$(n,t,e){let i=4;const r=n.attrs||[],o=function U$(n){for(let t=0;t<n.length;t++)if(FD(n[t]))return t;return n.length}(r);let a=!1;for(let c=0;c<t.length;c++){const u=t[c];if("number"!=typeof u){if(!a)if(4&i){if(i=2|1&i,""!==u&&!R$(n,u,e)||""===u&&1===t.length){if(Rs(i))return!1;a=!0}}else{const h=8&i?u:t[++c];if(8&i&&null!==n.attrs){if(!N$(n.attrs,h,e)){if(Rs(i))return!1;a=!0}continue}const y=L$(8&i?"class":u,r,ck(n),e);if(-1===y){if(Rs(i))return!1;a=!0;continue}if(""!==h){let T;T=y>o?"":r[y+1].toLowerCase();const E=8&i?T:null;if(E&&-1!==ak(E,h,0)||2&i&&h!==T){if(Rs(i))return!1;a=!0}}}}else{if(!a&&!Rs(i)&&!Rs(u))return!1;if(a&&Rs(u))continue;a=!1,i=u|1&i}}return Rs(i)||a}function Rs(n){return 0==(1&n)}function L$(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const a=t[r];if(a===n)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){let c=t[++r];for(;"string"==typeof c;)c=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function V$(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function uk(n,t,e=!1){for(let i=0;i<t.length;i++)if(F$(n,t[i],e))return!0;return!1}function B$(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function dk(n,t){return n?":not("+t.trim()+")":t}function H$(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const c=n[++e];r+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!Rs(a)&&(t+=dk(o,r),r=""),i=a,o=o||!Rs(i);e++}return""!==r&&(t+=dk(o,r)),t}const ut={};function _(n){hk(K(),F(),Ar()+n,!1)}function hk(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&X_(t,o,e)}else{const o=n.preOrderHooks;null!==o&&ev(t,o,0,e)}ru(e)}function gk(n,t=null,e=null,i){const r=_k(n,t,e,i);return r.resolveInjectorInitializers(),r}function _k(n,t=null,e=null,i,r=new Set){const o=[e||Ie,c$(n)];return i=i||("object"==typeof n?void 0:en(n)),new ek(o,t||yv(),i||null,r)}let Hi=(()=>{class n{static create(e,i){if(Array.isArray(e))return gk({name:""},i,e,"");{const r=e.name??"";return gk({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=J,n.NULL=new ZE,n.\u0275prov=W({token:n,providedIn:"any",factory:()=>R(v0)}),n.__NG_ELEMENT_ID__=-1,n})();function w(n,t=Ee.Default){const e=F();return null===e?R(n,t):GD(Ce(),e,Ue(n),t)}function du(){throw new Error("invalid")}function Tk(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const a=n.data[o];O1(e[i]),a.contentQueries(2,t[o],o)}}}function Cv(n,t,e,i,r,o,a,c,u,h,f){const y=t.blueprint.slice();return y[0]=r,y[2]=76|i,(null!==f||n&&1024&n[2])&&(y[2]|=1024),Af(y),y[3]=y[15]=n,y[8]=e,y[10]=a||n&&n[10],y[11]=c||n&&n[11],y[12]=u||n&&n[12]||null,y[9]=h||n&&n[9]||null,y[6]=o,y[20]=function s4(){return o4++}(),y[21]=f,y[16]=2==t.type?n[16]:y,y}function ih(n,t,e,i,r){let o=n.data[t];if(null===o)o=A0(n,t,e,i,r),function Vd(){return et.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const a=Or();o.injectorIndex=null===a?-1:a.injectorIndex}return Bi(o,!0),o}function A0(n,t,e,i,r){const o=$t(),a=hc(),u=n.data[t]=function fU(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=u),null!==o&&(a?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}function Kf(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function N0(n,t,e){A1(t);try{const i=n.viewQuery;null!==i&&z0(1,i,e);const r=n.template;null!==r&&Dk(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Tk(n,t),n.staticViewQueries&&z0(2,n.viewQuery,e);const o=n.components;null!==o&&function dU(n,t){for(let e=0;e<t.length;e++)AU(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,N1()}}function wv(n,t,e,i){const r=t[2];if(128!=(128&r)){A1(t);try{Af(t),function Z_(n){return et.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Dk(n,t,e,2,i);const a=3==(3&r);if(a){const h=n.preOrderCheckHooks;null!==h&&X_(t,h,null)}else{const h=n.preOrderHooks;null!==h&&ev(t,h,0,null),R1(t,0)}if(function PU(n){for(let t=t0(n);null!==t;t=n0(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i];512&r[2]||Ud(r[3],1),r[2]|=512}}}(t),function IU(n){for(let t=t0(n);null!==t;t=n0(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];nu(i)&&wv(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&Tk(n,t),a){const h=n.contentCheckHooks;null!==h&&X_(t,h)}else{const h=n.contentHooks;null!==h&&ev(t,h,1),R1(t,1)}!function cU(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)ru(~r);else{const o=r,a=e[++i],c=e[++i];I1(a,o),c(2,t[o])}}}finally{ru(-1)}}(n,t);const c=n.components;null!==c&&function uU(n,t){for(let e=0;e<t.length;e++)OU(n,t[e])}(t,c);const u=n.viewQuery;if(null!==u&&z0(2,u,i),a){const h=n.viewCheckHooks;null!==h&&X_(t,h)}else{const h=n.viewHooks;null!==h&&ev(t,h,2),R1(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Ud(t[3],-1))}finally{N1()}}}function Dk(n,t,e,i,r){const o=Ar(),a=2&i;try{ru(-1),a&&t.length>22&&hk(n,t,22,!1),e(i,r)}finally{ru(o)}}function R0(n,t,e){if(Yc(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}}function F0(n,t,e){D()&&(function bU(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;Jc(e)&&function kU(n,t,e){const i=Vi(t,n),r=Ek(e),o=n[10],a=Sv(n,Cv(n,r,null,e.onPush?32:16,i,t,o,o.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||rv(e,t),mr(i,t);const a=e.initialInputs;for(let c=r;c<o;c++){const u=n.data[c],h=ou(t,n,c,e);mr(h,t),null!==a&&MU(0,c-r,h,u,0,a),xo(u)&&(Pr(e.index,t)[8]=ou(t,n,c,e))}}(n,t,e,Vi(e,t)),64==(64&e.flags)&&Ok(n,t,e))}function L0(n,t,e=Vi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const a=i[o+1],c=-1===a?e(t,n):n[a];n[r++]=c}}}function Ek(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=$0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function $0(n,t,e,i,r,o,a,c,u,h){const f=22+i,y=f+r,T=function hU(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ut);return e}(f,y),E="function"==typeof h?h():h;return T[1]={type:n,blueprint:T,template:e,queries:null,viewQuery:c,declTNode:t,data:T.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:E,incompleteFirstPass:!1}}function kk(n,t,e,i){const r=Nk(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&Rk(n).push(i,r.length-1))}function Mk(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?xk(e,t,r,o):i.hasOwnProperty(r)&&xk(e,t,i[r],o)}return e}function xk(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function Ao(n,t,e,i,r,o,a,c){const u=Vi(t,e);let f,h=t.inputs;!c&&null!=h&&(f=h[i])?(G0(n,e,f,i,r),Jc(t)&&Ik(e,t.index)):3&t.type&&(i=function gU(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,t.value||"",i):r,o.setProperty(u,i,r))}function Ik(n,t){const e=Pr(t,n);16&e[2]||(e[2]|=32)}function U0(n,t,e,i){let r=!1;if(D()){const o=null===i?null:{"":-1},a=function wU(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const a=e[o];if(uk(t,a.selectors,!1))if(i||(i=[]),xo(a))if(null!==a.findHostDirectiveDefs){const c=[];r=r||new Map,a.findHostDirectiveDefs(a,c,r),i.unshift(...c,a),V0(n,t,c.length)}else i.unshift(a),V0(n,t,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return null===i?null:[i,r]}(n,e);let c,u;null===a?c=u=null:[c,u]=a,null!==c&&(r=!0,Pk(n,t,e,c,o,u)),o&&function SU(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new ne(-301,!1);i.push(t[r],o)}}}(e,i,o)}return e.mergedAttrs=Ff(e.mergedAttrs,e.attrs),r}function Pk(n,t,e,i,r,o){for(let h=0;h<i.length;h++)B1(rv(e,t),n,i[h].type);!function DU(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let h=0;h<i.length;h++){const f=i[h];f.providersResolver&&f.providersResolver(f)}let a=!1,c=!1,u=Kf(n,t,i.length,null);for(let h=0;h<i.length;h++){const f=i[h];e.mergedAttrs=Ff(e.mergedAttrs,f.hostAttrs),EU(n,e,t,u,f),TU(u,f,r),null!==f.contentQueries&&(e.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(e.flags|=64);const y=f.type.prototype;!a&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!c&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),c=!0),u++}!function mU(n,t,e){const r=t.directiveEnd,o=n.data,a=t.attrs,c=[];let u=null,h=null;for(let f=t.directiveStart;f<r;f++){const y=o[f],T=e?e.get(y):null,P=T?T.outputs:null;u=Mk(y.inputs,f,u,T?T.inputs:null),h=Mk(y.outputs,f,h,P);const $=null===u||null===a||ck(t)?null:xU(u,f,a);c.push($)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=u,t.outputs=h}(n,e,o)}function Ok(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,a=function P1(){return et.lFrame.currentDirectiveIndex}();try{ru(o);for(let c=i;c<r;c++){const u=n.data[c],h=t[c];iu(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&CU(u,h)}}finally{ru(-1),iu(a)}}function CU(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function V0(n,t,e){t.componentOffset=e,(n.components||(n.components=[])).push(t.index)}function TU(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;xo(t)&&(e[""]=n)}}function EU(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=Xr(r.type)),a=new Rf(o,xo(r),w);n.blueprint[i]=a,e[i]=a,function vU(n,t,e,i,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~t.index;(function yU(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=c&&a.push(c),a.push(e,i,o)}}(n,t,i,Kf(n,e,r.hostVars,ut),r)}function B0(n,t,e,i,r,o,a){if(null==o)n.removeAttribute(t,r,e);else{const c=null==a?Qe(o):a(o,i||"",r);n.setAttribute(t,r,c,e)}}function MU(n,t,e,i,r,o){const a=o[t];if(null!==a){const c=i.setInput;for(let u=0;u<a.length;){const h=a[u++],f=a[u++],y=a[u++];null!==c?i.setInput(e,y,h,f):e[f]=y}}}function xU(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const a=n[o];for(let c=0;c<a.length;c+=2)if(a[c]===t){i.push(o,a[c+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Ak(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null]}function OU(n,t){const e=Pr(t,n);if(nu(e)){const i=e[1];48&e[2]?wv(i,e,i.template,e[8]):e[5]>0&&H0(e)}}function H0(n){for(let i=t0(n);null!==i;i=n0(i))for(let r=10;r<i.length;r++){const o=i[r];if(nu(o))if(512&o[2]){const a=o[1];wv(a,o,a.template,o[8])}else o[5]>0&&H0(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Pr(e[i],n);nu(r)&&r[5]>0&&H0(r)}}function AU(n,t){const e=Pr(t,n),i=e[1];(function NU(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),N0(i,e,e[8])}function Sv(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function j0(n){for(;n;){n[2]|=32;const t=Gf(n);if(cc(n)&&!t)return n;n=t}return null}function Tv(n,t,e,i=!0){const r=t[10];r.begin&&r.begin();try{wv(n,t,n.template,e)}catch(a){throw i&&Lk(t,a),a}finally{r.end&&r.end()}}function z0(n,t,e){O1(0),t(n,e)}function Nk(n){return n[7]||(n[7]=[])}function Rk(n){return n.cleanup||(n.cleanup=[])}function Lk(n,t){const e=n[9],i=e?e.get(eh,null):null;i&&i.handleError(t)}function G0(n,t,e,i,r){for(let o=0;o<e.length;){const a=e[o++],c=e[o++],u=t[a],h=n.data[a];null!==h.setInput?h.setInput(u,r,i,c):u[c]=r}}function gl(n,t,e){const i=$d(t,n);bE(n[11],i,e)}function Dv(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let a=0;a<t.length;a++){const c=t[a];"number"==typeof c?o=c:1==o?r=Dr(r,c):2==o&&(i=Dr(i,c+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function Ev(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(pi(o)),Mo(o))for(let c=10;c<o.length;c++){const u=o[c],h=u[1].firstChild;null!==h&&Ev(u[1],u,h,i)}const a=e.type;if(8&a)Ev(n,t,e.child,i);else if(32&a){const c=e0(e,t);let u;for(;u=c();)i.push(u)}else if(16&a){const c=PE(t,e);if(Array.isArray(c))i.push(...c);else{const u=Gf(t[16]);Ev(u[1],u,c,i,!0)}}e=r?e.projectionNext:e.next}return i}class Yf{get rootNodes(){const t=this._lView,e=t[1];return Ev(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Mo(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(s0(t,i),sv(e,i))}this._attachedToViewContainer=!1}wE(this._lView[1],this._lView)}onDestroy(t){kk(this._lView[1],this._lView,null,t)}markForCheck(){j0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Tv(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function C4(n,t){Wf(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=t}}class RU extends Yf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Tv(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class $k extends fc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=At(t);return new Jf(e,this.ngModule)}}function Uk(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class LU{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=ba(i);const r=this.injector.get(t,E0,i);return r!==E0||e===E0?r:this.parentInjector.get(t,e,i)}}class Jf extends nk{get inputs(){return Uk(this.componentDef.inputs)}get outputs(){return Uk(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function j$(n){return n.map(H$).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof ls?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new LU(t,o):t,c=a.get(Xd,null);if(null===c)throw new ne(407,!1);const u=a.get(T$,null),h=c.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",y=i?function pU(n,t,e){return n.selectRootElement(t,e===Eo.ShadowDom)}(h,i,this.componentDef.encapsulation):o0(h,f,function FU(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),T=this.componentDef.onPush?288:272,E=$0(0,null,null,1,0,null,null,null,null,null),P=Cv(null,E,null,T,null,null,c,h,u,a,null);let $,G;A1(P);try{const Q=this.componentDef;let te,Y=null;Q.findHostDirectiveDefs?(te=[],Y=new Map,Q.findHostDirectiveDefs(Q,te,Y),te.push(Q)):te=[Q];const se=function UU(n,t){const e=n[1];return n[22]=t,ih(e,22,2,"#host",null)}(P,y),De=function VU(n,t,e,i,r,o,a,c){const u=r[1];!function BU(n,t,e,i){for(const r of n)t.mergedAttrs=Ff(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Dv(t,t.mergedAttrs,!0),null!==e&&NE(i,e,t))}(i,n,t,a);const h=o.createRenderer(t,e),f=Cv(r,Ek(e),null,e.onPush?32:16,r[n.index],n,o,h,c||null,null,null);return u.firstCreatePass&&V0(u,n,i.length-1),Sv(r,f),r[n.index]=f}(se,y,Q,te,P,c,h);G=Of(E,22),y&&function jU(n,t,e,i){if(i)L1(n,e,["ng-version",D$.full]);else{const{attrs:r,classes:o}=function z$(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!Rs(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&L1(n,e,r),o&&o.length>0&&AE(n,e,o.join(" "))}}(h,Q,y,i),void 0!==e&&function zU(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(G,this.ngContentSelectors,e),$=function HU(n,t,e,i,r,o){const a=Ce(),c=r[1],u=Vi(a,r);Pk(c,r,a,e,null,i);for(let f=0;f<e.length;f++)mr(ou(r,c,a.directiveStart+f,a),r);Ok(c,r,a),u&&mr(u,r);const h=ou(r,c,a.directiveStart+a.componentOffset,a);if(n[8]=r[8]=h,null!==o)for(const f of o)f(h,t);return R0(c,a,n),h}(De,Q,te,Y,P,[GU]),N0(E,P,null)}finally{N1()}return new $U(this.componentType,$,Jd(G,P),P,G)}}class $U extends v${constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new RU(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const o=this._rootLView;G0(o[1],o,r,t,e),Ik(o,this._tNode.index)}}get injector(){return new jd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function GU(){const n=Ce();J_(F()[1],n)}function ce(n){let t=function Vk(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(xo(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ne(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const a=n;a.inputs=W0(n.inputs),a.declaredInputs=W0(n.declaredInputs),a.outputs=W0(n.outputs);const c=r.hostBindings;c&&ZU(n,c);const u=r.viewQuery,h=r.contentQueries;if(u&&qU(n,u),h&&QU(n,h),nc(n.inputs,r.inputs),nc(n.declaredInputs,r.declaredInputs),nc(n.outputs,r.outputs),xo(r)&&r.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let a=0;a<o.length;a++){const c=o[a];c&&c.ngInherit&&c(n),c===ce&&(e=!1)}}t=Object.getPrototypeOf(t)}!function WU(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ff(r.hostAttrs,e=Ff(e,r.hostAttrs))}}(i)}function W0(n){return n===ns?{}:n===Ie?[]:n}function qU(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function QU(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function ZU(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let kv=null;function hu(){if(!kv){const n=Zt.Symbol;if(n&&n.iterator)kv=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(kv=i)}}}return kv}function Mv(n){return!!q0(n)&&(Array.isArray(n)||!(n instanceof Map)&&hu()in n)}function q0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ka(n,t,e){return n[t]=e}function Xf(n,t){return n[t]}function gr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function pu(n,t,e,i){const r=gr(n,t,e);return gr(n,t+1,i)||r}function cs(n,t,e,i,r,o){const a=pu(n,t,e,i);return pu(n,t+2,r,o)||a}function Et(n,t,e,i){const r=F();return gr(r,hl(),t)&&(K(),function Ea(n,t,e,i,r,o){const a=Vi(n,t);B0(t[11],a,o,n.value,e,i,r)}(Hn(),r,n,t,e,i)),Et}function oh(n,t,e,i){return gr(n,hl(),e)?t+Qe(e)+i:ut}function sh(n,t,e,i,r,o){const c=pu(n,ss(),e,r);return an(2),c?t+Qe(e)+i+Qe(r)+o:ut}function S(n,t,e,i,r,o,a,c){const u=F(),h=K(),f=n+22,y=h.firstCreatePass?function oV(n,t,e,i,r,o,a,c,u){const h=t.consts,f=ih(t,n,4,a||null,Ns(h,c));U0(t,e,f,Ns(h,u)),J_(t,f);const y=f.tViews=$0(2,f,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,f),y.queries=t.queries.embeddedTView(f)),f}(f,h,u,t,e,i,r,o,a):h.data[f];Bi(y,!1);const T=u[11].createComment("");dv(h,u,T,y),mr(T,u),Sv(u,u[f]=Ak(T,u,T,y)),Jr(y)&&F0(h,u,y),null!=a&&L0(u,y,c)}function re(n){return dl(function Nf(){return et.lFrame.contextLView}(),22+n)}function v(n,t,e){const i=F();return gr(i,hl(),t)&&Ao(K(),Hn(),i,n,t,i[11],e,!1),v}function Q0(n,t,e,i,r){const a=r?"class":"style";G0(n,e,t.inputs[a],a,i)}function p(n,t,e,i){const r=F(),o=K(),a=22+n,c=r[11],u=r[a]=o0(c,t,function y3(){return et.lFrame.currentNamespace}()),h=o.firstCreatePass?function aV(n,t,e,i,r,o,a){const c=t.consts,h=ih(t,n,2,r,Ns(c,o));return U0(t,e,h,Ns(c,a)),null!==h.attrs&&Dv(h,h.attrs,!1),null!==h.mergedAttrs&&Dv(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(a,o,r,0,t,e,i):o.data[a];return Bi(h,!0),NE(c,u,h),32!=(32&h.flags)&&dv(o,r,u,h),0===function d(){return et.lFrame.elementDepthCount}()&&mr(u,r),function g(){et.lFrame.elementDepthCount++}(),Jr(h)&&(F0(o,r,h),R0(o,h,r)),null!==i&&L0(r,h),p}function m(){let n=Ce();hc()?os():(n=n.parent,Bi(n,!1));const t=n;!function b(){et.lFrame.elementDepthCount--}();const e=K();return e.firstCreatePass&&(J_(e,n),Yc(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function S3(n){return 0!=(8&n.flags)}(t)&&Q0(e,t,F(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function T3(n){return 0!=(16&n.flags)}(t)&&Q0(e,t,F(),t.stylesWithoutHost,!1),m}function N(n,t,e,i){return p(n,t,e,i),m(),N}function U(n,t,e){const i=F(),r=K(),o=n+22,a=r.firstCreatePass?function lV(n,t,e,i,r){const o=t.consts,a=Ns(o,i),c=ih(t,n,8,"ng-container",a);return null!==a&&Dv(c,a,!0),U0(t,e,c,Ns(o,r)),null!==t.queries&&t.queries.elementStart(t,c),c}(o,r,i,t,e):r.data[o];Bi(a,!0);const c=i[o]=i[11].createComment("");return dv(r,i,c,a),mr(c,i),Jr(a)&&(F0(r,i,a),R0(r,a,i)),null!=e&&L0(i,a),U}function V(){let n=Ce();const t=K();return hc()?os():(n=n.parent,Bi(n,!1)),t.firstCreatePass&&(J_(t,n),Yc(n)&&t.queries.elementEnd(n)),V}function oi(n,t,e){return U(n,t,e),V(),oi}function Z(){return F()}function em(n){return!!n&&"function"==typeof n.then}function Xk(n){return!!n&&"function"==typeof n.subscribe}const Z0=Xk;function A(n,t,e,i){const r=F(),o=K(),a=Ce();return function tM(n,t,e,i,r,o,a){const c=Jr(i),h=n.firstCreatePass&&Rk(n),f=t[8],y=Nk(t);let T=!0;if(3&i.type||a){const $=Vi(i,t),G=a?a($):$,Q=y.length,te=a?se=>a(pi(se[i.index])):i.index;let Y=null;if(!a&&c&&(Y=function cV(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const a=r[o];if(a===e&&r[o+1]===i){const c=t[7],u=r[o+2];return c.length>u?c[u]:null}"string"==typeof a&&(o+=2)}return null}(n,t,r,i.index)),null!==Y)(Y.__ngLastListenerFn__||Y).__ngNextListenerFn__=o,Y.__ngLastListenerFn__=o,T=!1;else{o=iM(i,t,f,o,!1);const se=e.listen(G,r,o);y.push(o,se),h&&h.push(r,te,Q,Q+1)}}else o=iM(i,t,f,o,!1);const E=i.outputs;let P;if(T&&null!==E&&(P=E[r])){const $=P.length;if($)for(let G=0;G<$;G+=2){const De=t[P[G]][P[G+1]].subscribe(o),xe=y.length;y.push(o,De),h&&h.push(r,i.index,xe,-(xe+1))}}}(o,r,r[11],a,n,t,i),A}function nM(n,t,e,i){try{return!1!==e(i)}catch(r){return Lk(n,r),!1}}function iM(n,t,e,i,r){return function o(a){if(a===Function)return i;j0(n.componentOffset>-1?Pr(n.index,t):t);let u=nM(t,0,i,a),h=o.__ngNextListenerFn__;for(;h;)u=nM(t,0,h,a)&&u,h=h.__ngNextListenerFn__;return r&&!1===u&&(a.preventDefault(),a.returnValue=!1),u}}function C(n=1){return function p3(n){return(et.lFrame.contextLView=function f3(n,t){for(;n>0;)t=t[15],n--;return t}(n,et.lFrame.contextLView))[8]}(n)}function uV(n,t){let e=null;const i=function $$(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?uk(n,o,!0):B$(i,o))return r}else e=r}return e}function _l(n){const t=F()[16][6];if(!t.projection){const i=t.projection=Uf(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const a=n?uV(o,n):0;null!==a&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o),o=o.next}}}function vl(n,t=0,e){const i=F(),r=K(),o=ih(r,22+n,16,null,e||null);null===o.projection&&(o.projection=t),os(),32!=(32&o.flags)&&function x4(n,t,e){OE(t[11],0,t,e,SE(n,e,t),kE(e.parent||t[6],e,t))}(r,i,o)}function K0(n,t,e){return fu(n,"",t,"",e),K0}function fu(n,t,e,i,r){const o=F(),a=oh(o,t,e,i);return a!==ut&&Ao(K(),Hn(),o,n,a,o[11],r,!1),fu}function Iv(n,t){return n<<17|t<<2}function mc(n){return n>>17&32767}function Y0(n){return 2|n}function mu(n){return(131068&n)>>2}function J0(n,t){return-131069&n|t<<2}function X0(n){return 1|n}function hM(n,t,e,i,r){const o=n[e+1],a=null===t;let c=i?mc(o):mu(o),u=!1;for(;0!==c&&(!1===u||a);){const f=n[c+1];gV(n[c],t)&&(u=!0,n[c+1]=i?X0(f):Y0(f)),c=i?mc(f):mu(f)}u&&(n[e+1]=i?Y0(o):X0(o))}function gV(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Qd(n,t)>=0}const Ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pM(n){return n.substring(Ti.key,Ti.keyEnd)}function fM(n,t){const e=Ti.textEnd;return e===t?-1:(t=Ti.keyEnd=function bV(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Ti.key=t,e),ph(n,t,e))}function ph(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function io(n,t,e){return Fs(n,t,e,!1),io}function Be(n,t){return Fs(n,t,null,!0),Be}function ji(n){Ls(Po,xa,n,!0)}function xa(n,t){for(let e=function vV(n){return function gM(n){Ti.key=0,Ti.keyEnd=0,Ti.value=0,Ti.valueEnd=0,Ti.textEnd=n.length}(n),fM(n,ph(n,0,Ti.textEnd))}(t);e>=0;e=fM(t,e))Po(n,pM(t),!0)}function Fs(n,t,e,i){const r=F(),o=K(),a=an(2);o.firstUpdatePass&&bM(o,n,a,i),t!==ut&&gr(r,a,t)&&wM(o,o.data[Ar()],r,r[11],n,r[a+1]=function IV(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=en(Oo(n)))),n}(t,e),i,a)}function Ls(n,t,e,i){const r=K(),o=an(2);r.firstUpdatePass&&bM(r,null,o,i);const a=F();if(e!==ut&&gr(a,o,e)){const c=r.data[Ar()];if(TM(c,i)&&!yM(r,o)){let u=i?c.classesWithoutHost:c.stylesWithoutHost;null!==u&&(e=Dr(u,e||"")),Q0(r,c,a,e,i)}else!function xV(n,t,e,i,r,o,a,c){r===ut&&(r=Ie);let u=0,h=0,f=0<r.length?r[0]:null,y=0<o.length?o[0]:null;for(;null!==f||null!==y;){const T=u<r.length?r[u+1]:void 0,E=h<o.length?o[h+1]:void 0;let $,P=null;f===y?(u+=2,h+=2,T!==E&&(P=y,$=E)):null===y||null!==f&&f<y?(u+=2,P=f):(h+=2,P=y,$=E),null!==P&&wM(n,t,e,i,P,$,a,c),f=u<r.length?r[u]:null,y=h<o.length?o[h]:null}}(r,c,a,a[11],a[o+1],a[o+1]=function MV(n,t,e){if(null==e||""===e)return Ie;const i=[],r=Oo(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function yM(n,t){return t>=n.expandoStartIndex}function bM(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Ar()],a=yM(n,e);TM(o,i)&&null===t&&!a&&(t=!1),t=function TV(n,t,e,i){const r=function Bd(n){const t=et.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=tm(e=eC(null,n,t,e,i),t.attrs,i),o=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==r)if(e=eC(r,n,t,e,i),null===o){let u=function DV(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==mu(i))return n[mc(i)]}(n,t,i);void 0!==u&&Array.isArray(u)&&(u=eC(null,n,t,u[1],i),u=tm(u,t.attrs,i),function EV(n,t,e,i){n[mc(e?t.classBindings:t.styleBindings)]=i}(n,t,i,u))}else o=function kV(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=tm(i,n[o].hostAttrs,e);return tm(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function fV(n,t,e,i,r,o){let a=o?t.classBindings:t.styleBindings,c=mc(a),u=mu(a);n[i]=e;let f,h=!1;if(Array.isArray(e)?(f=e[1],(null===f||Qd(e,f)>0)&&(h=!0)):f=e,r)if(0!==u){const T=mc(n[c+1]);n[i+1]=Iv(T,c),0!==T&&(n[T+1]=J0(n[T+1],i)),n[c+1]=function hV(n,t){return 131071&n|t<<17}(n[c+1],i)}else n[i+1]=Iv(c,0),0!==c&&(n[c+1]=J0(n[c+1],i)),c=i;else n[i+1]=Iv(u,0),0===c?c=i:n[u+1]=J0(n[u+1],i),u=i;h&&(n[i+1]=Y0(n[i+1])),hM(n,f,i,!0),hM(n,f,i,!1),function mV(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Qd(o,t)>=0&&(e[i+1]=X0(e[i+1]))}(t,f,n,i,o),a=Iv(c,u),o?t.classBindings=a:t.styleBindings=a}(r,o,t,e,a,i)}}function eC(n,t,e,i,r){let o=null;const a=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<a&&(o=t[c],i=tm(i,o.hostAttrs,r),o!==n);)c++;return null!==n&&(e.directiveStylingLast=c),i}function tm(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Po(n,a,!!e||t[++o]))}return void 0===n?null:n}function wM(n,t,e,i,r,o,a,c){if(!(3&t.type))return;const u=n.data,h=u[c+1],f=function pV(n){return 1==(1&n)}(h)?SM(u,t,e,r,mu(h),a):void 0;Pv(f)||(Pv(o)||function dV(n){return 2==(2&n)}(h)&&(o=SM(u,null,e,r,c,a)),function P4(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:to.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=to.Important),n.setStyle(e,i,r,o))}}(i,a,$d(Ar(),e),r,o))}function SM(n,t,e,i,r,o){const a=null===t;let c;for(;r>0;){const u=n[r],h=Array.isArray(u),f=h?u[1]:u,y=null===f;let T=e[r+1];T===ut&&(T=y?Ie:void 0);let E=y?G1(T,i):f===i?T:void 0;if(h&&!Pv(E)&&(E=G1(u,i)),Pv(E)&&(c=E,a))return c;const P=n[r+1];r=a?mc(P):mu(P)}if(null!==t){let u=o?t.residualClasses:t.residualStyles;null!=u&&(c=G1(u,i))}return c}function Pv(n){return void 0!==n}function TM(n,t){return 0!=(n.flags&(t?8:16))}function s(n,t=""){const e=F(),i=K(),r=n+22,o=i.firstCreatePass?ih(i,r,1,t,null):i.data[r],a=e[r]=r0(e[11],t);dv(i,e,a,o),Bi(o,!1)}function We(n){return ee("",n,""),We}function ee(n,t,e){const i=F(),r=oh(i,n,t,e);return r!==ut&&gl(i,Ar(),r),ee}function gc(n,t,e,i,r){const o=F(),a=sh(o,n,t,e,i,r);return a!==ut&&gl(o,Ar(),a),gc}function Ov(n,t,e){Ls(Po,xa,oh(F(),n,t,e),!0)}function yl(n,t,e){const i=F();return gr(i,hl(),t)&&Ao(K(),Hn(),i,n,t,i[11],e,!0),yl}const gu=void 0;var QV=["en",[["a","p"],["AM","PM"],gu],[["AM","PM"],gu,gu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gu,"{1} 'at' {0}",gu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qV(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let fh={};function Rr(n){const t=function ZV(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=zM(t);if(e)return e;const i=t.split("-")[0];if(e=zM(i),e)return e;if("en"===i)return QV;throw new ne(701,!1)}function zM(n){return n in fh||(fh[n]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[n]),fh[n]}var we=(()=>((we=we||{})[we.LocaleId=0]="LocaleId",we[we.DayPeriodsFormat=1]="DayPeriodsFormat",we[we.DayPeriodsStandalone=2]="DayPeriodsStandalone",we[we.DaysFormat=3]="DaysFormat",we[we.DaysStandalone=4]="DaysStandalone",we[we.MonthsFormat=5]="MonthsFormat",we[we.MonthsStandalone=6]="MonthsStandalone",we[we.Eras=7]="Eras",we[we.FirstDayOfWeek=8]="FirstDayOfWeek",we[we.WeekendRange=9]="WeekendRange",we[we.DateFormat=10]="DateFormat",we[we.TimeFormat=11]="TimeFormat",we[we.DateTimeFormat=12]="DateTimeFormat",we[we.NumberSymbols=13]="NumberSymbols",we[we.NumberFormats=14]="NumberFormats",we[we.CurrencyCode=15]="CurrencyCode",we[we.CurrencySymbol=16]="CurrencySymbol",we[we.CurrencyName=17]="CurrencyName",we[we.Currencies=18]="Currencies",we[we.Directionality=19]="Directionality",we[we.PluralCase=20]="PluralCase",we[we.ExtraData=21]="ExtraData",we))();const KV=["zero","one","two","few","many"],mh="en-US",Av={marker:"element"},Nv={marker:"ICU"};var Jn=(()=>((Jn=Jn||{})[Jn.SHIFT=2]="SHIFT",Jn[Jn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Jn[Jn.COMMENT=2]="COMMENT",Jn))();let GM=mh;function WM(n){(function ui(n,t){null==n&&nt(t,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(GM=n.toLowerCase().replace(/_/g,"-"))}function qM(n,t,e){const i=t.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?ME(n,0,e):pi(e[r])}function QM(n,t,e,i,r){const o=t.insertBeforeIndex;if(Array.isArray(o)){let a=i,c=null;if(3&t.type||(c=a,a=r),null!==a&&-1===t.componentOffset)for(let u=1;u<o.length;u++)au(n,a,e[o[u]],c,!1)}}function ZM(n,t){if(n.push(t),n.length>1)for(let e=n.length-2;e>=0;e--){const i=n[e];KM(i)||e5(i,t)&&null===t5(i)&&n5(i,t.index)}}function KM(n){return!(64&n.type)}function e5(n,t){return KM(t)||n.index>t.index}function t5(n){const t=n.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function n5(n,t){const e=n.insertBeforeIndex;Array.isArray(e)?e[0]=t:(IE(qM,QM),n.insertBeforeIndex=t)}function nm(n,t){const e=n.data[t];return null===e||"string"==typeof e?null:e.hasOwnProperty("currentCaseLViewIndex")?e:e.value}function o5(n,t,e){const i=A0(n,e,64,null,null);return ZM(t,i),i}function Rv(n,t){const e=t[n.currentCaseLViewIndex];return null===e?e:e<0?~e:e}function YM(n){return n>>>17}function JM(n){return(131070&n)>>>1}let im=0,rm=0;function ex(n,t,e,i){const r=e[11];let a,o=null;for(let c=0;c<t.length;c++){const u=t[c];if("string"==typeof u){const h=t[++c];null===e[h]&&(e[h]=r0(r,u))}else if("number"==typeof u)switch(1&u){case 0:const h=YM(u);let f,y;if(null===o&&(o=h,a=uv(r,i)),h===o?(f=i,y=a):(f=null,y=pi(e[h])),null!==y){const $=JM(u);au(r,y,e[$],f,!1);const Q=nm(n,$);if(null!==Q&&"object"==typeof Q){const te=Rv(Q,e);null!==te&&ex(n,Q.create[te],e,e[Q.anchorIdx])}}break;case 1:const E=t[++c],P=t[++c];B0(r,$d(u>>>1,e),null,null,E,P,null)}else switch(u){case Nv:const h=t[++c],f=t[++c];null===e[f]&&mr(e[f]=v4(r,h),e);break;case Av:const y=t[++c],T=t[++c];null===e[T]&&mr(e[T]=o0(r,y,null),e)}}}function tx(n,t,e,i,r){for(let o=0;o<e.length;o++){const a=e[o],c=e[++o];if(a&r){let u="";for(let h=o+1;h<=o+c;h++){const f=e[h];if("string"==typeof f)u+=f;else if("number"==typeof f)if(f<0)u+=Qe(t[i-f]);else{const y=f>>>2;switch(3&f){case 1:const T=e[++h],E=e[++h],P=n.data[y];"string"==typeof P?B0(t[11],t[y],null,P,T,u,E):Ao(n,P,t,T,u,t[11],E,!1);break;case 0:const $=t[y];null!==$&&bE(t[11],$,u);break;case 2:u5(n,nm(n,y),t,u);break;case 3:nx(n,nm(n,y),i,t)}}}}else{const u=e[o+1];if(u>0&&3==(3&u)){const f=nm(n,u>>>2);t[f.currentCaseLViewIndex]<0&&nx(n,f,i,t)}}o+=c}}function nx(n,t,e,i){let r=i[t.currentCaseLViewIndex];if(null!==r){let o=im;r<0&&(r=i[t.currentCaseLViewIndex]=~r,o=-1),tx(n,i,t.update[r],e,o)}}function u5(n,t,e,i){const r=function d5(n,t){let e=n.cases.indexOf(t);if(-1===e)switch(n.type){case 1:{const i=function YV(n,t){const e=function jM(n){return Rr(n)[we.PluralCase]}(t)(parseInt(n,10)),i=KV[e];return void 0!==i?i:"other"}(t,function XV(){return GM}());e=n.cases.indexOf(i),-1===e&&"other"!==i&&(e=n.cases.indexOf("other"));break}case 0:e=n.cases.indexOf("other")}return-1===e?null:e}(t,i);if(Rv(t,e)!==r&&(ix(n,t,e),e[t.currentCaseLViewIndex]=null===r?null:~r,null!==r)){const a=e[t.anchorIdx];a&&ex(n,t.create[r],e,a)}}function ix(n,t,e){let i=Rv(t,e);if(null!==i){const r=t.remove[i];for(let o=0;o<r.length;o++){const a=r[o];if(a>0){const c=$d(a,e);null!==c&&u0(e[11],c)}else ix(n,nm(n,~a),e)}}}function h5(){const n=[];let e,i,t=-1;function o(c,u){t=0;const h=Rv(c,u);i=null!==h?c.remove[h]:Ie}function a(){if(t<i.length){const c=i[t++];return c>0?e[c]:(n.push(t,i),o(e[1].data[~c],e),a())}return 0===n.length?null:(i=n.pop(),t=n.pop(),a())}return function r(c,u){for(e=u;n.length;)n.pop();return o(c.value,u),a}}const Fv=/\ufffd(\d+):?\d*\ufffd/gi,f5=/\ufffd(\d+)\ufffd/,ox=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,m5=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,g5=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,_5=/\uE500/g;function sx(n,t,e,i,r,o,a){const c=Kf(n,i,1,null);let u=c<<Jn.SHIFT,h=Or();t===h&&(h=null),null===h&&(u|=Jn.APPEND_EAGERLY),a&&(u|=Jn.COMMENT,function m4(n){void 0===X1&&(X1=n())}(h5)),r.push(u,null===o?"":o);const f=A0(n,c,a?32:1,null===o?"":o,null);ZM(e,f);const y=f.index;return Bi(f,!1),null!==h&&t!==h&&function r5(n,t){let e=n.insertBeforeIndex;null===e?(IE(qM,QM),e=n.insertBeforeIndex=[null,t]):(function wo(n,t,e){n!=t&&nt(e,n,t,"==")}(Array.isArray(e),!0,"Expecting array here"),e.push(t))}(h,y),f}function b5(n,t,e,i,r,o,a){const c=a.match(Fv),u=sx(n,t,e,o,i,c?null:a,!1);c&&sm(r,a,u.index,null,0,null)}function sm(n,t,e,i,r,o){const a=n.length,c=a+1;n.push(null,null);const u=a+2,h=t.split(Fv);let f=0;for(let y=0;y<h.length;y++){const T=h[y];if(1&y){const E=r+parseInt(T,10);n.push(-1-E),f|=ax(E)}else""!==T&&n.push(T)}return n.push(e<<2|(i?1:0)),i&&n.push(i,o),n[a]=f,n[c]=n.length-u,f}function ax(n){return 1<<Math.min(n,31)}function lx(n){let t,o,e="",i=0,r=!1;for(;null!==(t=m5.exec(n));)r?t[0]===`\ufffd/*${o}\ufffd`&&(i=t.index,r=!1):(e+=n.substring(i,t.index+t[0].length),o=t[1],r=!0);return e+=n.slice(i),e}function cx(n,t,e,i,r,o){let a=0;const c={type:r.type,currentCaseLViewIndex:Kf(n,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};(function M5(n,t,e){n.push(ax(t.mainBinding),2,-1-t.mainBinding,e<<2|2)})(e,r,o),function i5(n,t,e){const i=n.data[t];null===i?n.data[t]=e:i.value=e}(n,o,c);const u=r.values;for(let h=0;h<u.length;h++){const f=u[h],y=[];for(let T=0;T<f.length;T++){const E=f[T];if("string"!=typeof E){const P=y.push(E)-1;f[T]=`\x3c!--\ufffd${P}\ufffd--\x3e`}}a=E5(n,c,t,e,i,r.cases[h],f.join(""),y)|a}a&&function x5(n,t,e){n.push(t,1,e<<2|3)}(e,a,o)}function D5(n){const t=[],e=[];let i=1,r=0;const o=tC(n=n.replace(ox,function(a,c,u){return i="select"===u?0:1,r=parseInt(c.slice(1),10),""}));for(let a=0;a<o.length;){let c=o[a++].trim();1===i&&(c=c.replace(/\s*(?:=)?(\w+)\s*/,"$1")),c.length&&t.push(c);const u=tC(o[a++]);t.length>e.length&&e.push(u)}return{type:i,mainBinding:r,cases:t,values:e}}function tC(n){if(!n)return[];let t=0;const e=[],i=[],r=/[{}]/g;let o;for(r.lastIndex=0;o=r.exec(n);){const c=o.index;if("}"==o[0]){if(e.pop(),0==e.length){const u=n.substring(t,c);ox.test(u)?i.push(D5(u)):i.push(u),t=c+1}}else{if(0==e.length){const u=n.substring(t,c);i.push(u),t=c+1}e.push("{")}}const a=n.substring(t);return i.push(a),i}function E5(n,t,e,i,r,o,a,c){const u=[],h=[],f=[];t.cases.push(o),t.create.push(u),t.remove.push(h),t.update.push(f);const T=UE(RE()).getInertBodyElement(a),E=_0(T)||T;return E?ux(n,t,e,i,u,h,f,E,r,c,0):0}function ux(n,t,e,i,r,o,a,c,u,h,f){let y=0,T=c.firstChild;for(;T;){const E=Kf(n,e,1,null);switch(T.nodeType){case Node.ELEMENT_NODE:const P=T,$=P.tagName.toLowerCase();if(m0.hasOwnProperty($)){nC(r,Av,$,u,E),n.data[E]=$;const Y=P.attributes;for(let se=0;se<Y.length;se++){const De=Y.item(se),xe=De.name.toLowerCase();De.value.match(Fv)?jE.hasOwnProperty(xe)&&sm(a,De.value,E,De.name,0,g0[xe]?mv:null):I5(r,E,De)}y=ux(n,t,e,i,r,o,a,T,E,h,f+1)|y,dx(o,E,f)}break;case Node.TEXT_NODE:const G=T.textContent||"",Q=G.match(Fv);nC(r,null,Q?"":G,u,E),dx(o,E,f),Q&&(y=sm(a,G,E,null,0,null)|y);break;case Node.COMMENT_NODE:const te=f5.exec(T.textContent||"");if(te){const se=h[parseInt(te[1],10)];nC(r,Nv,"",u,E),cx(n,e,i,u,se,E),k5(o,E,f)}}T=T.nextSibling}return y}function dx(n,t,e){0===e&&n.push(t)}function k5(n,t,e){0===e&&(n.push(~t),n.push(t))}function nC(n,t,e,i,r){null!==t&&n.push(t),n.push(e,r,function s5(n,t,e){return n|t<<17|e<<1}(0,i,r))}function I5(n,t,e){n.push(t<<1|1,e.name,e.value)}function px(n,t,e=-1){const i=K(),r=F(),o=22+n,a=Ns(i.consts,t),c=Or();i.firstCreatePass&&function y5(n,t,e,i,r,o){const a=Or(),c=[],u=[],h=[[]];r=function T5(n,t){if(function S5(n){return-1===n}(t))return lx(n);{const e=n.indexOf(`:${t}\ufffd`)+2+t.toString().length,i=n.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return lx(n.substring(e,i))}}(r,o);const f=function v5(n){return n.replace(_5," ")}(r).split(g5);for(let y=0;y<f.length;y++){let T=f[y];if(1&y){const E=47===T.charCodeAt(0),$=(T.charCodeAt(E?1:0),22+Number.parseInt(T.substring(E?2:1)));if(E)h.shift(),Bi(Or(),!1);else{const G=o5(n,h[0],$);h.unshift([]),Bi(G,!0)}}else{const E=tC(T);for(let P=0;P<E.length;P++){let $=E[P];if(1&P){const G=$;if("object"!=typeof G)throw new Error(`Unable to parse ICU expression in "${r}" message.`);cx(n,e,u,t,G,sx(n,a,h[0],e,c,"",!0).index)}else""!==$&&b5(n,a,h[0],c,u,e,$)}}}n.data[i]={create:c,update:u}}(i,null===c?0:c.index,r,o,a,e);const u=i.data[o],f=TE(i,c===r[6]?null:c,r);(function c5(n,t,e,i){const r=n[11];for(let o=0;o<t.length;o++){const a=t[o++],c=t[o],h=(a&Jn.APPEND_EAGERLY)===Jn.APPEND_EAGERLY,f=a>>>Jn.SHIFT;let y=n[f];null===y&&(y=n[f]=(a&Jn.COMMENT)===Jn.COMMENT?r.createComment(c):r0(r,c)),h&&null!==e&&au(r,e,y,i,!1)}})(r,u.create,f,c&&8&c.type?r[c.index]:null),K_(!0)}function er(n,t,e){px(n,t,e),function fx(){K_(!1)}()}function gh(n){return function a5(n){n&&(im|=1<<Math.min(rm,31)),rm++}(gr(F(),hl(),n)),gh}function am(n){!function l5(n,t,e){if(rm>0){const i=n.data[e];tx(n,t,Array.isArray(i)?i:i.update,ss()-rm-1,im)}im=0,rm=0}(K(),F(),n+22)}function iC(n,t,e,i,r){if(n=Ue(n),Array.isArray(n))for(let o=0;o<n.length;o++)iC(n[o],t,e,i,r);else{const o=K(),a=F();let c=uu(n)?n:Ue(n.provide),u=tk(n);const h=Ce(),f=1048575&h.providerIndexes,y=h.directiveStart,T=h.providerIndexes>>20;if(uu(n)||!n.multi){const E=new Rf(u,r,w),P=oC(c,t,r?f:f+T,y);-1===P?(B1(rv(h,a),o,c),rC(o,n,t.length),t.push(c),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),e.push(E),a.push(E)):(e[P]=E,a[P]=E)}else{const E=oC(c,t,f+T,y),P=oC(c,t,f,f+T),G=P>=0&&e[P];if(r&&!G||!r&&!(E>=0&&e[E])){B1(rv(h,a),o,c);const Q=function z5(n,t,e,i,r){const o=new Rf(n,e,w);return o.multi=[],o.index=t,o.componentProviders=0,mx(o,r,i&&!e),o}(r?j5:H5,e.length,r,i,u);!r&&G&&(e[P].providerFactory=Q),rC(o,n,t.length,0),t.push(c),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),e.push(Q),a.push(Q)}else rC(o,n,E>-1?E:P,mx(e[r?P:E],u,!r&&i));!r&&i&&G&&e[P].componentProviders++}}}function rC(n,t,e,i){const r=uu(t),o=function d$(n){return!!n.useClass}(t);if(r||o){const u=(o?Ue(t.useClass):t).prototype.ngOnDestroy;if(u){const h=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const f=h.indexOf(e);-1===f?h.push(e,[i,u]):h[f+1].push(i,u)}else h.push(e,u)}}}function mx(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function oC(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function H5(n,t,e,i){return sC(this.multi,[])}function j5(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=ou(e,e[1],this.providerFactory.index,i);o=c.slice(0,a),sC(r,o);for(let u=a;u<c.length;u++)o.push(c[u])}else o=[],sC(r,o);return o}function sC(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Wt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function B5(n,t,e){const i=K();if(i.firstCreatePass){const r=xo(n);iC(e,i.data,i.blueprint,r,!0),iC(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class _h{}class gx{}class _x extends _h{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $k(this);const i=xr(t);this._bootstrapComponents=ml(i.bootstrap),this._r3Injector=_k(t,e,[{provide:_h,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],en(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class aC extends gx{constructor(t){super(),this.moduleType=t}create(t){return new _x(this.moduleType,t)}}class W5 extends _h{constructor(t,e,i){super(),this.componentFactoryResolver=new $k(this),this.instance=null;const r=new ek([...t,{provide:_h,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],e||yv(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Lv(n,t,e=null){return new W5(n,t,e).injector}let q5=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=KE(0,e.type),r=i.length>0?Lv([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(R(ls))}),n})();function fi(n){n.getStandaloneInjector=t=>t.get(q5).getOrCreateStandaloneInjector(n)}function ot(n,t,e,i){return Dx(F(),Ji(),n,t,e,i)}function Pn(n,t,e,i,r){return Ex(F(),Ji(),n,t,e,i,r)}function vh(n,t,e,i,r,o){return function kx(n,t,e,i,r,o,a,c){const u=t+e;return function xv(n,t,e,i,r){const o=pu(n,t,e,i);return gr(n,t+2,r)||o}(n,u,r,o,a)?ka(n,u+3,c?i.call(c,r,o,a):i(r,o,a)):lm(n,u+3)}(F(),Ji(),n,t,e,i,r,o)}function cC(n,t,e,i,r,o,a){return function Mx(n,t,e,i,r,o,a,c,u){const h=t+e;return cs(n,h,r,o,a,c)?ka(n,h+4,u?i.call(u,r,o,a,c):i(r,o,a,c)):lm(n,h+4)}(F(),Ji(),n,t,e,i,r,o,a)}function uC(n,t,e,i,r,o,a,c,u){const h=Ji()+n,f=F(),y=cs(f,h,e,i,r,o);return pu(f,h+4,a,c)||y?ka(f,h+6,u?t.call(u,e,i,r,o,a,c):t(e,i,r,o,a,c)):Xf(f,h+6)}function lm(n,t){const e=n[t];return e===ut?void 0:e}function Dx(n,t,e,i,r,o){const a=t+e;return gr(n,a,r)?ka(n,a+1,o?i.call(o,r):i(r)):lm(n,a+1)}function Ex(n,t,e,i,r,o,a){const c=t+e;return pu(n,c,r,o)?ka(n,c+2,a?i.call(a,r,o):i(r,o)):lm(n,c+2)}function Vt(n,t){const e=K();let i;const r=n+22;e.firstCreatePass?(i=function sB(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Xr(i.type)),a=hi(w);try{const c=iv(!1),u=o();return iv(c),function sV(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,F(),r,u),u}finally{hi(a)}}function Tn(n,t,e){const i=n+22,r=F(),o=dl(r,i);return cm(r,i)?Dx(r,Ji(),t,o.transform,e,o):o.transform(e)}function Ia(n,t,e,i){const r=n+22,o=F(),a=dl(o,r);return cm(o,r)?Ex(o,Ji(),t,a.transform,e,i,a):a.transform(e,i)}function cm(n,t){return n[1].data[t].pure}function dC(n){return t=>{setTimeout(n,void 0,t)}}const X=class uB extends je{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),a=i;if(t&&"object"==typeof t){const u=t;r=u.next?.bind(u),o=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(o=dC(o),r&&(r=dC(r)),a&&(a=dC(a)));const c=super.subscribe({next:r,error:o,complete:a});return t instanceof ft&&t.add(c),c}};function dB(){return this._results[hu()]()}class hC{get changes(){return this._changes||(this._changes=new X)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=hu(),i=hC.prototype;i[e]||(i[e]=dB)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function as(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function R3(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Dn=(()=>{class n{}return n.__NG_ELEMENT_ID__=fB,n})();const hB=Dn,pB=class extends hB{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=Cv(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(r[19]=a.createEmbeddedView(i)),N0(i,r,t),new Yf(r)}};function fB(){return $v(Ce(),F())}function $v(n,t){return 4&n.type?new pB(t,n,Jd(n,t)):null}let Fr=(()=>{class n{}return n.__NG_ELEMENT_ID__=mB,n})();function mB(){return Ox(Ce(),F())}const gB=Fr,Ix=class extends gB{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Jd(this._hostTNode,this._hostLView)}get injector(){return new jd(this._hostTNode,this._hostLView)}get parentInjector(){const t=V1(this._hostTNode,this._hostLView);if(UD(t)){const e=nv(t,this._hostLView),i=tv(t);return new jd(e[1].data[i+8],e)}return new jd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Px(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedView(e||{},o);return this.insert(a,r),a}createComponent(t,e,i,r,o){const a=t&&!function $f(n){return"function"==typeof n}(t);let c;if(a)c=e;else{const y=e||{};c=y.index,i=y.injector,r=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const u=a?t:new Jf(At(t)),h=i||this.parentInjector;if(!o&&null==u.ngModule){const T=(a?h:this.parentInjector).get(ls,null);T&&(o=T)}const f=u.create(h,r,void 0,o);return this.insert(f.hostView,c),f}insert(t,e){const i=t._lView,r=i[1];if(function W_(n){return Mo(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const y=i[3],T=new Ix(y,y[6],y[3]);T.detach(T.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;!function S4(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],JD(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function T4(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const c=t[19];null!==c&&c.insertView(n),t[2]|=64}(r,i,a,o);const c=c0(o,a),u=i[11],h=uv(u,a[7]);return null!==h&&function b4(n,t,e,i,r,o){i[0]=r,i[6]=t,Wf(n,i,e,1,r,o)}(r,a[6],u,i,h,c),t.attachToViewContainerRef(),JD(pC(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Px(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=s0(this._lContainer,e);i&&(sv(pC(this._lContainer),e),wE(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=s0(this._lContainer,e);return i&&null!=sv(pC(this._lContainer),e)?new Yf(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function Px(n){return n[8]}function pC(n){return n[8]||(n[8]=[])}function Ox(n,t){let e;const i=t[n.index];if(Mo(i))e=i;else{let r;if(8&n.type)r=pi(i);else{const o=t[11];r=o.createComment("");const a=Vi(n,t);au(o,uv(o,a),r,function M4(n,t){return n.nextSibling(t)}(o,a),!1)}t[n.index]=e=Ak(i,t,r,n),Sv(t,e)}return new Ix(e,n,t)}class fC{constructor(t){this.queryList=t,this.matches=null}clone(){return new fC(this.queryList)}setDirty(){this.queryList.setDirty()}}class mC{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const a=e.getByIndex(o);r.push(this.queries[a.indexInDeclarationView].clone())}return new mC(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Lx(t,e).matches&&this.queries[e].setDirty()}}class Ax{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class gC{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new gC(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _C{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new _C(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,_B(e,o)),this.matchTNodeWithReadOption(t,e,ov(e,t,o,!1,!1))}else i===Dn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ov(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Pt||r===Fr||r===Dn&&4&e.type)this.addMatch(e.index,-2);else{const o=ov(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function _B(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function yB(n,t,e,i){return-1===e?function vB(n,t){return 11&n.type?Jd(n,t):4&n.type?$v(n,t):null}(t,n):-2===e?function bB(n,t,e){return e===Pt?Jd(t,n):e===Dn?$v(t,n):e===Fr?Ox(t,n):void 0}(n,t,i):ou(n,n[1],e,t)}function Nx(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,a=e.matches,c=[];for(let u=0;u<a.length;u+=2){const h=a[u];c.push(h<0?null:yB(t,o[h],a[u+1],e.metadata.read))}r.matches=c}return r.matches}function vC(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const a=Nx(n,t,r,e);for(let c=0;c<o.length;c+=2){const u=o[c];if(u>0)i.push(a[c/2]);else{const h=o[c+1],f=t[-u];for(let y=10;y<f.length;y++){const T=f[y];T[17]===T[3]&&vC(T[1],T,h,i)}if(null!==f[9]){const y=f[9];for(let T=0;T<y.length;T++){const E=y[T];vC(E[1],E,h,i)}}}}}return i}function ke(n){const t=F(),e=K(),i=Y_();O1(i+1);const r=Lx(e,i);if(n.dirty&&function G_(n){return 4==(4&n[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?vC(e,t,i,[]):Nx(e,t,r,i);n.reset(o,w$),n.notifyOnChanges()}return!0}return!1}function dt(n,t,e){const i=K();i.firstCreatePass&&(Fx(i,new Ax(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),Rx(i,F(),t)}function Rn(n,t,e,i){const r=K();if(r.firstCreatePass){const o=Ce();Fx(r,new Ax(t,e,i),o.index),function wB(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}Rx(r,F(),e)}function Me(){return function CB(n,t){return n[19].queries[t].queryList}(F(),Y_())}function Rx(n,t,e){const i=new hC(4==(4&e));kk(n,t,i,i.destroy),null===t[19]&&(t[19]=new mC),t[19].queries.push(new fC(i))}function Fx(n,t,e){null===n.queries&&(n.queries=new gC),n.queries.track(new _C(t,e))}function Lx(n,t){return n.queries.getByIndex(t)}function ae(n,t){return $v(n,t)}const _c=A3("Input",n=>({bindingPropertyName:n}));function Vv(...n){}const dm=new Pe("Application Initializer");let Bv=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Vv,this.reject=Vv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(em(o))e.push(o);else if(Z0(o)){const a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(R(dm,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hm=new Pe("AppId",{providedIn:"root",factory:function nI(){return`${SC()}${SC()}${SC()}`}});function SC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iI=new Pe("Platform Initializer"),Pa=new Pe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rI=new Pe("appBootstrapListener"),oI=new Pe("AnimationModuleType");let TC=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const No=new Pe("LocaleId",{providedIn:"root",factory:()=>rt(No,Ee.Optional|Ee.SkipSelf)||function HB(){return typeof $localize<"u"&&$localize.locale||mh}()});class zB{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let sI=(()=>{class n{compileModuleSync(e){return new aC(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=ml(xr(e).declarations).reduce((a,c)=>{const u=At(c);return u&&a.push(new Jf(u)),a},[]);return new zB(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qB=(()=>Promise.resolve(0))();function DC(n){typeof Zone>"u"?qB.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class bt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new X(!1),this.onMicrotaskEmpty=new X(!1),this.onStable=new X(!1),this.onError=new X(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function QB(){let n=Zt.requestAnimationFrame,t=Zt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function YB(n){const t=()=>{!function KB(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Zt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,kC(n),n.isCheckStableRunning=!0,EC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),kC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,a,c)=>{try{return cI(n),e.invokeTask(r,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),uI(n)}},onInvoke:(e,i,r,o,a,c,u)=>{try{return cI(n),e.invoke(r,o,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),uI(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,kC(n),EC(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bt.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(bt.isInAngularZone())throw new ne(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,t,ZB,Vv,Vv);try{return o.runTask(a,e,i)}finally{o.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const ZB={};function EC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function kC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function cI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uI(n){n._nesting--,EC(n)}class JB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new X,this.onMicrotaskEmpty=new X,this.onStable=new X,this.onError=new X}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const dI=new Pe(""),Hv=new Pe("");let IC,MC=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,IC||(function XB(n){IC=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bt.assertNotInAngularZone(),DC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())DC(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(R(bt),R(xC),R(Hv))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),xC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return IC?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),vc=null;const hI=new Pe("AllowMultipleToken"),PC=new Pe("PlatformDestroyListeners");class pI{constructor(t,e){this.name=t,this.token=e}}function mI(n,t,e=[]){const i=`Platform: ${t}`,r=new Pe(i);return(o=[])=>{let a=OC();if(!a||a.injector.get(hI,!1)){const c=[...e,...o,{provide:r,useValue:!0}];n?n(c):function nH(n){if(vc&&!vc.get(hI,!1))throw new ne(400,!1);vc=n;const t=n.get(_I);(function fI(n){const t=n.get(iI,null);t&&t.forEach(e=>e())})(n)}(function gI(n=[],t){return Hi.create({name:t,providers:[{provide:w0,useValue:"platform"},{provide:PC,useValue:new Set([()=>vc=null])},...n]})}(c,i))}return function rH(n){const t=OC();if(!t)throw new ne(401,!1);return t}()}}function OC(){return vc?.get(_I)??null}let _I=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function yI(n,t){let e;return e="noop"===n?new JB:("zone.js"===n?void 0:n)||new bt(t),e}(i?.ngZone,function vI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:bt,useValue:r}];return r.run(()=>{const a=Hi.create({providers:o,parent:this.injector,name:e.moduleType.name}),c=e.create(a),u=c.injector.get(eh,null);if(!u)throw new ne(402,!1);return r.runOutsideAngular(()=>{const h=r.onError.subscribe({next:f=>{u.handleError(f)}});c.onDestroy(()=>{jv(this._modules,c),h.unsubscribe()})}),function bI(n,t,e){try{const i=e();return em(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(u,r,()=>{const h=c.injector.get(Bv);return h.runInitializers(),h.donePromise.then(()=>(WM(c.injector.get(No,mh)||mh),this._moduleDoBootstrap(c),c))})})}bootstrapModule(e,i=[]){const r=CI({},i);return function eH(n,t,e){const i=new aC(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(yc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new ne(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(PC,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(R(Hi))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function CI(n,t){return Array.isArray(t)?t.reduce(CI,n):{...n,...t}}let yc=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Mt(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),a=new Mt(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{bt.assertNotInAngularZone(),DC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{bt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),h.unsubscribe()}});this.isStable=Yo(o,a.pipe(Ri()))}bootstrap(e,i){const r=e instanceof nk;if(!this._injector.get(Bv).done)throw!r&&function oc(n){const t=At(n)||wi(n)||Fi(n);return null!==t&&t.standalone}(e),new ne(405,false);let a;a=r?e:this._injector.get(fc).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const c=function tH(n){return n.isBoundToModule}(a)?void 0:this._injector.get(_h),h=a.create(Hi.NULL,[],i||a.selector,c),f=h.location.nativeElement,y=h.injector.get(dI,null);return y?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),jv(this.components,h),y?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;jv(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(rI,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>jv(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new ne(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(R(bt),R(ls),R(eh))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let tr=(()=>{class n{}return n.__NG_ELEMENT_ID__=sH,n})();function sH(n){return function aH(n,t,e){if(Jc(n)&&!e){const i=Pr(n.index,t);return new Yf(i,i)}return 47&n.type?new Yf(t[16],t):null}(Ce(),F(),16==(16&n))}class EI{constructor(){}supports(t){return Mv(t)}create(t){return new pH(t)}}const hH=(n,t)=>t;class pH{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||hH}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const a=!i||e&&e.currentIndex<MI(i,r,o)?e:i,c=MI(a,r,o),u=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)r++;else{o||(o=[]);const h=c-r,f=u-r;if(h!=f){for(let T=0;T<h;T++){const E=T<o.length?o[T]:o[T]=0,P=E+T;f<=P&&P<h&&(o[T]=E+1)}o[a.previousIndex]=f-h}}c!==u&&t(a,c,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Mv(t))throw new ne(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)o=t[c],a=this._trackByFn(c,o),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,o,a,c)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,c),i=!0),e=e._next}else r=0,function nV(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[hu()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,c=>{a=this._trackByFn(r,c),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,c,a,r)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,a,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new fH(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new kI),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kI),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class fH{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mH{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class kI{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new mH,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function MI(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class xI{constructor(){}supports(t){return t instanceof Map||q0(t)}create(){return new gH}}class gH{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||q0(t)))throw new ne(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}const i=new _H(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class _H{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function II(){return new Wv([new EI])}let Wv=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||II()),deps:[[n,new Bf,new pc]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new ne(901,!1)}}return n.\u0275prov=W({token:n,providedIn:"root",factory:II}),n})();function PI(){return new pm([new xI])}let pm=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||PI()),deps:[[n,new Bf,new pc]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new ne(901,!1)}}return n.\u0275prov=W({token:n,providedIn:"root",factory:PI}),n})();const bH=mI(null,"core",[]);let CH=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(R(yc))},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({}),n})();function Ch(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function LC(n,t){const e=At(n),i=t.elementInjector||yv();return new Jf(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let $C=null;function Oa(){return $C}class TH{}const ln=new Pe("DocumentToken");let UC=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(){return function DH(){return R(OI)}()},providedIn:"platform"}),n})();const EH=new Pe("Location Initialized");let OI=(()=>{class n extends UC{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Oa().getBaseHref(this._doc)}onPopState(e){const i=Oa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Oa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){AI()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){AI()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(R(ln))},n.\u0275prov=W({token:n,factory:function(){return function kH(){return new OI(R(ln))}()},providedIn:"platform"}),n})();function AI(){return!!window.history.pushState}function VC(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function NI(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Cl(n){return n&&"?"!==n[0]?"?"+n:n}let vu=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(){return rt(FI)},providedIn:"root"}),n})();const RI=new Pe("appBaseHref");let FI=(()=>{class n extends vu{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??rt(ln).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return VC(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Cl(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const a=this.prepareExternalUrl(r+Cl(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){const a=this.prepareExternalUrl(r+Cl(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(R(UC),R(RI,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MH=(()=>{class n extends vu{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=VC(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+Cl(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+Cl(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(R(UC),R(RI,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),qv=(()=>{class n{constructor(e){this._subject=new X,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function PH(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(NI(LI(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Cl(i))}normalize(e){return n.stripTrailingSlash(function IH(n,t){return n&&new RegExp(`^${n}([/;?#]|$)`).test(t)?t.substring(n.length):t}(this._basePath,LI(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Cl(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Cl(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Cl,n.joinWithSlash=VC,n.stripTrailingSlash=NI,n.\u0275fac=function(e){return new(e||n)(R(vu))},n.\u0275prov=W({token:n,factory:function(){return function xH(){return new qv(R(vu))}()},providedIn:"root"}),n})();function LI(n){return n.replace(/\/index.html$/,"")}var ro=(()=>((ro=ro||{})[ro.Decimal=0]="Decimal",ro[ro.Percent=1]="Percent",ro[ro.Currency=2]="Currency",ro[ro.Scientific=3]="Scientific",ro))(),On=(()=>((On=On||{})[On.Format=0]="Format",On[On.Standalone=1]="Standalone",On))(),ht=(()=>((ht=ht||{})[ht.Narrow=0]="Narrow",ht[ht.Abbreviated=1]="Abbreviated",ht[ht.Wide=2]="Wide",ht[ht.Short=3]="Short",ht))(),jn=(()=>((jn=jn||{})[jn.Short=0]="Short",jn[jn.Medium=1]="Medium",jn[jn.Long=2]="Long",jn[jn.Full=3]="Full",jn))(),qe=(()=>((qe=qe||{})[qe.Decimal=0]="Decimal",qe[qe.Group=1]="Group",qe[qe.List=2]="List",qe[qe.PercentSign=3]="PercentSign",qe[qe.PlusSign=4]="PlusSign",qe[qe.MinusSign=5]="MinusSign",qe[qe.Exponential=6]="Exponential",qe[qe.SuperscriptingExponent=7]="SuperscriptingExponent",qe[qe.PerMille=8]="PerMille",qe[qe.Infinity=9]="Infinity",qe[qe.NaN=10]="NaN",qe[qe.TimeSeparator=11]="TimeSeparator",qe[qe.CurrencyDecimal=12]="CurrencyDecimal",qe[qe.CurrencyGroup=13]="CurrencyGroup",qe))();function UI(n,t,e){const i=Rr(n),o=ds([i[we.DayPeriodsFormat],i[we.DayPeriodsStandalone]],t);return ds(o,e)}function VI(n,t,e){const i=Rr(n),o=ds([i[we.DaysFormat],i[we.DaysStandalone]],t);return ds(o,e)}function BC(n,t,e){const i=Rr(n),o=ds([i[we.MonthsFormat],i[we.MonthsStandalone]],t);return ds(o,e)}function Qv(n,t){return ds(Rr(n)[we.DateFormat],t)}function Zv(n,t){return ds(Rr(n)[we.TimeFormat],t)}function Kv(n,t){return ds(Rr(n)[we.DateTimeFormat],t)}function us(n,t){const e=Rr(n),i=e[we.NumberSymbols][t];if(typeof i>"u"){if(t===qe.CurrencyDecimal)return e[we.NumberSymbols][qe.Decimal];if(t===qe.CurrencyGroup)return e[we.NumberSymbols][qe.Group]}return i}function HC(n,t){return Rr(n)[we.NumberFormats][t]}function BI(n){if(!n[we.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[we.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ds(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function jC(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const BH=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fm={},HH=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Di=(()=>((Di=Di||{})[Di.Short=0]="Short",Di[Di.ShortGMT=1]="ShortGMT",Di[Di.Long=2]="Long",Di[Di.Extended=3]="Extended",Di))(),Ke=(()=>((Ke=Ke||{})[Ke.FullYear=0]="FullYear",Ke[Ke.Month=1]="Month",Ke[Ke.Date=2]="Date",Ke[Ke.Hours=3]="Hours",Ke[Ke.Minutes=4]="Minutes",Ke[Ke.Seconds=5]="Seconds",Ke[Ke.FractionalSeconds=6]="FractionalSeconds",Ke[Ke.Day=7]="Day",Ke))(),wt=(()=>((wt=wt||{})[wt.DayPeriods=0]="DayPeriods",wt[wt.Days=1]="Days",wt[wt.Months=2]="Months",wt[wt.Eras=3]="Eras",wt))();function HI(n,t,e,i){let r=function YH(n){if(GI(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,a=1]=n.split("-").map(c=>+c);return Yv(r,o-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(BH))return function JH(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,c=Number(n[5]||0)-i,u=Number(n[6]||0),h=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,a,c,u,h),t}(i)}const t=new Date(n);if(!GI(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=wl(e,t)||t;let c,a=[];for(;t;){if(c=HH.exec(t),!c){a.push(t);break}{a=a.concat(c.slice(1));const f=a.pop();if(!f)break;t=f}}let u=r.getTimezoneOffset();i&&(u=zI(i,u),r=function KH(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function ZH(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(zI(t,r)-r))}(r,i,!0));let h="";return a.forEach(f=>{const y=function QH(n){if(GC[n])return GC[n];let t;switch(n){case"G":case"GG":case"GGG":t=En(wt.Eras,ht.Abbreviated);break;case"GGGG":t=En(wt.Eras,ht.Wide);break;case"GGGGG":t=En(wt.Eras,ht.Narrow);break;case"y":t=gi(Ke.FullYear,1,0,!1,!0);break;case"yy":t=gi(Ke.FullYear,2,0,!0,!0);break;case"yyy":t=gi(Ke.FullYear,3,0,!1,!0);break;case"yyyy":t=gi(Ke.FullYear,4,0,!1,!0);break;case"Y":t=ty(1);break;case"YY":t=ty(2,!0);break;case"YYY":t=ty(3);break;case"YYYY":t=ty(4);break;case"M":case"L":t=gi(Ke.Month,1,1);break;case"MM":case"LL":t=gi(Ke.Month,2,1);break;case"MMM":t=En(wt.Months,ht.Abbreviated);break;case"MMMM":t=En(wt.Months,ht.Wide);break;case"MMMMM":t=En(wt.Months,ht.Narrow);break;case"LLL":t=En(wt.Months,ht.Abbreviated,On.Standalone);break;case"LLLL":t=En(wt.Months,ht.Wide,On.Standalone);break;case"LLLLL":t=En(wt.Months,ht.Narrow,On.Standalone);break;case"w":t=zC(1);break;case"ww":t=zC(2);break;case"W":t=zC(1,!0);break;case"d":t=gi(Ke.Date,1);break;case"dd":t=gi(Ke.Date,2);break;case"c":case"cc":t=gi(Ke.Day,1);break;case"ccc":t=En(wt.Days,ht.Abbreviated,On.Standalone);break;case"cccc":t=En(wt.Days,ht.Wide,On.Standalone);break;case"ccccc":t=En(wt.Days,ht.Narrow,On.Standalone);break;case"cccccc":t=En(wt.Days,ht.Short,On.Standalone);break;case"E":case"EE":case"EEE":t=En(wt.Days,ht.Abbreviated);break;case"EEEE":t=En(wt.Days,ht.Wide);break;case"EEEEE":t=En(wt.Days,ht.Narrow);break;case"EEEEEE":t=En(wt.Days,ht.Short);break;case"a":case"aa":case"aaa":t=En(wt.DayPeriods,ht.Abbreviated);break;case"aaaa":t=En(wt.DayPeriods,ht.Wide);break;case"aaaaa":t=En(wt.DayPeriods,ht.Narrow);break;case"b":case"bb":case"bbb":t=En(wt.DayPeriods,ht.Abbreviated,On.Standalone,!0);break;case"bbbb":t=En(wt.DayPeriods,ht.Wide,On.Standalone,!0);break;case"bbbbb":t=En(wt.DayPeriods,ht.Narrow,On.Standalone,!0);break;case"B":case"BB":case"BBB":t=En(wt.DayPeriods,ht.Abbreviated,On.Format,!0);break;case"BBBB":t=En(wt.DayPeriods,ht.Wide,On.Format,!0);break;case"BBBBB":t=En(wt.DayPeriods,ht.Narrow,On.Format,!0);break;case"h":t=gi(Ke.Hours,1,-12);break;case"hh":t=gi(Ke.Hours,2,-12);break;case"H":t=gi(Ke.Hours,1);break;case"HH":t=gi(Ke.Hours,2);break;case"m":t=gi(Ke.Minutes,1);break;case"mm":t=gi(Ke.Minutes,2);break;case"s":t=gi(Ke.Seconds,1);break;case"ss":t=gi(Ke.Seconds,2);break;case"S":t=gi(Ke.FractionalSeconds,1);break;case"SS":t=gi(Ke.FractionalSeconds,2);break;case"SSS":t=gi(Ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Xv(Di.Short);break;case"ZZZZZ":t=Xv(Di.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Xv(Di.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Xv(Di.Long);break;default:return null}return GC[n]=t,t}(f);h+=y?y(r,e,u):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function Yv(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function wl(n,t){const e=function OH(n){return Rr(n)[we.LocaleId]}(n);if(fm[e]=fm[e]||{},fm[e][t])return fm[e][t];let i="";switch(t){case"shortDate":i=Qv(n,jn.Short);break;case"mediumDate":i=Qv(n,jn.Medium);break;case"longDate":i=Qv(n,jn.Long);break;case"fullDate":i=Qv(n,jn.Full);break;case"shortTime":i=Zv(n,jn.Short);break;case"mediumTime":i=Zv(n,jn.Medium);break;case"longTime":i=Zv(n,jn.Long);break;case"fullTime":i=Zv(n,jn.Full);break;case"short":const r=wl(n,"shortTime"),o=wl(n,"shortDate");i=Jv(Kv(n,jn.Short),[r,o]);break;case"medium":const a=wl(n,"mediumTime"),c=wl(n,"mediumDate");i=Jv(Kv(n,jn.Medium),[a,c]);break;case"long":const u=wl(n,"longTime"),h=wl(n,"longDate");i=Jv(Kv(n,jn.Long),[u,h]);break;case"full":const f=wl(n,"fullTime"),y=wl(n,"fullDate");i=Jv(Kv(n,jn.Full),[f,y])}return i&&(fm[e][t]=i),i}function Jv(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Us(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),o+a}function gi(n,t,e=0,i=!1,r=!1){return function(o,a){let c=function zH(n,t){switch(n){case Ke.FullYear:return t.getFullYear();case Ke.Month:return t.getMonth();case Ke.Date:return t.getDate();case Ke.Hours:return t.getHours();case Ke.Minutes:return t.getMinutes();case Ke.Seconds:return t.getSeconds();case Ke.FractionalSeconds:return t.getMilliseconds();case Ke.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||c>-e)&&(c+=e),n===Ke.Hours)0===c&&-12===e&&(c=12);else if(n===Ke.FractionalSeconds)return function jH(n,t){return Us(n,3).substring(0,t)}(c,t);const u=us(a,qe.MinusSign);return Us(c,t,u,i,r)}}function En(n,t,e=On.Format,i=!1){return function(r,o){return function GH(n,t,e,i,r,o){switch(e){case wt.Months:return BC(t,r,i)[n.getMonth()];case wt.Days:return VI(t,r,i)[n.getDay()];case wt.DayPeriods:const a=n.getHours(),c=n.getMinutes();if(o){const h=function FH(n){const t=Rr(n);return BI(t),(t[we.ExtraData][2]||[]).map(i=>"string"==typeof i?jC(i):[jC(i[0]),jC(i[1])])}(t),f=function LH(n,t,e){const i=Rr(n);BI(i);const o=ds([i[we.ExtraData][0],i[we.ExtraData][1]],t)||[];return ds(o,e)||[]}(t,r,i),y=h.findIndex(T=>{if(Array.isArray(T)){const[E,P]=T,$=a>=E.hours&&c>=E.minutes,G=a<P.hours||a===P.hours&&c<P.minutes;if(E.hours<P.hours){if($&&G)return!0}else if($||G)return!0}else if(T.hours===a&&T.minutes===c)return!0;return!1});if(-1!==y)return f[y]}return UI(t,r,i)[a<12?0:1];case wt.Eras:return function AH(n,t){return ds(Rr(n)[we.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Xv(n){return function(t,e,i){const r=-1*i,o=us(e,qe.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Di.Short:return(r>=0?"+":"")+Us(a,2,o)+Us(Math.abs(r%60),2,o);case Di.ShortGMT:return"GMT"+(r>=0?"+":"")+Us(a,1,o);case Di.Long:return"GMT"+(r>=0?"+":"")+Us(a,2,o)+":"+Us(Math.abs(r%60),2,o);case Di.Extended:return 0===i?"Z":(r>=0?"+":"")+Us(a,2,o)+":"+Us(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function jI(n){return Yv(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function zC(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+o)/7)}else{const o=jI(e),a=function qH(n){const t=Yv(n,0,1).getDay();return Yv(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),c=o.getTime()-a.getTime();r=1+Math.round(c/6048e5)}return Us(r,n,us(i,qe.MinusSign))}}function ty(n,t=!1){return function(e,i){return Us(jI(e).getFullYear(),n,us(i,qe.MinusSign),t)}}const GC={};function zI(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function GI(n){return n instanceof Date&&!isNaN(n.valueOf())}const XH=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function qC(n,t,e,i,r,o,a=!1){let c="",u=!1;if(isFinite(n)){let h=function a8(n){let i,r,o,a,c,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(c=t.length))i=[0],r=1;else{for(c--;"0"===t.charAt(c);)c--;for(r-=o,i=[],a=0;o<=c;o++,a++)i[a]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(h=function s8(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(h));let f=t.minInt,y=t.minFrac,T=t.maxFrac;if(o){const te=o.match(XH);if(null===te)throw new Error(`${o} is not a valid digit info`);const Y=te[1],se=te[3],De=te[5];null!=Y&&(f=ZC(Y)),null!=se&&(y=ZC(se)),null!=De?T=ZC(De):null!=se&&y>T&&(T=y)}!function l8(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let a=o+n.integerLen,c=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let y=a;y<i.length;y++)i[y]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let y=1;y<a;y++)i[y]=0}if(c>=5)if(a-1<0){for(let y=0;y>a;y--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let u=0!==o;const h=t+n.integerLen,f=i.reduceRight(function(y,T,E,P){return P[E]=(T+=y)<10?T:T-10,u&&(0===P[E]&&E>=h?P.pop():u=!1),T>=10?1:0},0);f&&(i.unshift(f),n.integerLen++)}(h,y,T);let E=h.digits,P=h.integerLen;const $=h.exponent;let G=[];for(u=E.every(te=>!te);P<f;P++)E.unshift(0);for(;P<0;P++)E.unshift(0);P>0?G=E.splice(P,E.length):(G=E,E=[0]);const Q=[];for(E.length>=t.lgSize&&Q.unshift(E.splice(-t.lgSize,E.length).join(""));E.length>t.gSize;)Q.unshift(E.splice(-t.gSize,E.length).join(""));E.length&&Q.unshift(E.join("")),c=Q.join(us(e,i)),G.length&&(c+=us(e,r)+G.join("")),$&&(c+=us(e,qe.Exponential)+"+"+$)}else c=us(e,qe.Infinity);return c=n<0&&!u?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf,c}function QC(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],c=a[0],u=a[1]||"";e.posPre=c.substring(0,c.indexOf("#"));for(let f=0;f<u.length;f++){const y=u.charAt(f);"0"===y?e.minFrac=e.maxFrac=f+1:"#"===y?e.maxFrac=f+1:e.posSuf+=y}const h=c.split(",");if(e.gSize=h[1]?h[1].length:0,e.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){const f=r.length-e.posPre.length-e.posSuf.length,y=o.indexOf("#");e.negPre=o.substring(0,y).replace(/'/g,""),e.negSuf=o.slice(y+f).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function ZC(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function ZI(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const YC=/\s+/,KI=[];let rn=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=KI,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(YC):KI}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(YC):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(YC).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(w(Wv),w(pm),w(Pt),w(Xi))},n.\u0275dir=de({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class d8{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ye=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new d8(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),XI(c,r)}});for(let r=0,o=i.length;r<o;r++){const c=i.get(r).context;c.index=r,c.count=o,c.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{XI(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(w(Fr),w(Dn),w(Wv))},n.\u0275dir=de({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function XI(n,t){n.context.$implicit=t.item}let me=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new p8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){eP("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){eP("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(w(Fr),w(Dn))},n.\u0275dir=de({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class p8{constructor(){this.$implicit=null,this.ngIf=null}}function eP(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${en(t)}'.`)}class JC{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let wh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),iy=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new JC(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(w(Fr),w(Dn),w(wh,9))},n.\u0275dir=de({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),tP=(()=>{class n{constructor(e,i,r){r._addDefault(new JC(e,i))}}return n.\u0275fac=function(e){return new(e||n)(w(Fr),w(Dn),w(wh,9))},n.\u0275dir=de({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),iP=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),a=-1===r.indexOf("-")?void 0:to.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(w(Pt),w(pm),w(Xi))},n.\u0275dir=de({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Ro=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(w(Fr))},n.\u0275dir=de({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ft]}),n})();function Vs(n,t){return new ne(2100,!1)}class m8{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class g8{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const _8=new g8,v8=new m8;let bc=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(em(e))return _8;if(Xk(e))return v8;throw Vs()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(w(tr,16))},n.\u0275pipe=Zn({name:"async",type:n,pure:!1,standalone:!0}),n})();const b8=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let gm=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw Vs();return e.replace(b8,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Zn({name:"titlecase",type:n,pure:!0,standalone:!0}),n})();const S8=new Pe("DATE_PIPE_DEFAULT_TIMEZONE"),T8=new Pe("DATE_PIPE_DEFAULT_OPTIONS");let ry=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return HI(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw Vs()}}}return n.\u0275fac=function(e){return new(e||n)(w(No,16),w(S8,24),w(T8,24))},n.\u0275pipe=Zn({name:"date",type:n,pure:!0,standalone:!0}),n})(),oy=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=rP}transform(e,i=rP){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(a=>{this.keyValues.push(function x8(n,t){return{key:n,value:t}}(a.key,a.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(w(pm,16))},n.\u0275pipe=Zn({name:"keyvalue",type:n,pure:!1,standalone:!0}),n})();function rP(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),o=String(i);return r==o?0:r<o?-1:1}let oP=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!XC(e))return null;r=r||this._locale;try{return function o8(n,t,e){return qC(n,QC(HC(t,ro.Decimal),us(t,qe.MinusSign)),t,qe.Group,qe.Decimal,e)}(ew(e),r,i)}catch(o){throw Vs()}}}return n.\u0275fac=function(e){return new(e||n)(w(No,16))},n.\u0275pipe=Zn({name:"number",type:n,pure:!0,standalone:!0}),n})(),sP=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!XC(e))return null;r=r||this._locale;try{return function r8(n,t,e){return qC(n,QC(HC(t,ro.Percent),us(t,qe.MinusSign)),t,qe.Group,qe.Decimal,e,!0).replace(new RegExp("%","g"),us(t,qe.PercentSign))}(ew(e),r,i)}catch(o){throw Vs()}}}return n.\u0275fac=function(e){return new(e||n)(w(No,16))},n.\u0275pipe=Zn({name:"percent",type:n,pure:!0,standalone:!0}),n})();function XC(n){return!(null==n||""===n||n!=n)}function ew(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let yu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({}),n})();const aP="browser";function _m(n){return n===aP}let N8=(()=>{class n{}return n.\u0275prov=W({token:n,providedIn:"root",factory:()=>new R8(R(ln),window)}),n})();class R8{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function F8(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=lP(this.window.history)||lP(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function lP(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cP{}class c6 extends TH{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class iw extends c6{static makeCurrent(){!function SH(n){$C||($C=n)}(new iw)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function u6(){return ym=ym||document.querySelector("base"),ym?ym.getAttribute("href"):null}();return null==e?null:function d6(n){ay=ay||document.createElement("a"),ay.setAttribute("href",n);const t=ay.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ym=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ZI(document.cookie,t)}}let ay,ym=null;const mP=new Pe("TRANSITION_ID"),p6=[{provide:dm,useFactory:function h6(n,t,e){return()=>{e.get(Bv).donePromise.then(()=>{const i=Oa(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[mP,ln,Hi],multi:!0}];let m6=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const bm=new Pe("EventManagerPlugins");let ly=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const a=r[o];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(R(bm),R(bt))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class rw{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=Oa().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let gP=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),Cm=(()=>{class n extends gP{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const a=this._doc.createElement("style");a.textContent=o,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(_P),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(_P))}}return n.\u0275fac=function(e){return new(e||n)(R(ln))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();function _P(n){Oa().remove(n)}const ow={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sw=/%COMP%/g;function aw(n,t){return t.flat(100).map(e=>e.replace(sw,n))}function bP(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let cy=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new lw(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Eo.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new C6(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case Eo.ShadowDom:return new w6(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=aw(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(R(ly),R(Cm),R(hm))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class lw{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ow[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(wP(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(wP(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=ow[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ow[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(to.DashCase|to.Important)?t.style.setProperty(e,i,r&to.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&to.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,bP(i)):this.eventManager.addEventListener(t,e,bP(i))}}function wP(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class C6 extends lw{constructor(t,e,i,r){super(t),this.component=i;const o=aw(r+"-"+i.id,i.styles);e.addStyles(o),this.contentAttr=function v6(n){return"_ngcontent-%COMP%".replace(sw,n)}(r+"-"+i.id),this.hostAttr=function y6(n){return"_nghost-%COMP%".replace(sw,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class w6 extends lw{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=aw(r.id,r.styles);for(let a=0;a<o.length;a++){const c=document.createElement("style");c.textContent=o[a],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let S6=(()=>{class n extends rw{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(R(ln))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const SP=["alt","control","meta","shift"],T6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},D6={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let E6=(()=>{class n extends rw{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Oa().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),SP.forEach(h=>{const f=i.indexOf(h);f>-1&&(i.splice(f,1),a+=h+".")}),a+=o,0!=i.length||0===o.length)return null;const u={};return u.domEventName=r,u.fullKey=a,u}static matchEventFullKeyCode(e,i){let r=T6[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),SP.forEach(a=>{a!==r&&(0,D6[a])(e)&&(o+=a+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(R(ln))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const DP=[{provide:Pa,useValue:aP},{provide:iI,useValue:function k6(){iw.makeCurrent()},multi:!0},{provide:ln,useFactory:function x6(){return function F4(n){p0=n}(document),document},deps:[]}],I6=mI(bH,"browser",DP),EP=new Pe(""),kP=[{provide:Hv,useClass:class f6{addToWindow(t){Zt.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Zt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Zt.getAllAngularRootElements=()=>t.getAllRootElements(),Zt.frameworkStabilizers||(Zt.frameworkStabilizers=[]),Zt.frameworkStabilizers.push(i=>{const r=Zt.getAllAngularTestabilities();let o=r.length,a=!1;const c=function(u){a=a||u,o--,0==o&&i(a)};r.forEach(function(u){u.whenStable(c)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Oa().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:dI,useClass:MC,deps:[bt,xC,Hv]},{provide:MC,useClass:MC,deps:[bt,xC,Hv]}],MP=[{provide:w0,useValue:"root"},{provide:eh,useFactory:function M6(){return new eh},deps:[]},{provide:bm,useClass:S6,multi:!0,deps:[ln,bt,Pa]},{provide:bm,useClass:E6,multi:!0,deps:[ln]},{provide:cy,useClass:cy,deps:[ly,Cm,hm]},{provide:Xd,useExisting:cy},{provide:gP,useExisting:Cm},{provide:Cm,useClass:Cm,deps:[ln]},{provide:ly,useClass:ly,deps:[bm,bt]},{provide:cP,useClass:m6,deps:[]},[]];let xP=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:hm,useValue:e.appId},{provide:mP,useExisting:hm},p6]}}}return n.\u0275fac=function(e){return new(e||n)(R(EP,12))},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({providers:[...MP,...kP],imports:[yu,CH]}),n})(),uw=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(R(ln))},n.\u0275prov=W({token:n,factory:function(e){let i=null;return i=e?new e:function O6(){return new uw(R(ln))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;const U6={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},uy=new Pe("HammerGestureConfig"),OP=new Pe("HammerLoader");let AP=(()=>{class n{constructor(){this.events=[],this.overrides={}}buildHammer(e){const i=new Hammer(e,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(const r in this.overrides)i.get(r).set(this.overrides[r]);return i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),V6=(()=>{class n extends rw{constructor(e,i,r,o){super(e),this._config=i,this.console=r,this.loader=o,this._loaderPromise=null}supports(e){return!(!U6.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader)}addEventListener(e,i,r){const o=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||o.runOutsideAngular(()=>this.loader());let a=!1,c=()=>{a=!0};return o.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?a||(c=this.addEventListener(e,i,r)):c=()=>{}}).catch(()=>{c=()=>{}})),()=>{c()}}return o.runOutsideAngular(()=>{const a=this._config.buildHammer(e),c=function(u){o.runGuarded(function(){r(u)})};return a.on(i,c),()=>{a.off(i,c),"function"==typeof a.destroy&&a.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}return n.\u0275fac=function(e){return new(e||n)(R(ln),R(uy),R(TC),R(OP,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),B6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({providers:[{provide:bm,useClass:V6,multi:!0,deps:[ln,uy,TC,[new pc,OP]]},{provide:uy,useClass:AP,deps:[]}]}),n})(),hw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(e){let i=null;return i=e?new(e||n):R(NP),i},providedIn:"root"}),n})(),NP=(()=>{class n extends hw{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Sn.NONE:return i;case Sn.HTML:return Da(i,"HTML")?Oo(i):GE(this._doc,String(i)).toString();case Sn.STYLE:return Da(i,"Style")?Oo(i):i;case Sn.SCRIPT:if(Da(i,"Script"))return Oo(i);throw new Error("unsafe value used in a script context");case Sn.URL:return Da(i,"URL")?Oo(i):mv(String(i));case Sn.RESOURCE_URL:if(Da(i,"ResourceURL"))return Oo(i);throw new Error(`unsafe value used in a resource URL context (see ${ma})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${ma})`)}}bypassSecurityTrustHtml(e){return function j4(n){return new L4(n)}(e)}bypassSecurityTrustStyle(e){return function z4(n){return new $4(n)}(e)}bypassSecurityTrustScript(e){return function G4(n){return new U4(n)}(e)}bypassSecurityTrustUrl(e){return function W4(n){return new V4(n)}(e)}bypassSecurityTrustResourceUrl(e){return function q4(n){return new B4(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(R(ln))},n.\u0275prov=W({token:n,factory:function(e){let i=null;return i=e?new e:function H6(n){return new NP(n.get(ln))}(R(Hi)),i},providedIn:"root"}),n})();class RP{}class j6{}const Sl="*";function FP(n,t=null){return{type:4,styles:t,timings:n}}function LP(n,t=null){return{type:2,steps:n,options:t}}function wm(n){return{type:6,styles:n,offset:null}}function $P(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function UP(n){Promise.resolve().then(n)}class Sm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){UP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class VP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?UP(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,c)=>Math.max(a,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function BP(n){return new ne(3e3,!1)}function Dj(){return typeof window<"u"&&typeof window.document<"u"}function fw(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function wc(n){switch(n.length){case 0:return new Sm;case 1:return n[0];default:return new VP(n)}}function HP(n,t,e,i,r=new Map,o=new Map){const a=[],c=[];let u=-1,h=null;if(i.forEach(f=>{const y=f.get("offset"),T=y==u,E=T&&h||new Map;f.forEach((P,$)=>{let G=$,Q=P;if("offset"!==$)switch(G=t.normalizePropertyName(G,a),Q){case"!":Q=r.get($);break;case Sl:Q=o.get($);break;default:Q=t.normalizeStyleValue($,G,Q,a)}E.set(G,Q)}),T||c.push(E),h=E,u=y}),a.length)throw function pj(n){return new ne(3502,!1)}();return c}function mw(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&gw(e,"start",n)));break;case"done":n.onDone(()=>i(e&&gw(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&gw(e,"destroy",n)))}}function gw(n,t,e){const o=_w(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(o._data=a),o}function _w(n,t,e,i,r="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Fo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function jP(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let vw=(n,t)=>!1,zP=(n,t,e)=>[],GP=null;function yw(n){const t=n.parentNode||n.host;return t===GP?null:t}(fw()||typeof Element<"u")&&(Dj()?(GP=(()=>document.documentElement)(),vw=(n,t)=>{for(;t;){if(t===n)return!0;t=yw(t)}return!1}):vw=(n,t)=>n.contains(t),zP=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let bu=null,WP=!1;const qP=vw,QP=zP;let ZP=(()=>{class n{validateStyleProperty(e){return function kj(n){bu||(bu=function Mj(){return typeof document<"u"?document.body:null}()||{},WP=!!bu.style&&"WebkitAppearance"in bu.style);let t=!0;return bu.style&&!function Ej(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in bu.style,!t&&WP&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bu.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return qP(e,i)}getParentElement(e){return yw(e)}query(e,i,r){return QP(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,c=[],u){return new Sm(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),bw=(()=>{class n{}return n.NOOP=new ZP,n})();const Cw="ng-enter",dy="ng-leave",hy="ng-trigger",py=".ng-trigger",YP="ng-animating",ww=".ng-animating";function Tl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Sw(parseFloat(t[1]),t[2])}function Sw(n,t){return"s"===t?1e3*n:n}function fy(n,t,e){return n.hasOwnProperty("duration")?n:function Pj(n,t,e){let r,o=0,a="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(BP()),{duration:0,delay:0,easing:""};r=Sw(parseFloat(c[1]),c[2]);const u=c[3];null!=u&&(o=Sw(parseFloat(u),c[4]));const h=c[5];h&&(a=h)}else r=n;if(!e){let c=!1,u=t.length;r<0&&(t.push(function G6(){return new ne(3100,!1)}()),c=!0),o<0&&(t.push(function W6(){return new ne(3101,!1)}()),c=!0),c&&t.splice(u,0,BP())}return{duration:r,delay:o,easing:a}}(n,t,e)}function Tm(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function JP(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Sc(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function e2(n,t,e){return e?t+":"+e+";":""}function t2(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=e2(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=e2(0,Rj(e),n.style[e]));n.setAttribute("style",t)}function Aa(n,t,e){n.style&&(t.forEach((i,r)=>{const o=Dw(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),fw()&&t2(n))}function Cu(n,t){n.style&&(t.forEach((e,i)=>{const r=Dw(i);n.style[r]=""}),fw()&&t2(n))}function Dm(n){return Array.isArray(n)?1==n.length?n[0]:LP(n):n}const Tw=new RegExp("{{\\s*(.+?)\\s*}}","g");function n2(n){let t=[];if("string"==typeof n){let e;for(;e=Tw.exec(n);)t.push(e[1]);Tw.lastIndex=0}return t}function Em(n,t,e){const i=n.toString(),r=i.replace(Tw,(o,a)=>{let c=t[a];return null==c&&(e.push(function Q6(n){return new ne(3003,!1)}()),c=""),c.toString()});return r==i?n:r}function my(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Nj=/-+([a-z0-9])/g;function Dw(n){return n.replace(Nj,(...t)=>t[1].toUpperCase())}function Rj(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Lo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Z6(n){return new ne(3004,!1)}()}}function i2(n,t){return window.getComputedStyle(n)[t]}function Bj(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Hj(n,t,e){if(":"==n[0]){const u=function jj(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function cj(n){return new ne(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof u)return void t.push(u);n=u}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function lj(n){return new ne(3015,!1)}()),t;const r=i[1],o=i[2],a=i[3];t.push(r2(r,a));"<"==o[0]&&!("*"==r&&"*"==a)&&t.push(r2(a,r))}(i,e,t)):e.push(n),e}const yy=new Set(["true","1"]),by=new Set(["false","0"]);function r2(n,t){const e=yy.has(n)||by.has(n),i=yy.has(t)||by.has(t);return(r,o)=>{let a="*"==n||n==r,c="*"==t||t==o;return!a&&e&&"boolean"==typeof r&&(a=r?yy.has(n):by.has(n)),!c&&i&&"boolean"==typeof o&&(c=o?yy.has(t):by.has(t)),a&&c}}const zj=new RegExp("s*:selfs*,?","g");function Ew(n,t,e,i){return new Gj(n).build(t,e,i)}class Gj{constructor(t){this._driver=t}build(t,e,i){const r=new Qj(e);return this._resetContextStyleTimingState(r),Lo(this,Dm(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function Y6(){return new ne(3006,!1)}()),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const u=c,h=u.name;h.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,o.push(this.visitState(u,e))}),u.name=h}else if(1==c.type){const u=this.visitTransition(c,e);i+=u.queryCount,r+=u.depCount,a.push(u)}else e.errors.push(function J6(){return new ne(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{n2(u).forEach(h=>{a.hasOwnProperty(h)||o.add(h)})})}),o.size&&(my(o.values()),e.errors.push(function X6(n,t){return new ne(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Lo(this,Dm(t.animation),e);return{type:1,matchers:Bj(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:wu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Lo(this,i,e)),options:wu(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(a=>{e.currentTime=i;const c=Lo(this,a,e);return r=Math.max(r,e.currentTime),c});return e.currentTime=r,{type:3,steps:o,options:wu(t.options)}}visitAnimate(t,e){const i=function Kj(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return kw(fy(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=kw(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=fy(e,t);return kw(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:wm({});if(5==o.type)r=this.visitKeyframes(o,e);else{let a=t.styles,c=!1;if(!a){c=!0;const h={};i.easing&&(h.easing=i.easing),a=wm(h)}e.currentTime+=i.duration+i.delay;const u=this.visitStyle(a,e);u.isEmptyStep=c,r=u}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let c of r)"string"==typeof c?c===Sl?i.push(c):e.errors.push(new ne(3002,!1)):i.push(JP(c));let o=!1,a=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(a=c.get("easing"),c.delete("easing")),!o))for(let u of c.values())if(u.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,u)=>{const h=e.collectedStyles.get(e.currentQuerySelector),f=h.get(u);let y=!0;f&&(o!=r&&o>=f.startTime&&r<=f.endTime&&(e.errors.push(function tj(n,t,e,i,r){return new ne(3010,!1)}()),y=!1),o=f.startTime),y&&h.set(u,{startTime:o,endTime:r}),e.options&&function Aj(n,t,e){const i=t.params||{},r=n2(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function q6(n){return new ne(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function nj(){return new ne(3011,!1)}()),i;let o=0;const a=[];let c=!1,u=!1,h=0;const f=t.steps.map(Q=>{const te=this._makeStyleAst(Q,e);let Y=null!=te.offset?te.offset:function Zj(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(te.styles),se=0;return null!=Y&&(o++,se=te.offset=Y),u=u||se<0||se>1,c=c||se<h,h=se,a.push(se),te});u&&e.errors.push(function ij(){return new ne(3012,!1)}()),c&&e.errors.push(function rj(){return new ne(3200,!1)}());const y=t.steps.length;let T=0;o>0&&o<y?e.errors.push(function oj(){return new ne(3202,!1)}()):0==o&&(T=1/(y-1));const E=y-1,P=e.currentTime,$=e.currentAnimateTimings,G=$.duration;return f.forEach((Q,te)=>{const Y=T>0?te==E?1:T*te:a[te],se=Y*G;e.currentTime=P+$.delay+se,$.duration=se,this._validateStyleAst(Q,e),Q.offset=Y,i.styles.push(Q)}),i}visitReference(t,e){return{type:8,animation:Lo(this,Dm(t.animation),e),options:wu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:wu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:wu(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,a]=function Wj(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(zj,"")),n=n.replace(/@\*/g,py).replace(/@\w+/g,e=>py+"-"+e.slice(1)).replace(/:animating/g,ww),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Fo(e.collectedStyles,e.currentQuerySelector,new Map);const c=Lo(this,Dm(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:c,originalSelector:t.selector,options:wu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function sj(){return new ne(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:fy(t.timings,e.errors,!0);return{type:12,animation:Lo(this,Dm(t.animation),e),timings:i,options:null}}}class Qj{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function wu(n){return n?(n=Tm(n)).params&&(n.params=function qj(n){return n?Tm(n):null}(n.params)):n={},n}function kw(n,t,e){return{duration:n,delay:t,easing:e}}function Mw(n,t,e,i,r,o,a=null,c=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:c}}class Cy{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Xj=new RegExp(":enter","g"),t7=new RegExp(":leave","g");function xw(n,t,e,i,r,o=new Map,a=new Map,c,u,h=[]){return(new n7).buildKeyframes(n,t,e,i,r,o,a,c,u,h)}class n7{buildKeyframes(t,e,i,r,o,a,c,u,h,f=[]){h=h||new Cy;const y=new Iw(t,e,h,r,o,f,[]);y.options=u;const T=u.delay?Tl(u.delay):0;y.currentTimeline.delayNextStep(T),y.currentTimeline.setStyles([a],null,y.errors,u),Lo(this,i,y);const E=y.timelines.filter(P=>P.containsAnimation());if(E.length&&c.size){let P;for(let $=E.length-1;$>=0;$--){const G=E[$];if(G.element===e){P=G;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([c],null,y.errors,u)}return E.length?E.map(P=>P.buildKeyframes()):[Mw(e,[],[],[],0,T,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const a="number"==typeof o?o:Tl(Em(o,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const a=null!=i.duration?Tl(i.duration):null,c=null!=i.delay?Tl(i.delay):null;return 0!==a&&t.forEach(u=>{const h=e.appendInstructionToTimeline(u,a,c);o=Math.max(o,h.duration+h.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Lo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=wy);const a=Tl(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Lo(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Tl(t.options.delay):0;t.steps.forEach(a=>{const c=e.createSubContext(t.options);o&&c.delayNextStep(o),Lo(this,a,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return fy(e.params?Em(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,c=e.createSubContext().currentTimeline;c.easing=i.easing,t.styles.forEach(u=>{c.forwardTime((u.offset||0)*o),c.setStyles(u.styles,u.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Tl(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=wy);let a=i;const c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=c.length;let u=null;c.forEach((h,f)=>{e.currentQueryIndex=f;const y=e.createSubContext(t.options,h);o&&y.delayNextStep(o),h===e.element&&(u=y.currentTimeline),Lo(this,t.animation,y),y.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,y.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),c=a*(e.currentQueryTotal-1);let u=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=c-u;break;case"full":u=i.currentStaggerTime}const f=e.currentTimeline;u&&f.delayNextStep(u);const y=f.currentTime;Lo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-y+(r.startTime-i.currentTimeline.startTime)}}const wy={};class Iw{constructor(t,e,i,r,o,a,c,u){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Sy(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Tl(i.duration)),null!=i.delay&&(r.delay=Tl(i.delay));const o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(c=>{(!e||!a.hasOwnProperty(c))&&(a[c]=Em(o[c],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Iw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=wy,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new i7(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,a){let c=[];if(r&&c.push(this.element),t.length>0){t=(t=t.replace(Xj,"."+this._enterClassName)).replace(t7,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),c.push(...h)}return!o&&0==c.length&&a.push(function aj(n){return new ne(3014,!1)}()),c}}class Sy{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Sy(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Sl),this._currentKeyframe.set(e,Sl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},a=function r7(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Sl)}else Sc(r,e)}),e}(t,this._globalTimelineStyles);for(let[c,u]of a){const h=Em(u,o,i);this._pendingStyles.set(c,h),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Sl),this._updateStyle(c,h)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,u)=>{const h=Sc(c,new Map,this._backFill);h.forEach((f,y)=>{"!"===f?t.add(y):f===Sl&&e.add(y)}),i||h.set("offset",u/this.duration),r.push(h)});const o=t.size?my(t.values()):[],a=e.size?my(e.values()):[];if(i){const c=r[0],u=new Map(c);c.set("offset",0),u.set("offset",1),r=[c,u]}return Mw(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}class i7 extends Sy{constructor(t,e,i,r,o,a,c=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=i+e,c=e/a,u=Sc(t[0]);u.set("offset",0),o.push(u);const h=Sc(t[0]);h.set("offset",a2(c)),o.push(h);const f=t.length-1;for(let y=1;y<=f;y++){let T=Sc(t[y]);const E=T.get("offset");T.set("offset",a2((e+E*i)/a)),o.push(T)}i=a,e=0,r="",t=o}return Mw(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function a2(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Pw{}const o7=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class s7 extends Pw{normalizePropertyName(t,e){return Dw(t)}normalizeStyleValue(t,e,i,r){let o="";const a=i.toString().trim();if(o7.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function K6(n,t){return new ne(3005,!1)}())}return a+o}}function l2(n,t,e,i,r,o,a,c,u,h,f,y,T){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:c,queriedElements:u,preStyleProps:h,postStyleProps:f,totalTime:y,errors:T}}const Ow={};class c2{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function a7(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,a,c,u,h,f){const y=[],T=this.ast.options&&this.ast.options.params||Ow,P=this.buildStyles(i,c&&c.params||Ow,y),$=u&&u.params||Ow,G=this.buildStyles(r,$,y),Q=new Set,te=new Map,Y=new Map,se="void"===r,De={params:l7($,T),delay:this.ast.options?.delay},xe=f?[]:xw(t,e,this.ast.animation,o,a,P,G,De,h,y);let vt=0;if(xe.forEach(dn=>{vt=Math.max(dn.duration+dn.delay,vt)}),y.length)return l2(e,this._triggerName,i,r,se,P,G,[],[],te,Y,vt,y);xe.forEach(dn=>{const hn=dn.element,$n=Fo(te,hn,new Set);dn.preStyleProps.forEach(qn=>$n.add(qn));const lr=Fo(Y,hn,new Set);dn.postStyleProps.forEach(qn=>lr.add(qn)),hn!==e&&Q.add(hn)});const Rt=my(Q.values());return l2(e,this._triggerName,i,r,se,P,G,xe,Rt,te,Y,vt)}}function l7(n,t){const e=Tm(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class c7{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Tm(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!==a&&(r[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{a&&(a=Em(a,r,e));const u=this.normalizer.normalizePropertyName(c,e);a=this.normalizer.normalizeStyleValue(c,u,a,e),i.set(c,a)})}),i}}class d7{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new c7(r.style,r.options&&r.options.params||{},i))}),u2(this.states,"true","1"),u2(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new c2(t,r,this.states))}),this.fallbackTransition=function h7(n,t,e){return new c2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function u2(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const p7=new Cy;class f7{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=Ew(this._driver,e,i,[]);if(i.length)throw function fj(n){return new ne(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=HP(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let a;const c=new Map;if(o?(a=xw(this._driver,e,o,Cw,dy,new Map,new Map,i,p7,r),a.forEach(f=>{const y=Fo(c,f.element,new Map);f.postStyleProps.forEach(T=>y.set(T,null))})):(r.push(function mj(){return new ne(3300,!1)}()),a=[]),r.length)throw function gj(n){return new ne(3504,!1)}();c.forEach((f,y)=>{f.forEach((T,E)=>{f.set(E,this._driver.computeStyle(y,E,Sl))})});const h=wc(a.map(f=>{const y=c.get(f.element);return this._buildPlayer(f,new Map,y)}));return this._playersById.set(t,h),h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function _j(n){return new ne(3301,!1)}();return e}listen(t,e,i,r){const o=_w(e,"","","");return mw(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const d2="ng-animate-queued",Aw="ng-animate-disabled",y7=[],h2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},b7={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hs="__ng_removed";class Nw{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function T7(n){return n??null}(i?t.value:t),i){const o=Tm(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const km="void",Rw=new Nw(km);class C7{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ps(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function vj(n,t){return new ne(3302,!1)}();if(null==i||0==i.length)throw function yj(n){return new ne(3303,!1)}();if(!function D7(n){return"start"==n||"done"==n}(i))throw function bj(n,t){return new ne(3400,!1)}();const o=Fo(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};o.push(a);const c=Fo(this._engine.statesByElement,t,new Map);return c.has(e)||(ps(t,hy),ps(t,hy+"-"+e),c.set(e,Rw)),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(a);u>=0&&o.splice(u,1),this._triggers.has(e)||c.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Cj(n){return new ne(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),a=new Fw(this.id,e,t);let c=this._engine.statesByElement.get(t);c||(ps(t,hy),ps(t,hy+"-"+e),this._engine.statesByElement.set(t,c=new Map));let u=c.get(e);const h=new Nw(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&h.absorbOptions(u.options),c.set(e,h),u||(u=Rw),h.value!==km&&u.value===h.value){if(!function M7(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(u.params,h.params)){const $=[],G=o.matchStyles(u.value,u.params,$),Q=o.matchStyles(h.value,h.params,$);$.length?this._engine.reportError($):this._engine.afterFlush(()=>{Cu(t,G),Aa(t,Q)})}return}const T=Fo(this._engine.playersByElement,t,[]);T.forEach($=>{$.namespaceId==this.id&&$.triggerName==e&&$.queued&&$.destroy()});let E=o.matchTransition(u.value,h.value,t,h.params),P=!1;if(!E){if(!r)return;E=o.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:E,fromState:u,toState:h,player:a,isFallbackTransition:P}),P||(ps(t,d2),a.onStart(()=>{Sh(t,d2)})),a.onDone(()=>{let $=this.players.indexOf(a);$>=0&&this.players.splice($,1);const G=this._engine.playersByElement.get(t);if(G){let Q=G.indexOf(a);Q>=0&&G.splice(Q,1)}}),this.players.push(a),T.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,py,!0);i.forEach(r=>{if(r[hs])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const c=[];if(o.forEach((u,h)=>{if(a.set(h,u.value),this._triggers.has(h)){const f=this.trigger(t,h,km,r);f&&c.push(f)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&wc(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const a=o.name;if(r.has(a))return;r.add(a);const u=this._triggers.get(a).fallbackTransition,h=i.get(a)||Rw,f=new Nw(km),y=new Fw(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:u,fromState:h,toState:f,player:y,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[hs];(!o||o===h2)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ps(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(c=>{if(c.name==i.triggerName){const u=_w(o,i.triggerName,i.fromState.value,i.toState.value);u._data=t,mw(i.player,c.phase,u,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class w7{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new C7(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,c=this.driver.getParentElement(e);for(;c;){const u=r.get(c);if(u){const h=i.indexOf(u);i.splice(h+1,0,t),a=!0;break}c=this.driver.getParentElement(c)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(Ty(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Ty(e))return;const o=e[hs];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ps(t,Aw)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Sh(t,Aw))}removeNode(t,e,i,r){if(Ty(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[hs]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Ty(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,py,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ww,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return wc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[hs];if(e&&e.setForRemoval){if(t[hs]=h2,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Aw)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ps(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?wc(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function wj(n){return new ne(3402,!1)}()}_flushAnimations(t,e){const i=new Cy,r=[],o=new Map,a=[],c=new Map,u=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(ye=>{f.add(ye);const Oe=this.driver.query(ye,".ng-animate-queued",!0);for(let He=0;He<Oe.length;He++)f.add(Oe[He])});const y=this.bodyNode,T=Array.from(this.statesByElement.keys()),E=m2(T,this.collectedEnterElements),P=new Map;let $=0;E.forEach((ye,Oe)=>{const He=Cw+$++;P.set(Oe,He),ye.forEach(St=>ps(St,He))});const G=[],Q=new Set,te=new Set;for(let ye=0;ye<this.collectedLeaveElements.length;ye++){const Oe=this.collectedLeaveElements[ye],He=Oe[hs];He&&He.setForRemoval&&(G.push(Oe),Q.add(Oe),He.hasAnimation?this.driver.query(Oe,".ng-star-inserted",!0).forEach(St=>Q.add(St)):te.add(Oe))}const Y=new Map,se=m2(T,Array.from(Q));se.forEach((ye,Oe)=>{const He=dy+$++;Y.set(Oe,He),ye.forEach(St=>ps(St,He))}),t.push(()=>{E.forEach((ye,Oe)=>{const He=P.get(Oe);ye.forEach(St=>Sh(St,He))}),se.forEach((ye,Oe)=>{const He=Y.get(Oe);ye.forEach(St=>Sh(St,He))}),G.forEach(ye=>{this.processLeaveNode(ye)})});const De=[],xe=[];for(let ye=this._namespaceList.length-1;ye>=0;ye--)this._namespaceList[ye].drainQueuedTransitions(e).forEach(He=>{const St=He.player,Qn=He.element;if(De.push(St),this.collectedEnterElements.length){const li=Qn[hs];if(li&&li.setForMove){if(li.previousTriggersValues&&li.previousTriggersValues.has(He.triggerName)){const Zr=li.previousTriggersValues.get(He.triggerName),br=this.statesByElement.get(He.element);if(br&&br.has(He.triggerName)){const _f=br.get(He.triggerName);_f.value=Zr,br.set(He.triggerName,_f)}}return void St.destroy()}}const _o=!y||!this.driver.containsElement(y,Qn),Pi=Y.get(Qn),Zo=P.get(Qn),cn=this._buildInstruction(He,i,Zo,Pi,_o);if(cn.errors&&cn.errors.length)return void xe.push(cn);if(_o)return St.onStart(()=>Cu(Qn,cn.fromStyles)),St.onDestroy(()=>Aa(Qn,cn.toStyles)),void r.push(St);if(He.isFallbackTransition)return St.onStart(()=>Cu(Qn,cn.fromStyles)),St.onDestroy(()=>Aa(Qn,cn.toStyles)),void r.push(St);const oa=[];cn.timelines.forEach(li=>{li.stretchStartingKeyframe=!0,this.disabledNodes.has(li.element)||oa.push(li)}),cn.timelines=oa,i.append(Qn,cn.timelines),a.push({instruction:cn,player:St,element:Qn}),cn.queriedElements.forEach(li=>Fo(c,li,[]).push(St)),cn.preStyleProps.forEach((li,Zr)=>{if(li.size){let br=u.get(Zr);br||u.set(Zr,br=new Set),li.forEach((_f,Sd)=>br.add(Sd))}}),cn.postStyleProps.forEach((li,Zr)=>{let br=h.get(Zr);br||h.set(Zr,br=new Set),li.forEach((_f,Sd)=>br.add(Sd))})});if(xe.length){const ye=[];xe.forEach(Oe=>{ye.push(function Sj(n,t){return new ne(3505,!1)}())}),De.forEach(Oe=>Oe.destroy()),this.reportError(ye)}const vt=new Map,Rt=new Map;a.forEach(ye=>{const Oe=ye.element;i.has(Oe)&&(Rt.set(Oe,Oe),this._beforeAnimationBuild(ye.player.namespaceId,ye.instruction,vt))}),r.forEach(ye=>{const Oe=ye.element;this._getPreviousPlayers(Oe,!1,ye.namespaceId,ye.triggerName,null).forEach(St=>{Fo(vt,Oe,[]).push(St),St.destroy()})});const dn=G.filter(ye=>_2(ye,u,h)),hn=new Map;f2(hn,this.driver,te,h,Sl).forEach(ye=>{_2(ye,u,h)&&dn.push(ye)});const lr=new Map;E.forEach((ye,Oe)=>{f2(lr,this.driver,new Set(ye),u,"!")}),dn.forEach(ye=>{const Oe=hn.get(ye),He=lr.get(ye);hn.set(ye,new Map([...Array.from(Oe?.entries()??[]),...Array.from(He?.entries()??[])]))});const qn=[],Xa=[],el={};a.forEach(ye=>{const{element:Oe,player:He,instruction:St}=ye;if(i.has(Oe)){if(f.has(Oe))return He.onDestroy(()=>Aa(Oe,St.toStyles)),He.disabled=!0,He.overrideTotalTime(St.totalTime),void r.push(He);let Qn=el;if(Rt.size>1){let Pi=Oe;const Zo=[];for(;Pi=Pi.parentNode;){const cn=Rt.get(Pi);if(cn){Qn=cn;break}Zo.push(Pi)}Zo.forEach(cn=>Rt.set(cn,Qn))}const _o=this._buildAnimation(He.namespaceId,St,vt,o,lr,hn);if(He.setRealPlayer(_o),Qn===el)qn.push(He);else{const Pi=this.playersByElement.get(Qn);Pi&&Pi.length&&(He.parentPlayer=wc(Pi)),r.push(He)}}else Cu(Oe,St.fromStyles),He.onDestroy(()=>Aa(Oe,St.toStyles)),Xa.push(He),f.has(Oe)&&r.push(He)}),Xa.forEach(ye=>{const Oe=o.get(ye.element);if(Oe&&Oe.length){const He=wc(Oe);ye.setRealPlayer(He)}}),r.forEach(ye=>{ye.parentPlayer?ye.syncPlayerEvents(ye.parentPlayer):ye.destroy()});for(let ye=0;ye<G.length;ye++){const Oe=G[ye],He=Oe[hs];if(Sh(Oe,dy),He&&He.hasAnimation)continue;let St=[];if(c.size){let _o=c.get(Oe);_o&&_o.length&&St.push(..._o);let Pi=this.driver.query(Oe,ww,!0);for(let Zo=0;Zo<Pi.length;Zo++){let cn=c.get(Pi[Zo]);cn&&cn.length&&St.push(...cn)}}const Qn=St.filter(_o=>!_o.destroyed);Qn.length?E7(this,Oe,Qn):this.processLeaveNode(Oe)}return G.length=0,qn.forEach(ye=>{this.players.push(ye),ye.onDone(()=>{ye.destroy();const Oe=this.players.indexOf(ye);this.players.splice(Oe,1)}),ye.play()}),qn}elementContainsData(t,e){let i=!1;const r=e[hs];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let a=[];if(e){const c=this.playersByQueriedElement.get(t);c&&(a=c)}else{const c=this.playersByElement.get(t);if(c){const u=!o||o==km;c.forEach(h=>{h.queued||!u&&h.triggerName!=r||a.push(h)})}}return(i||r)&&(a=a.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),a}_beforeAnimationBuild(t,e,i){const o=e.element,a=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const h=u.element,f=h!==o,y=Fo(i,h,[]);this._getPreviousPlayers(h,f,a,c,e.toState).forEach(E=>{const P=E.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),E.destroy(),y.push(E)})}Cu(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,a){const c=e.triggerName,u=e.element,h=[],f=new Set,y=new Set,T=e.timelines.map(P=>{const $=P.element;f.add($);const G=$[hs];if(G&&G.removedBeforeQueried)return new Sm(P.duration,P.delay);const Q=$!==u,te=function k7(n){const t=[];return g2(n,t),t}((i.get($)||y7).map(vt=>vt.getRealPlayer())).filter(vt=>!!vt.element&&vt.element===$),Y=o.get($),se=a.get($),De=HP(0,this._normalizer,0,P.keyframes,Y,se),xe=this._buildPlayer(P,De,te);if(P.subTimeline&&r&&y.add($),Q){const vt=new Fw(t,c,$);vt.setRealPlayer(xe),h.push(vt)}return xe});h.forEach(P=>{Fo(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function S7(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,P.element,P))}),f.forEach(P=>ps(P,YP));const E=wc(T);return E.onDestroy(()=>{f.forEach(P=>Sh(P,YP)),Aa(u,e.toStyles)}),y.forEach(P=>{Fo(r,P,[]).push(E)}),E}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Sm(t.duration,t.delay)}}class Fw{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Sm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>mw(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Fo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ty(n){return n&&1===n.nodeType}function p2(n,t){const e=n.style.display;return n.style.display=t??"none",e}function f2(n,t,e,i,r){const o=[];e.forEach(u=>o.push(p2(u)));const a=[];i.forEach((u,h)=>{const f=new Map;u.forEach(y=>{const T=t.computeStyle(h,y,r);f.set(y,T),(!T||0==T.length)&&(h[hs]=b7,a.push(h))}),n.set(h,f)});let c=0;return e.forEach(u=>p2(u,o[c++])),a}function m2(n,t){const e=new Map;if(n.forEach(c=>e.set(c,[])),0==t.length)return e;const r=new Set(t),o=new Map;function a(c){if(!c)return 1;let u=o.get(c);if(u)return u;const h=c.parentNode;return u=e.has(h)?h:r.has(h)?1:a(h),o.set(c,u),u}return t.forEach(c=>{const u=a(c);1!==u&&e.get(u).push(c)}),e}function ps(n,t){n.classList?.add(t)}function Sh(n,t){n.classList?.remove(t)}function E7(n,t,e){wc(e).onDone(()=>n.processLeaveNode(t))}function g2(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof VP?g2(i.players,t):t.push(i)}}function _2(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Dy{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new w7(t,e,i),this._timelineEngine=new f7(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const a=t+"-"+r;let c=this._triggerCache[a];if(!c){const u=[],f=Ew(this._driver,o,u,[]);if(u.length)throw function hj(n,t){return new ne(3404,!1)}();c=function u7(n,t,e){return new d7(n,t,e)}(r,f,this._normalizer),this._triggerCache[a]=c}this._transitionEngine.registerTrigger(e,r,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,a]=jP(i);this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[a,c]=jP(i);return this._timelineEngine.listen(a,e,c,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let I7=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Aa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Aa(this._element,this._initialStyles),this._endStyles&&(Aa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Cu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cu(this._element,this._endStyles),this._endStyles=null),Aa(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Lw(n){let t=null;return n.forEach((e,i)=>{(function P7(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class v2{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:i2(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class O7{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return qP(t,e)}getParentElement(t){return yw(t)}query(t,e,i){return QP(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,a=[]){const u={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(u.easing=o);const h=new Map,f=a.filter(E=>E instanceof v2);(function Fj(n,t){return 0===n||0===t})(i,r)&&f.forEach(E=>{E.currentSnapshot.forEach((P,$)=>h.set($,P))});let y=function Oj(n){return n.length?n[0]instanceof Map?n:n.map(t=>JP(t)):[]}(e).map(E=>Sc(E));y=function Lj(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<t.length;o++){let a=t[o];r.forEach(c=>a.set(c,i2(n,c)))}}return t}(t,y,h);const T=function x7(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Lw(t[0]),t.length>1&&(i=Lw(t[t.length-1]))):t instanceof Map&&(e=Lw(t)),e||i?new I7(n,e,i):null}(t,y);return new v2(t,y,u,T)}}let A7=(()=>{class n extends RP{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Eo.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?LP(e):e;return y2(this._renderer,null,i,"register",[r]),new N7(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(R(Xd),R(ln))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class N7 extends j6{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new R7(this._id,t,e||{},this._renderer)}}class R7{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return y2(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function y2(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const b2="@.disabled";let F7=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,a)=>{const c=a?.parentNode(o);c&&a.removeChild(c,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let f=this._rendererCache.get(o);return f||(f=new C2("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,f)),f}const a=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const u=f=>{Array.isArray(f)?f.forEach(u):this.engine.registerTrigger(a,c,e,f.name,f)};return i.data.animation.forEach(u),new L7(this,c,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,c]=o;a(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(R(Xd),R(Dy),R(bt))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class C2{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==b2?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class L7 extends C2{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==b2?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function $7(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function U7(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,a,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(t,e,i)}}let V7=(()=>{class n extends Dy{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(R(ln),R(bw),R(Pw),R(yc))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const w2=[{provide:RP,useClass:A7},{provide:Pw,useFactory:function B7(){return new s7}},{provide:Dy,useClass:V7},{provide:Xd,useFactory:function H7(n,t,e){return new F7(n,t,e)},deps:[cy,Dy,bt]}],$w=[{provide:bw,useFactory:()=>new O7},{provide:oI,useValue:"BrowserAnimations"},...w2],S2=[{provide:bw,useClass:ZP},{provide:oI,useValue:"NoopAnimations"},...w2];let j7=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?S2:$w}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({providers:$w,imports:[xP]}),n})();const $o=new Mt(n=>n.complete());function ky(n){return n?function z7(n){return new Mt(t=>n.schedule(()=>t.complete()))}(n):$o}function Se(...n){let t=n[n.length-1];return Bn(t)?(n.pop(),on(n,t)):Ds(n)}function zi(n,t,e,i){return Oi(e)&&(i=e,e=void 0),i?zi(n,t,e).pipe(pe(r=>pt(r)?i(...r):i(r))):new Mt(r=>{T2(n,t,function o(a){r.next(arguments.length>1?Array.prototype.slice.call(arguments):a)},r,e)})}function T2(n,t,e,i,r){let o;if(function q7(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const a=n;n.addEventListener(t,e,r),o=()=>a.removeEventListener(t,e,r)}else if(function W7(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const a=n;n.on(t,e),o=()=>a.off(t,e)}else if(function G7(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const a=n;n.addListener(t,e),o=()=>a.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let a=0,c=n.length;a<c;a++)T2(n[a],t,e,i,r)}i.add(o)}class Q7 extends ft{constructor(t,e){super()}schedule(t,e=0){return this}}class D2 extends Q7{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let E2=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,r){return new this.SchedulerAction(this,e).schedule(r,i)}}return n.now=()=>Date.now(),n})();class Dl extends E2{constructor(t,e=E2.now){super(t,()=>Dl.delegate&&Dl.delegate!==this?Dl.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return Dl.delegate&&Dl.delegate!==this?Dl.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Uw=new Dl(D2);function k2(n){return!pt(n)&&n-parseFloat(n)+1>=0}function My(n=0,t,e){let i=-1;return k2(t)?i=Number(t)<1?1:Number(t):Bn(t)&&(e=t),Bn(e)||(e=Uw),new Mt(r=>{const o=k2(n)?n:+n-e.now();return e.schedule(Z7,o,{index:0,period:i,subscriber:r})})}function Z7(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}class Vw extends at{notifyNext(t,e,i,r,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class K7 extends at{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Bw(n,t,e,i,r=new K7(n,e,i)){if(!r.closed)return t instanceof Mt?t.subscribe(r):Xl(t)(r)}function M2(...n){if(1===n.length){if(!pt(n[0]))return n[0];n=n[0]}return Ds(n,void 0).lift(new Y7)}class Y7{call(t,e){return e.subscribe(new J7(t))}}class J7 extends Vw{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let i=0;i<e&&!this.hasFirst;i++){const o=Bw(this,t[i],void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}}notifyNext(t,e,i){if(!this.hasFirst){this.hasFirst=!0;for(let r=0;r<this.subscriptions.length;r++)if(r!==i){let o=this.subscriptions[r];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(e)}}class yn extends je{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new gn;return this._value}next(t){super.next(this._value=t)}}const x2={};function Mm(...n){let t,e;return Bn(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&pt(n[0])&&(n=n[0]),Ds(n,e).lift(new X7(t))}class X7{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ez(t,this.resultSelector))}}class ez extends Vw{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(x2),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(Bw(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const r=this.values,a=this.toRespond?r[i]===x2?--this.toRespond:this.toRespond:0;r[i]=e,0===a&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function El(){}const kl=new Mt(El);function xy(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),Ds(n,void 0).lift(new tz(t))}class tz{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new nz(t,this.resultSelector))}}class nz extends at{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;pt(t)?e.push(new rz(t)):e.push("function"==typeof t[xn]?new iz(t[xn]()):new oz(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let r=t[i];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let a=0;a<e;a++){let c=t[a];if("function"==typeof c.hasValue&&!c.hasValue())return}let r=!1;const o=[];for(let a=0;a<e;a++){let c=t[a],u=c.next();if(c.hasCompleted()&&(r=!0),u.done)return void i.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):i.next(o),r&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class iz{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class rz{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[xn](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class oz extends Ni{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[xn](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Kr(this.observable,new dr(this))}}function xm(...n){return function sz(){return Ko(1)}()(Se(...n))}function Xn(n){return t=>t.lift(new lz(n))}class lz{constructor(t){this.notifier=t}call(t,e){const i=new cz(t),r=Kr(this.notifier,new dr(i));return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class cz extends Ni{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ot(n,t){return function(i){return i.lift(new uz(n,t))}}class uz{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new dz(t,this.predicate,this.thisArg))}}class dz extends at{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}const I2=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function bn(n){return t=>0===n?ky():t.lift(new hz(n))}class hz{constructor(t){if(this.total=t,this.total<0)throw new I2}call(t,e){return e.subscribe(new pz(t,this.total))}}class pz extends at{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Su(...n){const t=n[n.length-1];return Bn(t)?(n.pop(),e=>xm(n,e,t)):e=>xm(n,e)}function Iy(n,t){return e=>e.lift(new fz(n,t))}class fz{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new mz(t,this.compare,this.keySelector))}}class mz extends at{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}function zn(n,t){return"function"==typeof t?e=>e.pipe(zn((i,r)=>un(n(i,r)).pipe(pe((o,a)=>t(i,o,r,a))))):e=>e.lift(new gz(n))}class gz{constructor(t){this.project=t}call(t,e){return e.subscribe(new _z(t,this.project))}}class _z extends Ni{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new dr(this),r=this.destination;r.add(i),this.innerSubscription=Kr(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Fn(n,t,e){return function(r){return r.lift(new vz(n,t,e))}}class vz{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new yz(t,this.nextOrObserver,this.error,this.complete))}}class yz extends at{constructor(t,e,i,r){super(t),this._tapNext=El,this._tapError=El,this._tapComplete=El,this._tapError=i||El,this._tapComplete=r||El,Oi(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||El,this._tapError=e.error||El,this._tapComplete=e.complete||El)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function Hw(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new bz(n,e))}}class bz{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Cz(t,this.observables,this.project))}}class Cz extends Vw{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let o=0;o<r;o++)this.toRespond.push(o);for(let o=0;o<r;o++)this.add(Bw(this,e[o],void 0,o))}notifyNext(t,e,i){this.values[i]=e;const r=this.toRespond;if(r.length>0){const o=r.indexOf(i);-1!==o&&r.splice(o,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function Tu(n,t){return new Mt(t?e=>t.schedule(Sz,0,{error:n,subscriber:e}):e=>e.error(n))}function Sz({error:n,subscriber:t}){t.error(n)}class oo{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return Se(this.value);case"E":return Tu(this.error);case"C":return ky()}throw new Error("unexpected notification kind value")}static createNext(t){return typeof t<"u"?new oo("N",t):oo.undefinedValueNotification}static createError(t){return new oo("E",void 0,t)}static createComplete(){return oo.completeNotification}}function jw(n,t=Uw){const i=function wz(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-t.now():Math.abs(n);return r=>r.lift(new Tz(i,t))}oo.completeNotification=new oo("C"),oo.undefinedValueNotification=new oo("N",void 0);class Tz{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new zw(t,this.delay,this.scheduler))}}class zw extends at{constructor(t,e,i){super(t),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,i=e.queue,r=t.scheduler,o=t.destination;for(;i.length>0&&i[0].time-r.now()<=0;)i.shift().notification.observe(o);if(i.length>0){const a=Math.max(0,i[0].time-r.now());this.schedule(t,a)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(zw.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,i=new Dz(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(oo.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(oo.createComplete()),this.unsubscribe()}}class Dz{constructor(t,e){this.time=t,this.notification=e}}function P2(n){return t=>t.lift(new Ez(n))}class Ez{constructor(t){this.total=t}call(t,e){return e.subscribe(new kz(t,this.total))}}class kz extends at{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function Py(n,t){return new Mt(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let o=0,a=0;for(let c=0;c<i;c++){const u=un(n[c]);let h=!1;e.add(u.subscribe({next:f=>{h||(h=!0,a++),r[c]=f},error:f=>e.error(f),complete:()=>{o++,(o===i||!h)&&(a===i&&e.next(t?t.reduce((f,y,T)=>(f[y]=r[T],f),{}):r),e.complete())}}))}})}let O2=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(w(Xi),w(Pt))},n.\u0275dir=de({type:n}),n})(),Du=(()=>{class n extends O2{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275dir=de({type:n,features:[ce]}),n})();const _r=new Pe("NgValueAccessor"),xz={provide:_r,useExisting:lt(()=>Gw),multi:!0};let Gw=(()=>{class n extends Du{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&A("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Wt([xz]),ce]}),n})();const Iz={provide:_r,useExisting:lt(()=>Ml),multi:!0},Oz=new Pe("CompositionEventMode");let Ml=(()=>{class n extends O2{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pz(){const n=Oa()?Oa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(w(Xi),w(Pt),w(Oz,8))},n.\u0275dir=de({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&A("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Wt([Iz]),ce]}),n})();function Tc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function A2(n){return null!=n&&"number"==typeof n.length}const nr=new Pe("NgValidators"),Dc=new Pe("NgAsyncValidators"),Nz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xl{static min(t){return function N2(n){return t=>{if(Tc(t.value)||Tc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function R2(n){return t=>{if(Tc(t.value)||Tc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return F2(t)}static requiredTrue(t){return function L2(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function $2(n){return Tc(n.value)||Nz.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function U2(n){return t=>Tc(t.value)||!A2(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function V2(n){return t=>A2(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function B2(n){if(!n)return Oy;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Tc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return q2(t)}static composeAsync(t){return Q2(t)}}function F2(n){return Tc(n.value)?{required:!0}:null}function Oy(n){return null}function H2(n){return null!=n}function j2(n){return em(n)?un(n):n}function z2(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function G2(n,t){return t.map(e=>e(n))}function W2(n){return n.map(t=>function Rz(n){return!n.validate}(t)?t:e=>t.validate(e))}function q2(n){if(!n)return null;const t=n.filter(H2);return 0==t.length?null:function(e){return z2(G2(e,t))}}function Ww(n){return null!=n?q2(W2(n)):null}function Q2(n){if(!n)return null;const t=n.filter(H2);return 0==t.length?null:function(e){return function Mz(...n){if(1===n.length){const t=n[0];if(pt(t))return Py(t,null);if(Kl(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Py(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Py(n=1===n.length&&pt(n[0])?n[0]:n,null).pipe(pe(e=>t(...e)))}return Py(n,null)}(G2(e,t).map(j2)).pipe(pe(z2))}}function qw(n){return null!=n?Q2(W2(n)):null}function Z2(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function K2(n){return n._rawValidators}function Y2(n){return n._rawAsyncValidators}function Qw(n){return n?Array.isArray(n)?n:[n]:[]}function Ay(n,t){return Array.isArray(n)?n.includes(t):n===t}function J2(n,t){const e=Qw(t);return Qw(n).forEach(r=>{Ay(e,r)||e.push(r)}),e}function X2(n,t){return Qw(t).filter(e=>!Ay(n,e))}class eO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ww(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class $r extends eO{get formDirective(){return null}get path(){return null}}class Ec extends eO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tO{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ki=(()=>{class n extends tO{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(w(Ec,2))},n.\u0275dir=de({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Be("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ce]}),n})(),Ur=(()=>{class n extends tO{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(w($r,10))},n.\u0275dir=de({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Be("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ce]}),n})();const Im="VALID",Ry="INVALID",Th="PENDING",Pm="DISABLED";function Jw(n){return(Fy(n)?n.validators:n)||null}function Xw(n,t){return(Fy(t)?t.asyncValidators:n)||null}function Fy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function iO(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new ne(1e3,"");if(!i[e])throw new ne(1001,"")}function rO(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new ne(1002,"")})}class Ly{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Im}get invalid(){return this.status===Ry}get pending(){return this.status==Th}get disabled(){return this.status===Pm}get enabled(){return this.status!==Pm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(J2(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(J2(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(X2(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(X2(t,this._rawAsyncValidators))}hasValidator(t){return Ay(this._rawValidators,t)}hasAsyncValidator(t){return Ay(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Th,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Pm,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Im,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Im||this.status===Th)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pm:Im}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Th,this._hasOwnPendingAsyncValidator=!0;const e=j2(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?Pm:this.errors?Ry:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Th)?Th:this._anyControlsHaveStatus(Ry)?Ry:Im}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Fy(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Hz(n){return Array.isArray(n)?Ww(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function jz(n){return Array.isArray(n)?qw(n):n||null}(this._rawAsyncValidators)}}class Gi extends Ly{constructor(t,e,i){super(Jw(e),Xw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){rO(this,0,t),Object.keys(t).forEach(i=>{iO(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Dh=new Pe("CallSetDisabledState",{providedIn:"root",factory:()=>$y}),$y="always";function Om(n,t,e=$y){eS(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Wz(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oO(n,t)})}(n,t),function Qz(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function qz(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oO(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Gz(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Vy(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Hy(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function By(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function eS(n,t){const e=K2(n);null!==t.validator?n.setValidators(Z2(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Y2(n);null!==t.asyncValidator?n.setAsyncValidators(Z2(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();By(t._rawValidators,r),By(t._rawAsyncValidators,r)}function Hy(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=K2(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=Y2(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return By(t._rawValidators,i),By(t._rawAsyncValidators,i),e}function oO(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sO(n,t){eS(n,t)}function nS(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function aO(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function iS(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Ml?e=o:function Yz(n){return Object.getPrototypeOf(n.constructor)===Du}(o)?i=o:r=o}),r||i||e||null}const Xz={provide:$r,useExisting:lt(()=>Uo)},Am=(()=>Promise.resolve())();let Uo=(()=>{class n extends $r{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new X,this.form=new Gi({},Ww(e),qw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Am.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Om(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Am.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Am.then(()=>{const i=this._findContainer(e.path),r=new Gi({});sO(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Am.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Am.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,aO(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(w(nr,10),w(Dc,10),w(Dh,8))},n.\u0275dir=de({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&A("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wt([Xz]),ce]}),n})();function lO(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function cO(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Nm=class extends Ly{constructor(t=null,e,i){super(Jw(e),Xw(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fy(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=cO(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){lO(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){lO(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){cO(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},n9={provide:Ec,useExisting:lt(()=>Bs)},hO=(()=>Promise.resolve())();let Bs=(()=>{class n extends Ec{constructor(e,i,r,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Nm,this._registered=!1,this.update=new X,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=iS(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),nS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Om(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){hO.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&Ch(i);hO.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Uy(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(w($r,9),w(nr,10),w(Dc,10),w(_r,10),w(tr,8),w(Dh,8))},n.\u0275dir=de({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wt([n9]),ce,Ft]}),n})(),Vr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const i9={provide:_r,useExisting:lt(()=>rS),multi:!0};let rS=(()=>{class n extends Du{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&A("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Wt([i9]),ce]}),n})();const r9={provide:_r,useExisting:lt(()=>oS),multi:!0};let pO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({}),n})(),o9=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:pO}),n})(),oS=(()=>{class n extends Du{constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ec),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(w(Xi),w(Pt),w(o9),w(Hi))},n.\u0275dir=de({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&A("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Wt([r9]),ce]}),n})();const sS=new Pe("NgModelWithFormControlWarning"),a9={provide:Ec,useExisting:lt(()=>Hs)};let Hs=(()=>{class n extends Ec{set isDisabled(e){}constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new X,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=iS(0,r)}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Vy(i,this,!1),Om(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}nS(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Vy(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(w(nr,10),w(Dc,10),w(_r,10),w(sS,8),w(Dh,8))},n.\u0275dir=de({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Wt([a9]),ce,Ft]}),n})();const l9={provide:$r,useExisting:lt(()=>Il)};let Il=(()=>{class n extends $r{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new X,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Hy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Om(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Vy(e.control||null,e,!1),function Jz(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,aO(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Vy(i||null,e),(n=>n instanceof Nm)(r)&&(Om(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);sO(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Zz(n,t){return Hy(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eS(this.form,this),this._oldForm&&Hy(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(w(nr,10),w(Dc,10),w(Dh,8))},n.\u0275dir=de({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&A("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wt([l9]),ce,Ft]}),n})();const h9={provide:_r,useExisting:lt(()=>Vo),multi:!0};function _O(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Vo=(()=>{class n extends Du{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=_O(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function p9(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&A("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wt([h9]),ce]}),n})(),js=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(_O(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(w(Pt),w(Xi),w(Vo,9))},n.\u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const f9={provide:_r,useExisting:lt(()=>jy),multi:!0};function vO(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let jy=(()=>{class n extends Du{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const a=o;for(let c=0;c<a.length;c++){const h=this._getOptionValue(a[c].value);r.push(h)}}else{const a=i.options;for(let c=0;c<a.length;c++){const u=a[c];if(u.selected){const h=this._getOptionValue(u.value);r.push(h)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function m9(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&A("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wt([f9]),ce]}),n})(),zs=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(vO(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(vO(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(w(Pt),w(Xi),w(jy,9))},n.\u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Eu=(()=>{class n{constructor(){this._validator=Oy}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Oy,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,features:[Ft]}),n})();const v9={provide:nr,useExisting:lt(()=>zy),multi:!0};let zy=(()=>{class n extends Eu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ch,this.createValidator=e=>F2}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&Et("required",i._enabled?"":null)},inputs:{required:"required"},features:[Wt([v9]),ce]}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[pO]}),n})();class Rm extends Ly{constructor(t,e,i){super(Jw(e),Xw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){rO(this,0,t),t.forEach((i,r)=>{iO(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}let xO=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Dh,useValue:e.callSetDisabledState??$y}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[MO]}),n})(),cS=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:sS,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Dh,useValue:e.callSetDisabledState??$y}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[MO]}),n})();var T9={left:"right",right:"left",bottom:"top",top:"bottom"};function Gy(n){return n.replace(/left|right|bottom|top/g,function(t){return T9[t]})}function Na(n){return n.split("-")[0]}var D9={start:"end",end:"start"};function IO(n){return n.replace(/start|end/g,function(t){return D9[t]})}var Bo="top",Gs="bottom",Ws="right",Ho="left",uS="auto",Fm=[Bo,Gs,Ws,Ho],Eh="start",Lm="end",PO="viewport",$m="popper",OO=Fm.reduce(function(n,t){return n.concat([t+"-"+Eh,t+"-"+Lm])},[]),AO=[].concat(Fm,[uS]).reduce(function(n,t){return n.concat([t,t+"-"+Eh,t+"-"+Lm])},[]),L9=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function fs(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function ku(n){return n instanceof fs(n).Element||n instanceof Element}function ms(n){return n instanceof fs(n).HTMLElement||n instanceof HTMLElement}function dS(n){return!(typeof ShadowRoot>"u")&&(n instanceof fs(n).ShadowRoot||n instanceof ShadowRoot)}function kc(n){return((ku(n)?n.ownerDocument:n.document)||window.document).documentElement}var Mu=Math.max,Wy=Math.min,kh=Math.round;function hS(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function NO(){return!/^((?!chrome|android).)*safari/i.test(hS())}function Mh(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),r=1,o=1;t&&ms(n)&&(r=n.offsetWidth>0&&kh(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&kh(i.height)/n.offsetHeight||1);var c=(ku(n)?fs(n):window).visualViewport,u=!NO()&&e,h=(i.left+(u&&c?c.offsetLeft:0))/r,f=(i.top+(u&&c?c.offsetTop:0))/o,y=i.width/r,T=i.height/o;return{width:y,height:T,top:f,right:h+y,bottom:f+T,left:h,x:h,y:f}}function pS(n){var t=fs(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function fS(n){return Mh(kc(n)).left+pS(n).scrollLeft}function Pl(n){return fs(n).getComputedStyle(n)}function Ra(n){return n?(n.nodeName||"").toLowerCase():null}function qy(n){return"html"===Ra(n)?n:n.assignedSlot||n.parentNode||(dS(n)?n.host:null)||kc(n)}function mS(n){var t=Pl(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function RO(n){return["html","body","#document"].indexOf(Ra(n))>=0?n.ownerDocument.body:ms(n)&&mS(n)?n:RO(qy(n))}function Um(n,t){var e;void 0===t&&(t=[]);var i=RO(n),r=i===(null==(e=n.ownerDocument)?void 0:e.body),o=fs(i),a=r?[o].concat(o.visualViewport||[],mS(i)?i:[]):i,c=t.concat(a);return r?c:c.concat(Um(qy(a)))}function V9(n){return["table","td","th"].indexOf(Ra(n))>=0}function FO(n){return ms(n)&&"fixed"!==Pl(n).position?n.offsetParent:null}function Vm(n){for(var t=fs(n),e=FO(n);e&&V9(e)&&"static"===Pl(e).position;)e=FO(e);return e&&("html"===Ra(e)||"body"===Ra(e)&&"static"===Pl(e).position)?t:e||function B9(n){var t=/firefox/i.test(hS());if(/Trident/i.test(hS())&&ms(n)&&"fixed"===Pl(n).position)return null;var r=qy(n);for(dS(r)&&(r=r.host);ms(r)&&["html","body"].indexOf(Ra(r))<0;){var o=Pl(r);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return r;r=r.parentNode}return null}(n)||t}function LO(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&dS(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function gS(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function $O(n,t,e){return t===PO?gS(function $9(n,t){var e=fs(n),i=kc(n),r=e.visualViewport,o=i.clientWidth,a=i.clientHeight,c=0,u=0;if(r){o=r.width,a=r.height;var h=NO();(h||!h&&"fixed"===t)&&(c=r.offsetLeft,u=r.offsetTop)}return{width:o,height:a,x:c+fS(n),y:u}}(n,e)):ku(t)?function H9(n,t){var e=Mh(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):gS(function U9(n){var t,e=kc(n),i=pS(n),r=null==(t=n.ownerDocument)?void 0:t.body,o=Mu(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Mu(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-i.scrollLeft+fS(n),u=-i.scrollTop;return"rtl"===Pl(r||e).direction&&(c+=Mu(e.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:c,y:u}}(kc(n)))}function xh(n){return n.split("-")[1]}function _S(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function UO(n){var u,t=n.reference,e=n.element,i=n.placement,r=i?Na(i):null,o=i?xh(i):null,a=t.x+t.width/2-e.width/2,c=t.y+t.height/2-e.height/2;switch(r){case Bo:u={x:a,y:t.y-e.height};break;case Gs:u={x:a,y:t.y+t.height};break;case Ws:u={x:t.x+t.width,y:c};break;case Ho:u={x:t.x-e.width,y:c};break;default:u={x:t.x,y:t.y}}var h=r?_S(r):null;if(null!=h){var f="y"===h?"height":"width";switch(o){case Eh:u[h]=u[h]-(t[f]/2-e[f]/2);break;case Lm:u[h]=u[h]+(t[f]/2-e[f]/2)}}return u}function BO(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function HO(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}function vS(n,t){void 0===t&&(t={});var i=t.placement,r=void 0===i?n.placement:i,o=t.strategy,a=void 0===o?n.strategy:o,c=t.boundary,u=void 0===c?"clippingParents":c,h=t.rootBoundary,f=void 0===h?PO:h,y=t.elementContext,T=void 0===y?$m:y,E=t.altBoundary,P=void 0!==E&&E,$=t.padding,G=void 0===$?0:$,Q=BO("number"!=typeof G?G:HO(G,Fm)),Y=n.rects.popper,se=n.elements[P?T===$m?"reference":$m:T],De=function z9(n,t,e,i){var r="clippingParents"===t?function j9(n){var t=Um(qy(n)),i=["absolute","fixed"].indexOf(Pl(n).position)>=0&&ms(n)?Vm(n):n;return ku(i)?t.filter(function(r){return ku(r)&&LO(r,i)&&"body"!==Ra(r)}):[]}(n):[].concat(t),o=[].concat(r,[e]),c=o.reduce(function(u,h){var f=$O(n,h,i);return u.top=Mu(f.top,u.top),u.right=Wy(f.right,u.right),u.bottom=Wy(f.bottom,u.bottom),u.left=Mu(f.left,u.left),u},$O(n,o[0],i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}(ku(se)?se:se.contextElement||kc(n.elements.popper),u,f,a),xe=Mh(n.elements.reference),vt=UO({reference:xe,element:Y,strategy:"absolute",placement:r}),Rt=gS(Object.assign({},Y,vt)),dn=T===$m?Rt:xe,hn={top:De.top-dn.top+Q.top,bottom:dn.bottom-De.bottom+Q.bottom,left:De.left-dn.left+Q.left,right:dn.right-De.right+Q.right},$n=n.modifiersData.offset;if(T===$m&&$n){var lr=$n[r];Object.keys(hn).forEach(function(qn){var Xa=[Ws,Gs].indexOf(qn)>=0?1:-1,el=[Bo,Gs].indexOf(qn)>=0?"y":"x";hn[qn]+=lr[el]*Xa})}return hn}const Q9={name:"flip",enabled:!0,phase:"main",fn:function q9(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var r=e.mainAxis,o=void 0===r||r,a=e.altAxis,c=void 0===a||a,u=e.fallbackPlacements,h=e.padding,f=e.boundary,y=e.rootBoundary,T=e.altBoundary,E=e.flipVariations,P=void 0===E||E,$=e.allowedAutoPlacements,G=t.options.placement,Q=Na(G),Y=u||(Q!==G&&P?function W9(n){if(Na(n)===uS)return[];var t=Gy(n);return[IO(n),t,IO(t)]}(G):[Gy(G)]),se=[G].concat(Y).reduce(function(cn,oa){return cn.concat(Na(oa)===uS?function G9(n,t){void 0===t&&(t={});var r=t.boundary,o=t.rootBoundary,a=t.padding,c=t.flipVariations,u=t.allowedAutoPlacements,h=void 0===u?AO:u,f=xh(t.placement),y=f?c?OO:OO.filter(function(P){return xh(P)===f}):Fm,T=y.filter(function(P){return h.indexOf(P)>=0});0===T.length&&(T=y);var E=T.reduce(function(P,$){return P[$]=vS(n,{placement:$,boundary:r,rootBoundary:o,padding:a})[Na($)],P},{});return Object.keys(E).sort(function(P,$){return E[P]-E[$]})}(t,{placement:oa,boundary:f,rootBoundary:y,padding:h,flipVariations:P,allowedAutoPlacements:$}):oa)},[]),De=t.rects.reference,xe=t.rects.popper,vt=new Map,Rt=!0,dn=se[0],hn=0;hn<se.length;hn++){var $n=se[hn],lr=Na($n),qn=xh($n)===Eh,Xa=[Bo,Gs].indexOf(lr)>=0,el=Xa?"width":"height",ye=vS(t,{placement:$n,boundary:f,rootBoundary:y,altBoundary:T,padding:h}),Oe=Xa?qn?Ws:Ho:qn?Gs:Bo;De[el]>xe[el]&&(Oe=Gy(Oe));var He=Gy(Oe),St=[];if(o&&St.push(ye[lr]<=0),c&&St.push(ye[Oe]<=0,ye[He]<=0),St.every(function(cn){return cn})){dn=$n,Rt=!1;break}vt.set($n,St)}if(Rt)for(var _o=function(oa){var wd=se.find(function(li){var Zr=vt.get(li);if(Zr)return Zr.slice(0,oa).every(function(br){return br})});if(wd)return dn=wd,"break"},Pi=P?3:1;Pi>0&&"break"!==_o(Pi);Pi--);t.placement!==dn&&(t.modifiersData[i]._skip=!0,t.placement=dn,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Bm(n,t,e){return Mu(n,Wy(t,e))}function yS(n){var t=Mh(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}const J9={name:"preventOverflow",enabled:!0,phase:"main",fn:function Y9(n){var t=n.state,e=n.options,i=n.name,r=e.mainAxis,o=void 0===r||r,a=e.altAxis,c=void 0!==a&&a,T=e.tether,E=void 0===T||T,P=e.tetherOffset,$=void 0===P?0:P,G=vS(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),Q=Na(t.placement),te=xh(t.placement),Y=!te,se=_S(Q),De=function Z9(n){return"x"===n?"y":"x"}(se),xe=t.modifiersData.popperOffsets,vt=t.rects.reference,Rt=t.rects.popper,dn="function"==typeof $?$(Object.assign({},t.rects,{placement:t.placement})):$,hn="number"==typeof dn?{mainAxis:dn,altAxis:dn}:Object.assign({mainAxis:0,altAxis:0},dn),$n=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,lr={x:0,y:0};if(xe){if(o){var qn,Xa="y"===se?Bo:Ho,el="y"===se?Gs:Ws,ye="y"===se?"height":"width",Oe=xe[se],He=Oe+G[Xa],St=Oe-G[el],Qn=E?-Rt[ye]/2:0,_o=te===Eh?vt[ye]:Rt[ye],Pi=te===Eh?-Rt[ye]:-vt[ye],Zo=t.elements.arrow,cn=E&&Zo?yS(Zo):{width:0,height:0},oa=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},wd=oa[Xa],li=oa[el],Zr=Bm(0,vt[ye],cn[ye]),br=Y?vt[ye]/2-Qn-Zr-wd-hn.mainAxis:_o-Zr-wd-hn.mainAxis,_f=Y?-vt[ye]/2+Qn+Zr+li+hn.mainAxis:Pi+Zr+li+hn.mainAxis,Sd=t.elements.arrow&&Vm(t.elements.arrow),i3=null!=(qn=$n?.[se])?qn:0,Rfe=Oe+_f-i3,r3=Bm(E?Wy(He,Oe+br-i3-(Sd?"y"===se?Sd.clientTop||0:Sd.clientLeft||0:0)):He,Oe,E?Mu(St,Rfe):St);xe[se]=r3,lr[se]=r3-Oe}if(c){var o3,Td=xe[De],b1="y"===De?"height":"width",s3=Td+G["x"===se?Bo:Ho],a3=Td-G["x"===se?Gs:Ws],SD=-1!==[Bo,Ho].indexOf(Q),l3=null!=(o3=$n?.[De])?o3:0,c3=SD?s3:Td-vt[b1]-Rt[b1]-l3+hn.altAxis,u3=SD?Td+vt[b1]+Rt[b1]-l3-hn.altAxis:a3,d3=E&&SD?function K9(n,t,e){var i=Bm(n,t,e);return i>e?e:i}(c3,Td,u3):Bm(E?c3:s3,Td,E?u3:a3);xe[De]=d3,lr[De]=d3-Td}t.modifiersData[i]=lr}},requiresIfExists:["offset"]},nG={name:"arrow",enabled:!0,phase:"main",fn:function eG(n){var t,e=n.state,i=n.name,r=n.options,o=e.elements.arrow,a=e.modifiersData.popperOffsets,c=Na(e.placement),u=_S(c),f=[Ho,Ws].indexOf(c)>=0?"height":"width";if(o&&a){var y=function(t,e){return BO("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:HO(t,Fm))}(r.padding,e),T=yS(o),E="y"===u?Bo:Ho,P="y"===u?Gs:Ws,$=e.rects.reference[f]+e.rects.reference[u]-a[u]-e.rects.popper[f],G=a[u]-e.rects.reference[u],Q=Vm(o),te=Q?"y"===u?Q.clientHeight||0:Q.clientWidth||0:0,xe=te/2-T[f]/2+($/2-G/2),vt=Bm(y[E],xe,te-T[f]-y[P]);e.modifiersData[i]=((t={})[u]=vt,t.centerOffset=vt-xe,t)}},effect:function tG(n){var t=n.state,i=n.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=t.elements.popper.querySelector(r))||LO(t.elements.popper,r)&&(t.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function sG(n,t,e){void 0===e&&(e=!1);var i=ms(t),r=ms(t)&&function oG(n){var t=n.getBoundingClientRect(),e=kh(t.width)/n.offsetWidth||1,i=kh(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),o=kc(t),a=Mh(n,r,e),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!e)&&(("body"!==Ra(t)||mS(o))&&(c=function rG(n){return n!==fs(n)&&ms(n)?function iG(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):pS(n)}(t)),ms(t)?((u=Mh(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=fS(o))),{x:a.left+c.scrollLeft-u.x,y:a.top+c.scrollTop-u.y,width:a.width,height:a.height}}function aG(n){var t=new Map,e=new Set,i=[];function r(o){e.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(c){if(!e.has(c)){var u=t.get(c);u&&r(u)}}),i.push(o)}return n.forEach(function(o){t.set(o.name,o)}),n.forEach(function(o){e.has(o.name)||r(o)}),i}function cG(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var jO={placement:"bottom",modifiers:[],strategy:"absolute"};function zO(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function dG(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,r=n.defaultOptions,o=void 0===r?jO:r;return function(c,u,h){void 0===h&&(h=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},jO,o),modifiersData:{},elements:{reference:c,popper:u},attributes:{},styles:{}},y=[],T=!1,E={state:f,setOptions:function(Q){var te="function"==typeof Q?Q(f.options):Q;$(),f.options=Object.assign({},o,f.options,te),f.scrollParents={reference:ku(c)?Um(c):c.contextElement?Um(c.contextElement):[],popper:Um(u)};var Y=function lG(n){var t=aG(n);return L9.reduce(function(e,i){return e.concat(t.filter(function(r){return r.phase===i}))},[])}(function uG(n){var t=n.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,f.options.modifiers)));return f.orderedModifiers=Y.filter(function($n){return $n.enabled}),function P(){f.orderedModifiers.forEach(function(G){var te=G.options,se=G.effect;if("function"==typeof se){var De=se({state:f,name:G.name,instance:E,options:void 0===te?{}:te});y.push(De||function(){})}})}(),E.update()},forceUpdate:function(){if(!T){var Q=f.elements,te=Q.reference,Y=Q.popper;if(zO(te,Y)){f.rects={reference:sG(te,Vm(Y),"fixed"===f.options.strategy),popper:yS(Y)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function($n){return f.modifiersData[$n.name]=Object.assign({},$n.data)});for(var De=0;De<f.orderedModifiers.length;De++)if(!0!==f.reset){var xe=f.orderedModifiers[De],vt=xe.fn,Rt=xe.options;"function"==typeof vt&&(f=vt({state:f,options:void 0===Rt?{}:Rt,name:xe.name,instance:E})||f)}else f.reset=!1,De=-1}}},update:cG(function(){return new Promise(function(G){E.forceUpdate(),G(f)})}),destroy:function(){$(),T=!0}};if(!zO(c,u))return E;function $(){y.forEach(function(G){return G()}),y=[]}return E.setOptions(h).then(function(G){!T&&h.onFirstUpdate&&h.onFirstUpdate(G)}),E}}var Qy={passive:!0};const pG={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function hG(n){var t=n.state,e=n.instance,i=n.options,r=i.scroll,o=void 0===r||r,a=i.resize,c=void 0===a||a,u=fs(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(f){f.addEventListener("scroll",e.update,Qy)}),c&&u.addEventListener("resize",e.update,Qy),function(){o&&h.forEach(function(f){f.removeEventListener("scroll",e.update,Qy)}),c&&u.removeEventListener("resize",e.update,Qy)}},data:{}},mG={name:"popperOffsets",enabled:!0,phase:"read",fn:function fG(n){var t=n.state;t.modifiersData[n.name]=UO({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var gG={top:"auto",right:"auto",bottom:"auto",left:"auto"};function GO(n){var t,e=n.popper,i=n.popperRect,r=n.placement,o=n.variation,a=n.offsets,c=n.position,u=n.gpuAcceleration,h=n.adaptive,f=n.roundOffsets,y=n.isFixed,T=a.x,E=void 0===T?0:T,P=a.y,$=void 0===P?0:P,G="function"==typeof f?f({x:E,y:$}):{x:E,y:$};E=G.x,$=G.y;var Q=a.hasOwnProperty("x"),te=a.hasOwnProperty("y"),Y=Ho,se=Bo,De=window;if(h){var xe=Vm(e),vt="clientHeight",Rt="clientWidth";xe===fs(e)&&"static"!==Pl(xe=kc(e)).position&&"absolute"===c&&(vt="scrollHeight",Rt="scrollWidth"),(r===Bo||(r===Ho||r===Ws)&&o===Lm)&&(se=Gs,$-=(y&&xe===De&&De.visualViewport?De.visualViewport.height:xe[vt])-i.height,$*=u?1:-1),r!==Ho&&(r!==Bo&&r!==Gs||o!==Lm)||(Y=Ws,E-=(y&&xe===De&&De.visualViewport?De.visualViewport.width:xe[Rt])-i.width,E*=u?1:-1)}var qn,$n=Object.assign({position:c},h&&gG),lr=!0===f?function _G(n){var e=n.y,r=window.devicePixelRatio||1;return{x:kh(n.x*r)/r||0,y:kh(e*r)/r||0}}({x:E,y:$}):{x:E,y:$};return E=lr.x,$=lr.y,Object.assign({},$n,u?((qn={})[se]=te?"0":"",qn[Y]=Q?"0":"",qn.transform=(De.devicePixelRatio||1)<=1?"translate("+E+"px, "+$+"px)":"translate3d("+E+"px, "+$+"px, 0)",qn):((t={})[se]=te?$+"px":"",t[Y]=Q?E+"px":"",t.transform="",t))}const yG={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function vG(n){var t=n.state,e=n.options,i=e.gpuAcceleration,r=void 0===i||i,o=e.adaptive,a=void 0===o||o,c=e.roundOffsets,u=void 0===c||c,f={placement:Na(t.placement),variation:xh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,GO(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,GO(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var wG=[pG,mG,yG,{name:"applyStyles",enabled:!0,phase:"write",fn:function bG(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];!ms(o)||!Ra(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(a){var c=r[a];!1===c?o.removeAttribute(a):o.setAttribute(a,!0===c?"":c)}))})},effect:function CG(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},c=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(u,h){return u[h]="",u},{});!ms(r)||!Ra(r)||(Object.assign(r.style,c),Object.keys(o).forEach(function(u){r.removeAttribute(u)}))})}},requires:["computeStyles"]}],SG=dG({defaultModifiers:wG});const EG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function DG(n){var t=n.state,i=n.name,r=n.options.offset,o=void 0===r?[0,0]:r,a=AO.reduce(function(f,y){return f[y]=function TG(n,t,e){var i=Na(n),r=[Ho,Bo].indexOf(i)>=0?-1:1,o="function"==typeof e?e(Object.assign({},t,{placement:n})):e,a=o[0],c=o[1];return a=a||0,c=(c||0)*r,[Ho,Ws].indexOf(i)>=0?{x:c,y:a}:{x:a,y:c}}(y,t.rects,o),f},{}),c=a[t.placement],h=c.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c.x,t.modifiersData.popperOffsets.y+=h),t.modifiersData[i]=a}};function kG(n,t){}function MG(n,t){if(1&n&&(p(0,"button",3),s(1),S(2,kG,0,0,"ng-template",4),m()),2&n){const e=t.$implicit;v("ngbPanelToggle",e),_(1),ee(" ",e.title," "),_(1),v("ngTemplateOutlet",null==e.titleTpl?null:e.titleTpl.templateRef)}}function xG(n,t){}function IG(n,t){}function PG(n,t){if(1&n){const e=Z();p(0,"div",8),A("ngbRef",function(r){return k(e),x(C().$implicit.panelDiv=r)}),p(1,"div",9),S(2,IG,0,0,"ng-template",4),m()()}if(2&n){const e=C().$implicit;K0("id",e.id),Et("aria-labelledby",e.id+"-header"),_(2),v("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)}}const OG=function(n,t){return{$implicit:n,opened:t}};function AG(n,t){if(1&n&&(p(0,"div")(1,"div",5),S(2,xG,0,0,"ng-template",6),m(),S(3,PG,3,3,"div",7),m()),2&n){const e=t.$implicit,i=C(),r=re(1);ji("accordion-item "+(e.cardClass||"")),_(1),ji("accordion-header "+(e.type?"bg-"+e.type:i.type?"bg-"+i.type:"")),fu("id","",e.id,"-header"),_(1),v("ngTemplateOutlet",(null==e.headerTpl?null:e.headerTpl.templateRef)||r)("ngTemplateOutletContext",Pn(8,OG,e,e.isOpen)),_(1),v("ngIf",!i.destroyOnHide||e.isOpen||e.transitionRunning)}}function NG(n,t){if(1&n){const e=Z();p(0,"button",1),A("click",function(){return k(e),x(C().close())}),m()}}const Hm=["*"];function RG(n,t){if(1&n){const e=Z();p(0,"button",6),A("click",function(){const o=k(e).$implicit,a=C();return a.focus(),x(a.select(o.id,a.NgbSlideEventSource.INDICATOR))}),m()}if(2&n){const e=t.$implicit,i=C();Be("active",e.id===i.activeId),Et("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===i.activeId)}}function FG(n,t){}function LG(n,t){if(1&n&&(p(0,"div",7)(1,"span",8),er(2,9),m(),S(3,FG,0,0,"ng-template",10),m()),2&n){const e=t.$implicit,i=t.index,r=t.count;v("id","slide-"+e.id),_(2),gh(i+1)(r),am(2),_(1),v("ngTemplateOutlet",e.tplRef)}}function $G(n,t){if(1&n){const e=Z();p(0,"button",11),A("click",function(){return k(e),x(C().arrowLeft())}),N(1,"span",12),p(2,"span",8),er(3,13),m()()}}function UG(n,t){if(1&n){const e=Z();p(0,"button",14),A("click",function(){return k(e),x(C().arrowRight())}),N(1,"span",15),p(2,"span",8),er(3,16),m()()}}const VG=["ngbDatepickerDayView",""],BG=["month"],HG=["year"];function jG(n,t){if(1&n&&(p(0,"option",5),s(1),m()),2&n){const e=t.$implicit,i=C();v("value",e),Et("aria-label",i.i18n.getMonthFullName(e,i.date.year)),_(1),We(i.i18n.getMonthShortName(e,i.date.year))}}function zG(n,t){if(1&n&&(p(0,"option",5),s(1),m()),2&n){const e=t.$implicit,i=C();v("value",e),_(1),We(i.i18n.getYearNumerals(e))}}function GG(n,t){if(1&n){const e=Z();p(0,"ngb-datepicker-navigation-select",7),A("select",function(r){return k(e),x(C().select.emit(r))}),m()}if(2&n){const e=C();v("date",e.date)("disabled",e.disabled)("months",e.selectBoxes.months)("years",e.selectBoxes.years)}}function WG(n,t){1&n&&N(0,"div",0)}function qG(n,t){1&n&&N(0,"div",0)}function QG(n,t){if(1&n&&(S(0,WG,1,0,"div",9),p(1,"div",10),s(2),m(),S(3,qG,1,0,"div",9)),2&n){const e=t.$implicit,i=t.index,r=C(2);v("ngIf",i>0),_(2),ee(" ",r.i18n.getMonthLabel(e.firstDate)," "),_(1),v("ngIf",i!==r.months.length-1)}}function ZG(n,t){1&n&&S(0,QG,4,3,"ng-template",8),2&n&&v("ngForOf",C().months)}function KG(n,t){if(1&n&&(p(0,"div",5),s(1),m()),2&n){const e=C(2);_(1),We(e.i18n.getWeekLabel())}}function YG(n,t){if(1&n&&(p(0,"div",6),s(1),m()),2&n){const e=t.$implicit;_(1),We(e)}}function JG(n,t){if(1&n&&(p(0,"div",2),S(1,KG,2,1,"div",3),S(2,YG,2,1,"div",4),m()),2&n){const e=C();_(1),v("ngIf",e.datepicker.showWeekNumbers),_(1),v("ngForOf",e.viewModel.weekdays)}}function XG(n,t){if(1&n&&(p(0,"div",11),s(1),m()),2&n){const e=C(2).$implicit,i=C();_(1),We(i.i18n.getWeekNumerals(e.number))}}function eW(n,t){}function tW(n,t){if(1&n&&S(0,eW,0,0,"ng-template",14),2&n){const e=C().$implicit;v("ngTemplateOutlet",C(3).datepicker.dayTemplate)("ngTemplateOutletContext",e.context)}}function nW(n,t){if(1&n){const e=Z();p(0,"div",12),A("click",function(r){const a=k(e).$implicit;return C(3).doSelect(a),x(r.preventDefault())}),S(1,tW,1,2,"ng-template",13),m()}if(2&n){const e=t.$implicit;Be("disabled",e.context.disabled)("hidden",e.hidden)("ngb-dp-today",e.context.today),v("tabindex",e.tabindex),Et("aria-label",e.ariaLabel),_(1),v("ngIf",!e.hidden)}}function iW(n,t){if(1&n&&(p(0,"div",8),S(1,XG,2,1,"div",9),S(2,nW,2,9,"div",10),m()),2&n){const e=C().$implicit,i=C();_(1),v("ngIf",i.datepicker.showWeekNumbers),_(1),v("ngForOf",e.days)}}function rW(n,t){1&n&&S(0,iW,3,2,"div",7),2&n&&v("ngIf",!t.$implicit.collapsed)}const oW=["defaultDayTemplate"],sW=["content"];function aW(n,t){if(1&n&&N(0,"div",7),2&n){const i=t.currentMonth,r=t.selected,o=t.disabled,a=t.focused;v("date",t.date)("currentMonth",i)("selected",r)("disabled",o)("focused",a)}}function lW(n,t){if(1&n&&(p(0,"div",12),s(1),m()),2&n){const e=C().$implicit,i=C(2);_(1),ee(" ",i.i18n.getMonthLabel(e.firstDate)," ")}}function cW(n,t){if(1&n&&(p(0,"div",9),S(1,lW,2,1,"div",10),N(2,"ngb-datepicker-month",11),m()),2&n){const e=t.$implicit,i=C(2);_(1),v("ngIf","none"===i.navigation||i.displayMonths>1&&"select"===i.navigation),_(1),v("month",e.firstDate)}}function uW(n,t){1&n&&S(0,cW,3,2,"div",8),2&n&&v("ngForOf",C().model.months)}function dW(n,t){if(1&n){const e=Z();p(0,"ngb-datepicker-navigation",13),A("navigate",function(r){return k(e),x(C().onNavigateEvent(r))})("select",function(r){return k(e),x(C().onNavigateDateSelect(r))}),m()}if(2&n){const e=C();v("date",e.model.firstDate)("months",e.model.months)("disabled",e.model.disabled)("showSelect","select"===e.model.navigation)("prevDisabled",e.model.prevDisabled)("nextDisabled",e.model.nextDisabled)("selectBoxes",e.model.selectBoxes)}}function hW(n,t){}function pW(n,t){}const fW=["dialog"],mW=["ngbNavOutlet",""];function gW(n,t){}const _W=function(n){return{$implicit:n}};function vW(n,t){if(1&n&&(p(0,"div",2),S(1,gW,0,0,"ng-template",3),m()),2&n){const e=C().$implicit,i=C();v("item",e)("nav",i.nav)("role",i.paneRole),_(1),v("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)("ngTemplateOutletContext",ot(5,_W,e.active||i.isPanelTransitioning(e)))}}function yW(n,t){if(1&n&&S(0,vW,2,7,"div",1),2&n){const e=t.$implicit,i=C();v("ngIf",e.isPanelInDom()||i.isPanelTransitioning(e))}}function bW(n,t){1&n&&(p(0,"span",9),er(1,10),m())}function CW(n,t){1&n&&(p(0,"span",9),er(1,11),m())}function wW(n,t){1&n&&(p(0,"span",9),er(1,12),m())}function SW(n,t){1&n&&(p(0,"span",9),er(1,13),m())}function TW(n,t){1&n&&s(0,"...")}function DW(n,t){1&n&&(p(0,"span",15),s(1,"(current)"),m())}function EW(n,t){if(1&n&&(s(0),S(1,DW,2,0,"span",14)),2&n){const e=t.$implicit,i=t.currentPage;ee(" ",e," "),_(1),v("ngIf",e===i)}}function kW(n,t){}const MW=function(n){return{disabled:!0,currentPage:n}};function xW(n,t){if(1&n&&(p(0,"a",20),S(1,kW,0,0,"ng-template",8),m()),2&n){const e=C(2).$implicit,i=C(),r=re(9);_(1),v("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||r)("ngTemplateOutletContext",ot(2,MW,e))}}function IW(n,t){}const PW=function(n,t,e){return{disabled:n,$implicit:t,currentPage:e}};function OW(n,t){if(1&n){const e=Z();p(0,"a",21),A("click",function(r){k(e);const o=C().$implicit;return C(2).selectPage(o),x(r.preventDefault())}),S(1,IW,0,0,"ng-template",8),m()}if(2&n){const e=C().$implicit,i=C(),r=i.disabled,o=i.$implicit,a=C(),c=re(11);Et("tabindex",r?"-1":null)("aria-disabled",r?"true":null),_(1),v("ngTemplateOutlet",(null==a.tplNumber?null:a.tplNumber.templateRef)||c)("ngTemplateOutletContext",vh(4,PW,r,e,o))}}function AW(n,t){if(1&n&&(p(0,"li",17),S(1,xW,2,4,"a",18),S(2,OW,2,8,"a",19),m()),2&n){const e=t.$implicit,i=C(),r=i.$implicit,o=i.disabled,a=C();Be("active",e===r)("disabled",a.isEllipsis(e)||o),Et("aria-current",e===r?"page":null),_(1),v("ngIf",a.isEllipsis(e)),_(1),v("ngIf",!a.isEllipsis(e))}}function NW(n,t){1&n&&S(0,AW,3,7,"li",16),2&n&&v("ngForOf",t.pages)}function RW(n,t){}const bS=function(n,t){return{disabled:n,currentPage:t}};function FW(n,t){if(1&n){const e=Z();p(0,"li",17)(1,"a",22),A("click",function(r){return k(e),C().selectPage(1),x(r.preventDefault())}),S(2,RW,0,0,"ng-template",8),m()()}if(2&n){const e=C(),i=re(1);Be("disabled",e.previousDisabled()),_(1),Et("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),_(1),v("ngTemplateOutlet",(null==e.tplFirst?null:e.tplFirst.templateRef)||i)("ngTemplateOutletContext",Pn(6,bS,e.previousDisabled(),e.page))}}function LW(n,t){}const $W=function(n){return{disabled:n}};function UW(n,t){if(1&n){const e=Z();p(0,"li",17)(1,"a",23),A("click",function(r){k(e);const o=C();return o.selectPage(o.page-1),x(r.preventDefault())}),S(2,LW,0,0,"ng-template",8),m()()}if(2&n){const e=C(),i=re(3);Be("disabled",e.previousDisabled()),_(1),Et("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),_(1),v("ngTemplateOutlet",(null==e.tplPrevious?null:e.tplPrevious.templateRef)||i)("ngTemplateOutletContext",ot(6,$W,e.previousDisabled()))}}function VW(n,t){}function BW(n,t){}function HW(n,t){if(1&n){const e=Z();p(0,"li",17)(1,"a",24),A("click",function(r){k(e);const o=C();return o.selectPage(o.page+1),x(r.preventDefault())}),S(2,BW,0,0,"ng-template",8),m()()}if(2&n){const e=C(),i=re(5);Be("disabled",e.nextDisabled()),_(1),Et("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),_(1),v("ngTemplateOutlet",(null==e.tplNext?null:e.tplNext.templateRef)||i)("ngTemplateOutletContext",Pn(6,bS,e.nextDisabled(),e.page))}}function jW(n,t){}function zW(n,t){if(1&n){const e=Z();p(0,"li",17)(1,"a",25),A("click",function(r){k(e);const o=C();return o.selectPage(o.pageCount),x(r.preventDefault())}),S(2,jW,0,0,"ng-template",8),m()()}if(2&n){const e=C(),i=re(7);Be("disabled",e.nextDisabled()),_(1),Et("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),_(1),v("ngTemplateOutlet",(null==e.tplLast?null:e.tplLast.templateRef)||i)("ngTemplateOutletContext",Pn(6,bS,e.nextDisabled(),e.page))}}const GW=function(n,t,e){return{$implicit:n,pages:t,disabled:e}};function QW(n,t){if(1&n&&(p(0,"span"),er(1,1),Vt(2,"percent"),m()),2&n){const e=C();_(2),gh(Tn(2,1,e.getValue()/e.max)),am(1)}}function ZW(n,t){1&n&&s(0),2&n&&We(100===t.fill?"\u2605":"\u2606")}function KW(n,t){}function YW(n,t){if(1&n){const e=Z();p(0,"span",2),s(1),m(),p(2,"span",3),A("mouseenter",function(){const o=k(e).index;return x(C().enter(o+1))})("click",function(){const o=k(e).index;return x(C().handleClick(o+1))}),S(3,KW,0,0,"ng-template",4),m()}if(2&n){const e=t.index,i=C(),r=re(1);_(1),ee("(",e<i.nextRate?"*":" ",")"),_(1),io("cursor",i.isInteractive()?"pointer":"default"),_(1),v("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||r)("ngTemplateOutletContext",i.contexts[e])}}function JW(n,t){if(1&n){const e=Z();p(0,"button",11),A("click",function(){k(e);const r=C();return x(r.changeHour(r.hourStep))}),N(1,"span",12),p(2,"span",13),er(3,14),m()()}if(2&n){const e=C();Be("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),v("disabled",e.disabled)}}function XW(n,t){if(1&n){const e=Z();p(0,"button",11),A("click",function(){k(e);const r=C();return x(r.changeHour(-r.hourStep))}),N(1,"span",15),p(2,"span",13),er(3,16),m()()}if(2&n){const e=C();Be("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),v("disabled",e.disabled)}}function eq(n,t){if(1&n){const e=Z();p(0,"button",11),A("click",function(){k(e);const r=C();return x(r.changeMinute(r.minuteStep))}),N(1,"span",12),p(2,"span",13),er(3,17),m()()}if(2&n){const e=C();Be("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),v("disabled",e.disabled)}}function tq(n,t){if(1&n){const e=Z();p(0,"button",11),A("click",function(){k(e);const r=C();return x(r.changeMinute(-r.minuteStep))}),N(1,"span",15),p(2,"span",13),er(3,18),m()()}if(2&n){const e=C();Be("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),v("disabled",e.disabled)}}function nq(n,t){1&n&&(p(0,"div",5),s(1,":"),m())}function iq(n,t){if(1&n){const e=Z();p(0,"button",11),A("click",function(){k(e);const r=C(2);return x(r.changeSecond(r.secondStep))}),N(1,"span",12),p(2,"span",13),er(3,21),m()()}if(2&n){const e=C(2);Be("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),v("disabled",e.disabled)}}function rq(n,t){if(1&n){const e=Z();p(0,"button",11),A("click",function(){k(e);const r=C(2);return x(r.changeSecond(-r.secondStep))}),N(1,"span",15),p(2,"span",13),er(3,22),m()()}if(2&n){const e=C(2);Be("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),v("disabled",e.disabled)}}function oq(n,t){if(1&n){const e=Z();p(0,"div",19),S(1,iq,4,7,"button",3),p(2,"input",20),A("change",function(r){return k(e),x(C().updateSecond(r.target.value))})("blur",function(){return k(e),x(C().handleBlur())})("input",function(r){return k(e),x(C().formatInput(r.target))})("keydown.ArrowUp",function(r){k(e);const o=C();return o.changeSecond(o.secondStep),x(r.preventDefault())})("keydown.ArrowDown",function(r){k(e);const o=C();return o.changeSecond(-o.secondStep),x(r.preventDefault())}),m(),S(3,rq,4,7,"button",3),m()}if(2&n){const e=C();_(1),v("ngIf",e.spinners),_(1),Be("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),v("value",e.formatMinSec(null==e.model?null:e.model.second))("readOnly",e.readonlyInputs)("disabled",e.disabled),_(1),v("ngIf",e.spinners)}}function sq(n,t){1&n&&N(0,"div",5)}function aq(n,t){if(1&n&&(U(0),er(1,27),V()),2&n){const e=C(2);_(1),gh(e.i18n.getAfternoonPeriod()),am(1)}}function lq(n,t){1&n&&er(0,28),2&n&&(gh(C(2).i18n.getMorningPeriod()),am(0))}function cq(n,t){if(1&n){const e=Z();p(0,"div",23)(1,"button",24),A("click",function(){return k(e),x(C().toggleMeridian())}),S(2,aq,2,1,"ng-container",25),S(3,lq,1,1,"ng-template",null,26,ae),m()()}if(2&n){const e=re(4),i=C();_(1),Be("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),v("disabled",i.disabled),_(1),v("ngIf",i.model&&i.model.hour>=12)("ngIfElse",e)}}function uq(n,t){if(1&n&&(p(0,"strong",3),s(1),m()),2&n){const e=C();_(1),We(e.header)}}function dq(n,t){}function hq(n,t){if(1&n){const e=Z();p(0,"div",4),S(1,dq,0,0,"ng-template",5),p(2,"button",6),A("click",function(){return k(e),x(C().hide())}),m()()}if(2&n){const e=C(),i=re(1);_(1),v("ngTemplateOutlet",e.contentHeaderTpl||i)}}function pq(n,t){if(1&n&&(p(0,"span"),s(1),m()),2&n){const e=C().$implicit;ji(C().highlightClass),_(1),We(e)}}function fq(n,t){1&n&&s(0),2&n&&We(C().$implicit)}function mq(n,t){if(1&n&&(S(0,pq,2,3,"span",1),S(1,fq,1,1,"ng-template",null,2,ae)),2&n){const e=t.odd,i=re(2);v("ngIf",e)("ngIfElse",i)}}function ir(n){return parseInt(`${n}`,10)}function WO(n){return null!=n?`${n}`:""}function Zy(n,t,e=0){return Math.max(Math.min(n,t),e)}function Ih(n){return"string"==typeof n}function ei(n){return!isNaN(ir(n))}function Gn(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function xu(n){return null!=n}function Ph(n){return ei(n)?`0${n}`.slice(-2):""}function QO(n,t){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(t)>=0}function Oh(n){return(n||document.body).getBoundingClientRect()}function ZO(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const KO={animation:!0,transitionTimerDelayMs:5},wq=()=>{},{transitionTimerDelayMs:Sq}=KO,jm=new Map,Mi=(n,t,e,i)=>{let r=i.context||{};const o=jm.get(t);if(o)switch(i.runningTransition){case"continue":return $o;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),jm.delete(t)}const a=e(t,i.animation,r)||wq;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>a()),Se(void 0).pipe(function bq(n){return t=>new Mt(e=>t.subscribe({next:a=>n.run(()=>e.next(a)),error:a=>n.run(()=>e.error(a)),complete:()=>n.run(()=>e.complete())}))}(n));const c=new je,u=new je,h=c.pipe(function az(...n){return t=>xm(t,Se(...n))}(!0));jm.set(t,{transition$:c,complete:()=>{u.next(),u.complete()},context:r});const f=function Cq(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const y=zi(t,"transitionend").pipe(Xn(h),Ot(({target:E})=>E===t));M2(My(f+Sq).pipe(Xn(h)),y,u).pipe(Xn(h)).subscribe(()=>{jm.delete(t),n.run(()=>{a(),c.next(),c.complete()})})}),c.asObservable()},CS=(n,t,e)=>{let{direction:i,maxSize:r,dimension:o}=e;const{classList:a}=n;function c(){a.add("collapse"),"show"===i?a.add("show"):a.remove("show")}if(t)return r||(r=function Dq(n,t){if(typeof navigator>"u")return"0px";const{classList:e}=n,i=e.contains("show");i||e.add("show"),n.style[t]="";const r=n.getBoundingClientRect()[t]+"px";return i||e.remove("show"),r}(n,o),e.maxSize=r,n.style[o]="show"!==i?r:"0px",a.remove("collapse"),a.remove("collapsing"),a.remove("show"),Oh(n),a.add("collapsing")),n.style[o]="show"===i?r:"0px",()=>{c(),a.remove("collapsing"),n.style[o]=""};c()};let Mc=(()=>{class n{constructor(){this.animation=KO.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eq=(()=>{class n{constructor(e){this._ngbConfig=e,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(R(Mc))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kq=0,wS=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(w(Dn))},n.\u0275dir=de({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),Ky=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(w(Dn))},n.\u0275dir=de({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),Yy=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(w(Dn))},n.\u0275dir=de({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),zm=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+kq++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new X,this.hidden=new X}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,selectors:[["ngb-panel"]],contentQueries:function(e,i,r){if(1&e&&(Rn(r,Ky,4),Rn(r,wS,4),Rn(r,Yy,4)),2&e){let o;ke(o=Me())&&(i.titleTpls=o),ke(o=Me())&&(i.headerTpls=o),ke(o=Me())&&(i.contentTpls=o)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),Mq=(()=>{class n{constructor(e){this._El=e,this.ngbRef=new X}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(e){return new(e||n)(w(Pt))},n.\u0275dir=de({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),YO=(()=>{class n{constructor(e,i){this.accordion=e,this.panel=i}set ngbPanelToggle(e){e&&(this.panel=e)}}return n.\u0275fac=function(e){return new(e||n)(w(lt(()=>Gm)),w(zm,9))},n.\u0275dir=de({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(e,i){1&e&&A("click",function(){return i.accordion.toggle(i.panel.id)}),2&e&&(yl("disabled",i.panel.disabled),Et("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),Be("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),Gm=(()=>{class n{constructor(e,i,r){this._ngZone=i,this._changeDetector=r,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new X,this.shown=new X,this.hidden=new X,this.animation=e.animation,this.type=e.type,this.closeOtherPanels=e.closeOthers}isExpanded(e){return this.activeIds.indexOf(e)>-1}expand(e){this._changeOpenState(this._findPanelById(e),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(e=>this._changeOpenState(e,!0))}collapse(e){this._changeOpenState(this._findPanelById(e),!1)}collapseAll(){this.panels.forEach(e=>{this._changeOpenState(e,!1)})}toggle(e){const i=this._findPanelById(e);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){Ih(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(e=>{e.isOpen=!e.disabled&&this.activeIds.indexOf(e.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(bn(1)).subscribe(()=>{this.panels.forEach(e=>{const i=e.panelDiv;i?e.initClassDone||(e.initClassDone=!0,Mi(this._ngZone,i,CS,{animation:!1,runningTransition:"continue",context:{direction:e.isOpen?"show":"hide",dimension:"height"}})):e.initClassDone=!1})})}_changeOpenState(e,i){if(null!=e&&!e.disabled&&e.isOpen!==i){let r=!1;this.panelChange.emit({panelId:e.id,nextState:i,preventDefault:()=>{r=!0}}),r||(e.isOpen=i,e.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(e.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(e,i=!0){this.panels.forEach(r=>{r.id!==e&&r.isOpen&&(r.isOpen=!1,r.transitionRunning=i)})}_findPanelById(e){return this.panels.find(i=>i.id===e)||null}_updateActiveIds(){this.activeIds=this.panels.filter(e=>e.isOpen&&!e.disabled).map(e=>e.id)}_runTransitions(e){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&Mi(this._ngZone,i.panelDiv,CS,{animation:e,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{i.transitionRunning=!1;const{id:o}=i;i.isOpen?(i.shown.emit(),this.shown.emit(o)):(i.hidden.emit(),this.hidden.emit(o))})})}}return n.\u0275fac=function(e){return new(e||n)(w(Eq),w(bt),w(tr))},n.\u0275cmp=ie({type:n,selectors:[["ngb-accordion"]],contentQueries:function(e,i,r){if(1&e&&Rn(r,zm,4),2&e){let o;ke(o=Me())&&(i.panels=o)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(e,i){2&e&&Et("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[fi],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(e,i){1&e&&(S(0,MG,3,3,"ng-template",0,1,ae),S(2,AG,4,11,"ng-template",2)),2&e&&(_(2),v("ngForOf",i.panels))},dependencies:[Ye,Ro,YO,Mq,wS,me],encapsulation:2}),n})(),JO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[Gm]}),n})();const xq=({classList:n})=>{n.remove("show")};let Iq=(()=>{class n{constructor(e){this._ngbConfig=e,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(R(Mc))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pq=(()=>{class n{constructor(e,i,r,o){this._renderer=i,this._element=r,this._zone=o,this.closed=new X,this.dismissible=e.dismissible,this.type=e.type,this.animation=e.animation}close(){const e=Mi(this._zone,this._element.nativeElement,xq,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}ngOnChanges(e){const i=e.type;i&&!i.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${i.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${i.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(e){return new(e||n)(w(Iq),w(Xi),w(Pt),w(bt))},n.\u0275cmp=ie({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(e,i){2&e&&Be("fade",i.animation)("alert-dismissible",i.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[Ft,fi],ngContentSelectors:Hm,decls:2,vars:1,consts:function(){let t;return t=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",t,3,"click",4,"ngIf"],["type","button","aria-label",t,1,"btn-close",3,"click"]]},template:function(e,i){1&e&&(_l(),vl(0),S(1,NG,1,0,"button",0)),2&e&&(_(1),v("ngIf",i.dismissible))},dependencies:[me],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),XO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[Pq]}),n})();var xc=(()=>(function(n){n.START="start",n.END="end"}(xc||(xc={})),xc))();const eA=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Wm=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},Jy=n=>{Wm(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},Oq=(n,t,{direction:e})=>{const{classList:i}=n;return t?(eA(n)?Wm(i):(i.add("carousel-item-"+(e===xc.START?"next":"prev")),Oh(n),i.add("carousel-item-"+e)),()=>{Jy(i),i.add("active")}):(Wm(i),Jy(i),void i.add("active"))},Aq=(n,t,{direction:e})=>{const{classList:i}=n;return t?(eA(n)?Wm(i):i.add("carousel-item-"+e),()=>{Jy(i),i.remove("active")}):(Wm(i),Jy(i),void i.remove("active"))};let Nq=(()=>{class n{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(R(Mc))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rq=0,tA=(()=>{class n{constructor(e){this.tplRef=e,this.id="ngb-slide-"+Rq++,this.slid=new X}}return n.\u0275fac=function(e){return new(e||n)(w(Dn))},n.\u0275dir=de({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),nA=(()=>{class n{constructor(e,i,r,o,a){this._platformId=i,this._ngZone=r,this._cd=o,this._container=a,this.NgbSlideEventSource=Iu,this._destroy$=new je,this._interval$=new yn(0),this._mouseHover$=new yn(!1),this._focused$=new yn(!1),this._pauseOnHover$=new yn(!1),this._pauseOnFocus$=new yn(!1),this._pause$=new yn(!1),this._wrap$=new yn(!1),this.slide=new X,this.slid=new X,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Iu.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Iu.ARROW_RIGHT)}ngAfterContentInit(){_m(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=Mm([this.slide.pipe(pe(i=>i.current),Su(this.activeId)),this._wrap$,this.slides.changes.pipe(Su(null))]).pipe(pe(([i,r])=>{const o=this.slides.toArray(),a=this._getSlideIdxById(i);return r?o.length>1:a<o.length-1}),Iy());Mm([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe(pe(([i,r,o,a,c,u,h])=>i||r&&o||a&&c||!h?0:u),Iy(),zn(i=>i>0?My(i,i):kl),Xn(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Iu.TIMER)))}),this.slides.changes.pipe(Xn(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(e=>(n=>{jm.get(n)?.complete()})(this._getSlideElement(e))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(bn(1)).subscribe(()=>{for(const{id:e}of this.slides){const i=this._getSlideElement(e);e===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,i){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),i)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),xc.END,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),xc.START,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,i,r){const o=this._transitionIds;if(o&&(o[0]!==e||o[1]!==this.activeId))return;let a=this._getSlideById(e);if(a&&a.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:a.id,direction:i,paused:this._pause$.value,source:r});const c={animation:this.animation,runningTransition:"stop",context:{direction:i}},u=[],h=this._getSlideById(this.activeId);if(h){const E=Mi(this._ngZone,this._getSlideElement(h.id),Aq,c);E.subscribe(()=>{h.slid.emit({isShown:!1,direction:i,source:r})}),u.push(E)}const f=this.activeId;this.activeId=a.id;const y=this._getSlideById(this.activeId),T=Mi(this._ngZone,this._getSlideElement(a.id),Oq,c);T.subscribe(()=>{y?.slid.emit({isShown:!0,direction:i,source:r})}),u.push(T),xy(...u).pipe(bn(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:f,current:a.id,direction:i,paused:this._pause$.value,source:r})})}this._cd.markForCheck()}_getSlideEventDirection(e,i){return this._getSlideIdxById(e)>this._getSlideIdxById(i)?xc.END:xc.START}_getSlideById(e){return this.slides.find(i=>i.id===e)||null}_getSlideIdxById(e){const i=this._getSlideById(e);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(e){const i=this.slides.toArray(),r=this._getSlideIdxById(e);return r===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[r+1].id}_getPrevSlide(e){const i=this.slides.toArray(),r=this._getSlideIdxById(e);return 0===r?this.wrap?i[i.length-1].id:i[0].id:i[r-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return n.\u0275fac=function(e){return new(e||n)(w(Nq),w(Pa),w(bt),w(tr),w(Pt))},n.\u0275cmp=ie({type:n,selectors:[["ngb-carousel"]],contentQueries:function(e,i,r){if(1&e&&Rn(r,tA,4),2&e){let o;ke(o=Me())&&(i.slides=o)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,i){1&e&&A("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&e&&(Et("aria-activedescendant","slide-"+i.activeId),io("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[fi],decls:6,vars:6,consts:function(){let t,e,i;return t=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],t,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(e,i){1&e&&(p(0,"div",0),S(1,RG,1,5,"button",1),m(),p(2,"div",2),S(3,LG,4,4,"div",3),m(),S(4,$G,4,0,"button",4),S(5,UG,4,0,"button",5)),2&e&&(Be("visually-hidden",!i.showNavigationIndicators),_(1),v("ngForOf",i.slides),_(2),v("ngForOf",i.slides),_(1),v("ngIf",i.showNavigationArrows),_(1),v("ngIf",i.showNavigationArrows))},dependencies:[Ye,Ro,me],encapsulation:2,changeDetection:0}),n})();var Iu=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(Iu||(Iu={})),Iu))();let iA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[nA]}),n})(),Fq=(()=>{class n{constructor(e){this._ngbConfig=e,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(R(Mc))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SS=(()=>{class n{constructor(e,i,r){this._element=e,this._zone=r,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new X,this.shown=new X,this.hidden=new X,this.animation=i.animation,this.horizontal=i.horizontal}set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,i){return Mi(this._zone,this._element.nativeElement,CS,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(e){return new(e||n)(w(Pt),w(Fq),w(bt))},n.\u0275dir=de({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(e,i){2&e&&Be("collapse-horizontal",i.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),n})(),rA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({}),n})();class xi{constructor(t,e,i){this.year=Gn(t)?t:null,this.month=Gn(e)?e:null,this.day=Gn(i)?i:null}static from(t){return t instanceof xi?t:t?new xi(t.year,t.month,t.day):null}equals(t){return null!=t&&this.year===t.year&&this.month===t.month&&this.day===t.day}before(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)}after(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)}}function Ah(n,t){return!function Lq(n,t){return!n&&!t||!!n&&!!t&&n.equals(t)}(n,t)}function oA(n,t){return!(!n&&!t||n&&t&&n.year===t.year&&n.month===t.month)}function Xy(n,t,e){return n&&t&&n.before(t)?t:n&&e&&n.after(e)?e:n||null}function TS(n,t){const{minDate:e,maxDate:i,disabled:r,markDisabled:o}=t;return!(null==n||r||o&&o(n,{year:n.year,month:n.month})||e&&n.before(e)||i&&n.after(i))}function sA(n){return new xi(n.getFullYear(),n.getMonth()+1,n.getDate())}function eb(n){const t=new Date(n.year,n.month-1,n.day,12);return isNaN(t.getTime())||t.setFullYear(n.year),t}let qm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(){return function Wq(){return new qq}()},providedIn:"root"}),n})(),qq=(()=>{class n extends qm{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,i="d",r=1){let o=eb(e),a=!0,c=o.getMonth();switch(i){case"y":o.setFullYear(o.getFullYear()+r);break;case"m":c+=r,o.setMonth(c),c%=12,c<0&&(c+=12);break;case"d":o.setDate(o.getDate()+r),a=!1;break;default:return e}return a&&o.getMonth()!==c&&o.setDate(0),sA(o)}getPrev(e,i="d",r=1){return this.getNext(e,i,-r)}getWeekday(e){let r=eb(e).getDay();return 0===r?7:r}getWeekNumber(e,i){7===i&&(i=0);const a=eb(e[(11-i)%7]);a.setDate(a.getDate()+4-(a.getDay()||7));const c=a.getTime();return a.setMonth(0),a.setDate(1),Math.floor(Math.round((c-a.getTime())/864e5)/7)+1}getToday(){return sA(new Date)}isValid(e){if(!(e&&Gn(e.year)&&Gn(e.month)&&Gn(e.day)&&0!==e.year))return!1;const i=eb(e);return!isNaN(i.getTime())&&i.getFullYear()===e.year&&i.getMonth()+1===e.month&&i.getDate()===e.day}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),Pu=(()=>{class n{getMonthLabel(e){return`${this.getMonthFullName(e.month,e.year)} ${this.getYearNumerals(e.year)}`}getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}getWeekLabel(){return""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(e){let i=null;return i=e?new e:function Qq(n){return new Zq(n)}(R(No)),i},providedIn:"root"}),n})(),Zq=(()=>{class n extends Pu{constructor(e){super(),this._locale=e,this._monthsShort=BC(e,On.Standalone,ht.Abbreviated),this._monthsFull=BC(e,On.Standalone,ht.Wide)}getWeekdayLabel(e,i){const r=VI(this._locale,On.Standalone,void 0===i?ht.Short:i);return r.map((a,c)=>r[(c+1)%7])[e-1]||""}getMonthShortName(e){return this._monthsShort[e-1]||""}getMonthFullName(e){return this._monthsFull[e-1]||""}getDayAriaLabel(e){return HI(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}}return n.\u0275fac=function(e){return new(e||n)(R(No))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),DS=(()=>{class n{constructor(e,i){this._calendar=e,this._i18n=i,this._VALIDATORS={dayTemplateData:r=>{if(this._state.dayTemplateData!==r)return{dayTemplateData:r}},displayMonths:r=>{if(Gn(r=ir(r))&&r>0&&this._state.displayMonths!==r)return{displayMonths:r}},disabled:r=>{if(this._state.disabled!==r)return{disabled:r}},firstDayOfWeek:r=>{if(Gn(r=ir(r))&&r>=0&&this._state.firstDayOfWeek!==r)return{firstDayOfWeek:r}},focusVisible:r=>{if(this._state.focusVisible!==r&&!this._state.disabled)return{focusVisible:r}},markDisabled:r=>{if(this._state.markDisabled!==r)return{markDisabled:r}},maxDate:r=>{const o=this.toValidDate(r,null);if(Ah(this._state.maxDate,o))return{maxDate:o}},minDate:r=>{const o=this.toValidDate(r,null);if(Ah(this._state.minDate,o))return{minDate:o}},navigation:r=>{if(this._state.navigation!==r)return{navigation:r}},outsideDays:r=>{if(this._state.outsideDays!==r)return{outsideDays:r}},weekdays:r=>{const o=!0===r||!1===r?ht.Short:r,a=!0!==r&&!1!==r||r;if(this._state.weekdayWidth!==o||this._state.weekdaysVisible!==a)return{weekdayWidth:o,weekdaysVisible:a}}},this._model$=new je,this._dateSelect$=new je,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:ht.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(Ot(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Ot(e=>null!==e))}set(e){let i=Object.keys(e).map(r=>this._VALIDATORS[r](e[r])).reduce((r,o)=>({...r,...o}),{});Object.keys(i).length>0&&this._nextState(i)}focus(e){const i=this.toValidDate(e,null);null!=i&&!this._state.disabled&&Ah(this._state.focusDate,i)&&this._nextState({focusDate:e})}focusSelect(){TS(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const i=this.toValidDate(e,this._calendar.getToday());null!=i&&!this._state.disabled&&(!this._state.firstDate||oA(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(e,i={}){const r=this.toValidDate(e,null);null!=r&&!this._state.disabled&&(Ah(this._state.selectedDate,r)&&this._nextState({selectedDate:r}),i.emitEvent&&TS(r,this._state)&&this._dateSelect$.next(r))}toValidDate(e,i){const r=xi.from(e);return void 0===i&&(i=this._calendar.getToday()),this._calendar.isValid(r)?r:i}getMonth(e){for(let i of this._state.months)if(e.month===i.number&&e.year===i.year)return i;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const i=this._updateState(e);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(e){const{months:i,displayMonths:r,selectedDate:o,focusDate:a,focusVisible:c,disabled:u,outsideDays:h}=e;e.months.forEach(f=>{f.weeks.forEach(y=>{y.days.forEach(T=>{a&&(T.context.focused=a.equals(T.date)&&c),T.tabindex=!u&&a&&T.date.equals(a)&&a.month===f.number?0:-1,!0===u&&(T.context.disabled=!0),void 0!==o&&(T.context.selected=null!==o&&o.equals(T.date)),f.number!==T.date.month&&(T.hidden="hidden"===h||"collapsed"===h||r>1&&T.date.after(i[0].firstDate)&&T.date.before(i[r-1].lastDate))})})})}_updateState(e){const i=Object.assign({},this._state,e);let r=i.firstDate;if(("minDate"in e||"maxDate"in e)&&(function $q(n,t){if(t&&n&&t.before(n))throw new Error(`'maxDate' ${t} should be greater than 'minDate' ${n}`)}(i.minDate,i.maxDate),i.focusDate=Xy(i.focusDate,i.minDate,i.maxDate),i.firstDate=Xy(i.firstDate,i.minDate,i.maxDate),r=i.focusDate),"disabled"in e&&(i.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(r=i.selectedDate),"focusVisible"in e||"focusDate"in e&&(i.focusDate=Xy(i.focusDate,i.minDate,i.maxDate),r=i.focusDate,0!==i.months.length&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in e&&(i.firstDate=Xy(i.firstDate,i.minDate,i.maxDate),r=i.firstDate),r){const a=function jq(n,t,e,i,r){const{displayMonths:o,months:a}=e,c=a.splice(0,a.length);return Array.from({length:o},(h,f)=>{const y=Object.assign(n.getNext(t,"m",f),{day:1});if(a[f]=null,!r){const T=c.findIndex(E=>E.firstDate.equals(y));-1!==T&&(a[f]=c.splice(T,1)[0])}return y}).forEach((h,f)=>{null===a[f]&&(a[f]=function zq(n,t,e,i,r={}){const{dayTemplateData:o,minDate:a,maxDate:c,firstDayOfWeek:u,markDisabled:h,outsideDays:f,weekdayWidth:y,weekdaysVisible:T}=e,E=n.getToday();r.firstDate=null,r.lastDate=null,r.number=t.month,r.year=t.year,r.weeks=r.weeks||[],r.weekdays=r.weekdays||[],t=function Gq(n,t,e){const i=n.getDaysPerWeek(),r=new xi(t.year,t.month,1),o=n.getWeekday(r)%i;return n.getPrev(r,"d",(i+o-e)%i)}(n,t,u),T||(r.weekdays.length=0);for(let P=0;P<n.getWeeksPerMonth();P++){let $=r.weeks[P];$||($=r.weeks[P]={number:0,days:[],collapsed:!0});const G=$.days;for(let Q=0;Q<n.getDaysPerWeek();Q++){0===P&&T&&(r.weekdays[Q]=i.getWeekdayLabel(n.getWeekday(t),y));const te=new xi(t.year,t.month,t.day),Y=n.getNext(te),se=i.getDayAriaLabel(te);let De=!!(a&&te.before(a)||c&&te.after(c));!De&&h&&(De=h(te,{month:r.number,year:r.year}));let xe=te.equals(E),vt=o?o(te,{month:r.number,year:r.year}):void 0;null===r.firstDate&&te.month===r.number&&(r.firstDate=te),te.month===r.number&&Y.month!==r.number&&(r.lastDate=te);let Rt=G[Q];Rt||(Rt=G[Q]={}),Rt.date=te,Rt.context=Object.assign(Rt.context||{},{$implicit:te,date:te,data:vt,currentMonth:r.number,currentYear:r.year,disabled:De,focused:!1,selected:!1,today:xe}),Rt.tabindex=-1,Rt.ariaLabel=se,Rt.hidden=!1,t=Y}$.number=n.getWeekNumber(G.map(Q=>Q.date),u),$.collapsed="collapsed"===f&&G[0].date.month!==r.number&&G[G.length-1].date.month!==r.number}return r}(n,h,e,i,c.shift()||{}))}),a}(this._calendar,r,i,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e||"weekdaysVisible"in e);i.months=a,i.firstDate=a[0].firstDate,i.lastDate=a[a.length-1].lastDate,"selectedDate"in e&&!TS(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in e&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=r);const c=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,u=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in e||"maxDate"in e||0===i.selectBoxes.years.length||c)&&(i.selectBoxes.years=function Vq(n,t,e){if(!n)return[];const i=t?Math.max(t.year,n.year-500):n.year-10,o=(e?Math.min(e.year,n.year+500):n.year+10)-i+1,a=Array(o);for(let c=0;c<o;c++)a[c]=i+c;return a}(i.firstDate,i.minDate,i.maxDate)),("minDate"in e||"maxDate"in e||0===i.selectBoxes.months.length||c)&&(i.selectBoxes.months=function Uq(n,t,e,i){if(!t)return[];let r=n.getMonths(t.year);if(e&&t.year===e.year){const o=r.findIndex(a=>a===e.month);r=r.slice(o)}if(i&&t.year===i.year){const o=r.findIndex(a=>a===i.month);r=r.slice(0,o+1)}return r}(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},("arrows"===i.navigation||"select"===i.navigation)&&(u||c||"minDate"in e||"maxDate"in e||"disabled"in e)&&(i.prevDisabled=i.disabled||function Hq(n,t,e){const i=Object.assign(n.getPrev(t,"m"),{day:1});return null!=e&&(i.year===e.year&&i.month<e.month||i.year<e.year&&1===e.month)}(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||function Bq(n,t,e){const i=Object.assign(n.getNext(t,"m"),{day:1});return null!=e&&i.after(e)}(this._calendar,i.lastDate,i.maxDate))}return i}}return n.\u0275fac=function(e){return new(e||n)(R(qm),R(Pu))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();var Nh=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(Nh||(Nh={})),Nh))();let Kq=(()=>{class n{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(e){return new(e||n)(w(Pu))},n.\u0275cmp=ie({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(e,i){2&e&&Be("bg-primary",i.selected)("text-white",i.selected)("text-muted",i.isMuted())("outside",i.isMuted())("active",i.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[fi],attrs:VG,decls:1,vars:1,template:function(e,i){1&e&&s(0),2&e&&We(i.i18n.getDayNumerals(i.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),Yq=(()=>{class n{constructor(e,i){this.i18n=e,this._renderer=i,this.select=new X,this._month=-1,this._year=-1}changeMonth(e){this.select.emit(new xi(this.date.year,ir(e),1))}changeYear(e){this.select.emit(new xi(ir(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(e){return new(e||n)(w(Pu),w(Xi))},n.\u0275cmp=ie({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(e,i){if(1&e&&(dt(BG,7,Pt),dt(HG,7,Pt)),2&e){let r;ke(r=Me())&&(i.monthSelect=r.first),ke(r=Me())&&(i.yearSelect=r.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[fi],decls:6,vars:4,consts:function(){let t,e,i,r;return t=$localize`:@@ngb.datepicker.select-month:Select month`,e=$localize`:@@ngb.datepicker.select-month:Select month`,i=$localize`:@@ngb.datepicker.select-year:Select year`,r=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",t,"title",e,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",i,"title",r,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(e,i){1&e&&(p(0,"select",0,1),A("change",function(o){return i.changeMonth(o.target.value)}),S(2,jG,2,3,"option",2),m(),p(3,"select",3,4),A("change",function(o){return i.changeYear(o.target.value)}),S(5,zG,2,2,"option",2),m()),2&e&&(v("disabled",i.disabled),_(2),v("ngForOf",i.months),_(1),v("disabled",i.disabled),_(2),v("ngForOf",i.years))},dependencies:[Ye],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),Jq=(()=>{class n{constructor(e){this.i18n=e,this.navigation=Nh,this.months=[],this.navigate=new X,this.select=new X}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(e){return new(e||n)(w(Pu))},n.\u0275cmp=ie({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[fi],decls:8,vars:4,consts:function(){let t,e,i,r;return t=$localize`:@@ngb.datepicker.previous-month:Previous month`,e=$localize`:@@ngb.datepicker.previous-month:Previous month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",t,"title",e,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",i,"title",r,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(e,i){1&e&&(p(0,"div",0)(1,"button",1),A("click",function(o){return i.onClickPrev(o)}),N(2,"span",2),m()(),S(3,GG,1,4,"ngb-datepicker-navigation-select",3),S(4,ZG,1,1,null,4),p(5,"div",5)(6,"button",6),A("click",function(o){return i.onClickNext(o)}),N(7,"span",2),m()()),2&e&&(_(1),v("disabled",i.prevDisabled),_(2),v("ngIf",i.showSelect),_(1),v("ngIf",!i.showSelect),_(2),v("disabled",i.nextDisabled))},dependencies:[me,Ye,Yq],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var Bt=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Bt||(Bt={})),Bt))();let Xq=(()=>{class n{processKey(e,i){const{state:r,calendar:o}=i;switch(e.which){case Bt.PageUp:i.focusDate(o.getPrev(r.focusedDate,e.shiftKey?"y":"m",1));break;case Bt.PageDown:i.focusDate(o.getNext(r.focusedDate,e.shiftKey?"y":"m",1));break;case Bt.End:i.focusDate(e.shiftKey?r.maxDate:r.lastDate);break;case Bt.Home:i.focusDate(e.shiftKey?r.minDate:r.firstDate);break;case Bt.ArrowLeft:i.focusDate(o.getPrev(r.focusedDate,"d",1));break;case Bt.ArrowUp:i.focusDate(o.getPrev(r.focusedDate,"d",o.getDaysPerWeek()));break;case Bt.ArrowRight:i.focusDate(o.getNext(r.focusedDate,"d",1));break;case Bt.ArrowDown:i.focusDate(o.getNext(r.focusedDate,"d",o.getDaysPerWeek()));break;case Bt.Enter:case Bt.Space:i.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ES=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=ht.Short}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(){return function eQ(){return new tQ}()},providedIn:"root"}),n})(),tQ=(()=>{class n extends Rh{fromModel(e){return e&&Gn(e.year)&&Gn(e.month)&&Gn(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&Gn(e.year)&&Gn(e.month)&&Gn(e.day)?{year:e.year,month:e.month,day:e.day}:null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),aA=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(w(Dn))},n.\u0275dir=de({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),kS=(()=>{class n{constructor(e,i,r,o){this.i18n=e,this.datepicker=i,this._keyboardService=r,this._service=o}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){!e.context.disabled&&!e.hidden&&this.datepicker.onDateSelect(e.date)}}return n.\u0275fac=function(e){return new(e||n)(w(Pu),w(lt(()=>tb)),w(Xq),w(DS))},n.\u0275cmp=ie({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(e,i){1&e&&A("keydown",function(o){return i.onKeyDown(o)})},inputs:{month:"month"},standalone:!0,features:[fi],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(S(0,JG,3,2,"div",0),S(1,rW,1,1,"ng-template",1)),2&e&&(v("ngIf",i.viewModel.weekdays.length>0),_(1),v("ngForOf",i.viewModel.weeks))},dependencies:[me,Ye,Ro],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),tb=(()=>{class n{constructor(e,i,r,o,a,c,u,h){this._service=e,this._calendar=i,this.i18n=r,this._elementRef=c,this._ngbDateAdapter=u,this._ngZone=h,this._controlValue=null,this._destroyed$=new je,this._publicState={},this.navigate=new X,this.dateSelect=new X,this.onChange=f=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(f=>this[f]=o[f]),e.dateSelect$.pipe(Xn(this._destroyed$)).subscribe(f=>{this.dateSelect.emit(f)}),e.model$.pipe(Xn(this._destroyed$)).subscribe(f=>{const y=f.firstDate,T=this.model?this.model.firstDate:null;this._publicState={maxDate:f.maxDate,minDate:f.minDate,firstDate:f.firstDate,lastDate:f.lastDate,focusedDate:f.focusDate,months:f.months.map(Q=>Q.firstDate)};let E=!1;if(!y.equals(T)&&(this.navigate.emit({current:T?{year:T.year,month:T.month}:null,next:{year:y.year,month:y.month},preventDefault:()=>E=!0}),E&&null!==T))return void this._service.open(T);const P=f.selectedDate,$=f.focusDate,G=this.model?this.model.focusDate:null;this.model=f,Ah(P,this._controlValue)&&(this._controlValue=P,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(P))),Ah($,G)&&G&&f.focusVisible&&this.focus(),a.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(e){this._service.focus(xi.from(e))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(bn(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(xi.from(e?e.day?e:{...e,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=zi(this._contentEl.nativeElement,"focusin"),i=zi(this._contentEl.nativeElement,"focusout"),{nativeElement:r}=this._elementRef;Yo(e,i).pipe(Ot(({target:o,relatedTarget:a})=>!(QO(o,"ngb-dp-day")&&QO(a,"ngb-dp-day")&&r.contains(o)&&r.contains(a))),Xn(this._destroyed$)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(i=>e[i]=this[i]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(e){const i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(r=>r in e).forEach(r=>i[r]=this[r]),this._service.set(i),"startDate"in e){const{currentValue:r,previousValue:o}=e.startDate;oA(o,r)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case Nh.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Nh.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=xi.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}}return n.\u0275fac=function(e){return new(e||n)(w(DS),w(qm),w(Pu),w(ES),w(tr),w(Pt),w(Rh),w(bt))},n.\u0275cmp=ie({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(e,i,r){if(1&e&&Rn(r,aA,7),2&e){let o;ke(o=Me())&&(i.contentTemplate=o.first)}},viewQuery:function(e,i){if(1&e&&(dt(oW,7),dt(sW,7)),2&e){let r;ke(r=Me())&&(i._defaultDayTemplate=r.first),ke(r=Me())&&(i._contentEl=r.first)}},hostVars:2,hostBindings:function(e,i){2&e&&Be("disabled",i.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[Wt([{provide:_r,useExisting:lt(()=>n),multi:!0},DS]),Ft,fi],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(e,i){if(1&e&&(S(0,aW,1,5,"ng-template",null,0,ae),S(2,uW,1,1,"ng-template",null,1,ae),p(4,"div",2),S(5,dW,1,7,"ngb-datepicker-navigation",3),m(),p(6,"div",4,5),S(8,hW,0,0,"ng-template",6),m(),S(9,pW,0,0,"ng-template",6)),2&e){const r=re(3);_(5),v("ngIf","none"!==i.navigation),_(1),Be("ngb-dp-months",!i.contentTemplate),_(2),v("ngTemplateOutlet",(null==i.contentTemplate?null:i.contentTemplate.templateRef)||r),_(1),v("ngTemplateOutlet",i.footerTemplate)}},dependencies:[me,Ye,Ro,Kq,kS,Jq],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();const nb=(n,t)=>!!t&&t.some(e=>e.contains(n)),lA=(n,t)=>!t||null!=function yq(n,t){return!t||typeof n.closest>"u"?null:n.closest(t)}(n,t),nQ=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function MS(n,t,e,i,r,o,a,c){e&&n.runOutsideAngular((n=>nQ?()=>setTimeout(()=>n(),100):n)(()=>{const h=zi(t,"keydown").pipe(Xn(r),Ot(T=>T.which===Bt.Escape),Fn(T=>T.preventDefault())),f=zi(t,"mousedown").pipe(pe(T=>{const E=T.target;return 2!==T.button&&!nb(E,a)&&("inside"===e?nb(E,o)&&lA(E,c):"outside"===e?!nb(E,o):lA(E,c)||!nb(E,o))}),Xn(r)),y=zi(t,"mouseup").pipe(Hw(f),Ot(([T,E])=>E),jw(0),Xn(r));M2([h.pipe(pe(T=>0)),y.pipe(pe(T=>1))]).subscribe(T=>n.run(()=>i(T)))}))}const cA=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function uA(n){const t=Array.from(n.querySelectorAll(cA)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const dA=(n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=zi(t,"focusin").pipe(Xn(e),pe(o=>o.target));zi(t,"keydown").pipe(Xn(e),Ot(o=>o.which===Bt.Tab),Hw(r)).subscribe(([o,a])=>{const[c,u]=uA(t);(a===c||a===t)&&o.shiftKey&&(u.focus(),o.preventDefault()),a===u&&!o.shiftKey&&(c.focus(),o.preventDefault())}),i&&zi(t,"click").pipe(Xn(e),Hw(r),pe(o=>o[1])).subscribe(o=>o.focus())})};let rQ=(()=>{class n{constructor(e){this._element=e.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return n.\u0275fac=function(e){return new(e||n)(R(ln))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oQ=/\s+/,sQ=/  +/gi,aQ={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},cQ=/^left/,uQ=/^right/,dQ=/^start/,hQ=/^end/;function hA({placement:n,baseClass:t},e){let i=Array.isArray(n)?n:n.split(oQ),o=i.findIndex(h=>"auto"===h);o>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(h){null==i.find(f=>-1!==f.search("^"+h))&&i.splice(o++,1,h)});const a=i.map(h=>function lQ(n,t){const[e,i]=aQ[n];return t&&i||e}(h,e.isRTL()));return{placement:a.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:h}){const f=new RegExp(t+"(-[a-z]+)*","gi"),y=h.elements.popper,T=h.placement;let E=y.className;E=E.replace(f,""),E+=` ${function pQ(n,t){let[e,i]=t.split("-");const r=e.replace(cQ,"start").replace(uQ,"end");let o=[r];if(i){let a=i;("left"===e||"right"===e)&&(a=a.replace(dQ,"top").replace(hQ,"bottom")),o.push(`${r}-${a}`)}return n&&(o=o.map(a=>`${n}-${a}`)),o.join(" ")}(t,T)}`,E=E.trim().replace(sQ," "),y.className=E}},Q9,J9,nG,{enabled:!0,name:"flip",options:{fallbackPlacements:a}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function pA(n){return n}function xS(){const n=rt(rQ);let t=null;return{createPopper(e){if(!t){let r=(e.updatePopperOptions||pA)(hA(e,n));t=SG(e.hostElement,e.targetElement,r)}},update(){t&&t.update()},setOptions(e){if(t){let r=(e.updatePopperOptions||pA)(hA(e,n));t.setOptions(r)}},destroy(){t&&(t.destroy(),t=null)}}}let fA=(()=>{class n extends ES{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e,this.restoreFocus=!0}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let ib=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(){return function fQ(){return new mQ}()},providedIn:"root"}),n})(),mQ=(()=>{class n extends ib{parse(e){if(null!=e){const i=e.trim().split("-");if(1===i.length&&ei(i[0]))return{year:ir(i[0]),month:null,day:null};if(2===i.length&&ei(i[0])&&ei(i[1]))return{year:ir(i[0]),month:ir(i[1]),day:null};if(3===i.length&&ei(i[0])&&ei(i[1])&&ei(i[2]))return{year:ir(i[0]),month:ir(i[1]),day:ir(i[2])}}return null}format(e){return e?`${e.year}-${ei(e.month)?Ph(e.month):""}-${ei(e.day)?Ph(e.day):""}`:""}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),gA=(()=>{class n{constructor(e,i,r,o,a,c,u,h,f,y){this._parserFormatter=e,this._elRef=i,this._vcRef=r,this._renderer=o,this._ngZone=a,this._calendar=c,this._dateAdapter=u,this._document=h,this._changeDetector=f,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._destroyCloseHandlers$=new je,this.dateSelect=new X,this.navigate=new X,this.closed=new X,this._onChange=T=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement","popperOptions"].forEach(T=>this[T]=y[T]),this._positioning=xS()}get disabled(){return this._disabled}set disabled(e){this._disabled=""===e||e&&"false"!==e,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}registerOnValidatorChange(e){this._validatorChange=e}setDisabledState(e){this.disabled=e}validate(e){const{value:i}=e;if(null!=i){const r=this._fromDateStruct(this._dateAdapter.fromModel(i));if(!r)return{ngbDate:{invalid:i}};if(this.minDate&&r.before(xi.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:i}}};if(this.maxDate&&r.after(xi.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:i}}}}return null}writeValue(e){this._model=this._fromDateStruct(this._dateAdapter.fromModel(e)),this._writeModelValue(this._model)}manualDateChange(e,i=!1){const r=e!==this._inputValue;r&&(this._inputValue=e,this._model=this._fromDateStruct(this._parserFormatter.parse(e))),(r||!i)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===e?null:e),i&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let e;if(this._cRef=this._vcRef.createComponent(tb),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(i=>{this.writeValue(i),this._onChange(i),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,dA(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus()),e=Ih(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this._ngZone.runOutsideAngular(()=>{this._cRef&&(this._positioning.createPopper({hostElement:e,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:i=>this.popperOptions(function mA(n){return t=>(t.modifiers.push(EG,{name:"offset",options:{offset:()=>n}}),t)}([0,2])(i))}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this.positionTarget&&!e)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let e=this._elWithFocus;Ih(this.restoreFocus)?e=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(e=this.restoreFocus),e&&e.focus?e.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(e){this.isOpen()&&this._cRef.instance.navigateTo(e)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(e){if((e.minDate||e.maxDate)&&(this._validatorChange(),this.isOpen()&&(e.minDate&&(this._cRef.instance.minDate=this.minDate),e.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(e))),e.datepickerClass){const{currentValue:i,previousValue:r}=e.datepickerClass;this._applyPopupClass(i,r)}e.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(e){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(i=>{void 0!==this[i]&&e.setInput(i,this[i])}),e.setInput("startDate",this.startDate||this._model)}_applyPopupClass(e,i){const r=this._cRef?.location.nativeElement;r&&(e&&this._renderer.addClass(r,e),i&&this._renderer.removeClass(r,i))}_applyPopupStyling(e){this._renderer.addClass(e,"dropdown-menu"),this._renderer.addClass(e,"show"),"body"===this.container&&this._renderer.addClass(e,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(e){e.navigate.subscribe(i=>this.navigate.emit(i)),e.dateSelect.subscribe(i=>{this.dateSelect.emit(i),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(e){const i=this._parserFormatter.format(e);this._inputValue=i,this._renderer.setProperty(this._elRef.nativeElement,"value",i),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(e)),this._onTouched())}_fromDateStruct(e){const i=e?new xi(e.year,e.month,e.day):null;return this._calendar.isValid(i)?i:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),MS(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}return n.\u0275fac=function(e){return new(e||n)(w(ib),w(Pt),w(Fr),w(Xi),w(bt),w(qm),w(Rh),w(ln),w(tr),w(fA))},n.\u0275dir=de({type:n,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(e,i){1&e&&A("input",function(o){return i.manualDateChange(o.target.value)})("change",function(o){return i.manualDateChange(o.target.value,!0)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),2&e&&yl("disabled",i.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],standalone:!0,features:[Wt([{provide:_r,useExisting:lt(()=>n),multi:!0},{provide:nr,useExisting:lt(()=>n),multi:!0},{provide:ES,useExisting:fA}]),Ft]}),n})();new Date(1882,10,12),new Date(2174,10,25);let wA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[tb,kS]}),n})(),EA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({}),n})();class Nu{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class DQ{constructor(t,e,i,r,o,a){this._componentType=t,this._injector=e,this._viewContainerRef=i,this._renderer=r,this._ngZone=o,this._applicationRef=a,this._windowRef=null,this._contentRef=null}open(t,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,o=this._ngZone.onStable.pipe(bn(1),pn(()=>Mi(this._ngZone,r,({classList:a})=>a.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(t=!1){return this._windowRef?Mi(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:t,runningTransition:"stop"}).pipe(Fn(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):Se(void 0)}_getContentRef(t,e){if(t){if(t instanceof Dn){const i=t.createEmbeddedView(e);return this._applicationRef.attachView(i),new Nu([i.rootNodes],i)}return new Nu([[this._renderer.createText(`${t}`)]])}return new Nu([])}}let EQ=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(bn(1)).subscribe(()=>{Mi(this._zone,this._el.nativeElement,(e,i)=>{i&&Oh(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Mi(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(w(Pt),w(bt))},n.\u0275cmp=ie({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(ji("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Be("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[fi],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class kA{close(t){}dismiss(t){}}class kQ{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new je,this._dismissed=new je,this._hidden=new je,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,a)=>{this._resolve=o,this._reject=a}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Xn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Xn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function qO(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Se(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),xy(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Km=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Km||(Km={})),Km))();let MQ=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new je,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new X,this.shown=new je,this.hidden=new je}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ih(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(bn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},a=xy(Mi(this._zone,e,()=>e.classList.remove("show"),i),Mi(this._zone,this._dialogEl.nativeElement,()=>{},i));return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){const e={animation:this.animation,runningTransition:"continue"};xy(Mi(this._zone,this._elRef.nativeElement,(o,a)=>{a&&Oh(o),o.classList.add("show")},e),Mi(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{zi(e,"keydown").pipe(Xn(this._closed$),Ot(r=>r.which===Bt.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Km.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;zi(this._dialogEl.nativeElement,"mousedown").pipe(Xn(this._closed$),Fn(()=>i=!1),zn(()=>zi(e,"mouseup").pipe(Xn(this._closed$),bn(1))),Ot(({target:r})=>e===r)).subscribe(()=>{i=!0}),zi(e,"click").pipe(Xn(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Km.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=uA(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Mi(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(w(ln),w(Pt),w(bt))},n.\u0275cmp=ie({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&dt(fW,7),2&e){let r;ke(r=Me())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(Et("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),ji("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Be("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[fi],ngContentSelectors:Hm,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(_l(),p(0,"div",0,1)(2,"div",2),vl(3),m()()),2&e&&ji("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),xQ=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:a}=r;if(e>0){const c=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${c+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=a),r.overflow=o}}}return n.\u0275fac=function(e){return new(e||n)(R(ln))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IQ=(()=>{class n{constructor(e,i,r,o,a,c,u){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=o,this._scrollBar=a,this._rendererFactory=c,this._ngZone=u,this._activeWindowCmptHasChanged=new je,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new X,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const h=this._windowCmpts[this._windowCmpts.length-1];dA(this._ngZone,h.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(h.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:xu(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const c=new kA,u=(e=r.injector||e).get(ls,null)||this._environmentInjector,h=this._getContentRef(e,u,i,c,r);let f=!1!==r.backdrop?this._attachBackdrop(o):void 0,y=this._attachWindowComponent(o,h.nodes),T=new kQ(y,h,f,r.beforeDismiss);return this._registerModalRef(T),this._registerWindowCmpt(y),T.hidden.pipe(bn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),c.close=E=>{T.close(E)},c.dismiss=E=>{T.dismiss(E)},this._applyWindowOptions(y.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),f&&f.instance&&(this._applyBackdropOptions(f.instance,r),f.changeDetectorRef.detectChanges()),y.changeDetectorRef.detectChanges(),T}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=LC(EQ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=LC(MQ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{xu(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{xu(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,o,a){return r?r instanceof Dn?this._createFromTemplateRef(r,o):Ih(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,a):new Nu([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(a){i.close(a)},dismiss(a){i.dismiss(a)}});return this._applicationRef.attachView(o),new Nu([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Nu([[i]])}_createFromComponent(e,i,r,o,a){const u=LC(r,{environmentInjector:i,elementInjector:Hi.create({providers:[{provide:kA,useValue:o}],parent:e})}),h=u.location.nativeElement;return a.scrollable&&h.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Nu([[h]],u.hostView,u)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(R(yc),R(Hi),R(ls),R(ln),R(xQ),R(Xd),R(bt))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PQ=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(R(Mc))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AS=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(R(Hi),R(IQ),R(PQ))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({providers:[AS]}),n})();const NQ=({classList:n})=>(n.remove("show"),()=>n.remove("active")),RQ=(n,t)=>{t&&Oh(n),n.classList.add("show")};let FS=(()=>{class n{constructor(e){this.elRef=e}}return n.\u0275fac=function(e){return new(e||n)(w(Pt))},n.\u0275dir=de({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(e,i){2&e&&(yl("id",i.item.panelDomId),Et("role",i.role?i.role:i.nav.roles?"tabpanel":void 0)("aria-labelledby",i.item.domId),Be("fade",i.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),OA=(()=>{class n{constructor(e,i){this._cd=e,this._ngZone=i,this._activePane=null}isPanelTransitioning(e){return this._activePane?.item===e}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Xn(this.nav.destroy$),Su(this._activePane?.item||null),Iy(),P2(1)).subscribe(e=>{const i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Mi(this._ngZone,this._activePane.elRef.nativeElement,NQ,i).subscribe(()=>{const r=this._activePane?.item;this._activePane=this._getPaneForItem(e),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Mi(this._ngZone,this._activePane.elRef.nativeElement,RQ,i).subscribe(()=>{e&&(e.shown.emit(),this.nav.shown.emit(e.id))})),r&&(r.hidden.emit(),this.nav.hidden.emit(r.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(e){return this._panes&&this._panes.find(i=>i.item===e)||null}_getActivePane(){return this._panes&&this._panes.find(e=>e.item.active)||null}}return n.\u0275fac=function(e){return new(e||n)(w(tr),w(bt))},n.\u0275cmp=ie({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(e,i){if(1&e&&dt(FS,5),2&e){let r;ke(r=Me())&&(i._panes=r)}},hostVars:2,hostBindings:function(e,i){2&e&&Be("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[fi],attrs:mW,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&S(0,yW,1,1,"ng-template",0),2&e&&v("ngForOf",i.nav.items)},dependencies:[FS,Ye,me,Ro],encapsulation:2,changeDetection:0}),n})(),AA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[OA]}),n})(),FQ=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NA=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(w(Dn))},n.\u0275dir=de({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),RA=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(w(Dn))},n.\u0275dir=de({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),FA=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(w(Dn))},n.\u0275dir=de({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),LA=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(w(Dn))},n.\u0275dir=de({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),$A=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(w(Dn))},n.\u0275dir=de({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),UA=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(w(Dn))},n.\u0275dir=de({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),VA=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(w(Dn))},n.\u0275dir=de({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),BA=(()=>{class n{constructor(e){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new X(!0),this.disabled=e.disabled,this.boundaryLinks=e.boundaryLinks,this.directionLinks=e.directionLinks,this.ellipses=e.ellipses,this.maxSize=e.maxSize,this.pageSize=e.pageSize,this.rotate=e.rotate,this.size=e.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(e){this._updatePages(e)}ngOnChanges(e){this._updatePages(this.page)}isEllipsis(e){return-1===e}_applyEllipses(e,i){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let e=0,i=this.pageCount,r=Math.floor(this.maxSize/2);return this.page<=r?i=this.maxSize:this.pageCount-this.page<r?e=this.pageCount-this.maxSize:(e=this.page-r-1,i=this.page+(this.maxSize%2==0?r-1:r)),[e,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(e){const i=this.page;this.page=Zy(e,this.pageCount,1),this.page!==i&&ei(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),ei(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,r=this.pageCount;[i,r]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,r),this._applyEllipses(i,r)}}}return n.\u0275fac=function(e){return new(e||n)(w(FQ))},n.\u0275cmp=ie({type:n,selectors:[["ngb-pagination"]],contentQueries:function(e,i,r){if(1&e&&(Rn(r,NA,5),Rn(r,RA,5),Rn(r,FA,5),Rn(r,LA,5),Rn(r,$A,5),Rn(r,UA,5),Rn(r,VA,5)),2&e){let o;ke(o=Me())&&(i.tplEllipsis=o.first),ke(o=Me())&&(i.tplFirst=o.first),ke(o=Me())&&(i.tplLast=o.first),ke(o=Me())&&(i.tplNext=o.first),ke(o=Me())&&(i.tplNumber=o.first),ke(o=Me())&&(i.tplPrevious=o.first),ke(o=Me())&&(i.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[Ft,fi],decls:20,vars:12,consts:function(){let t,e,i,r,o,a,c,u;return t=$localize`:@@ngb.pagination.first:««`,e=$localize`:@@ngb.pagination.previous:«`,i=$localize`:@@ngb.pagination.next:»`,r=$localize`:@@ngb.pagination.last:»»`,o=$localize`:@@ngb.pagination.first-aria:First`,a=$localize`:@@ngb.pagination.previous-aria:Previous`,c=$localize`:@@ngb.pagination.next-aria:Next`,u=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],t,e,i,r,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",u,"href","",1,"page-link",3,"click"]]},template:function(e,i){if(1&e&&(S(0,bW,2,0,"ng-template",null,0,ae),S(2,CW,2,0,"ng-template",null,1,ae),S(4,wW,2,0,"ng-template",null,2,ae),S(6,SW,2,0,"ng-template",null,3,ae),S(8,TW,1,0,"ng-template",null,4,ae),S(10,EW,2,2,"ng-template",null,5,ae),S(12,NW,1,1,"ng-template",null,6,ae),p(14,"ul"),S(15,FW,3,9,"li",7),S(16,UW,3,8,"li",7),S(17,VW,0,0,"ng-template",8),S(18,HW,3,9,"li",7),S(19,zW,3,9,"li",7),m()),2&e){const r=re(13);_(14),ji("pagination"+(i.size?" pagination-"+i.size:"")),_(1),v("ngIf",i.boundaryLinks),_(1),v("ngIf",i.directionLinks),_(1),v("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||r)("ngTemplateOutletContext",vh(8,GW,i.page,i.pages,i.disabled)),_(1),v("ngIf",i.directionLinks),_(1),v("ngIf",i.boundaryLinks)}},dependencies:[me,Ye,Ro],encapsulation:2,changeDetection:0}),n})(),HA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[BA]}),n})();class LQ{constructor(t,e){this.open=t,this.close=e,e||(this.close=t)}isManual(){return"manual"===this.open||"manual"===this.close}}const $Q={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},jA=n=>n>0?jw(n):t=>t;let zA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({}),n})(),jQ=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zQ=(()=>{class n{constructor(e){this.value=0,this.max=e.max,this.animated=e.animated,this.ariaLabel=e.ariaLabel,this.striped=e.striped,this.textType=e.textType,this.type=e.type,this.showValue=e.showValue,this.height=e.height}set max(e){this._max=!ei(e)||e<=0?100:e}get max(){return this._max}getValue(){return Zy(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(e){return new(e||n)(w(jQ))},n.\u0275cmp=ie({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(e,i){2&e&&(Et("aria-valuenow",i.getValue())("aria-valuemax",i.max)("aria-label",i.ariaLabel),io("height",i.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[fi],ngContentSelectors:Hm,decls:3,vars:11,consts:function(){let t;return t=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],t]},template:function(e,i){1&e&&(_l(),p(0,"div"),S(1,QW,3,3,"span",0),vl(2),m()),2&e&&(function OM(n,t,e,i,r){Ls(Po,xa,sh(F(),n,t,e,i,r),!0)}("progress-bar",i.type?i.textType?" bg-"+i.type:" text-bg-"+i.type:"","",i.textType?" text-"+i.textType:"",""),io("width",i.getPercentValue(),"%"),Be("progress-bar-animated",i.animated)("progress-bar-striped",i.striped),_(1),v("ngIf",i.showValue))},dependencies:[me,sP],encapsulation:2,changeDetection:0}),n})(),GA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[zQ]}),n})(),GQ=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WQ=(()=>{class n{constructor(e,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new X,this.leave=new X,this.rateChange=new X(!0),this.onChange=r=>{},this.onTouched=()=>{},this.max=e.max,this.readonly=e.readonly,this.tabindex=e.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(e){this.isInteractive()&&this._updateState(e),this.hover.emit(e)}handleBlur(){this.onTouched()}handleClick(e){this.isInteractive()&&this.update(this.resettable&&this.rate===e?0:e)}handleKeyDown(e){switch(e.which){case Bt.ArrowDown:case Bt.ArrowLeft:this.update(this.rate-1);break;case Bt.ArrowUp:case Bt.ArrowRight:this.update(this.rate+1);break;case Bt.Home:this.update(0);break;case Bt.End:this.update(this.max);break;default:return}e.preventDefault()}ngOnChanges(e){e.rate&&this.update(this.rate),e.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(e){this.disabled=e}update(e,i=!0){const r=Zy(e,this.max,0);this.isInteractive()&&this.rate!==r&&(this.rate=r,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(e){this.update(e,!1),this._changeDetectorRef.markForCheck()}_updateState(e){this.nextRate=e,this.contexts.forEach((i,r)=>i.fill=Math.round(100*Zy(e-r,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(e,i)=>({fill:0,index:i}))}}return n.\u0275fac=function(e){return new(e||n)(w(GQ),w(tr))},n.\u0275cmp=ie({type:n,selectors:[["ngb-rating"]],contentQueries:function(e,i,r){if(1&e&&Rn(r,Dn,5),2&e){let o;ke(o=Me())&&(i.starTemplateFromContent=o.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(e,i){1&e&&A("blur",function(){return i.handleBlur()})("keydown",function(o){return i.handleKeyDown(o)})("mouseleave",function(){return i.reset()}),2&e&&(yl("tabindex",i.disabled?-1:i.tabindex),Et("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText())("aria-disabled",!!i.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[Wt([{provide:_r,useExisting:lt(()=>n),multi:!0}]),Ft,fi],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(S(0,ZW,1,1,"ng-template",null,0,ae),S(2,YW,4,5,"ng-template",1)),2&e&&(_(2),v("ngForOf",i.contexts))},dependencies:[Ye,Ro],encapsulation:2,changeDetection:0}),n})(),WA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[WQ]}),n})();class qA{constructor(t,e,i){this.hour=ir(t),this.minute=ir(e),this.second=ir(i)}changeHour(t=1){this.updateHour((isNaN(this.hour)?0:this.hour)+t)}updateHour(t){this.hour=ei(t)?(t<0?24+t:t)%24:NaN}changeMinute(t=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+t)}updateMinute(t){ei(t)?(this.minute=t%60<0?60+t%60:t%60,this.changeHour(Math.floor(t/60))):this.minute=NaN}changeSecond(t=1){this.updateSecond((isNaN(this.second)?0:this.second)+t)}updateSecond(t){ei(t)?(this.second=t<0?60+t%60:t%60,this.changeMinute(Math.floor(t/60))):this.second=NaN}isValid(t=!0){return ei(this.hour)&&ei(this.minute)&&(!t||ei(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let qQ=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(){return function QQ(){return new ZQ}()},providedIn:"root"}),n})(),ZQ=(()=>{class n extends QA{fromModel(e){return e&&Gn(e.hour)&&Gn(e.minute)?{hour:e.hour,minute:e.minute,second:Gn(e.second)?e.second:null}:null}toModel(e){return e&&Gn(e.hour)&&Gn(e.minute)?{hour:e.hour,minute:e.minute,second:Gn(e.second)?e.second:null}:null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),ZA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(e){let i=null;return i=e?new e:function KQ(n){return new YQ(n)}(R(No)),i},providedIn:"root"}),n})(),YQ=(()=>{class n extends ZA{constructor(e){super(),this._periods=UI(e,On.Standalone,ht.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(e){return new(e||n)(R(No))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const JQ=/[^0-9]/g;let XQ=(()=>{class n{constructor(e,i,r,o){this._config=e,this._ngbTimeAdapter=i,this._cd=r,this.i18n=o,this.onChange=a=>{},this.onTouched=()=>{},this.meridian=e.meridian,this.spinners=e.spinners,this.seconds=e.seconds,this.hourStep=e.hourStep,this.minuteStep=e.minuteStep,this.secondStep=e.secondStep,this.disabled=e.disabled,this.readonlyInputs=e.readonlyInputs,this.size=e.size}set hourStep(e){this._hourStep=Gn(e)?e:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(e){this._minuteStep=Gn(e)?e:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(e){this._secondStep=Gn(e)?e:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(e){const i=this._ngbTimeAdapter.fromModel(e);this.model=i?new qA(i.hour,i.minute,i.second):new qA,!this.seconds&&(!i||!ei(i.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}changeHour(e){this.model?.changeHour(e),this.propagateModelChange()}changeMinute(e){this.model?.changeMinute(e),this.propagateModelChange()}changeSecond(e){this.model?.changeSecond(e),this.propagateModelChange()}updateHour(e){const i=!!this.model&&this.model.hour>=12,r=ir(e);this.model?.updateHour(this.meridian&&(i&&r<12||!i&&12===r)?r+12:r),this.propagateModelChange()}updateMinute(e){this.model?.updateMinute(ir(e)),this.propagateModelChange()}updateSecond(e){this.model?.updateSecond(ir(e)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(e){e.value=e.value.replace(JQ,"")}formatHour(e){return ei(e)?Ph(this.meridian?e%12==0?12:e%12:e%24):Ph(NaN)}formatMinSec(e){return Ph(ei(e)?e:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(e){e.seconds&&!this.seconds&&this.model&&!ei(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(e=!0){e&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(e){return new(e||n)(w(qQ),w(QA),w(tr),w(ZA))},n.\u0275cmp=ie({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[Wt([{provide:_r,useExisting:lt(()=>n),multi:!0}]),Ft,fi],decls:16,vars:25,consts:function(){let t,e,i,r,o,a,c,u,h,f,y,T,E,P;return t=$localize`:@@ngb.timepicker.HH:HH`,e=$localize`:@@ngb.timepicker.hours:Hours`,i=$localize`:@@ngb.timepicker.MM:MM`,r=$localize`:@@ngb.timepicker.minutes:Minutes`,o=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,a=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,c=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,u=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,h=$localize`:@@ngb.timepicker.SS:SS`,f=$localize`:@@ngb.timepicker.seconds:Seconds`,y=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,T=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,E=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,P=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",t,"aria-label",e,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",i,"aria-label",r,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],o,[1,"chevron","ngb-tp-chevron","bottom"],a,c,u,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",h,"aria-label",f,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],y,T,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],E,P]},template:function(e,i){1&e&&(p(0,"fieldset",0)(1,"div",1)(2,"div",2),S(3,JW,4,7,"button",3),p(4,"input",4),A("change",function(o){return i.updateHour(o.target.value)})("blur",function(){return i.handleBlur()})("input",function(o){return i.formatInput(o.target)})("keydown.ArrowUp",function(o){return i.changeHour(i.hourStep),o.preventDefault()})("keydown.ArrowDown",function(o){return i.changeHour(-i.hourStep),o.preventDefault()}),m(),S(5,XW,4,7,"button",3),m(),p(6,"div",5),s(7,":"),m(),p(8,"div",6),S(9,eq,4,7,"button",3),p(10,"input",7),A("change",function(o){return i.updateMinute(o.target.value)})("blur",function(){return i.handleBlur()})("input",function(o){return i.formatInput(o.target)})("keydown.ArrowUp",function(o){return i.changeMinute(i.minuteStep),o.preventDefault()})("keydown.ArrowDown",function(o){return i.changeMinute(-i.minuteStep),o.preventDefault()}),m(),S(11,tq,4,7,"button",3),m(),S(12,nq,2,0,"div",8),S(13,oq,4,9,"div",9),S(14,sq,1,0,"div",8),S(15,cq,5,9,"div",10),m()()),2&e&&(Be("disabled",i.disabled),v("disabled",i.disabled),_(3),v("ngIf",i.spinners),_(1),Be("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),v("value",i.formatHour(null==i.model?null:i.model.hour))("readOnly",i.readonlyInputs)("disabled",i.disabled),_(1),v("ngIf",i.spinners),_(4),v("ngIf",i.spinners),_(1),Be("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),v("value",i.formatMinSec(null==i.model?null:i.model.minute))("readOnly",i.readonlyInputs)("disabled",i.disabled),_(1),v("ngIf",i.spinners),_(1),v("ngIf",i.seconds),_(1),v("ngIf",i.seconds),_(1),v("ngIf",i.meridian),_(1),v("ngIf",i.meridian))},dependencies:[me],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),KA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[XQ]}),n})();const eZ=(n,t)=>{const{classList:e}=n;if(t)return e.add("fade"),Oh(n),e.add("show","showing"),()=>{e.remove("showing")};e.add("show")},tZ=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let nZ=(()=>{class n{constructor(e){this._ngbConfig=e,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(R(Mc))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),rZ=(()=>{class n{constructor(e,i,r,o){this.ariaLive=e,this._zone=r,this._element=o,this.contentHeaderTpl=null,this.shown=new X,this.hidden=new X,null==this.ariaLive&&(this.ariaLive=i.ariaLive),this.delay=i.delay,this.autohide=i.autohide,this.animation=i.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(bn(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const e=Mi(this._zone,this._element.nativeElement,tZ,{animation:this.animation,runningTransition:"stop"});return e.subscribe(()=>{this.hidden.emit()}),e}show(){const e=Mi(this._zone,this._element.nativeElement,eZ,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>{this.shown.emit()}),e}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(e){return new(e||n)(pl("aria-live"),w(nZ),w(bt),w(Pt))},n.\u0275cmp=ie({type:n,selectors:[["ngb-toast"]],contentQueries:function(e,i,r){if(1&e&&Rn(r,iZ,7,Dn),2&e){let o;ke(o=Me())&&(i.contentHeaderTpl=o.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(e,i){2&e&&(Et("aria-live",i.ariaLive),Be("fade",i.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[Ft,fi],ngContentSelectors:Hm,decls:5,vars:1,consts:function(){let t;return t=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",t,1,"btn-close",3,"click"]]},template:function(e,i){1&e&&(_l(),S(0,uq,2,1,"ng-template",null,0,ae),S(2,hq,3,1,"ng-template",1),p(3,"div",2),vl(4),m()),2&e&&(_(2),v("ngIf",i.contentHeaderTpl||i.header))},dependencies:[me,Ro],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),YA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[rZ]}),n})(),oZ=(()=>{class n{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.popperOptions=i=>i,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(R(Mc))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sZ=0,aZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ie({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,i){2&e&&(yl("id",i.id),ji("tooltip"+(i.tooltipClass?" "+i.tooltipClass:"")),Be("fade",i.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[fi],ngContentSelectors:Hm,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(e,i){1&e&&(_l(),N(0,"div",0),p(1,"div",1),vl(2),m())},encapsulation:2,changeDetection:0}),n})(),Ym=(()=>{class n{constructor(e,i,r,o,a,c,u,h,f){this._elementRef=e,this._renderer=i,this._ngZone=c,this._document=u,this._changeDetector=h,this.shown=new X,this.hidden=new X,this._ngbTooltipWindowId="ngb-tooltip-"+sZ++,this._windowRef=null,this.animation=a.animation,this.autoClose=a.autoClose,this.placement=a.placement,this.popperOptions=a.popperOptions,this.triggers=a.triggers,this.container=a.container,this.disableTooltip=a.disableTooltip,this.tooltipClass=a.tooltipClass,this.openDelay=a.openDelay,this.closeDelay=a.closeDelay,this._popupService=new DQ(aZ,r,o,i,this._ngZone,f),this._positioning=xS()}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,e,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:o=>this.popperOptions(o)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),MS(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function HQ(n,t,e,i,r,o,a=0,c=0){const u=function UQ(n,t=$Q){const e=(n||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(o=>o.split(":")).map(o=>{let a=t[o[0]]||o;return new LQ(a[0],a[1])}),r=i.filter(o=>o.isManual());if(r.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===r.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(e);if(1===u.length&&u[0].isManual())return()=>{};const h=function VQ(n,t,e,i){return new Mt(r=>{const o=[],a=()=>r.next(!0),c=()=>r.next(!1),u=()=>r.next(!i());return e.forEach(h=>{h.open===h.close?o.push(n.listen(t,h.open,u)):o.push(n.listen(t,h.open,a),n.listen(t,h.close,c))}),()=>{o.forEach(h=>h())}})}(n,t,u,i).pipe(function BQ(n,t,e){return i=>{let r=null;const o=i.pipe(pe(u=>({open:u})),Ot(u=>{const h=e();return h===u.open||r&&r.open!==h?(r&&r.open!==u.open&&(r=null),!1):(r=u,!0)}),Ri());return Yo(o.pipe(Ot(u=>u.open),jA(n)),o.pipe(Ot(u=>!u.open),jA(t))).pipe(Ot(u=>u===r&&(r=null,u.open!==e())),pe(u=>u.open))}}(a,c,i)).subscribe(f=>f?r():o());return()=>h.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(Ih(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(w(Pt),w(Xi),w(Hi),w(Fr),w(oZ),w(bt),w(ln),w(tr),w(yc))},n.\u0275dir=de({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[Ft]}),n})(),JA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({}),n})(),lZ=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(e){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=WO(this.result),r=Array.isArray(this.term)?this.term:[this.term],o=h=>this.accentSensitive?h:ZO(h),a=r.map(h=>function vq(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(o(WO(h)))).filter(h=>h),c=this.accentSensitive?i:ZO(i),u=a.length?c.split(new RegExp(`(${a.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=u;else{let h=0;this.parts=u.map(f=>i.substring(h,h+=f.length))}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ie({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[Ft,fi],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(e,i){1&e&&S(0,mq,3,2,"ng-template",0),2&e&&v("ngForOf",i.parts)},dependencies:[me,Ye],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new Pe("live announcer delay",{providedIn:"root",factory:function cZ(){return 100}});let XA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[lZ]}),n})(),eN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({}),n})();const uZ=[JO,XO,iA,rA,wA,EA,MA,AA,eN,HA,zA,GA,WA,KA,YA,JA,XA];let dZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[uZ,JO,XO,iA,rA,wA,EA,MA,AA,eN,HA,zA,GA,WA,KA,YA,JA,XA]}),n})();function hZ(n,t){}const cb=()=>{const n=typeof window<"u"?window:void 0;return n&&n.tinymce?n.tinymce:null};let pZ=(()=>{class n{constructor(){this.onBeforePaste=new X,this.onBlur=new X,this.onClick=new X,this.onContextMenu=new X,this.onCopy=new X,this.onCut=new X,this.onDblclick=new X,this.onDrag=new X,this.onDragDrop=new X,this.onDragEnd=new X,this.onDragGesture=new X,this.onDragOver=new X,this.onDrop=new X,this.onFocus=new X,this.onFocusIn=new X,this.onFocusOut=new X,this.onKeyDown=new X,this.onKeyPress=new X,this.onKeyUp=new X,this.onMouseDown=new X,this.onMouseEnter=new X,this.onMouseLeave=new X,this.onMouseMove=new X,this.onMouseOut=new X,this.onMouseOver=new X,this.onMouseUp=new X,this.onPaste=new X,this.onSelectionChange=new X,this.onActivate=new X,this.onAddUndo=new X,this.onBeforeAddUndo=new X,this.onBeforeExecCommand=new X,this.onBeforeGetContent=new X,this.onBeforeRenderUI=new X,this.onBeforeSetContent=new X,this.onChange=new X,this.onClearUndos=new X,this.onDeactivate=new X,this.onDirty=new X,this.onExecCommand=new X,this.onGetContent=new X,this.onHide=new X,this.onInit=new X,this.onInitNgModel=new X,this.onLoadContent=new X,this.onNodeChange=new X,this.onPostProcess=new X,this.onPostRender=new X,this.onPreInit=new X,this.onPreProcess=new X,this.onProgressState=new X,this.onRedo=new X,this.onRemove=new X,this.onReset=new X,this.onResizeEditor=new X,this.onSaveContent=new X,this.onSetAttrib=new X,this.onObjectResizeStart=new X,this.onObjectResized=new X,this.onObjectSelected=new X,this.onSetContent=new X,this.onShow=new X,this.onSubmit=new X,this.onUndo=new X,this.onVisualAid=new X}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const tN=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],nN=(n,t)=>"string"==typeof n?n.split(",").map(e=>e.trim()):Array.isArray(n)?n:t;let iN=0;const rN=n=>{const e=(new Date).getTime(),i=Math.floor(1e9*Math.random());return iN++,n+"_"+i+iN+String(e)},oN=n=>typeof n<"u"&&"textarea"===n.tagName.toLowerCase(),sN=n=>typeof n>"u"||""===n?[]:Array.isArray(n)?n:n.split(" "),gZ=(n,t)=>sN(n).concat(sN(t)),_Z=()=>{},aN=n=>null==n,lN=()=>({listeners:[],scriptId:rN("tiny-script"),scriptLoaded:!1}),yZ=(()=>{let n=lN();return{load:(r,o,a)=>{n.scriptLoaded?a():(n.listeners.push(a),r.getElementById(n.scriptId)||((r,o,a,c)=>{const u=o.createElement("script");u.referrerPolicy="origin",u.type="application/javascript",u.id=r,u.src=a;const h=()=>{u.removeEventListener("load",h),n.listeners.forEach(c=>c()),n.scriptLoaded=!0};u.addEventListener("load",h),o.head&&o.head.appendChild(u)})(n.scriptId,r,o))},reinitialize:()=>{n=lN()}}})(),cN=new Pe("TINYMCE_SCRIPT_SRC"),bZ={provide:_r,useExisting:lt(()=>LS),multi:!0};let LS=(()=>{class n extends pZ{constructor(e,i,r,o){super(),this.platformId=r,this.tinymceScriptSrc=o,this.cloudChannel="5",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=_Z,this._elementRef=e,this.ngZone=i,this.initialise=this.initialise.bind(this)}set disabled(e){this._disabled=e,this._editor&&this._editor.initialized&&this._editor.setMode(e?"readonly":"design")}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(e){this._editor&&this._editor.initialized?this._editor.setContent(aN(e)?"":e):this.initialValue=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this._editor?this._editor.setMode(e?"readonly":"design"):e&&(this.init=Object.assign(Object.assign({},this.init),{readonly:!0}))}ngAfterViewInit(){var e;_m(this.platformId)&&(this.id=this.id||rN("tiny-angular"),this.inline=void 0!==this.inline?!1!==this.inline:!(null===(e=this.init)||void 0===e||!e.inline),this.createElement(),null!==cb()?this.initialise():this._element&&this._element.ownerDocument&&yZ.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise.bind(this)))}ngOnDestroy(){null!==cb()&&cb().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,oN(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}initialise(){const e=Object.assign(Object.assign({},this.init),{target:this._element,inline:this.inline,readonly:this.disabled,plugins:gZ(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:i=>{this._editor=i,i.on("init",r=>{this.initEditor(i)}),((n,t)=>{(n=>{const t=nN(n.ignoreEvents,[]);return nN(n.allowedEvents,tN).filter(i=>tN.includes(i)&&!t.includes(i))})(n).forEach(i=>{const r=n[i];t.on(i.substring(2),o=>n.ngZone.run(()=>r.emit({event:o,editor:t})))})})(this,i),this.init&&"function"==typeof this.init.setup&&this.init.setup(i)}});oN(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{cb().init(e)})}getScriptSrc(){return aN(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(e){e.on("blur",()=>this.ngZone.run(()=>this.onTouchedCallback())),e.on(this.modelEvents,()=>this.ngZone.run(()=>this.emitOnChange(e))),"string"==typeof this.initialValue&&this.ngZone.run(()=>{e.setContent(this.initialValue),e.getContent()!==this.initialValue&&this.emitOnChange(e),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(e)})}emitOnChange(e){this.onChangeCallback&&this.onChangeCallback(e.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(e){return new(e||n)(w(Pt),w(bt),w(Pa),w(cN,8))},n.\u0275cmp=ie({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",id:"id",modelEvents:"modelEvents",disabled:"disabled",initialValue:"initialValue",init:"init",inline:"inline",outputFormat:"outputFormat",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents"},features:[Wt([bZ]),ce],decls:1,vars:0,template:function(e,i){1&e&&S(0,hZ,0,0,"ng-template")},styles:["[_nghost-%COMP%] { display: block; }"]}),n})(),CZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[yu,xO]}),n})();function Ic(n,t){return pn(n,t,1)}class ub{}class $S{}class Wi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Wi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Wi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Wi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(c=>-1===o.indexOf(c)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class wZ{encodeKey(t){return uN(t)}encodeValue(t){return uN(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const TZ=/%(\d[a-f0-9])/gi,DZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uN(n){return encodeURIComponent(n).replace(TZ,(t,e)=>DZ[e]??t)}function db(n){return`${n}`}class Pc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new wZ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function SZ(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[a,c]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],u=e.get(a)||[];u.push(c),e.set(a,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(db):[db(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Pc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(db(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(db(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class EZ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function dN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function hN(n){return typeof Blob<"u"&&n instanceof Blob}function pN(n){return typeof FormData<"u"&&n instanceof FormData}class Jm{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function kZ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Wi),this.context||(this.context=new EZ),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+a}}else this.params=new Pc,this.urlWithParams=e}serializeBody(){return null===this.body?null:dN(this.body)||hN(this.body)||pN(this.body)||function MZ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||pN(this.body)?null:hN(this.body)?this.body.type||null:dN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,h=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((y,T)=>y.set(T,t.setHeaders[T]),u)),t.setParams&&(h=Object.keys(t.setParams).reduce((y,T)=>y.set(T,t.setParams[T]),h)),new Jm(e,i,o,{params:h,headers:u,context:f,reportProgress:c,responseType:r,withCredentials:a})}}var ti=(()=>((ti=ti||{})[ti.Sent=0]="Sent",ti[ti.UploadProgress=1]="UploadProgress",ti[ti.ResponseHeader=2]="ResponseHeader",ti[ti.DownloadProgress=3]="DownloadProgress",ti[ti.Response=4]="Response",ti[ti.User=5]="User",ti))();class US{constructor(t,e=200,i="OK"){this.headers=t.headers||new Wi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class VS extends US{constructor(t={}){super(t),this.type=ti.ResponseHeader}clone(t={}){return new VS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class hb extends US{constructor(t={}){super(t),this.type=ti.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new hb({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class fN extends US{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function BS(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let qt=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Jm)o=e;else{let u,h;u=r.headers instanceof Wi?r.headers:new Wi(r.headers),r.params&&(h=r.params instanceof Pc?r.params:new Pc({fromObject:r.params})),o=new Jm(e,i,void 0!==r.body?r.body:null,{headers:u,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=Se(o).pipe(Ic(u=>this.handler.handle(u)));if(e instanceof Jm||"events"===r.observe)return a;const c=a.pipe(Ot(u=>u instanceof hb));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(pe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(pe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(pe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return c.pipe(pe(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Pc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,BS(r,i))}post(e,i,r={}){return this.request("POST",e,BS(r,i))}put(e,i,r={}){return this.request("PUT",e,BS(r,i))}}return n.\u0275fac=function(e){return new(e||n)(R(ub))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();function mN(n,t){return t(n)}function xZ(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const gN=new Pe("HTTP_INTERCEPTORS"),Xm=new Pe("HTTP_INTERCEPTOR_FNS");function PZ(){let n=null;return(t,e)=>(null===n&&(n=(rt(gN,{optional:!0})??[]).reduceRight(xZ,mN)),n(t,e))}let _N=(()=>{class n extends ub{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Xm)));this.chain=i.reduceRight((r,o)=>function IZ(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(r,o,this.injector),mN)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(R($S),R(ls))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const RZ=/^\)\]\}',?\n/;let yN=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Mt(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((E,P)=>r.setRequestHeader(E,P.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const E=e.detectContentTypeHeader();null!==E&&r.setRequestHeader("Content-Type",E)}if(e.responseType){const E=e.responseType.toLowerCase();r.responseType="json"!==E?E:"text"}const o=e.serializeBody();let a=null;const c=()=>{if(null!==a)return a;const E=r.statusText||"OK",P=new Wi(r.getAllResponseHeaders()),$=function FZ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new VS({headers:P,status:r.status,statusText:E,url:$}),a},u=()=>{let{headers:E,status:P,statusText:$,url:G}=c(),Q=null;204!==P&&(Q=typeof r.response>"u"?r.responseText:r.response),0===P&&(P=Q?200:0);let te=P>=200&&P<300;if("json"===e.responseType&&"string"==typeof Q){const Y=Q;Q=Q.replace(RZ,"");try{Q=""!==Q?JSON.parse(Q):null}catch(se){Q=Y,te&&(te=!1,Q={error:se,text:Q})}}te?(i.next(new hb({body:Q,headers:E,status:P,statusText:$,url:G||void 0})),i.complete()):i.error(new fN({error:Q,headers:E,status:P,statusText:$,url:G||void 0}))},h=E=>{const{url:P}=c(),$=new fN({error:E,status:r.status||0,statusText:r.statusText||"Unknown Error",url:P||void 0});i.error($)};let f=!1;const y=E=>{f||(i.next(c()),f=!0);let P={type:ti.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(P.total=E.total),"text"===e.responseType&&r.responseText&&(P.partialText=r.responseText),i.next(P)},T=E=>{let P={type:ti.UploadProgress,loaded:E.loaded};E.lengthComputable&&(P.total=E.total),i.next(P)};return r.addEventListener("load",u),r.addEventListener("error",h),r.addEventListener("timeout",h),r.addEventListener("abort",h),e.reportProgress&&(r.addEventListener("progress",y),null!==o&&r.upload&&r.upload.addEventListener("progress",T)),r.send(o),i.next({type:ti.Sent}),()=>{r.removeEventListener("error",h),r.removeEventListener("abort",h),r.removeEventListener("load",u),r.removeEventListener("timeout",h),e.reportProgress&&(r.removeEventListener("progress",y),null!==o&&r.upload&&r.upload.removeEventListener("progress",T)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(R(cP))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const HS=new Pe("XSRF_ENABLED"),bN="XSRF-TOKEN",CN=new Pe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>bN}),wN="X-XSRF-TOKEN",SN=new Pe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>wN});class TN{}let LZ=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ZI(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(R(ln),R(Pa),R(CN))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();function $Z(n,t){const e=n.url.toLowerCase();if(!rt(HS)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=rt(TN).getToken(),r=rt(SN);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var si=(()=>((si=si||{})[si.Interceptors=0]="Interceptors",si[si.LegacyInterceptors=1]="LegacyInterceptors",si[si.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",si[si.NoXsrfProtection=3]="NoXsrfProtection",si[si.JsonpSupport=4]="JsonpSupport",si[si.RequestsMadeViaParent=5]="RequestsMadeViaParent",si))();function Lh(n,t){return{\u0275kind:n,\u0275providers:t}}function UZ(...n){const t=[qt,yN,_N,{provide:ub,useExisting:_N},{provide:$S,useExisting:yN},{provide:Xm,useValue:$Z,multi:!0},{provide:HS,useValue:!0},{provide:TN,useClass:LZ}];for(const e of n)t.push(...e.\u0275providers);return function l$(n){return{\u0275providers:n}}(t)}const DN=new Pe("LEGACY_INTERCEPTOR_FN");function BZ({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:CN,useValue:n}),void 0!==t&&e.push({provide:SN,useValue:t}),Lh(si.CustomXsrfConfiguration,e)}let HZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({providers:[UZ(Lh(si.LegacyInterceptors,[{provide:DN,useFactory:PZ},{provide:Xm,useExisting:DN,multi:!0}]),BZ({cookieName:bN,headerName:wN}))]}),n})();const pb=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function fb(n){return new Mt(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?un(e):ky()).subscribe(t)})}function mb(n=null){return t=>t.lift(new jZ(n))}class jZ{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new zZ(t,this.defaultValue))}}class zZ extends at{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function EN(n=qZ){return t=>t.lift(new GZ(n))}class GZ{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new WZ(t,this.errorFactory))}}class WZ extends at{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function qZ(){return new pb}function le(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ot((r,o)=>n(r,o,i)):Vn,bn(1),e?mb(t):EN(()=>new pb))}function jo(n){return function(e){const i=new QZ(n),r=e.lift(i);return i.caught=r}}class QZ{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ZZ(t,this.selector,this.caught))}}class ZZ extends Ni{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const i=new dr(this);this.add(i);const r=Kr(e,i);r!==i&&this.add(r)}}}function kN(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new KZ(n,t,e))}}class KZ{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new YZ(t,this.accumulator,this.seed,this.hasSeed))}}class YZ extends at{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function jS(n){return function(e){return 0===n?ky():e.lift(new JZ(n))}}class JZ{constructor(t){if(this.total=t,this.total<0)throw new I2}call(t,e){return e.subscribe(new XZ(t,this.total))}}class XZ extends at{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let o=0;o<i;o++){const a=e++%i;t.next(r[a])}}t.complete()}}function MN(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ot((r,o)=>n(r,o,i)):Vn,jS(1),e?mb(t):EN(()=>new pb))}class tK{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new nK(t,this.predicate,this.inclusive))}}class nK extends at{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;Boolean(e)?i.next(t):(this.inclusive&&i.next(t),i.complete())}}class rK{constructor(t){this.value=t}call(t,e){return e.subscribe(new oK(t,this.value))}}class oK extends at{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function zS(n){return t=>t.lift(new sK(n))}class sK{constructor(t){this.callback=t}call(t,e){return e.subscribe(new aK(t,this.callback))}}class aK extends at{constructor(t,e){super(t),this.add(new ft(e))}}const gt="primary",eg=Symbol("RouteTitle");class lK{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function $h(n){return new lK(n)}function cK(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const a=i[o],c=n[o];if(a.startsWith(":"))r[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Fa(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!xN(n[r],t[r]))return!1;return!0}function xN(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function IN(n){return Array.prototype.concat.apply([],n)}function PN(n){return n.length>0?n[n.length-1]:null}function rr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Oc(n){return Z0(n)?n:em(n)?un(Promise.resolve(n)):Se(n)}const gb=!1,dK={exact:function NN(n,t,e){if(!Fu(n.segments,t.segments)||!_b(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!NN(n.children[i],t.children[i],e))return!1;return!0},subset:RN},ON={exact:function hK(n,t){return Fa(n,t)},subset:function pK(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>xN(n[e],t[e]))},ignored:()=>!0};function AN(n,t,e){return dK[e.paths](n.root,t.root,e.matrixParams)&&ON[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function RN(n,t,e){return FN(n,t,t.segments,e)}function FN(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Fu(r,e)||t.hasChildren()||!_b(r,e,i))}if(n.segments.length===e.length){if(!Fu(n.segments,e)||!_b(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!RN(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Fu(n.segments,r)&&_b(n.segments,r,i)&&n.children[gt])&&FN(n.children[gt],t,o,i)}}function _b(n,t,e){return t.every((i,r)=>ON[e](n[r].parameters,i.parameters))}class Ru{constructor(t=new Nt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$h(this.queryParams)),this._queryParamMap}toString(){return gK.serialize(this)}}class Nt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,rr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vb(this)}}class tg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=$h(this.parameters)),this._parameterMap}toString(){return UN(this)}}function Fu(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let ng=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(){return new GS},providedIn:"root"}),n})();class GS{parse(t){const e=new DK(t);return new Ru(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ig(t.root,!0)}`,i=function yK(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${yb(e)}=${yb(r)}`).join("&"):`${yb(e)}=${yb(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function _K(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const gK=new GS;function vb(n){return n.segments.map(t=>UN(t)).join("/")}function ig(n,t){if(!n.hasChildren())return vb(n);if(t){const e=n.children[gt]?ig(n.children[gt],!1):"",i=[];return rr(n.children,(r,o)=>{o!==gt&&i.push(`${o}:${ig(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function mK(n,t){let e=[];return rr(n.children,(i,r)=>{r===gt&&(e=e.concat(t(i,r)))}),rr(n.children,(i,r)=>{r!==gt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===gt?[ig(n.children[gt],!1)]:[`${r}:${ig(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[gt]?`${vb(n)}/${e[0]}`:`${vb(n)}/(${e.join("//")})`}}function LN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yb(n){return LN(n).replace(/%3B/gi,";")}function WS(n){return LN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bb(n){return decodeURIComponent(n)}function $N(n){return bb(n.replace(/\+/g,"%20"))}function UN(n){return`${WS(n.path)}${function vK(n){return Object.keys(n).map(t=>`;${WS(t)}=${WS(n[t])}`).join("")}(n.parameters)}`}const bK=/^[^\/()?;=#]+/;function Cb(n){const t=n.match(bK);return t?t[0]:""}const CK=/^[^=?&#]+/,SK=/^[^&#]+/;class DK{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[gt]=new Nt(t,e)),i}parseSegment(){const t=Cb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ne(4009,gb);return this.capture(t),new tg(bb(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Cb(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Cb(this.remaining);r&&(i=r,this.capture(i))}t[bb(e)]=bb(i)}parseQueryParam(t){const e=function wK(n){const t=n.match(CK);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function TK(n){const t=n.match(SK);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=$N(e),o=$N(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Cb(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new ne(4010,gb);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=gt);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[gt]:new Nt([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ne(4011,gb)}}function qS(n){return n.segments.length>0?new Nt([],{[gt]:n}):n}function wb(n){const t={};for(const i of Object.keys(n.children)){const o=wb(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function EK(n){if(1===n.numberOfChildren&&n.children[gt]){const t=n.children[gt];return new Nt(n.segments.concat(t.segments),t.children)}return n}(new Nt(n.segments,t))}function Lu(n){return n instanceof Ru}function xK(n,t,e,i,r){if(0===e.length)return Uh(t.root,t.root,t.root,i,r);const o=function HN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new BN(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const c={};return rr(o.outlets,(u,h)=>{c[h]="string"==typeof u?u.split("/"):u}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?e=!0:".."===c?t++:""!=c&&r.push(c))}),r):[...r,o]},[]);return new BN(e,t,i)}(e);return o.toRoot()?Uh(t.root,t.root,new Nt([],{}),i,r):function a(u){const h=function PK(n,t,e,i){if(n.isAbsolute)return new Vh(t.root,!0,0);if(-1===i)return new Vh(e,e===t.root,0);return function jN(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ne(4005,!1);r=i.segments.length}return new Vh(i,!1,r-o)}(e,i+(rg(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,u),f=h.processChildren?Bh(h.segmentGroup,h.index,o.commands):ZS(h.segmentGroup,h.index,o.commands);return Uh(t.root,h.segmentGroup,f,i,r)}(n.snapshot?._lastPathIndex)}function rg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function og(n){return"object"==typeof n&&null!=n&&n.outlets}function Uh(n,t,e,i,r){let a,o={};i&&rr(i,(u,h)=>{o[h]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`}),a=n===t?e:VN(n,t,e);const c=qS(wb(a));return new Ru(c,o,r)}function VN(n,t,e){const i={};return rr(n.children,(r,o)=>{i[o]=r===t?e:VN(r,t,e)}),new Nt(n.segments,i)}class BN{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&rg(i[0]))throw new ne(4003,!1);const r=i.find(og);if(r&&r!==PN(i))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vh{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function ZS(n,t,e){if(n||(n=new Nt([],{})),0===n.segments.length&&n.hasChildren())return Bh(n,t,e);const i=function AK(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const a=n.segments[r],c=e[i];if(og(c))break;const u=`${c}`,h=i<e.length-1?e[i+1]:null;if(r>0&&void 0===u)break;if(u&&h&&"object"==typeof h&&void 0===h.outlets){if(!GN(u,h,a))return o;i+=2}else{if(!GN(u,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Nt(n.segments.slice(0,i.pathIndex),{});return o.children[gt]=new Nt(n.segments.slice(i.pathIndex),n.children),Bh(o,0,r)}return i.match&&0===r.length?new Nt(n.segments,{}):i.match&&!n.hasChildren()?KS(n,t,e):i.match?Bh(n,0,r):KS(n,t,e)}function Bh(n,t,e){if(0===e.length)return new Nt(n.segments,{});{const i=function OK(n){return og(n[0])?n[0].outlets:{[gt]:n}}(e),r={};return!i[gt]&&n.children[gt]&&1===n.numberOfChildren&&0===n.children[gt].segments.length?Bh(n.children[gt],t,e):(rr(i,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[a]=ZS(n.children[a],t,o))}),rr(n.children,(o,a)=>{void 0===i[a]&&(r[a]=o)}),new Nt(n.segments,r))}}function KS(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(og(o)){const u=NK(o.outlets);return new Nt(i,u)}if(0===r&&rg(e[0])){i.push(new tg(n.segments[t].path,zN(e[0]))),r++;continue}const a=og(o)?o.outlets[gt]:`${o}`,c=r<e.length-1?e[r+1]:null;a&&c&&rg(c)?(i.push(new tg(a,zN(c))),r+=2):(i.push(new tg(a,{})),r++)}return new Nt(i,{})}function NK(n){const t={};return rr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=KS(new Nt([],{}),0,e))}),t}function zN(n){const t={};return rr(n,(e,i)=>t[i]=`${e}`),t}function GN(n,t,e){return n==e.path&&Fa(t,e.parameters)}const sg="imperative";class La{constructor(t,e){this.id=t,this.url=e}}class Sb extends La{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ol extends La{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ag extends La{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class WN extends La{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class YS extends La{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RK extends La{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FK extends La{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LK extends La{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qN extends La{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $K extends La{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UK{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VK{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class BK{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HK{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jK{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zK{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QN{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let WK=(()=>{class n{createUrlTree(e,i,r,o,a,c){return xK(e||i.root,r,o,a,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),qK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(t){return WK.\u0275fac(t)},providedIn:"root"}),n})();class ZN{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=JS(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=JS(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=XS(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return XS(t,this._root).map(e=>e.value)}}function JS(n,t){if(n===t.value)return t;for(const e of t.children){const i=JS(n,e);if(i)return i}return null}function XS(n,t){if(n===t.value)return[t];for(const e of t.children){const i=XS(n,e);if(i.length)return i.unshift(t),i}return[]}class Al{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Hh(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class KN extends ZN{constructor(t,e){super(t),this.snapshot=e,eT(this,t)}toString(){return this.snapshot.toString()}}function YN(n,t){const e=function QK(n,t){const a=new Tb([],{},{},"",{},gt,t,null,n.root,-1,{});return new XN("",new Al(a,[]))}(n,t),i=new yn([new tg("",{})]),r=new yn({}),o=new yn({}),a=new yn({}),c=new yn(""),u=new Fe(i,r,a,c,o,gt,t,e.root);return u.snapshot=e.root,new KN(new Al(u,[]),e)}class Fe{constructor(t,e,i,r,o,a,c,u){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=c,this.title=this.data?.pipe(pe(h=>h[eg]))??Se(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(t=>$h(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(t=>$h(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function JN(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function ZK(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Tb{get title(){return this.data?.[eg]}constructor(t,e,i,r,o,a,c,u,h,f,y){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=c,this.routeConfig=u,this._urlSegment=h,this._lastPathIndex=f,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$h(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$h(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XN extends ZN{constructor(t,e){super(e),this.url=t,eT(this,e)}toString(){return eR(this._root)}}function eT(n,t){t.value._routerState=n,t.children.forEach(e=>eT(n,e))}function eR(n){const t=n.children.length>0?` { ${n.children.map(eR).join(", ")} } `:"";return`${n.value}${t}`}function tT(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Fa(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Fa(t.params,e.params)||n.params.next(e.params),function uK(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Fa(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Fa(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nT(n,t){const e=Fa(n.params,t.params)&&function fK(n,t){return Fu(n,t)&&n.every((e,i)=>Fa(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||nT(n.parent,t.parent))}function lg(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function YK(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return lg(n,i,r);return lg(n,i)})}(n,t,e);return new Al(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(c=>lg(n,c)),a}}const i=function JK(n){return new Fe(new yn(n.url),new yn(n.params),new yn(n.queryParams),new yn(n.fragment),new yn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>lg(n,o));return new Al(i,r)}}const iT="ngNavigationCancelingError";function tR(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Lu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=nR(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function nR(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[iT]=!0,i.cancellationCode=t,e&&(i.url=e),i}function iR(n){return rR(n)&&Lu(n.url)}function rR(n){return n&&n[iT]}class XK{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new cg,this.attachRef=null}}let cg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new XK,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Db=!1;let rT=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=gt,this.activateEvents=new X,this.deactivateEvents=new X,this.attachEvents=new X,this.detachEvents=new X,this.parentContexts=rt(cg),this.location=rt(Fr),this.changeDetector=rt(tr),this.environmentInjector=rt(ls)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,Db);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,Db);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,Db);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new ne(4013,Db);this._activatedRoute=e;const r=this.location,a=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new eY(e,c,r.injector);if(i&&function tY(n){return!!n.resolveComponentFactory}(i)){const h=i.resolveComponentFactory(a);this.activated=r.createComponent(h,r.length,u)}else this.activated=r.createComponent(a,{index:r.length,injector:u,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ft]}),n})();class eY{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Fe?this.route:t===cg?this.childContexts:this.parent.get(t,e)}}let oT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ie({type:n,selectors:[["ng-component"]],standalone:!0,features:[fi],decls:1,vars:0,template:function(e,i){1&e&&N(0,"router-outlet")},dependencies:[rT],encapsulation:2}),n})();function oR(n,t){return n.providers&&!n._injector&&(n._injector=Lv(n.providers,t,`Route: ${n.path}`)),n._injector??t}function aT(n){const t=n.children&&n.children.map(aT),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==gt&&(e.component=oT),e}function gs(n){return n.outlet||gt}function sR(n,t){const e=n.filter(i=>gs(i)===t);return e.push(...n.filter(i=>gs(i)!==t)),e}function ug(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class sY{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),tT(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Hh(e);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),rr(r,(o,a)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Hh(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(i&&i.outlet){const a=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Hh(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Hh(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new zK(o.value.snapshot))}),t.children.length&&this.forwardEvent(new HK(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(tT(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),tT(c.route.value),this.activateChildRoutes(t,null,a.children)}else{const c=ug(r.snapshot),u=c?.get(fc)??null;a.attachRef=null,a.route=r,a.resolver=u,a.injector=c,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class aR{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Eb{constructor(t,e){this.component=t,this.route=e}}function aY(n,t,e){const i=n._root;return dg(i,t?t._root:null,e,[i.value])}function jh(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function it(n){return null!==ks(n)}(n)?t.get(n):n:i}function dg(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Hh(t);return n.children.forEach(a=>{(function cY(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function uY(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Fu(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Fu(n.url,t.url)||!Fa(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nT(n,t)||!Fa(n.queryParams,t.queryParams);default:return!nT(n,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new aR(i)):(o.data=a.data,o._resolvedData=a._resolvedData),dg(n,t,o.component?c?c.children:null:e,i,r),u&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new Eb(c.outlet.component,a))}else a&&hg(t,c,r),r.canActivateChecks.push(new aR(i)),dg(n,null,o.component?c?c.children:null:e,i,r)})(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),rr(o,(a,c)=>hg(a,e.getContext(c),r)),r}function hg(n,t,e){const i=Hh(n),r=n.value;rr(i,(o,a)=>{hg(o,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new Eb(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function pg(n){return"function"==typeof n}function lT(n){return n instanceof pb||"EmptyError"===n?.name}const kb=Symbol("INITIAL_VALUE");function zh(){return zn(n=>Mm(n.map(t=>t.pipe(bn(1),Su(kb)))).pipe(pe(t=>{for(const e of t)if(!0!==e){if(e===kb)return kb;if(!1===e||e instanceof Ru)return e}return!0}),Ot(t=>t!==kb),bn(1)))}function lR(n){return function nl(...n){return il(n)}(Fn(t=>{if(Lu(t))throw tR(0,t)}),pe(t=>!0===t))}const cT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cR(n,t,e,i,r){const o=uT(n,t,e);return o.matched?function kY(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Se(r.map(a=>{const c=jh(a,n);return Oc(function gY(n){return n&&pg(n.canMatch)}(c)?c.canMatch(t,e):n.runInContext(()=>c(t,e)))})).pipe(zh(),lR()):Se(!0)}(i=oR(t,i),t,e).pipe(pe(a=>!0===a?o:{...cT})):Se(o)}function uT(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...cT}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||cK)(e,n,t);if(!r)return{...cT};const o={};rr(r.posParams,(c,u)=>{o[u]=c.path});const a=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Mb(n,t,e,i){if(e.length>0&&function IY(n,t,e){return e.some(i=>xb(n,t,i)&&gs(i)!==gt)}(n,e,i)){const o=new Nt(t,function xY(n,t,e,i){const r={};r[gt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&gs(o)!==gt){const a=new Nt([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[gs(o)]=a}return r}(n,t,i,new Nt(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function PY(n,t,e){return e.some(i=>xb(n,t,i))}(n,e,i)){const o=new Nt(n.segments,function MY(n,t,e,i,r){const o={};for(const a of i)if(xb(n,e,a)&&!r[gs(a)]){const c=new Nt([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,o[gs(a)]=c}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new Nt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function xb(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function uR(n,t,e,i){return!!(gs(n)===i||i!==gt&&xb(t,e,n))&&("**"===n.path||uT(t,n,e).matched)}function dR(n,t,e){return 0===t.length&&!n.children[e]}const Ib=!1;class Pb{constructor(t){this.segmentGroup=t||null}}class hR{constructor(t){this.urlTree=t}}function fg(n){return Tu(new Pb(n))}function pR(n){return Tu(new hR(n))}class RY{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Mb(this.urlTree.root,[],[],this.config).segmentGroup,e=new Nt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,gt).pipe(pe(o=>this.createUrlTree(wb(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(jo(o=>{if(o instanceof hR)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Pb?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,gt).pipe(pe(r=>this.createUrlTree(wb(r),t.queryParams,t.fragment))).pipe(jo(r=>{throw r instanceof Pb?this.noMatchError(r):r}))}noMatchError(t){return new ne(4002,Ib)}createUrlTree(t,e,i){const r=qS(t);return new Ru(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(pe(o=>new Nt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return un(r).pipe(Ic(o=>{const a=i.children[o],c=sR(e,o);return this.expandSegmentGroup(t,c,a,o).pipe(pe(u=>({segment:u,outlet:o})))}),kN((o,a)=>(o[a.outlet]=a.segment,o),{}),MN())}expandSegment(t,e,i,r,o,a){return un(i).pipe(Ic(c=>this.expandSegmentAgainstRoute(t,e,i,c,r,o,a).pipe(jo(h=>{if(h instanceof Pb)return Se(null);throw h}))),le(c=>!!c),jo((c,u)=>{if(lT(c))return dR(e,r,o)?Se(new Nt([],{})):fg(e);throw c}))}expandSegmentAgainstRoute(t,e,i,r,o,a,c){return uR(r,e,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,a):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a):fg(e):fg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?pR(o):this.lineralizeSegments(i,o).pipe(pn(a=>{const c=new Nt(a,{});return this.expandSegment(t,c,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){const{matched:c,consumedSegments:u,remainingSegments:h,positionalParamSegments:f}=uT(e,r,o);if(!c)return fg(e);const y=this.applyRedirectCommands(u,r.redirectTo,f);return r.redirectTo.startsWith("/")?pR(y):this.lineralizeSegments(r,y).pipe(pn(T=>this.expandSegment(t,e,i,T.concat(h),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=oR(i,t),i.loadChildren?(i._loadedRoutes?Se({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(pe(c=>(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,new Nt(r,{})))):Se(new Nt(r,{}))):cR(e,i,r,t).pipe(zn(({matched:a,consumedSegments:c,remainingSegments:u})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe(pn(f=>{const y=f.injector??t,T=f.routes,{segmentGroup:E,slicedSegments:P}=Mb(e,c,u,T),$=new Nt(E.segments,E.children);if(0===P.length&&$.hasChildren())return this.expandChildren(y,T,$).pipe(pe(Y=>new Nt(c,Y)));if(0===T.length&&0===P.length)return Se(new Nt(c,{}));const G=gs(i)===o;return this.expandSegment(y,$,T,P,G?gt:o,!0).pipe(pe(te=>new Nt(c.concat(te.segments),te.children)))})):fg(e)))}getChildConfig(t,e,i){return e.children?Se({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Se({routes:e._loadedRoutes,injector:e._loadedInjector}):function EY(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Se(!0):Se(r.map(a=>{const c=jh(a,n);return Oc(function hY(n){return n&&pg(n.canLoad)}(c)?c.canLoad(t,e):n.runInContext(()=>c(t,e)))})).pipe(zh(),lR())}(t,e,i).pipe(pn(r=>r?this.configLoader.loadChildren(t,e).pipe(Fn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function AY(n){return Tu(nR(Ib,3))}())):Se({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Se(i);if(r.numberOfChildren>1||!r.children[gt])return Tu(new ne(4e3,Ib));r=r.children[gt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Ru(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return rr(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const c=r.substring(1);i[o]=e[c]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let a={};return rr(e.children,(c,u)=>{a[u]=this.createSegmentGroup(t,c,i,r)}),new Nt(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new ne(4001,Ib);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class LY{}class VY{constructor(t,e,i,r,o,a,c){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=a,this.urlSerializer=c}recognize(){const t=Mb(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,gt).pipe(pe(e=>{if(null===e)return null;const i=new Tb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Al(i,e),o=new XN(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=JN(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return un(Object.keys(i.children)).pipe(Ic(r=>{const o=i.children[r],a=sR(e,r);return this.processSegmentGroup(t,a,o,r)}),kN((r,o)=>r&&o?(r.push(...o),r):null),function eK(n,t=!1){return e=>e.lift(new tK(n,t))}(r=>null!==r),mb(null),MN(),pe(r=>{if(null===r)return null;const o=mR(r);return function BY(n){n.sort((t,e)=>t.value.outlet===gt?-1:e.value.outlet===gt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return un(e).pipe(Ic(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,o)),le(a=>!!a),jo(a=>{if(lT(a))return dR(i,r,o)?Se([]):Se(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!uR(e,i,r,o))return Se(null);let a;if("**"===e.path){const c=r.length>0?PN(r).parameters:{},u=_R(i)+r.length;a=Se({snapshot:new Tb(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vR(e),gs(e),e.component??e._loadedComponent??null,e,gR(i),u,yR(e)),consumedSegments:[],remainingSegments:[]})}else a=cR(i,e,r,t).pipe(pe(({matched:c,consumedSegments:u,remainingSegments:h,parameters:f})=>{if(!c)return null;const y=_R(i)+u.length;return{snapshot:new Tb(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vR(e),gs(e),e.component??e._loadedComponent??null,e,gR(i),y,yR(e)),consumedSegments:u,remainingSegments:h}}));return a.pipe(zn(c=>{if(null===c)return Se(null);const{snapshot:u,consumedSegments:h,remainingSegments:f}=c;t=e._injector??t;const y=e._loadedInjector??t,T=function HY(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:E,slicedSegments:P}=Mb(i,h,f,T.filter(G=>void 0===G.redirectTo));if(0===P.length&&E.hasChildren())return this.processChildren(y,T,E).pipe(pe(G=>null===G?null:[new Al(u,G)]));if(0===T.length&&0===P.length)return Se([new Al(u,[])]);const $=gs(e)===o;return this.processSegment(y,T,E,P,$?gt:o).pipe(pe(G=>null===G?null:[new Al(u,G)]))}))}}function jY(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function mR(n){const t=[],e=new Set;for(const i of n){if(!jY(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=mR(i.children);t.push(new Al(i.value,r))}return t.filter(i=>!e.has(i))}function gR(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function _R(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function vR(n){return n.data||{}}function yR(n){return n.resolve||{}}function bR(n){return"string"==typeof n.title||null===n.title}function dT(n){return zn(t=>{const e=n(t);return e?un(e).pipe(pe(()=>t)):Se(t)})}const Gh=new Pe("ROUTES");let hT=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Se(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Oc(e.loadComponent()).pipe(pe(wR),Fn(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),zS(()=>{this.componentLoaders.delete(e)})),r=new da(i,()=>new je).pipe(ua());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Se({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(pe(c=>{this.onLoadEndListener&&this.onLoadEndListener(i);let u,h,f=!1;Array.isArray(c)?h=c:(u=c.create(e).injector,h=IN(u.get(Gh,[],Ee.Self|Ee.Optional)));return{routes:h.map(aT),injector:u}}),zS(()=>{this.childrenLoaders.delete(i)})),a=new da(o,()=>new je).pipe(ua());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return Oc(e()).pipe(pe(wR),pn(r=>r instanceof gx||Array.isArray(r)?Se(r):un(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(R(Hi),R(sI))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wR(n){return function JY(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ab=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new je,this.configLoader=rt(hT),this.environmentInjector=rt(ls),this.urlSerializer=rt(ng),this.rootContexts=rt(cg),this.navigationId=0,this.afterPreactivation=()=>Se(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new VK(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new UK(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new yn({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sg,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ot(i=>0!==i.id),pe(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),zn(i=>{let r=!1,o=!1;return Se(i).pipe(Fn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),zn(a=>{const c=e.browserUrlTree.toString(),u=!e.navigated||a.extractedUrl.toString()!==c||c!==e.currentUrlTree.toString();if(!u&&"reload"!==(a.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const f="";return this.events.next(new WN(a.id,e.serializeUrl(i.rawUrl),f,0)),e.rawUrlTree=a.rawUrl,a.resolve(null),$o}if(e.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return SR(a.source)&&(e.browserUrlTree=a.extractedUrl),Se(a).pipe(zn(f=>{const y=this.transitions?.getValue();return this.events.next(new Sb(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),y!==this.transitions?.getValue()?$o:Promise.resolve(f)}),function FY(n,t,e,i){return zn(r=>function NY(n,t,e,i,r){return new RY(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(pe(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),Fn(f=>{this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects},i.urlAfterRedirects=f.urlAfterRedirects}),function GY(n,t,e,i,r){return pn(o=>function UY(n,t,e,i,r,o,a="emptyOnly"){return new VY(n,t,e,i,r,a,o).recognize().pipe(zn(c=>null===c?function $Y(n){return new Mt(t=>t.error(n))}(new LY):Se(c)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe(pe(a=>({...o,targetSnapshot:a}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Fn(f=>{if(i.targetSnapshot=f.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!f.extras.skipLocationChange){const T=e.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);e.setBrowserUrl(T,f)}e.browserUrlTree=f.urlAfterRedirects}const y=new RK(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:f,extractedUrl:y,source:T,restoredState:E,extras:P}=a,$=new Sb(f,this.urlSerializer.serialize(y),T,E);this.events.next($);const G=YN(y,this.rootComponentType).snapshot;return Se(i={...a,targetSnapshot:G,urlAfterRedirects:y,extras:{...P,skipLocationChange:!1,replaceUrl:!1}})}{const f="";return this.events.next(new WN(a.id,e.serializeUrl(i.extractedUrl),f,1)),e.rawUrlTree=a.rawUrl,a.resolve(null),$o}}),Fn(a=>{const c=new FK(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),pe(a=>i={...a,guards:aY(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function vY(n,t){return pn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?Se({...e,guardsResult:!0}):function yY(n,t,e,i){return un(n).pipe(pn(r=>function DY(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Se(o.map(c=>{const u=ug(t)??r,h=jh(c,u);return Oc(function mY(n){return n&&pg(n.canDeactivate)}(h)?h.canDeactivate(n,t,e,i):u.runInContext(()=>h(n,t,e,i))).pipe(le())})).pipe(zh()):Se(!0)}(r.component,r.route,e,t,i)),le(r=>!0!==r,!0))}(a,i,r,n).pipe(pn(c=>c&&function dY(n){return"boolean"==typeof n}(c)?function bY(n,t,e,i){return un(t).pipe(Ic(r=>xm(function wY(n,t){return null!==n&&t&&t(new BK(n)),Se(!0)}(r.route.parent,i),function CY(n,t){return null!==n&&t&&t(new jK(n)),Se(!0)}(r.route,i),function TY(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function lY(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>fb(()=>Se(a.guards.map(u=>{const h=ug(a.node)??e,f=jh(u,h);return Oc(function fY(n){return n&&pg(n.canActivateChild)}(f)?f.canActivateChild(i,n):h.runInContext(()=>f(i,n))).pipe(le())})).pipe(zh())));return Se(o).pipe(zh())}(n,r.path,e),function SY(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Se(!0);const r=i.map(o=>fb(()=>{const a=ug(t)??e,c=jh(o,a);return Oc(function pY(n){return n&&pg(n.canActivate)}(c)?c.canActivate(t,n):a.runInContext(()=>c(t,n))).pipe(le())}));return Se(r).pipe(zh())}(n,r.route,e))),le(r=>!0!==r,!0))}(i,o,n,t):Se(c)),pe(c=>({...e,guardsResult:c})))})}(this.environmentInjector,a=>this.events.next(a)),Fn(a=>{if(i.guardsResult=a.guardsResult,Lu(a.guardsResult))throw tR(0,a.guardsResult);const c=new LK(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(c)}),Ot(a=>!!a.guardsResult||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),dT(a=>{if(a.guards.canActivateChecks.length)return Se(a).pipe(Fn(c=>{const u=new qN(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),zn(c=>{let u=!1;return Se(c).pipe(function WY(n,t){return pn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Se(e);let o=0;return un(r).pipe(Ic(a=>function qY(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!bR(r)&&(o[eg]=r.title),function QY(n,t,e,i){const r=function ZY(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Se({});const o={};return un(r).pipe(pn(a=>function KY(n,t,e,i){const r=ug(t)??i,o=jh(n,r);return Oc(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[a],t,e,i).pipe(le(),Fn(c=>{o[a]=c}))),jS(1),function iK(n){return t=>t.lift(new rK(n))}(o),jo(a=>lT(a)?$o:Tu(a)))}(o,n,t,i).pipe(pe(a=>(n._resolvedData=a,n.data=JN(n,e).resolve,r&&bR(r)&&(n.data[eg]=r.title),null)))}(a.route,i,n,t)),Fn(()=>o++),jS(1),pn(a=>o===r.length?Se(e):$o))})}(e.paramsInheritanceStrategy,this.environmentInjector),Fn({next:()=>u=!0,complete:()=>{u||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),Fn(c=>{const u=new $K(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),dT(a=>{const c=u=>{const h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(Fn(f=>{u.component=f}),pe(()=>{})));for(const f of u.children)h.push(...c(f));return h};return Mm(c(a.targetSnapshot.root)).pipe(mb(),bn(1))}),dT(()=>this.afterPreactivation()),pe(a=>{const c=function KK(n,t,e){const i=lg(n,t._root,e?e._root:void 0);return new KN(i,t)}(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:c}}),Fn(a=>{e.currentUrlTree=a.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),e.routerState=a.targetRouterState,"deferred"===e.urlUpdateStrategy&&(a.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,a),e.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>pe(i=>(new sY(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a)),Fn({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Ol(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),zS(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),jo(a=>{if(o=!0,rR(a)){iR(a)||(e.navigated=!0,e.restoreHistory(i,!0));const c=new ag(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(c),iR(a)){const u=e.urlHandlingStrategy.merge(a.url,e.rawUrlTree),h={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||SR(i.source)};e.scheduleNavigation(u,sg,null,h,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const c=new YS(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(c);try{i.resolve(e.errorHandler(a))}catch(u){i.reject(u)}}return $o}))}))}cancelNavigationTransition(e,i,r){const o=new ag(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SR(n){return n!==sg}let TR=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===gt);return i}getResolvedTitleForRoute(e){return e.data[eg]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(){return rt(XY)},providedIn:"root"}),n})(),XY=(()=>{class n extends TR{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(R(uw))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(){return rt(nJ)},providedIn:"root"}),n})();class tJ{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let nJ=(()=>{class n extends tJ{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nb=new Pe("",{providedIn:"root",factory:()=>({})});let rJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:function(){return rt(oJ)},providedIn:"root"}),n})(),oJ=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sJ(n){throw n}function aJ(n,t,e){return t.parse("/")}const lJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gt=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=rt(TC),this.isNgZoneEnabled=!1,this.options=rt(Nb,{optional:!0})||{},this.errorHandler=this.options.errorHandler||sJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||aJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=rt(rJ),this.routeReuseStrategy=rt(eJ),this.urlCreationStrategy=rt(qK),this.titleStrategy=rt(TR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=IN(rt(Gh,{optional:!0})??[]),this.navigationTransitions=rt(Ab),this.urlSerializer=rt(ng),this.location=rt(qv),this.isNgZoneEnabled=rt(bt)instanceof bt&&bt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ru,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=YN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),sg,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const u={...r};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const c=this.parseUrl(e);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(aT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,h=u?this.currentUrlTree.fragment:a;let f=null;switch(c){case"merge":f={...this.currentUrlTree.queryParams,...o};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}return null!==f&&(f=this.removeEmptyProps(f)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,f,h??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Lu(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,sg,null,i)}navigate(e,i={skipLocationChange:!1}){return function uJ(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new ne(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...lJ}:!1===i?{...cJ}:i,Lu(e))return AN(this.currentUrlTree,e,r);const o=this.parseUrl(e);return AN(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,h,f;return a?(c=a.resolve,u=a.reject,h=a.promise):h=new Promise((y,T)=>{c=y,u=T}),f="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:f,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(y=>Promise.reject(y))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ht=(()=>{class n{constructor(e,i,r,o,a,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new je;const u=a.nativeElement.tagName;this.isAnchorElement="A"===u||"AREA"===u,this.isAnchorElement?this.subscription=e.events.subscribe(h=>{h instanceof Ol&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=Ch(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=Ch(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=Ch(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function qE(n,t,e){return function a$(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?WE:Yn}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(w(Gt),w(Fe),pl("tabindex"),w(Xi),w(Pt),w(vu))},n.\u0275dir=de({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&A("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&Et("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Ft]}),n})();class ER{}let pJ=(()=>{class n{constructor(e,i,r,o,a){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ot(e=>e instanceof Ol),Ic(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Lv(o.providers,e,`Route: ${o.path}`));const a=o._injector??e,c=o._loadedInjector??a;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(a,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(c,o.children??o._loadedRoutes))}return un(r).pipe(Ko())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Se(null);const o=r.pipe(pn(a=>null===a?Se(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));return i.loadComponent&&!i._loadedComponent?un([o,this.loader.loadComponent(i)]).pipe(Ko()):o})}}return n.\u0275fac=function(e){return new(e||n)(R(Gt),R(sI),R(ls),R(ER),R(hT))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pT=new Pe("");let kR=(()=>{class n{constructor(e,i,r,o,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Sb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ol&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof QN&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new QN(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){du()},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();function $u(n,t){return{\u0275kind:n,\u0275providers:t}}function xR(){const n=rt(Hi);return t=>{const e=n.get(yc);if(t!==e.components[0])return;const i=n.get(Gt),r=n.get(IR);1===n.get(mT)&&i.initialNavigation(),n.get(PR,null,Ee.Optional)?.setUpPreloading(),n.get(pT,null,Ee.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const IR=new Pe("",{factory:()=>new je}),mT=new Pe("",{providedIn:"root",factory:()=>1});const PR=new Pe("");function vJ(n){return $u(0,[{provide:PR,useExisting:pJ},{provide:ER,useExisting:n}])}const OR=new Pe("ROUTER_FORROOT_GUARD"),yJ=[qv,{provide:ng,useClass:GS},Gt,cg,{provide:Fe,useFactory:function MR(n){return n.routerState.root},deps:[Gt]},hT,[]];function bJ(){return new pI("Router",Gt)}let Rb=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[yJ,[],{provide:Gh,multi:!0,useValue:e},{provide:OR,useFactory:TJ,deps:[[Gt,new pc,new Bf]]},{provide:Nb,useValue:i||{}},i?.useHash?{provide:vu,useClass:MH}:{provide:vu,useClass:FI},{provide:pT,useFactory:()=>{const n=rt(N8),t=rt(bt),e=rt(Nb),i=rt(Ab),r=rt(ng);return e.scrollOffset&&n.setOffset(e.scrollOffset),new kR(r,i,n,t,e)}},i?.preloadingStrategy?vJ(i.preloadingStrategy).\u0275providers:[],{provide:pI,multi:!0,useFactory:bJ},i?.initialNavigation?DJ(i):[],[{provide:AR,useFactory:xR},{provide:rI,multi:!0,useExisting:AR}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Gh,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(R(OR,8))},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[oT]}),n})();function TJ(n){return"guarded"}function DJ(n){return["disabled"===n.initialNavigation?$u(3,[{provide:dm,multi:!0,useFactory:()=>{const t=rt(Gt);return()=>{t.setUpLocationChangeListener()}}},{provide:mT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$u(2,[{provide:mT,useValue:0},{provide:dm,multi:!0,deps:[Hi],useFactory:t=>{const e=t.get(EH,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=t.get(Gt),a=t.get(IR);(function i(r){t.get(Gt).events.pipe(Ot(a=>a instanceof Ol||a instanceof ag||a instanceof YS),pe(a=>a instanceof Ol||a instanceof ag&&(0===a.code||1===a.code)&&null),Ot(a=>null!==a),bn(1)).subscribe(()=>{r()})})(()=>{r(!0)}),t.get(Ab).afterPreactivation=()=>(r(!0),a.closed?Se(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const AR=new Pe("");class H{static get apiPrefix(){return"wiki1"}static get spaPrefix(){return"wiki2"}static get wikiUrl(){return"https://www.aldrune.com"}static get wikiApiUrl(){return`${this.wikiUrl}/${this.apiPrefix}/api`}static get wikiSPAUrl(){return`${this.wikiUrl}/${this.spaPrefix}`}static get wikiStaticUrl(){return`${this.wikiUrl}/static`}static get wikiMediaUrl(){return`${this.wikiUrl}/media`}static get wikiAudioUploadUrl(){return`${this.wikiUrl}/uploads`}static get wikiTokenUrl(){return`${this.wikiApiUrl}/token`}static get wikiTokenRefreshUrl(){return`${this.wikiTokenUrl}/refresh`}static get wikiUrlFrontendPrefix(){return"/wiki2"}static get wikiUrlFrontendPrefixNoSlash(){return"wiki2"}static get NONE_STRING(){return"None"}static get isSmallScreen(){return window.screen.availWidth<576}static get isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.maxTouchPoints>0}static get prologueForbiddenCharacters(){return/[\[\]\(\)\|\\\%~#<>\?/,]/g}static get createState(){return"create"}static get deleteState(){return"delete"}static get updateState(){return"update"}static get outdatedUpdateState(){return"outdated"}static get displayState(){return"display"}static get articleTypeSidebarColorMapping(){return{item:"yellow",character:"blue",creature:"red",location:"brown",organization:"purple",diaryentry:"darkgreen",quest:"white",encounter:"lightgreen",recording:"green",sessionaudio:"green",map:"beige",rules:"orange",spell:"violet"}}static get articleTypeMetaData(){return[{title:"Creatures",iconClass:"fas fa-dragon",route:"creature-overview",color:"red",article_types:["creature"],showInSidebar:!0},{title:"Characters",iconClass:"fas fa-male",route:"character-overview",color:"blue",article_types:["character"],showInSidebar:!0},{title:"DiaryEntries",iconClass:"fas fa-book-open",route:"diaryentry-overview",color:"darkgreen",article_types:["diaryentry"],showInSidebar:!0},{title:"Encounters",iconClass:"fa fa-comments",route:null,color:"lightgreen",article_types:["encounter"],showInSidebar:!1},{title:"Items",iconClass:"fa fa-magic",route:"item-overview",color:"yellow",article_types:["item"],showInSidebar:!0},{title:"Locations",iconClass:"fas fa-compass",route:"location-overview",color:"brown",article_types:["location"],showInSidebar:!0},{title:"Maps",iconClass:"fa fa-map",route:"default-map",color:"beige",article_types:["map"],showInSidebar:!0},{title:"Organizations",iconClass:"fas fa-sitemap",route:"organization-overview",color:"purple",article_types:["organization"],showInSidebar:!0},{title:"Quests",iconClass:"fas fa-question-circle",route:"quest-overview",color:"white",article_types:["quest"],showInSidebar:!0},{title:"Recordings",iconClass:"fa fa-file-audio-o",route:"sessionaudio-overview",color:"green",article_types:["sessionaudio","recording"],showInSidebar:!0},{title:"Rules",iconClass:"fa fa-book",route:"rules",color:"orange",article_types:["rule","rules"],showInSidebar:!0},{title:"Spells",iconClass:"fas fa-hand-sparkles",route:"spells",color:"violet",article_types:["spell","spells"],showInSidebar:!0},{title:"Sessions",iconClass:"fas fa-calendar-alt",route:"sessions",color:null,article_types:["session","sessions"],showInSidebar:!0}]}static get accessTokenType(){return"access"}static get refreshTokenType(){return"refresh"}static get anonymousUserName(){return"AnonymousUser"}static get userDataKey(){return"user_data"}static get audioImageUrl(){return"/assets/default_images/audio_pic_default.webp"}static get timeoutImageUrl(){return"/assets/error_images/504.jpeg"}static get badInputImageUrl(){return"/assets/error_images/400.png"}static get pageNotFoundImageUrl(){return"/assets/error_images/404.png"}static get serverErrorImageUrl(){return"/assets/error_images/500.jpeg"}static get noscriptErrorImageUrl(){return"/assets/error_images/noscript.jpg"}static get dragonFrameUrl(){return"/assets/dragon-frame.jpg"}static get loginMessageForState(){return{"token-expired":"Your Session expired, please log in again","token-null":"You do not have a valid token, please log in","invalid-login":"No active account found with the given credentials","logged-out":"Log out successful. Log in again?","no-token":"You are not logged in. Please enter your credentials"}}static get maxDistanceToPageBottomForPaginationLoad(){return 400}static get defaultBackgroundImageUrl(){return"/assets/default_images/background_default.webp"}static get defaultImageUrl(){return"assets/default_images/icon_default.webp"}static get defaultCampaignIconUrl(){return"/assets/icons/icon-512x512.webp"}static get defaultMapName(){return"Aldrune"}static get defaultCampaign(){return"Aldrune"}static get tinyMCESettings(){return{plugins:["advlist autolink lists link image charmap anchor","searchreplace visualblocks fullscreen media","table paste help wordcount"],toolbar:["undo redo | formatselect | bold italic underline strikethrough subscript superscript link unlink blockquote | backcolor forecolor hilitecolor fontsizeselect |","alignleft aligncenter alignright | bullist numlist outdent indent | removeformat | table help"],skin:"oxide-dark",content_css:"dark",browser_spellcheck:!0,menubar:!1,height:500,convert_urls:!1,relative_urls:!1,branding:!1,base_url:"/tinymce",suffix:".min"}}static get castingTimeOptions(){return[{label:"1 Action",value:"1 Action"},{label:"1 Bonus Action",value:"1 Bonus Action"},{label:"1 Reaction",value:"1 Reaction"},{label:"1 Minute",value:"1 Minute"},{label:"10 Minutes",value:"10 Minutes"},{label:"1 Hour",value:"1 Hour"},{label:"8 Hours",value:"8 Hours"},{label:"12 Hours",value:"12 Hours"},{label:"24 Hours",value:"24 Hours"}]}static get savingThrowOptions(){return[{value:"ATK",label:"Attack"},{value:"STR",label:"Strength"},{value:"CON",label:"Constitution"},{value:"DEX",label:"Dexterity"},{value:"INT",label:"Intelligence"},{value:"WIS",label:"Wisdom"},{value:"CHA",label:"Charisma"}]}static get spellLevelOptions(){return[{value:0,label:"Cantrip"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"}]}static get durationOptions(){return[{value:"Instantaneous",label:"Instantaneous"},{value:"1 Round",label:"1 Round"},{value:"6 Rounds",label:"6 Rounds"},{value:"1 Minute",label:"1 Minute"},{value:"10 Minutes",label:"10 Minutes"},{value:"1 Hour",label:"1 Hour"},{value:"2 Hours",label:"2 Hours"},{value:"8 Hours",label:"8 Hours"},{value:"24 Hours",label:"24 Hours"},{value:"1 Day",label:"1 Day"},{value:"7 Day",label:"7 Days"},{value:"10 Day",label:"10 Days"},{value:"30 Day",label:"30 Days"},{value:"Special",label:"Special"},{value:"Until Dispelled",label:"Until Dispelled"}]}static get rangeOptions(){return[{value:"Self",label:"Self"},{value:"5 Feet",label:"5 Feet"},{value:"10 Feet",label:"10 Feet"},{value:"15 Feet",label:"15 Feet"},{value:"30 Feet",label:"30 Feet"},{value:"60 Feet",label:"60 Feet"},{value:"90 Feet",label:"90 Feet"},{value:"100 Feet",label:"100 Feet"},{value:"120 Feet",label:"120 Feet"},{value:"150 Feet",label:"150 Feet"},{value:"1 Mile",label:"1 Mile"},{value:"3 Miles",label:"3 Miles"},{value:"10 Miles",label:"10 Miles"}]}static get componentOptions(){return[{value:"V",label:"V"},{value:"S",label:"S"},{value:"M",label:"M"},{value:"VS",label:"VS"},{value:"VM",label:"VM"},{value:"SM",label:"SM"},{value:"VSM",label:"VSM"},{value:"VSM*",label:"VSM*"}]}static get schoolOptions(){return[{value:"Abjuration",label:"Abjuration"},{value:"Conjuration",label:"Conjuration"},{value:"Divination",label:"Divination"},{value:"Enchantment",label:"Enchantment"},{value:"Evocation",label:"Evocation"},{value:"Illusion",label:"Illusion"},{value:"Necromancy",label:"Necromancy"},{value:"Transmutation",label:"Transmutation"}]}}var Ae=(()=>(function(n){n.Character="CHARACTER",n.Creature="CREATURE",n.Diaryentry="DIARYENTRY",n.Encounter="ENCOUNTER",n.Item="ITEM",n.Location="LOCATION",n.Map="MAP",n.MarkerType="MARKERTYPE",n.MarkerTypeType="MARKERTYPETYPE",n.Organization="ORGANIZATION",n.Quest="QUEST",n.Quote="QUOTE",n.Rule="RULE",n.Session="SESSION",n.Sessionaudio="SESSIONAUDIO",n.Spell="SPELL",n.User="USER"}(Ae||(Ae={})),Ae))(),ge=(()=>(function(n){n.MEMBER="member",n.ADMIN="admin",n.GUEST="guest",n.GLOBALGUEST="globalguest",n.GLOBALMEMBER="globalmember"}(ge||(ge={})),ge))(),Br=(()=>(function(n){n[n.CREATE=0]="CREATE",n[n.READ=1]="READ",n[n.UPDATE=2]="UPDATE",n[n.UPDATEOUTDATED=3]="UPDATEOUTDATED",n[n.DELETE=4]="DELETE"}(Br||(Br={})),Br))();const _i=(n,t,e="animate__")=>{if(null==n)throw"Invalid Input Exception. The given element is null";return new Promise((i,r)=>{const o=`${e}${t}`;n.classList.add(`${e}animated`,o),n.addEventListener("animationend",function a(c){c.stopPropagation(),n.classList.remove(`${e}animated`,o),i("Animation ended")},{once:!0})})};class _e{constructor(t){this.http=t,this.jwtTokenUrl=H.wikiTokenUrl,this.refreshTokenUrl=H.wikiTokenRefreshUrl,this.ID_IDENTIFIER_PREFIX="id_"}login(t){return this.http.post(this.jwtTokenUrl,{username:t.username,password:t.password})}refreshUserData(){const t=_e.getRefreshToken().token,e=(new Wi).set("Authorization",`Bearer ${t}`);return this.http.post(this.refreshTokenUrl,{refresh:t},{headers:e})}invalidateJWTToken(){}static getUserData(){return JSON.parse(localStorage.getItem(H.userDataKey))}hasTokens(){return null!=_e.getUserData()&&!!_e.getAccessToken()&&!!_e.getRefreshToken()}hasValidJWTToken(){return!!this.hasTokens()&&!this.isTokenExpired(_e.getRefreshToken())}static getAccessToken(){return this.getUserData().accessToken}static getRefreshToken(){return this.getUserData().refreshToken}setUserData(t){localStorage.setItem(H.userDataKey,JSON.stringify(t))}removeJWTTokenFromLocalStorage(){localStorage.removeItem(H.userDataKey)}getCurrentUserPk(){return _e.getUserData().userId}isAdmin(){const t=_e.getUserData();return null!=t&&t.isAdmin}isSuperUser(){const t=_e.getUserData();return null!=t&&t.isSuperUser}getCurrentUserName(){return _e.getUserData()?.userName}isCampaignMember(t){const e=this.getCampaignRole(t);return this.isSuperUser()||this.isAdmin()||e===ge.MEMBER||e===ge.ADMIN}isCampaignAdmin(t){return this.isSuperUser()||this.isAdmin()||this.getCampaignRole(t)===ge.ADMIN}isCampaignGuest(t){return this.isSuperUser()||this.isAdmin()||this.getCampaignRole(t)===ge.GUEST}getCampaignRole(t){if(null==t)return null;const e=this.getCampaignMemberships();if(null==e)return null;const i=e[t.toLowerCase()];return ge[i?.toUpperCase()]}getCampaignMemberships(){const t=_e.getUserData(),e={};for(const i of Object.keys(t.campaignMemberships))i.startsWith(this.ID_IDENTIFIER_PREFIX)||(e[i.toLowerCase()]=t.campaignMemberships[i]);return e}isAccessTokenExpired(){return this.isTokenExpired(_e.getAccessToken())}isRefreshTokenExpired(){return this.isTokenExpired(_e.getRefreshToken())}isTokenExpired(t){const e=t.exp,i=Math.floor((new Date).getTime()/1e3),r=i>=e;return r&&console.log(`${t.type} Token is expired. Request timestamp: ${new Date(1e3*i).toString()}. Token expiry timestamp: ${new Date(1e3*e).toString()}`),r}}_e.\u0275fac=function(t){return new(t||_e)(R(qt))},_e.\u0275prov=W({token:_e,factory:_e.\u0275fac,providedIn:"root"});class ni{constructor(t,e){if(this.tokenService=t,this.route=e,this.userHasUpdatePermission=()=>[ge.ADMIN,ge.MEMBER].includes(this.campaignRole),this.userHasViewPermission=()=>[ge.ADMIN,ge.MEMBER,ge.GUEST].includes(this.campaignRole),this.userHasDeletePermission=()=>[ge.ADMIN,ge.MEMBER].includes(this.campaignRole),this.userHasCreatePermission=()=>[ge.ADMIN,ge.MEMBER].includes(this.campaignRole),this.isAdminOrSuperUser=this.tokenService.isAdmin()||this.tokenService.isSuperUser(),this.isAdminOrSuperUser)this.hasCreatePermission=!0,this.hasViewPermission=!0,this.hasUpdatePermission=!0,this.hasDeletePermission=!0;else{const i=this.tokenService.getCampaignMemberships();this.campaignRole=i[this.route.snapshot.params.campaign.toLowerCase()],this.hasCreatePermission=this.userHasCreatePermission(),this.hasViewPermission=this.userHasViewPermission(),this.hasUpdatePermission=this.userHasUpdatePermission(),this.hasDeletePermission=this.userHasDeletePermission()}}}function NR(n){var t;(function kJ(){return document.getSelection().rangeCount>0})()&&(t=document.getSelection().getRangeAt(0),window.getSelection().removeRange(t));const e=function MJ(n){const t=document.createElement("div");t.innerHTML=n;return t.innerHTML=t.textContent.replaceAll(">","<br>> ").slice(4),t.style.position="absolute",t.style.left="-9999px",t}(n);document.body.appendChild(e);const i=function xJ(n){const t=document.createRange();return t.selectNode(n),window.getSelection().addRange(t),t}(e);(function IJ(){try{document.execCommand("copy")}catch(n){window.alert("Your Browser Doesn't support this! Error : "+n)}})(),window.getSelection().removeRange(i),document.body.removeChild(e),t&&window.getSelection().addRange(t)}ni.\u0275fac=function(t){return new(t||ni)(w(_e),w(Fe))},ni.\u0275dir=de({type:ni});class ze{constructor(){this.warnings={0:"This can't be done without an internet connection",200:"Potential Syntaxerror",404:"The target URL for the requested action does not seem to exist",500:"An error occurred on the server, unrelated to your input. Please copy the full error message and send it to the developer",504:"This can't be done without an internet connection"},this.headings={400:"Invalid Input"},this.defaultWarning="The requested action was not carried out. An error occurred"}showWarning(t){console.log(t);const i=this.getHeading("number"!=typeof t?t.status:t),r=this.getBody(t);this.showErrorNotification(i,r,t)}getBody(t){const e="number"!=typeof t?t.status:t;var i=this.warnings[e];if(i=i??this.defaultWarning,500===e)return i;if(!("number"==typeof t||t.hasOwnProperty("status")&&t.hasOwnProperty("error")))throw console.error(t),"Error while trying to display the error above";let a;return a="string"==typeof t.error?"The error was caused by: <br>    "+t.error:"number"==typeof t?"":this.getHttpErrorMessages(t),i+"<br>"+a}getHeading(t){return this.headings[t]??`Error ${t}`}getHttpErrorMessages(t){let e="The errors you received were because of:<br>";for(let i in t.error)e+=`${i}<br>`,Array.isArray(t.error[i])?t.error[i].forEach(a=>{e+=`<strong class='ml-5'>- ${a}</strong> <br>`}):e+=`<strong class='ml-5'>- ${t.error[i]}</strong> <br>`;return e}showAlert(t){alert(t)}showErrorNotification(t,e,i={}){const r=document.querySelector("body"),o=`\n    <div class="card notification animate__animated animate__fadeInDown">\n        <div class="card-body">\n          <i class="fa fa-times fa-1-5x icon float-right" id="closeIcon"></i>\n          <h3 class="card-title mb-0">${t}</h3>\n          <hr class="white-separator">\n          <div class="card-subtitle"></div>\n          <div class="card-text">${e}</div>\n          <div class="mt-3">\n              <div class="btn btn-secondary" id="closeBtn"> <i class="fa fa-times"></i> Close </div>\n              <div class="btn btn-secondary" id="copy"> <i class="fas fa-clipboard"></i> Copy Full Error</div>\n          </div>\n        </div>\n    </div>\n    `,a=document.createElement("div");a.innerHTML=o,a.onclick=c=>this.onErrorNotificationClick(c,i),r.appendChild(a)}onErrorNotificationClick(t,e){const r="closeBtn"===t.target.id;if("closeIcon"===t.target.id){const a=t.target.parentElement.parentElement;console.log(a),_i(a,"fadeOutUp").then(()=>a.parentElement.remove())}if(r){const a=t.target.parentElement.parentElement.parentElement;_i(a,"fadeOutUp").then(()=>a.parentElement.remove())}"copy"===t.target.id&&this.copyErrorToClipboard(e)}copyErrorToClipboard(t){NR("number"==typeof t?`Error status ${t}`:JSON.stringify(t,null,"    "))}}ze.\u0275fac=function(t){return new(t||ze)},ze.\u0275prov=W({token:ze,factory:ze.\u0275fac,providedIn:"root"});class he{constructor(t,e){this.router=t,this.warning=e,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}routeToApiObject(t){const e=t.getAbsoluteRouterUrl(),i=this.replaceSpecialUnicodeCharacters(e);this.router.navigateByUrl(i)}routeToPath(t,e={}){const i=this.getRoutePath(t,e),r=this.replaceSpecialUnicodeCharacters(i);this.router.navigateByUrl(r)}getRoutePath(t,e={}){let i=this.getVariableRoutePathByName(t);if(this.hasPathVariables(i)){const r=this.getPathVariableNames(i);for(let o of r){if(!e.hasOwnProperty(o))throw`Tried to create path for route ${t} but lacked parameter ${o}`;null===e[o]&&(e[o]=H.NONE_STRING),i=i.replace(`:${o}`,e[o])}}return`/${i}`}routeToErrorPage(t){if("number"!=typeof t&&!t.hasOwnProperty("status"))throw this.warning.showWarning(t),"Incorrect error input. The input does not contain an error status or an object with the error status. Can not route to error page without error status.";"number"!=typeof t&&t.hasOwnProperty("status")&&(t=t.status),this.routeToPath("error",{errorStatus:`${t}`})}routeNameMatches(t,e){return t.snapshot.data.name===e}replaceSpecialUnicodeCharacters(t){return t.replace("(","%28").replace(")","%29").replace("?","?").replace("\u2020","%E2%80%A0")}getVariableRouteByName(t){const i=this.router.config.filter(o=>o.data.name===t);if(i.length>1)throw`There is more than 1 route with the name ${t}. Please contact the Developer to ensure all routes have unique names.`;if(0===i.length)throw`There is no route with the name ${t}. Please contact the Developer to use either a different route name or create a route for this name.`;return i[0]}getVariableRoutePathByName(t){return this.getVariableRouteByName(t).path}hasPathVariables(t){return t.includes("/:")}hasRoutePath(t){return this.router.config.filter(r=>r.data.name===t).length>0}getPathVariableNames(t){return t.split("/").filter(o=>o.startsWith(":")).map(o=>o.slice(1))}}he.\u0275fac=function(t){return new(t||he)(R(Gt),R(ze))},he.\u0275prov=W({token:he,factory:he.\u0275fac,providedIn:"root"});class gg{transform(t,e){const r=t.reduce((c,u)=>{const h=this.getFieldValue(e,u);return c.hasOwnProperty(h)?c[h].push(u):c[h]=[u],c},{});return Object.keys(r).map(c=>({key:c,value:r[c]})).sort((c,u)=>c.key.toLowerCase()<u.key.toLowerCase()?1:-1).reverse()}getFieldValue(t,e){const i=t.split(".");let r=e;for(let o of i)r=r[o];return r}}gg.\u0275fac=function(t){return new(t||gg)},gg.\u0275pipe=Zn({name:"groupBy",type:gg,pure:!0});class _g{transform(t,e){const r=t.reduce((o,a)=>{const u=a[e][0];return o.hasOwnProperty(u)?o[u].push(a):o[u]=[a],o},{});return Object.keys(r).map(o=>({key:o,value:r[o]}))}}_g.\u0275fac=function(t){return new(t||_g)},_g.\u0275pipe=Zn({name:"groupByFirstLetter",type:_g,pure:!0});const PJ=["overviewMainCard"],OJ=["filter"];function AJ(n,t){if(1&n&&(p(0,"div",13),s(1,"\n            "),p(2,"h1",21),s(3),m(),s(4,"\n        "),m()),2&n){const e=C();_(3),We(null==e.overviewTypeMetaData[e.overviewTypeName]?null:e.overviewTypeMetaData[e.overviewTypeName].heading)}}function NJ(n,t){1&n&&oi(0,22),2&n&&(C(),v("ngTemplateOutlet",re(47)))}function RJ(n,t){1&n&&oi(0,22),2&n&&(C(),v("ngTemplateOutlet",re(44)))}function FJ(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"div",23),s(3,"\n                "),p(4,"a",24),s(5," \n                    "),N(6,"i",25),s(7),Vt(8,"titlecase"),m(),s(9,"\n            "),m(),s(10,"\n        "),V()),2&n){const e=C();_(7),ee("\n                    Add ",Tn(8,1,e.overviewTypeName),"\n                ")}}function LJ(n,t){1&n&&oi(0,22),2&n&&(C(),v("ngTemplateOutlet",re(50)))}function $J(n,t){1&n&&oi(0,22),2&n&&(C(),v("ngTemplateOutlet",re(53)))}function UJ(n,t){1&n&&oi(0,22),2&n&&(C(),v("ngTemplateOutlet",re(56)))}function VJ(n,t){if(1&n&&(s(0,"\n    "),s(1,"\n    "),p(2,"div",13),s(3,"\n        "),N(4,"img",26),s(5,"\n    "),m(),s(6,"\n")),2&n){const e=C();_(4),v("src",e.overviewTypeMetaData[e.overviewTypeName].image,Yn)}}function BJ(n,t){if(1&n&&(U(0),s(1,"\n                            "),N(2,"img",35),s(3,"\n                        "),V()),2&n){const e=C().$implicit,i=C(2);_(2),v("src",i.constants.wikiUrl+e.images[0],Yn)}}function HJ(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"div",30),s(3,"\n                "),p(4,"a",31),s(5,"\n                    "),p(6,"div",32),s(7,"\n                        "),S(8,BJ,4,1,"ng-container",8),s(9,"\n                        "),p(10,"div",33),s(11,"\n                            "),p(12,"h5",34),s(13),m(),s(14,"\n                        "),m(),s(15,"\n                    "),m(),s(16,"\n                "),m(),s(17," \n            "),m(),s(18,"\n        "),V()),2&n){const e=t.$implicit;_(4),v("routerLink",e.getAbsoluteRouterUrl()),_(4),v("ngIf",e.images),_(5),We(e.name_full)}}function jJ(n,t){if(1&n&&(s(0,"\n    "),p(1,"div",13),s(2,"\n        "),p(3,"h3",27),s(4," Player Characters "),m(),s(5,"\n    "),m(),s(6,"\n\n    "),p(7,"div",28),s(8,"\n        "),S(9,HJ,19,3,"ng-container",29),s(10,"\n    "),m(),s(11,"\n")),2&n){const e=C();_(9),v("ngForOf",e.playerCharacters)}}const qh=function(n){return{"d-none":n}};function zJ(n,t){if(1&n&&(U(0),s(1,"\n                        "),p(2,"span",40),s(3,"\n                            "),p(4,"li",37),s(5,"\n                                "),p(6,"a",31),s(7),m(),s(8,"\n                            "),m(),s(9,"\n                        "),m(),s(10,"\n                    "),V()),2&n){const e=t.$implicit;C(3);const i=re(22);_(4),v("ngClass",ot(3,qh,!e.name_full.toLowerCase().includes(i.value.toLowerCase()))),_(2),v("routerLink",e.getAbsoluteRouterUrl()),_(1),ee(" \n                                    ",e.name_full,"\n                                ")}}const RR=function(n,t){return{"py-4 col-md-6 border-bottom":n,"col-12":t}};function GJ(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"div",37),s(3,"\n                "),s(4,"\n                "),p(5,"h5",38),s(6),m(),s(7,"\n    \n                "),s(8,"\n                "),p(9,"ul",39),s(10,"\n                    "),S(11,zJ,11,5,"ng-container",29),s(12,"\n                "),m(),s(13,"\n    \n            "),m(),s(14,"\n        "),V()),2&n){const e=t.$implicit;C(2);const i=re(22);_(2),v("ngClass",Pn(4,RR,!i.value,i.value)),_(3),v("ngClass",ot(7,qh,i.value)),_(1),ee(" ",e.key," "),_(5),v("ngForOf",e.value)}}function WJ(n,t){if(1&n&&(s(0,"\n    "),oi(1,22),s(2,"\n\n    "),p(3,"div",13),s(4,"\n        "),p(5,"h3",36),s(6," Non-Player Characters "),m(),s(7,"\n    "),m(),s(8,"\n\n    "),p(9,"div",13),s(10,"\n        "),S(11,GJ,15,9,"ng-container",29),Vt(12,"groupByFirstLetter"),s(13,"\n\n    "),m(),s(14,"\n")),2&n){const e=C(),i=re(59);_(1),v("ngTemplateOutlet",i),_(10),v("ngForOf",Ia(12,2,e.listItems,"name"))}}function qJ(n,t){if(1&n&&(U(0),s(1,"\n                "),p(2,"span",13),s(3,"\n                    "),p(4,"li",41),s(5,"\n                        "),p(6,"a",31),s(7),m(),s(8,"\n                    "),m(),s(9,"\n                "),m(),s(10,"\n            "),V()),2&n){const e=t.$implicit;C(3);const i=re(22);_(4),v("ngClass",ot(3,qh,!e.name_full.toLowerCase().includes(i.value.toLowerCase()))),_(2),v("routerLink",e.getAbsoluteRouterUrl()),_(1),ee("\n                            ",e.name_full,"\n                        ")}}const QJ=function(n){return{"mb-0":n}};function ZJ(n,t){if(1&n&&(U(0),s(1,"\n        "),s(2,"\n        "),p(3,"div",13),s(4,"\n            "),p(5,"h5",41),s(6),m(),s(7,"\n        "),m(),s(8,"\n\n        "),s(9,"\n        "),p(10,"ul",37),s(11,"\n            "),S(12,qJ,11,5,"ng-container",29),s(13,"\n        "),m(),s(14,"\n    "),V()),2&n){const e=t.$implicit;C(2);const i=re(22);_(5),v("ngClass",ot(4,qh,i.value)),_(1),ee(" ",e.key," "),_(4),v("ngClass",ot(6,QJ,i.value)),_(2),v("ngForOf",e.value)}}function KJ(n,t){if(1&n&&(s(0,"\n    "),S(1,ZJ,15,8,"ng-container",29),Vt(2,"groupBy"),s(3,"\n")),2&n){const e=C();_(1),v("ngForOf",Ia(2,1,e.listItems,"author_details.name"))}}function YJ(n,t){if(1&n&&(U(0),s(1,"\n                        "),p(2,"li",37),s(3,"\n                            "),p(4,"a",31),s(5),m(),s(6,"\n                        "),m(),s(7,"\n                    "),V()),2&n){const e=t.$implicit;C(3);const i=re(22);_(2),v("ngClass",ot(3,qh,!e.name_full.toLowerCase().includes(i.value.toLowerCase()))),_(2),v("routerLink",e.getAbsoluteRouterUrl()),_(1),ee("\n                                ",e.name_full,"\n                            ")}}function JJ(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"div",37),s(3,"\n                "),s(4,"\n                 "),p(5,"h5",38),s(6),m(),s(7,"\n        \n                "),s(8,"\n                "),p(9,"ul",39),s(10,"\n                    "),S(11,YJ,8,5,"ng-container",29),s(12,"\n                "),m(),s(13,"\n        \n            "),m(),s(14,"\n        "),V()),2&n){const e=t.$implicit;C(2);const i=re(22);_(2),v("ngClass",Pn(4,RR,!i.value,i.value)),_(3),v("ngClass",ot(7,qh,i.value)),_(1),ee(" ",e.key," "),_(5),v("ngForOf",e.value)}}function XJ(n,t){if(1&n&&(s(0,"\n    "),oi(1,22),s(2,"\n\n    "),p(3,"div",13),s(4,"\n        "),S(5,JJ,15,9,"ng-container",29),Vt(6,"groupByFirstLetter"),s(7,"\n\n    "),m(),s(8,"\n\n")),2&n){const e=C(),i=re(59);_(1),v("ngTemplateOutlet",i),_(4),v("ngForOf",Ia(6,2,e.listItems,"name_full"))}}function eX(n,t){1&n&&s(0,"\n\n")}class $a extends ni{constructor(t,e,i,r){super(r,i),this.router=t,this.routingService=e,this.OverviewType=Ae,this.isInitialAnimationFinished=!1,this.constants=H,this.overviewTypeMetaData={character:{image:"/assets/overview_images/characters.webp",heading:"Characters",processing:o=>this.processCharacterOverviewItems(o),overviewTypeEnum:Ae.Character},creature:{image:"/assets/overview_images/creatures.webp",heading:"Creatures",processing:null,overviewTypeEnum:Ae.Creature},diaryentry:{image:"/assets/overview_images/diaryentries.webp",heading:"Diaryentries",processing:o=>this.processDiaryentryOverviewItems(o),overviewTypeEnum:Ae.Diaryentry},item:{image:"/assets/overview_images/items.webp",heading:"Items",processing:null,overviewTypeEnum:Ae.Item},location:{image:"/assets/overview_images/locations.webp",heading:"Locations",processing:o=>this.processLocationOverviewItems(o),overviewTypeEnum:Ae.Location},organization:{image:"/assets/overview_images/organizations.webp",heading:"Organizations",processing:null,overviewTypeEnum:Ae.Organization}},this.characterOverview="character",this.itemOverview="item",this.creatureOverview="creature",this.locationOverview="location",this.organizationOverview="organization",this.diaryentryOverview="diaryentry"}ngOnInit(){this.campaign=this.route.snapshot.data.campaign;const t=this.route.snapshot.data.overviewList,i=this.getOverviewConfigs().processing;this.listItems=null!=i?i(t):t,this.setRouterLinks(this.campaign,this.listItems)}setRouterLinks(t,e){this.homeUrl=this.routingService.getRoutePath("home2",{campaign:t.name})}getOverviewConfigs(){const t=this.router.url.split("/");return this.overviewTypeName=t[t.length-2],this.overviewTypeMetaData[this.overviewTypeName]}ngAfterViewInit(){this.articleElement?.nativeElement&&_i(this.articleElement.nativeElement,"fadeIn")}filterListItems(){}openFirstArticle(t){const e=t.toLowerCase(),r=this.listItems.filter(o=>o.name.toLowerCase().includes(e))[0];this.routingService.routeToApiObject(r)}processCharacterOverviewItems(t){const e=[],i=[];return t.forEach(r=>r.player_character?e.push(r):i.push(r)),this.playerCharacters=e,i}processDiaryentryOverviewItems(t){return t.forEach(e=>e.name_full=this.buildDiaryEntryNameForList(e)),t}processLocationOverviewItems(t){return t.forEach(e=>{const o=this.getParentLocations(e,t).map(a=>a.name).reverse().join(" - ");e.name_full=o}),this.sortLocationsByNameFull(t),t}getParentLocations(t,e){const i=[t];for(var r=t;null!=r.parent_location_details.pk;){const a=this.getListItemByPk(r.parent_location_details.pk,e);i.push(a),r=a}return i}getListItemByPk(t,e){return null==t?null:e.find(r=>r.pk===t)}sortLocationsByNameFull(t){t.sort((e,i)=>e.name_full>i.name_full?1:-1)}buildDiaryEntryNameForList(t){const e=`#${t.session_details.session_number}`;let i=null!=t.name?`- ${t.name}`:"";if(H.isSmallScreen)return`${e} ${i}`;let r="";return null!=t.session_details.start_day&&null!=t.session_details.end_day&&(r=`- Days ${this.padNumber(t.session_details.start_day,3,"")}-${this.padNumber(t.session_details.end_day,3,"")}`),`${e} ${r} ${i}`}padNumber(t,e,i="0"){return(i.repeat(e)+t).slice(-1*e)}}function Uu(n,t="file"){if(!n.hasOwnProperty(t))throw`Can't convert object to FormData! Your model does not have a ${t} property!`;if(!n[t][0])throw`Can't convert object to FormData! Your model's ${t} has no file!`;const e=new FormData;for(var i in n)i===t?e.append(i,n[t][0]):n[i]&&e.append(i,n[i]);return e}$a.\u0275fac=function(t){return new(t||$a)(w(Gt),w(he),w(Fe),w(_e))},$a.\u0275cmp=ie({type:$a,selectors:[["app-article-overview"]],viewQuery:function(t,e){if(1&t&&(dt(PJ,5),dt(OJ,5)),2&t){let i;ke(i=Me())&&(e.articleElement=i.first),ke(i=Me())&&(e.filterField=i)}},features:[ce],decls:60,vars:9,consts:[[1,"main"],["overviewMainCard",""],[1,"container"],["class","row",4,"ngIf"],[3,"ngSwitch"],["heading",""],[3,"ngTemplateOutlet",4,"ngSwitchCase"],[3,"ngTemplateOutlet",4,"ngSwitchDefault"],[4,"ngIf"],["autocomplete","off",1,"row",3,"submit"],["type","text","id","filter_input",1,"filter-bar","mt-2","mb-4","w-100","col",3,"placeholder","keyup"],["filter",""],["body",""],[1,"row"],[1,"mt-4","col-sm-3","btn","btn-secondary",3,"routerLink"],["defaultHeading",""],["characterHeading",""],["characterBody",""],["diaryentryBody",""],["defaultBody",""],["filterField",""],[1,"major","col","mb-4","pb-1","border-bottom"],[3,"ngTemplateOutlet"],[1,"mb-3","row"],["routerLink","create",1,"btn","btn-primary","col-lg-2","col-sm-3"],[1,"fa","fa-plus"],["alt","Image indicating the overview type",1,"col","overview-image","px-0","mb-4",3,"src"],[1,"col","mb-0"],["id","player-characters",1,"mb-5","row"],[4,"ngFor","ngForOf"],[1,"mb-4","col-lg-3","col-md-4","col-sm-6","col-12"],[3,"routerLink"],[1,"card"],[1,"card-body","p-3"],[1,"card-title","mb-0","text-center"],["alt","An image displaying a player character",1,"card-img-top",3,"src"],[1,"mb-3","col"],[3,"ngClass"],[1,"mb-0",3,"ngClass"],[1,"mb-0"],[1,"px-0"],[1,"col",3,"ngClass"]],template:function(t,e){if(1&t){const i=Z();p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),s(5,"\n        "),S(6,AJ,5,1,"div",3),s(7,"\n\n        "),U(8,4,5),s(10,"\n            "),S(11,NJ,1,1,"ng-container",6),s(12,"\n            "),S(13,RJ,1,1,"ng-container",7),s(14,"        \n        "),V(),s(15,"\n\n        "),s(16,"\n        "),S(17,FJ,11,3,"ng-container",8),s(18,"\n\n        "),p(19,"form",9),A("submit",function(){k(i);const o=re(22);return x(e.openFirstArticle(o.value))}),s(20,"\n            "),p(21,"input",10,11),A("keyup",function(){return e.filterListItems()}),m(),s(23,"    \n        "),m(),s(24,"\n\n        "),U(25,4,12),s(27," \n            "),S(28,LJ,1,1,"ng-container",6),s(29,"\n            "),S(30,$J,1,1,"ng-container",6),s(31,"\n            "),S(32,UJ,1,1,"ng-container",7),s(33,"        \n        "),V(),s(34,"\n\n        "),p(35,"div",13),s(36,"\n            "),p(37,"a",14),s(38,"\n                Back to Frontpage\n            "),m(),s(39,"\n        "),m(),s(40,"\n    "),m(),s(41,"\n"),m(),s(42,"\n\n\n"),S(43,VJ,7,1,"ng-template",null,15,ae),s(45,"\n\n\n"),S(46,jJ,12,1,"ng-template",null,16,ae),s(48,"\n\n\n"),S(49,WJ,15,5,"ng-template",null,17,ae),s(51,"\n\n\n"),S(52,KJ,4,4,"ng-template",null,18,ae),s(54,"\n\n\n"),S(55,XJ,9,5,"ng-template",null,19,ae),s(57,"\n\n\n\n"),S(58,eX,1,0,"ng-template",null,20,ae)}2&t&&(_(6),v("ngIf",e.overviewTypeName),_(2),v("ngSwitch",e.overviewTypeMetaData[e.overviewTypeName].overviewTypeEnum),_(3),v("ngSwitchCase",e.OverviewType.Character),_(6),v("ngIf",e.hasCreatePermission),_(4),fu("placeholder","Search for ",e.overviewTypeName,"..."),_(4),v("ngSwitch",e.overviewTypeMetaData[e.overviewTypeName].overviewTypeEnum),_(3),v("ngSwitchCase",e.OverviewType.Character),_(2),v("ngSwitchCase",e.OverviewType.Diaryentry),_(7),v("routerLink",e.homeUrl))},dependencies:[rn,Ye,me,Ro,wh,iy,tP,Ht,Vr,Ur,Uo,gm,gg,_g],styles:["ul[_ngcontent-%COMP%]{list-style-type:disclosure-closed}.overview-image[_ngcontent-%COMP%]{max-height:23rem;object-fit:cover;object-position:bottom}.filter-bar[_ngcontent-%COMP%]{background-color:transparent;border:1px white solid;border-radius:5px;padding:0rem 1rem;line-height:1.65;font-size:1rem;height:2.75rem;color:#fff}.filter-bar[_ngcontent-%COMP%]:focus{background:rgba(255,255,255,.1);border-color:#fff;box-shadow:0 0 0 2px #fff}#player-characters[_ngcontent-%COMP%]{margin-right:-15px;margin-left:-15px}#player-characters[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:7rem;object-fit:cover}@media (max-width: 768px){li[_ngcontent-%COMP%]{font-size:larger}}"]});class Hr{constructor(t){this.http=t}list(){return this.http.get(`${this.baseUrl}/`)}campaignList(t){return this.http.get(`${this.baseUrl}/${t}/overview`)}campaignDetailList(t){return this.http.get(`${this.baseUrl}/${t}/`)}create(t){return this.http.post(`${this.baseUrl}/`,t)}update(t,e){return this.http.put(`${this.baseUrl}/pk/${t}/`,e)}read(t){return this.http.get(`${this.baseUrl}/pk/${t}/`)}readByParam(t,e){if("string"!=typeof e.name)throw console.error("The params you used in the service"),console.error(e),'Invalid params exception. You tried to use the base readByParams of GenericService with a parameter \n      object without the "name" attribute. This indicates your call is more complex than \n      this base implementation is useful for. Overwrite readByParam in the service that inherits from  \n      GenericObjectService and implement the function yourself';return this.http.get(`${this.baseUrl}/${t}/${e.name}/`)}delete(t){return this.http.delete(`${this.baseUrl}/pk/${t}/`)}patch(t,e){return this.http.patch(`${this.baseUrl}/pk/${t}/`,e)}}Hr.\u0275fac=function(t){return new(t||Hr)(R(qt))},Hr.\u0275prov=W({token:Hr,factory:Hr.\u0275fac,providedIn:"root"});class Wn extends Hr{constructor(t,e){super(t),this.tokenService=e,this.baseUrl=`${H.wikiApiUrl}/campaign`}campaignList(){return this.http.get(`${this.baseUrl}/overview/`).pipe(pe(e=>(e.forEach(i=>{i.isMember=this.tokenService.isCampaignMember(i.name.toLowerCase()),i.isAdmin=this.tokenService.isCampaignAdmin(i.name.toLowerCase()),i.isGuest=this.tokenService.isCampaignGuest(i.name.toLowerCase())}),e)))}create(t){const e=this.processCampaignData(t);return super.create(e)}update(t,e){const i=this.processCampaignData(e);return super.update(t,i)}patch(t,e){const i=this.processCampaignData(e);return super.patch(t,i)}processCampaignData(t){const e=this.hasImageSelected(t.icon),i=this.hasImageSelected(t.background_image);return e||i?!e&&i?(delete t.icon,Uu(t,"background_image")):e&&!i?(delete t.background_image,Uu(t,"icon")):function tX(n,t){t.forEach(r=>{if(!n.hasOwnProperty(r))throw`Can't convert object to FormData! Your model does not have a ${r} property!`});const e=new FormData;for(var i in n)t.includes(i)?e.append(i,n[i][0]):n[i]&&e.append(i,n[i]);return e}(t,["background_image","icon"]):(delete t.icon,delete t.background_image,t)}hasImageSelected(t){return"FileList"===t.constructor.name}delete(t){throw"You can not delete a campaign, please use 'deactivate' instead"}deactivate(t){return super.delete(t)}statistics(t){return this.http.get(`${H.wikiApiUrl}/admin/statistics/${t}`)}readByParam(t){return this.http.get(`${this.baseUrl}/${t}/`)}addGuest(t,e){return this.http.patch(`${this.baseUrl}/${t}/members/`,{action:"add_guest",user:e})}addMember(t,e){return this.http.patch(`${this.baseUrl}/${t}/members/`,{action:"add_member",user:e})}addAdmin(t,e){return this.http.patch(`${this.baseUrl}/${t}/members/`,{action:"add_admin",user:e})}removeGuest(t,e){return this.http.patch(`${this.baseUrl}/${t}/members/`,{action:"remove_guest",user:e})}removeMember(t,e){return this.http.patch(`${this.baseUrl}/${t}/members/`,{action:"remove_member",user:e})}removeAdmin(t,e){return this.http.patch(`${this.baseUrl}/${t}/members/`,{action:"remove_admin",user:e})}addEmptySearchResponse(t){return this.http.post(`${H.wikiApiUrl}/emptysearchresponse/`,t)}deleteEmptySearchResponse(t){return this.http.delete(`${H.wikiApiUrl}/emptysearchresponse/pk/${t}`)}}function FR(n,t,e,i,r,o,a){try{var c=n[o](a),u=c.value}catch(h){return void e(h)}c.done?t(u):Promise.resolve(u).then(i,r)}function _t(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var o=n.apply(t,e);function a(u){FR(o,i,r,a,c,"next",u)}function c(u){FR(o,i,r,a,c,"throw",u)}a(void 0)})}}Wn.\u0275fac=function(t){return new(t||Wn)(R(qt),R(_e))},Wn.\u0275prov=W({token:Wn,factory:Wn.\u0275fac,providedIn:"root"});class Qh{constructor(t){this.titleService=t,this.defaultTitle="StoryFont"}updatePageTitle(t,e){const i=this.createPageTitle(t,e);this.titleService.setTitle(i)}createPageTitle(t,e){const i=t.campaign;if(null==i)return this.defaultTitle;const r=this.getArticleName(t,e);return this.capitalizeFirstLetters(`${i} ${r}`)}getArticleName(t,e){return t.name??(e.includes("diaryentry")&&t.sessionNumber?`Diaryentry ${t.sessionNumber}`:e.includes("sessionaudio")&&t.sessionNumber?`Recording ${t.sessionNumber}`:e)}capitalizeFirstLetters(t){return t.toLowerCase().replace(/^\w|\s\w/g,i=>i.toUpperCase())}}Qh.\u0275fac=function(t){return new(t||Qh)(R(uw))},Qh.\u0275prov=W({token:Qh,factory:Qh.\u0275fac,providedIn:"root"});class Ve{constructor(t,e,i,r,o,a,c){this.campaignService=t,this.tokenService=e,this.router=i,this.routingService=r,this.urlLocation=o,this.myTitleService=a,this.route=c,this.currentCampaignSet=new yn(null),this.isLoadingCampaignSet=!1,this.currentCampaign=new yn(null),this.currentCampaignSet.pipe(P2(1)).subscribe(()=>{this.updateCurrentlySelectedCampaignFromRoute(this.route.snapshot.params)}),this.autoUpdateCampaignSet().then(()=>this.startListeningToRoutingEvents())}autoUpdateCampaignSet(){var t=this;return _t(function*(){!t.tokenService.hasValidJWTToken()||t.isLoadingCampaignSet||(t.isLoadingCampaignSet=!0,t.campaignService.campaignList().pipe(le()).subscribe(e=>{t.isLoadingCampaignSet=!1,t.updateCampaignSet(e)},e=>t.routingService.routeToErrorPage(e)))})()}updateCurrentlySelectedCampaign(t){var e=this;return _t(function*(){if(t===e.currentCampaign.value?.name)return;yield e.currentCampaignSet.pipe(Ot(o=>null!=o),le()).toPromise();const r=yield e.findCampaignByName(t);e.currentCampaign.next(r)})()}getCurrentCampaign(){var t=this;return _t(function*(){return yield t.currentCampaign.pipe(Ot(i=>null!=i),le()).toPromise()})()}waitForCampaignSetsToLoad(){var t=this;return _t(function*(){yield t.getCampaigns().pipe(Ot(e=>null!=e),le()).toPromise()})()}getCampaigns(){return this.currentCampaignSet}unsetCurrentlySelectedCampaign(){this.updateCurrentlySelectedCampaign(null)}updateCampaignSet(t){this.currentCampaignSet.next(t)}refreshAndReturnToLastURL(){var t=this;return _t(function*(){yield t.autoUpdateCampaignSet(),t.urlLocation.back()})()}startListeningToRoutingEvents(){this.router.events.pipe(Ot(t=>t instanceof qN)).subscribe(t=>this.onRouteResolveStart(t))}onRouteResolveStart(t){const e=t.state.root.firstChild,i=e.params,r=e.data.name;this.updateCurrentlySelectedCampaignFromRoute(i),this.myTitleService.updatePageTitle(i,r)}updateCurrentlySelectedCampaignFromRoute(t){const e=t?.campaign;this.updateCurrentlySelectedCampaign(e)}findCampaignByName(t){var e=this;return _t(function*(){if(null==t)return;let i=e.currentCampaignSet.value;return null!=i||(yield e.autoUpdateCampaignSet(),i=e.currentCampaignSet.value,null!=i)?(t=t.toLowerCase(),i.find(r=>r.name.toLowerCase()===t)):void 0})()}}Ve.\u0275fac=function(t){return new(t||Ve)(R(Wn),R(_e),R(Gt),R(he),R(qv),R(Qh),R(Fe))},Ve.\u0275prov=W({token:Ve,factory:Ve.\u0275fac,providedIn:"root"});class vr extends ni{constructor(t,e,i,r,o,a,c,u){super(u,c),this.router=t,this.routingService=e,this.warnings=i,this.articleService=r,this.campaignService=o,this.globalUrlParam=a,this.route=c,this.constants=H,this.campaign=this.route.snapshot.data.campaign;const h=this.router.url.includes("update");this.formState=h?H.updateState:H.createState}ngOnInit(){this.userModel=this.route.snapshot.data.modelData,this.updateRouterLinks(this.campaign.name,this.userModel,this.route.snapshot.params)}getQueryParameters(t){return{name:t.name}}updateRouterLinks(t,e,i){}forceFieldRefresh(){this.userModel={...this.userModel}}isInCreateState(){return this.formState===H.createState}isInUpdateState(){return this.formState===H.updateState}isInOutdatedUpdateState(){return this.formState===H.outdatedUpdateState}onSubmit(){this.isInUpdateState()||this.isInOutdatedUpdateState()?this.articleUpdate(this.userModel):this.isInCreateState()&&this.articleCreate(this.userModel)}articleUpdate(t){if(null==t.pk)throw"Invalid userModel Exception. The userModel provided here does not have a primary\n        key defined. This primary key is necessary to update the correct article in the database. Please contact the developer";const e=this;this.articleService.update(t.pk,t).pipe(le()).subscribe(i=>this.onUpdateSuccess(i,e),i=>this.onUpdateError(i,e))}articleCreate(t){const e=this;this.articleService.create(t).pipe(le()).subscribe(i=>this.onCreationSuccess(i,e),i=>this.onCreationError(i,e))}onUpdateSuccess(t,e){e.routingService.routeToApiObject(t)}onUpdateError(t,e){e.baseErrorCallback(t)}onCreationSuccess(t,e){e.routingService.routeToApiObject(t)}onCreationError(t,e){e.baseErrorCallback(t)}baseErrorCallback(t){409===t?.status?(this.serverModel=t.error,this.formState=H.outdatedUpdateState):this.warnings.showWarning(t)}onCancel(t){const i=(t=null==this.routingService?t:this).router;t.isInUpdateState()||t.isInOutdatedUpdateState()?i.navigateByUrl(t.updateCancelUrl):i.navigateByUrl(t.creationCancelUrl)}}vr.\u0275fac=function(t){du()},vr.\u0275dir=de({type:vr,features:[ce]});class vg{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){return`${H.wikiUrlFrontendPrefix}/character/${this.campaign_details.name}/${this.name}`}}function kn(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var c=n.length-1;c>=0;c--)(a=n[c])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function Fb(n,t){return function(e,i){t(e,i,n)}}function Ua(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)}class $b{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){return`${H.wikiUrlFrontendPrefix}/creature/${this.campaign_details.name}/${this.name}`}}class yg{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){if(!this.session_details)throw"Can't generate URL for diaryEntry object without Session Details";if(!this.session_details)throw"Can't generate URL for diaryEntry object without author_Details";return`${H.wikiUrlFrontendPrefix}/diaryentry/${this.campaign_details.name}/${this.session_details.session_number}/${this.session_details.is_main_session_int}/${this.author_details.name}`}}class Qs{constructor(t){this.orderIndexIncrement=10,t&&Object.assign(this,t)}hasShiftedOrderIndex(){return this.order_index%this.orderIndexIncrement>0}getShiftedOrderIndex(){return this.hasShiftedOrderIndex()?this.order_index:this.order_index+1}getUnshiftedOrderIndex(){return Math.floor(this.order_index/this.orderIndexIncrement)*this.orderIndexIncrement}unshiftOrderIndex(){this.order_index=this.getUnshiftedOrderIndex()}swapOrderIndexState(){this.hasShiftedOrderIndex()?this.unshiftOrderIndex():this.shiftOrderIndex()}shiftOrderIndex(){this.order_index++}nextOrderIndex(){return this.getUnshiftedOrderIndex()+this.orderIndexIncrement}priorOrderIndex(){return this.getUnshiftedOrderIndex()-this.orderIndexIncrement}getAbsoluteRouterUrl(){if(!this.diaryentry_details.session_number||!this.diaryentry_details.author_name||null==this.diaryentry_details.is_main_session)throw console.error(this.diaryentry_details),"Can't generate URL for Encounter object without all necessary information! I only have this:";return`${H.wikiUrlFrontendPrefix}/diaryentry/${this.campaign_details.name}/${this.diaryentry_details.session_number}/${this.diaryentry_details.is_main_session}/${this.diaryentry_details.author_name}/${this.title}`}getAbsoluteLocationRouterUrl(){if(!this.location_details)throw"Can't generate URL for Location of Encounter object without location_details !";return`${H.wikiUrlFrontendPrefix}/location/${this.campaign_details.name}/${this.location_details?.parent_location_name||H.NONE_STRING}/${this.location_details.name}`}}class bg{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){return`${H.wikiUrlFrontendPrefix}/item/${this.campaign_details.name}/${this.name}`}}class Vu{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){if(!this.parent_location_details)throw"Can't generate URL for Location object without parent_location_details";return`${H.wikiUrlFrontendPrefix}/location/${this.campaign_details.name}/${this.parent_location_details.name}/${this.name}`}getAbsoluteRouterUrlForParentLocation(){if(!this.parent_location_details)throw"Can't generate URL for Parent-Location of Location object without parent_location_details";return`${H.wikiUrlFrontendPrefix}/location/${this.campaign_details.name}/${this.parent_location_details.parent_location}/${this.parent_location_details.name}`}}class Ub{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){return`${H.wikiUrlFrontendPrefix}/organization/${this.campaign_details.name}/${this.name}`}}class Vb{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){return null==this.absoluteRouterUrl&&(this.absoluteRouterUrl=`${H.wikiUrlFrontendPrefix}/quest/${this.campaign_details.name}/${this.name}`),this.absoluteRouterUrl}}class Cg{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){if(!this.session_details)throw"Can't generate URL for SessionAudio object without session_details";return`${H.wikiUrlFrontendPrefix}/sessionaudio/${this.campaign_details.name}/${this.session_details.is_main_session_int}/${this.session_details.session_number}`}}class Bu{constructor(t){t&&Object.assign(this,t)}}class Zh{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){return`${H.wikiUrlFrontendPrefix}/map/${this.campaign_details.name}/${this.name}`}}class wg{constructor(t){t&&Object.assign(this,t)}}class Hu{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){if(!this.map_details)throw"Can't generate URL for MapMarker object without map_details";if(!this.location_details)throw"Can't generate URL for Encounter object without location_details";return`${H.wikiUrlFrontendPrefix}/marker/${this.campaign_details.name}/${this.location_details.parent_location_name}/${this.location_details.name}/${this.map_details.name}`}}class Bb{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){return`${H.wikiUrlFrontendPrefix}/spells/${this.campaign_details.name}/${this.name}`}}class Hb{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){return`${H.wikiUrlFrontendPrefix}/rules/${this.campaign_details.name}/${this.name}`}}class ju{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){if(!this.article_type)throw"Can not generate URL for undefined article_type";if(!this.absoluteRouterUrl){const e=new(0,VR[this.article_type])(this);this.absoluteRouterUrl=e.getAbsoluteRouterUrl()}return this.absoluteRouterUrl}}const VR={character:vg,creature:$b,diaryentry:yg,encounter:Qs,item:bg,location:Vu,organization:Ub,quest:Vb,sessionaudio:Cg,session:Bu,map:Zh,timestamp:wg,mapmarker:Hu,spell:Bb,rules:Hb};function Zs(n,t){return n.pipe(pe(e=>{const i=[];for(let r of e)i.push(new t(r));return i}))}function zu(n,t){return n.pipe(pe(e=>new t(e)))}function Va(n){return function(t,e,i){const r=i.value;return i.value=function(){const o=r.apply(this,arguments);return["String","string"].includes(typeof n)&&(n=this[n]),zu(o,n)},i}}function jb(n){return function(t,e,i){const r=i.value;return i.value=function(){["String","string"].includes(typeof n)&&(n=this[n]);const a=r.apply(this,arguments);return Zs(a,n)},i}}class ai{constructor(t,e){this.http=t,this.objectClass=e}list(){return Zs(this.http.get(`${this.baseUrl}/`),this.objectClass)}campaignList(t){return Zs(this.http.get(`${this.baseUrl}/${t}/overview/`),this.objectClass)}campaignDetailList(t){return Zs(this.http.get(`${this.baseUrl}/${t}/`),this.objectClass)}create(t){return zu(this.http.post(`${this.baseUrl}/`,t),this.objectClass)}update(t,e){return zu(this.http.put(`${this.baseUrl}/pk/${t}/`,e),this.objectClass)}read(t){return zu(this.http.get(`${this.baseUrl}/pk/${t}/`),this.objectClass)}readByParam(t,e){if("string"!=typeof e.name)throw console.error("The params you used in the service"),console.error(e),'Invalid params exception. You tried to use the base readByParams of GenericObjectService with a parameter \n      object without the "name" attribute. This indicates your call is more complex than \n      this base implementation is useful for. Overwrite readByParam in the service that inherits from  \n      GenericObjectService and implement the function yourself';if(null==t)throw"You tried to use readByParam without specifying which campaign you're querying for!";return zu(this.http.get(`${this.baseUrl}/${t}/${e.name}/`),this.objectClass)}delete(t){return this.http.delete(`${this.baseUrl}/pk/${t}/`)}patch(t,e){return zu(this.http.patch(`${this.baseUrl}/pk/${t}/`,e),this.objectClass)}}ai.\u0275fac=function(t){du()},ai.\u0275prov=W({token:ai,factory:ai.\u0275fac,providedIn:"root"}),new Wi({"Content-Type":"application/json"});class or extends ai{constructor(t){super(t,vg),this.baseUrl=`${H.wikiApiUrl}/character`}getPlayerCharacters(t){return this.http.get(`${this.baseUrl}/${t}/playercharacters/`)}getNonPlayerCharacters(t){return this.http.get(`${this.baseUrl}/${t}/nonplayercharacters/`)}}or.\u0275fac=function(t){return new(t||or)(R(qt))},or.\u0275prov=W({token:or,factory:or.\u0275fac,providedIn:"root"}),kn([jb(ju)],or.prototype,"getPlayerCharacters",null),kn([jb(ju)],or.prototype,"getNonPlayerCharacters",null);class Ba extends ai{constructor(t){super(t,$b),this.baseUrl=`${H.wikiApiUrl}/creature`}}Ba.\u0275fac=function(t){return new(t||Ba)(R(qt))},Ba.\u0275prov=W({token:Ba,factory:Ba.\u0275fac,providedIn:"root"});class Ks extends ai{constructor(t){super(t,yg),this.http=t,this.baseUrl=`${H.wikiApiUrl}/diaryentry`}readByParam(t,e){return this.http.get(`${this.baseUrl}/${t}/${e.sessionNumber}/${e.isMainSession}/${e.authorName}/`)}}Ks.\u0275fac=function(t){return new(t||Ks)(R(qt))},Ks.\u0275prov=W({token:Ks,factory:Ks.\u0275fac,providedIn:"root"}),kn([Va(yg)],Ks.prototype,"readByParam",null),new Wi({"Content-Type":"application/json"});class Nl extends ai{constructor(t){super(t,Qs),this.baseUrl=`${H.wikiApiUrl}/encounter`}getDiaryEntryEncounters(t,e){return Zs(this.http.get(`${this.baseUrl}/session/${t}/${e}`),Qs)}createForDiaryentry(t,e){return Zs(this.http.post(`${this.baseUrl}/`,e),Qs)}swapEncounterOrder(t,e,i){return Zs(this.http.patch(`${this.baseUrl}/${t}/orderswap/`,{encounter1:e,encounter2:i}),Qs)}cutInsertEncounter(t,e,i){return Zs(this.http.patch(`${this.baseUrl}/${t}/cutinsert/`,{encounter:e.pk,old_order_index:e.order_index,new_order_index:i}),Qs)}}Nl.\u0275fac=function(t){return new(t||Nl)(R(qt))},Nl.\u0275prov=W({token:Nl,factory:Nl.\u0275fac,providedIn:"root"});class Ha extends ai{constructor(t){super(t,bg),this.baseUrl=`${H.wikiApiUrl}/item`}}Ha.\u0275fac=function(t){return new(t||Ha)(R(qt))},Ha.\u0275prov=W({token:Ha,factory:Ha.\u0275fac,providedIn:"root"});class so extends ai{constructor(t){super(t,Vu),this.baseUrl=`${H.wikiApiUrl}/location`}readByParam(t,e){return zu(this.http.get(`${this.baseUrl}/${t}/${e.parentLocationName}/${e.locationName}/`),Vu)}}so.\u0275fac=function(t){return new(t||so)(R(qt))},so.\u0275prov=W({token:so,factory:so.\u0275fac,providedIn:"root"});class jr extends ai{constructor(t){super(t,Zh),this.baseUrl=`${H.wikiApiUrl}/map`}create(t){const e=Uu(t,"image");return this.http.post(`${this.baseUrl}/`,e)}update(t,e){let r;return"FileList"===e.image.constructor.name?r=Uu(e,"image"):(delete e.image,r=e),this.http.patch(`${this.baseUrl}/pk/${t}/`,r)}}jr.\u0275fac=function(t){return new(t||jr)(R(qt))},jr.\u0275prov=W({token:jr,factory:jr.\u0275fac,providedIn:"root"}),kn([Va(Zh)],jr.prototype,"create",null),kn([Va(Zh)],jr.prototype,"update",null);class zo extends ai{constructor(t){super(t,Hu),this.baseUrl=`${H.wikiApiUrl}/marker`}readByParam(t,e){return this.http.get(`${this.baseUrl}/${t}/${e.parentLocationName}/${e.locationName}/${e.mapName}`)}}zo.\u0275fac=function(t){return new(t||zo)(R(qt))},zo.\u0275prov=W({token:zo,factory:zo.\u0275fac,providedIn:"root"}),kn([Va(Hu)],zo.prototype,"readByParam",null);class Gu extends Hr{constructor(t){super(t),this.baseUrl=`${H.wikiApiUrl}/markertype`}}Gu.\u0275fac=function(t){return new(t||Gu)(R(qt))},Gu.\u0275prov=W({token:Gu,factory:Gu.\u0275fac,providedIn:"root"});class Ys extends ai{constructor(t){super(t,Ub),this.baseUrl=`${H.wikiApiUrl}/organization`}}Ys.\u0275fac=function(t){return new(t||Ys)(R(qt))},Ys.\u0275prov=W({token:Ys,factory:Ys.\u0275fac,providedIn:"root"});class _s extends ai{constructor(t,e){super(t,Vb),this.characterService=e,this.baseUrl=`${H.wikiApiUrl}/quest`}getQuestStates(){return this.http.get(`${this.baseUrl}states`)}getQuestTakers(t){return this.characterService.getPlayerCharacters(t).pipe(pe(i=>(i.unshift({name:"Group",name_full:"Group",pk:null,article_type:"quest"}),i)))}}_s.\u0275fac=function(t){return new(t||_s)(R(qt),R(or))},_s.\u0275prov=W({token:_s,factory:_s.\u0275fac,providedIn:"root"}),kn([jb(ju)],_s.prototype,"getQuestTakers",null);class Rl extends ai{constructor(t){super(t,Hb),this.baseUrl=`${H.wikiApiUrl}/rule`}}Rl.\u0275fac=function(t){return new(t||Rl)(R(qt))},Rl.\u0275prov=W({token:Rl,factory:Rl.\u0275fac,providedIn:"root"}),new Wi({"Content-Type":"application/json"});class vs extends ai{constructor(t){super(t,Bu),this.baseUrl=`${H.wikiApiUrl}/session`}getSession(t,e){return"boolean"==typeof e&&(e=e?1:0),this.http.get(`${this.baseUrl}/${t}/${e}`)}}vs.\u0275fac=function(t){return new(t||vs)(R(qt))},vs.\u0275prov=W({token:vs,factory:vs.\u0275fac,providedIn:"root"}),kn([Va(Bu)],vs.prototype,"getSession",null);class ys extends ai{constructor(t){super(t,Cg),this.http=t,this.baseUrl=`${H.wikiApiUrl}/sessionaudio`}readByParam(t,e){return this.http.get(`${this.baseUrl}/${t}/${e.isMainSession}/${e.sessionNumber}/`)}uploadFile(t,e){const i=new Wi({"ngsw-bypass":"true","X-Progress-ID":t});return this.http.post(`${H.wikiAudioUploadUrl}/${t}`,e,{reportProgress:!0,observe:"events",headers:i}).pipe(Fn(r=>console.log(r)))}update(t,e){const i=`${this.baseUrl}/pk/${t}/`,r=Uu(e,"audio_file"),o=new Wi({"ngsw-bypass":"true"});return this.http.put(i,r,{headers:o,observe:"events",reportProgress:!0})}}ys.\u0275fac=function(t){return new(t||ys)(R(qt))},ys.\u0275prov=W({token:ys,factory:ys.\u0275fac,providedIn:"root"}),kn([Va(Cg)],ys.prototype,"readByParam",null);class Fl extends ai{constructor(t){super(t,Bb),this.baseUrl=`${H.wikiApiUrl}/spell`}}Fl.\u0275fac=function(t){return new(t||Fl)(R(qt))},Fl.\u0275prov=W({token:Fl,factory:Fl.\u0275fac,providedIn:"root"});class Ll extends Hr{constructor(t){super(t),this.baseUrl=`${H.wikiApiUrl}/quote`}getQuotes(t,e){return this.http.get(`${this.baseUrl}/${t}/${e}/`)}getRandomQuote(t,e){return this.http.get(`${this.baseUrl}/${t}/${e}/random/`)}getAllCharacterQuotes(t,e){return this.http.get(`${this.baseUrl}/${t}/${e}/`)}}Ll.\u0275fac=function(t){return new(t||Ll)(R(qt))},Ll.\u0275prov=W({token:Ll,factory:Ll.\u0275fac,providedIn:"root"});class Ac{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){return""}}class ao extends ai{constructor(t,e){super(t,Ac),this.tokenService=e,this.baseUrl=`${H.wikiApiUrl}/user`}updateUserGroups(t){return this.http.patch(`${this.baseUrl}/pk/${t.pk}/`,{groups:t.groups})}updateUserAdminState(t){return this.http.patch(`${this.baseUrl}/pk/${t.pk}/`,{is_staff:t.is_staff,is_superuser:t.is_superuser})}patchUser(t,e){return this.http.patch(`${this.baseUrl}/pk/${t}/`,e)}getThisUser(){const t=this.tokenService.getCurrentUserPk();return this.http.get(`${this.baseUrl}/pk/${t}/`)}}ao.\u0275fac=function(t){return new(t||ao)(R(qt),R(_e))},ao.\u0275prov=W({token:ao,factory:ao.\u0275fac,providedIn:"root"}),kn([Va(Ac)],ao.prototype,"updateUserGroups",null),kn([Va(Ac)],ao.prototype,"updateUserAdminState",null),kn([Va(Ac)],ao.prototype,"patchUser",null),kn([Va(Ac)],ao.prototype,"getThisUser",null);class ja{constructor(t,e,i,r,o,a,c,u,h,f,y,T,E,P,$,G,Q){this.characterService=t,this.creatureService=e,this.diaryentryService=i,this.encounterService=r,this.itemService=o,this.locationService=a,this.mapService=c,this.markerService=u,this.markerTypeService=h,this.organizationService=f,this.questService=y,this.ruleService=T,this.sessionService=E,this.sessionaudioService=P,this.spellService=$,this.quoteService=G,this.userService=Q,this.overviewUrl=`${H.wikiApiUrl}`,this.overviewServiceMapping={[Ae.Character]:this.characterService,[Ae.Creature]:this.creatureService,[Ae.Diaryentry]:this.diaryentryService,[Ae.Encounter]:this.encounterService,[Ae.Item]:this.itemService,[Ae.Location]:this.locationService,[Ae.Map]:this.mapService,[Ae.MarkerType]:this.markerService,[Ae.MarkerTypeType]:this.markerTypeService,[Ae.Organization]:this.organizationService,[Ae.Quest]:this.questService,[Ae.Quote]:this.quoteService,[Ae.Rule]:this.ruleService,[Ae.Session]:this.sessionService,[Ae.Sessionaudio]:this.sessionaudioService,[Ae.Spell]:this.spellService,[Ae.User]:this.userService}}getCampaignOverviewItems(t,e,i){let o=this.overviewServiceMapping[e].campaignList(t);return null!=i&&(o=o.pipe(pe(a=>a.sort((c,u)=>c[i]<u[i]?-1:1)))),Zs(o,ju)}getAllOverviewItems(t,e){let r=this.overviewServiceMapping[t].list();return null!=e&&(r=r.pipe(pe(o=>o.sort((a,c)=>a[e].toLowerCase()<c[e].toLowerCase()?-1:1)))),Zs(r,ju)}}ja.\u0275fac=function(t){return new(t||ja)(R(or),R(Ba),R(Ks),R(Nl),R(Ha),R(so),R(jr),R(zo),R(Gu),R(Ys),R(_s),R(Rl),R(vs),R(ys),R(Fl),R(Ll),R(ao))},ja.\u0275prov=W({token:ja,factory:ja.\u0275fac,providedIn:"root"});class Yt{constructor(t){this.selectOptionService=t}setDefaultValues(t){return null==t.required&&(t.required=!0),null==t.disabled&&(t.disabled=!1),null==t.sortProp&&(t.sortProperty=null),t}genericSelect(t){const e=(t=this.setDefaultValues(t)).validators?t.validators:[];let i;return!0===t.required&&e.push("required"),i=null==t.campaign?this.selectOptionService.getAllOverviewItems(t.overviewType,t.sortProp):this.selectOptionService.getCampaignOverviewItems(t.campaign,t.overviewType,t.sortProp),{key:t.key,type:"select",className:t.className,wrappers:t.wrappers,hideExpression:!!t.hide&&t.hide,templateOptions:{label:t.label?t.label:this.capitalizeFirstLetter(t.key),labelProp:t.labelProp?t.labelProp:"name_full",valueProp:t.valueProp?t.valueProp:"pk",options:i,required:"boolean"!=typeof t.required||t.required,disabled:t.disabled},validators:{validation:e}}}genericDisableSelect(t){const e=(t=this.setDefaultValues(t)).validators?t.validators:[];let i;return!0===t.required&&e.push("required"),null==t.showWrapperLabel&&(t.showWrapperLabel=!0),i=null==t.campaign?this.selectOptionService.getAllOverviewItems(t.overviewType,t.sortProp):this.selectOptionService.getCampaignOverviewItems(t.campaign,t.overviewType,t.sortProp),{key:t.key,type:"formly-select-disable",className:t.className,wrappers:t.wrappers,hideExpression:!!t.hide&&t.hide,templateOptions:{label:t.label?t.label:this.capitalizeFirstLetter(t.key),labelProp:t.labelProp?t.labelProp:"name_full",valueProp:t.valueProp?t.valueProp:"pk",options:i,required:"boolean"!=typeof t.required||t.required,disabledExpression:t.disabledExpression,tooltipMessage:t.tooltipMessage,warningMessage:t.warningMessage,additionalProperties:{showWrapperLabel:t.showWrapperLabel}},validators:{validation:e}}}customSelect(t){const e=(t=this.setDefaultValues(t)).validators?t.validators:[];return!0===t.required&&e.push("required"),{key:t.key,type:"select",className:t.className,hideExpression:!!t.hide&&t.hide,templateOptions:{label:t.label?t.label:this.capitalizeFirstLetter(t.key),options:t.options,required:"boolean"!=typeof t.required||t.required,disabled:t.disabled},validators:{validation:e}}}customStringSelect(t){t=this.setDefaultValues(t);let e=[];for(let r of t.options)e.push({label:r,value:r});const i=t.validators?t.validators:[];return!0===t.required&&i.push("required"),{key:t.key,type:"select",className:t.className,hideExpression:!!t.hide&&t.hide,templateOptions:{label:t.label?t.label:this.capitalizeFirstLetter(t.key),options:e,required:"boolean"!=typeof t.required||t.required,disabled:t.disabled},validators:{validation:i}}}genericInput(t){const e=(t=this.setDefaultValues(t)).validators?t.validators:[];let i;return!0===t.required&&e.push("required"),!0===t.isNumberInput&&e.push("notInteger"),!0===t.isNameInput&&e.push("hasSpecialCharacters"),i=t.isPasswordInput?"password":t.isNumberInput?"number":"string",{key:t.key,type:"input",className:t.className,hideExpression:!!t.hide&&t.hide,parsers:t.parsers,templateOptions:{maxLength:t.maxLength,minLength:t.minLength,label:t.label?t.label:this.capitalizeFirstLetter(t.key),type:i,required:"boolean"!=typeof t.required||t.required,placeholder:t.placeholder?t.placeholder:null,disabled:t.disabled},validators:{validation:e}}}genericPasswordInput(t){const e=(t=this.setDefaultValues(t)).validators?t.validators:[];return!0===t.required&&e.push("required"),{key:t.key,type:"input",className:t.className,fieldGroupClassName:t.fieldGroupClassName,templateOptions:{label:t.label?t.label:"Password",type:"password",required:!0,placeholder:"Your password",disabled:t.disabled,attributes:{autocomplete:"on"}},validators:{validation:e}}}confirmedPasswordInput(t){const e=(t=this.setDefaultValues(t)).validators?t.validators:[];return e.push("required"),{validators:{validation:[{name:"fieldMatch",options:{errorPath:"passwordConfirm"}}]},fieldGroup:[{key:"password",type:"input",className:t.className,templateOptions:{label:t.label?t.label:"Password",type:"password",required:!0,placeholder:"Password, at least 7 characters",disabled:t.disabled},validators:{validation:e}},{key:"passwordConfirm",type:"input",className:t.className,templateOptions:{label:t.label?"Confirm "+t.label:"Password Confirmation",type:"password",required:!0,placeholder:"Please re-enter your password",disabled:t.disabled}}]}}genericCheckbox(t){return{key:(t=this.setDefaultValues(t)).key,type:"checkbox",className:t.className,defaultValue:t.defaultValue,hideExpression:!!t.hide&&t.hide,templateOptions:{label:t.label?t.label:this.capitalizeFirstLetter(t.key),disabled:t.disabled}}}genericDatepicker(t){const e=(t=this.setDefaultValues(t)).validators?t.validators:[];return e.push("date"),!0===t.required&&e.push("required"),{key:t.key,type:"datepicker",className:t.className,hideExpression:!!t.hide&&t.hide,templateOptions:{label:t.label?t.label:this.capitalizeFirstLetter(t.key),disabled:t.disabled},validators:{validation:e}}}singleFileField(t){const e=(t=this.setDefaultValues(t)).validators?t.validators:[];return!0===t.required&&e.push("required"),{key:t.key,type:"file",className:t.className,hideExpression:!!t.hide&&t.hide,templateOptions:{label:t.label?t.label:this.capitalizeFirstLetter(t.key),required:"boolean"!=typeof t.required||t.required,disabled:t.disabled},validators:{validation:e}}}genericTextField(t){const e=(t=this.setDefaultValues(t)).validators?t.validators:[];return!0===t.required&&e.push("required"),{key:t.key,type:"tinymce",className:t.className,hideExpression:!!t.hide&&t.hide,templateOptions:{label:t.label?t.label:this.capitalizeFirstLetter(t.key),required:"boolean"!=typeof t.required||t.required,disabled:t.disabled},validators:{validation:e}}}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}}Yt.\u0275fac=function(t){return new(t||Yt)(R(ja))},Yt.\u0275prov=W({token:Yt,factory:Yt.\u0275fac,providedIn:"root"});class Nc extends Hr{constructor(t){super(t),this.baseUrl=`${H.wikiApiUrl}/player_class`}}Nc.\u0275fac=function(t){return new(t||Nc)(R(qt))},Nc.\u0275prov=W({token:Nc,factory:Nc.\u0275fac,providedIn:"root"});class Kh extends Hr{constructor(t){super(t),this.baseUrl=`${H.wikiApiUrl}/characterplayerclassconnection`}}Kh.\u0275fac=function(t){return new(t||Kh)(R(qt))},Kh.\u0275prov=W({token:Kh,factory:Kh.\u0275fac,providedIn:"root"});class Yh extends ai{constructor(t){super(t,vg),this.baseUrl=`${H.wikiApiUrl}/character/organizationmemberships`}}Yh.\u0275fac=function(t){return new(t||Yh)(R(qt))},Yh.\u0275prov=W({token:Yh,factory:Yh.\u0275fac,providedIn:"root"});const oX=function(n,t){return{"fa-pencil":n,"fa-times":t}};function sX(n,t){if(1&n&&(U(0),s(1,"\n    "),p(2,"a",1),s(3,"\n        "),N(4,"i",2),s(5,"\n    "),m(),s(6,"\n"),V()),2&n){const e=C();_(2),v("routerLink",e.link),_(2),v("ngClass",Pn(2,oX,!e.isInUpdateState,e.isInUpdateState))}}class fn extends ni{constructor(t,e){super(e,t),this.link="update",this.isInUpdateState=!1}}function vT(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}fn.\u0275fac=function(t){return new(t||fn)(w(Fe),w(_e))},fn.\u0275cmp=ie({type:fn,selectors:[["app-edit-toggle"]],inputs:{link:"link",isInUpdateState:"isInUpdateState"},features:[ce],decls:1,vars:1,consts:[[4,"ngIf"],[1,"btn","btn-secondary","float-right",3,"routerLink"],["id","edit-article",1,"fa",3,"ngClass"]],template:function(t,e){1&t&&S(0,sX,7,5,"ng-container",0),2&t&&v("ngIf",e.hasUpdatePermission)},dependencies:[rn,me,Ht]});class cX{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new uX(t,this.dueTime,this.scheduler))}}class uX extends at{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dX,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function dX(n){n.debouncedNext()}function Sg(n){return!!n&&(n instanceof Mt||"function"==typeof n.lift&&"function"==typeof n.subscribe)}const hX=["content"];function pX(n,t){if(1&n&&(p(0,"formly-field",2),s(1,"\n    "),m()),2&n){const e=t.$implicit;v("form",e.form)("options",e.options)("model",e.model)("field",e)}}const jR=["*"],fX=["container"];function mX(n,t){}const gX=["fieldComponent"];function _X(n,t){1&n&&N(0,"formly-field",1),2&n&&v("field",t.$implicit)}function vX(n,t,e){if(t.id)return t.id;let i=t.type;return!i&&t.template&&(i="template"),[n,i,t.key,e].join("_")}function za(n){if(!n.key)return[];if(!n._keyPath||n._keyPath.key!==n.key){let t=[];if("string"==typeof n.key){const e=-1===n.key.indexOf("[")?n.key:n.key.replace(/\[(\w+)\]/g,".$1");t=-1!==e.indexOf(".")?e.split("."):[e]}else t=Array.isArray(n.key)?n.key.slice(0):[`${n.key}`];n._keyPath={key:n.key,path:t}}return n._keyPath.path.slice(0)}const zR=["required","pattern","minLength","maxLength","min","max"];function Tg(n,t){let e=za(n);if(0===e.length)return;let i=n;for(;i.parent;)i=i.parent,e=[...za(i),...e];if(void 0===t&&n.resetOnHide){const r=e.pop();delete e.reduce((a,c)=>a[c]||{},i.model)[r]}else!function yX(n,t,e){for(let i=0;i<t.length-1;i++){const r=t[i];(!n[r]||!Fc(n[r]))&&(n[r]=/^\d+$/.test(t[i+1])?[]:{}),n=n[r]}n[t[t.length-1]]=zr(e)}(i.model,e,t)}function Dg(n){let t=n.parent.model;for(const e of za(n)){if(!t)return t;t=t[e]}return t}function Jh(n,...t){return t.forEach(e=>{for(let i in e)Rc(n[i])||bX(n[i])?n[i]=zr(e[i]):CX(n[i],e[i])&&Jh(n[i],e[i])}),n}function Rc(n){return null==n}function Eg(n){return void 0===n}function bX(n){return""===n}function GR(n){return"function"==typeof n}function CX(n,t){return Fc(n)&&Fc(t)&&Object.getPrototypeOf(n)===Object.getPrototypeOf(t)&&!(Array.isArray(n)||Array.isArray(t))}function Fc(n){return null!=n&&"object"==typeof n}function zr(n){if(!Fc(n)||Sg(n)||n.changingThisBreaksApplicationSecurity||-1!==["RegExp","FileList","File","Blob"].indexOf(n.constructor.name))return n;if(n instanceof Set)return new Set(n);if(n instanceof Map)return new Map(n);if(n._isAMomentObject&&GR(n.clone))return n.clone();if(n instanceof Ly)return null;if(n instanceof Date)return new Date(n.getTime());if(Array.isArray(n))return n.slice(0).map(i=>zr(i));const t=Object.getPrototypeOf(n);let e=Object.create(t);return e=Object.setPrototypeOf(e,t),Object.keys(n).reduce((i,r)=>{const o=Object.getOwnPropertyDescriptor(n,r);return o.get?Object.defineProperty(i,r,o):i[r]=zr(n[r]),i},e)}function sr(n,t,e){Object.defineProperty(n,t,{enumerable:!1,writable:!0,configurable:!0}),n[t]=e}function $l(n,t,e){n._observers||sr(n,"_observers",{}),n._observers[t]||(n._observers[t]=[]);let i=n._observers[t];return-1===i.indexOf(e)&&(i.push(e),e({currentValue:n[t],firstChange:!0}),1===i.length&&(sr(n,`___$${t}`,n[t]),Object.defineProperty(n,t,{configurable:!0,get:()=>n[`___$${t}`],set:r=>{if(r!==n[`___$${t}`]){const o=n[`___$${t}`];n[`___$${t}`]=r,i.forEach(a=>a({previousValue:o,currentValue:r,firstChange:!1}))}}}))),()=>i.splice(i.indexOf(e),1)}function WR(n,t){const e=n._updateTreeValidity.bind(n);let i={called:!1,emitEvent:!1};n._updateTreeValidity=({emitEvent:r}={emitEvent:!0})=>i={called:!0,emitEvent:r||i.emitEvent},t(),i.called&&e({emitEvent:i.emitEvent}),n._updateTreeValidity=e}const Xh=new Pe("FORMLY_CONFIG");class ar{constructor(){this.types={},this.validators={},this.wrappers={},this.messages={},this.templateManipulators={preWrapper:[],postWrapper:[]},this.extras={checkExpressionOn:"changeDetectionCheck",lazyRender:!1,showError:function(t){return t.formControl&&t.formControl.invalid&&(t.formControl.touched||t.options.parentForm&&t.options.parentForm.submitted||!(!t.field.validation||!t.field.validation.show))}},this.extensions={}}addConfig(t){t.types&&t.types.forEach(e=>this.setType(e)),t.validators&&t.validators.forEach(e=>this.setValidator(e)),t.wrappers&&t.wrappers.forEach(e=>this.setWrapper(e)),t.manipulators&&(console.warn("NgxFormly: passing 'manipulators' config is deprecated, use custom extension instead."),t.manipulators.forEach(e=>this.setManipulator(e))),t.validationMessages&&t.validationMessages.forEach(e=>this.addValidatorMessage(e.name,e.message)),t.extensions&&t.extensions.forEach(e=>this.extensions[e.name]=e.extension),t.extras&&(this.extras=Object.assign({},this.extras,t.extras))}setType(t){Array.isArray(t)?t.forEach(e=>this.setType(e)):(this.types[t.name]||(this.types[t.name]={name:t.name}),["component","extends","defaultOptions","wrappers"].forEach(e=>{t.hasOwnProperty(e)&&(this.types[t.name][e]=t[e])}))}getType(t){if(!this.types[t])throw new Error(`[Formly Error] The type "${t}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.mergeExtendedType(t),this.types[t]}getMergedField(t={}){const e=this.getType(t.type);e.defaultOptions&&Jh(t,e.defaultOptions);const i=e.extends&&this.getType(e.extends).defaultOptions;i&&Jh(t,i),t&&t.optionsTypes&&t.optionsTypes.forEach(o=>{const a=this.getType(o).defaultOptions;a&&Jh(t,a)});const r=this.resolveFieldTypeRef(t);r&&r.instance&&r.instance.defaultOptions&&Jh(t,r.instance.defaultOptions),!t.wrappers&&e.wrappers&&(t.wrappers=[...e.wrappers])}resolveFieldTypeRef(t={}){if(!t.type)return null;const e=this.getType(t.type);if(!e.component||e._componentRef)return e._componentRef;const{_resolver:i,_injector:r}=t.parent.options,o=i.resolveComponentFactory(e.component).create(r);return sr(e,"_componentRef",o),o.destroy(),e._componentRef}setWrapper(t){this.wrappers[t.name]=t,t.types&&t.types.forEach(e=>{this.setTypeWrapper(e,t.name)})}getWrapper(t){if(!this.wrappers[t])throw new Error(`[Formly Error] The wrapper "${t}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.wrappers[t]}setTypeWrapper(t,e){this.types[t]||(this.types[t]={}),this.types[t].wrappers||(this.types[t].wrappers=[]),-1===this.types[t].wrappers.indexOf(e)&&this.types[t].wrappers.push(e)}setValidator(t){this.validators[t.name]=t}getValidator(t){if(!this.validators[t])throw new Error(`[Formly Error] The validator "${t}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.validators[t]}addValidatorMessage(t,e){this.messages[t]=e}getValidatorMessage(t){return this.messages[t]}setManipulator(t){(new t.class)[t.method](this)}mergeExtendedType(t){if(!this.types[t].extends)return;const e=this.getType(this.types[t].extends);this.types[t].component||(this.types[t].component=e.component),this.types[t].wrappers||(this.types[t].wrappers=e.wrappers)}}ar.\u0275fac=function(t){return new(t||ar)},ar.\u0275prov=W({token:ar,factory:ar.\u0275fac,providedIn:"root"}),ar.ngInjectableDef=di({factory:function(){return new ar},token:ar,providedIn:"root"});class Go{constructor(t,e,i){this.formlyConfig=t,this.componentFactoryResolver=e,this.injector=i}buildForm(t,e=[],i,r){if(!this.formlyConfig.extensions.core)throw new Error("NgxFormly: missing `forRoot()` call. use `forRoot()` when registering the `FormlyModule`.");const o={fieldGroup:e,model:i,formControl:t,options:this._setOptions(r)};WR(t,()=>this._buildForm(o)),o.options._checkField(o,!0)}_buildForm(t){this.getExtensions().forEach(e=>e.prePopulate&&e.prePopulate(t)),this.getExtensions().forEach(e=>e.onPopulate&&e.onPopulate(t)),t.fieldGroup&&t.fieldGroup.forEach(e=>this._buildForm(e)),this.getExtensions().forEach(e=>e.postPopulate&&e.postPopulate(t))}getExtensions(){return Object.keys(this.formlyConfig.extensions).map(t=>this.formlyConfig.extensions[t])}_setOptions(t){return(t=t||{}).formState=t.formState||{},t.showError||(t.showError=this.formlyConfig.extras.showError),t.fieldChanges||sr(t,"fieldChanges",new je),t._resolver||sr(t,"_resolver",this.componentFactoryResolver),t._injector||sr(t,"_injector",this.injector),t._hiddenFieldsForCheck||(t._hiddenFieldsForCheck=[]),t._markForCheck||(t._markForCheck=e=>{e._componentRefs&&e._componentRefs.forEach(i=>{i.injector.get(tr).markForCheck()}),e.fieldGroup&&e.fieldGroup.forEach(i=>t._markForCheck(i))}),t._buildField||(t._buildField=e=>(this.buildForm(e.form,e.fieldGroup,e.model,e.options),e)),t}}function bT(n,t,e=!1){(t=t||n.formControl)._fields||sr(t,"_fields",[]),-1===t._fields.indexOf(n)&&t._fields.push(n),!n.formControl&&t&&(sr(n,"formControl",t),t.setValidators(null),t.setAsyncValidators(null),n.templateOptions.disabled=!!n.templateOptions.disabled,$l(n.templateOptions,"disabled",({firstChange:c,currentValue:u})=>{c||(u?n.formControl.disable():n.formControl.enable())}),t.registerOnDisabledChange&&t.registerOnDisabledChange(c=>{n.templateOptions.___$disabled=c,n.options&&n.options._markForCheck(n)}));let i=n.parent.formControl;if(!i||!n.key)return;const r=za(n),o=Dg(n);(!Rc(t.value)||!Rc(o))&&t.value!==o&&t instanceof Nm&&t.patchValue(o);for(let c=0;c<r.length-1;c++){const u=r[c];i.get([u])||Gb(i,{emitEvent:e},()=>i.setControl(u,new Gi({}))),i=i.get([u])}const a=r[r.length-1];!n._hide&&i.get([a])!==t&&Gb(i,{emitEvent:e},()=>i.setControl(a,t))}function kg(n){const t=n.status;n.updateValueAndValidity({emitEvent:!1}),t!==n.status&&n.statusChanges.emit(n.status)}function Gb(n,t,e){n instanceof Gi&&!n.__patchForEachChild&&(sr(n,"__patchForEachChild",!0),n._forEachChild=r=>{Object.keys(n.controls).forEach(o=>n.controls[o]&&r(n.controls[o],o))});const i=n.updateValueAndValidity.bind(n);!1===t.emitEvent&&(n.updateValueAndValidity=r=>{i(Object.assign({},r||{},{emitEvent:!1}))}),e(),!1===t.emitEvent&&(n.updateValueAndValidity=i)}function QR(n){n._fields&&delete n._fields,(n instanceof Gi||n instanceof Rm)&&Object.keys(n.controls).forEach(t=>QR(n.controls[t]))}Go.\u0275fac=function(t){return new(t||Go)(R(ar),R(fc),R(Hi))},Go.\u0275prov=W({token:Go,factory:Go.\u0275fac,providedIn:"root"}),Go.ngInjectableDef=di({factory:function(){return new Go(rt(ar),rt(fc),rt(v0))},token:Go,providedIn:"root"});let ep=(()=>{class n{constructor(e,i,r,o,a){this.formlyBuilder=e,this.formlyConfig=i,this.ngZone=r,this.parentFormGroup=a,this.modelChange=new X,this.immutable=!1,this._modelChangeValue={},this.modelChangeSubs=[],this.modelChange$=new je,this.modelChangeSub=this.modelChange$.pipe(zn(()=>this.ngZone.onStable.asObservable().pipe(bn(1)))).subscribe(()=>this.ngZone.runGuarded(()=>{this.checkExpressionChange(),this.modelChange.emit(this._modelChangeValue=zr(this.model))})),null!==o&&console.warn("NgxFormly: passing 'immutable' attribute to 'formly-form' component is deprecated since v5.5, enable immutable mode through NgModule declaration instead."),this.immutable=null!==o||!!i.extras.immutable}set model(e){this._model=this.immutable?zr(e):e}get model(){return this._model||(this._model={}),this._model}set fields(e){this._fields=this.immutable?zr(e):e}get fields(){return this._fields||[]}set options(e){this._options=this.immutable?zr(e):e}get options(){return this._options}set content(e){if(e){let i=!1,r=e.nativeElement.nextSibling;for(;r&&!i;)(r.nodeType===Node.ELEMENT_NODE||r.nodeType===Node.TEXT_NODE&&r.textContent&&""!==r.textContent.trim())&&(i=!0),r=r.nextSibling;i&&console.warn("NgxFormly: content projection for 'formly-form' component is deprecated since v5.5, you should avoid passing content inside the 'formly-form' tag.")}}ngDoCheck(){"changeDetectionCheck"===this.formlyConfig.extras.checkExpressionOn&&this.checkExpressionChange()}ngOnChanges(e){e.model&&this.field&&(this.field.model=this.model),e.fields&&this.form&&QR(this.form),(e.fields||e.form||e.model&&this._modelChangeValue!==e.model.currentValue)&&(this.form=this.form||new Gi({}),this.setOptions(),this.options.updateInitialValue(),this.clearModelSubscriptions(),this.formlyBuilder.buildForm(this.form,this.fields,this.model,this.options),this.trackModelChanges(this.fields))}ngOnDestroy(){this.modelChangeSub.unsubscribe(),this.clearModelSubscriptions()}changeModel({value:i,field:r}){Tg(r,i),this.modelChange$.next()}setOptions(){this.options||(this.options={}),this.options.resetModel||(this.options.resetModel=e=>{e=zr(Rc(e)?this.options._initialModel:e),this.model&&(Object.keys(this.model).forEach(i=>delete this.model[i]),Object.assign(this.model,e||{})),this.options._buildForm(),this.options.parentForm&&this.options.parentForm.control===this.form?this.options.parentForm.resetForm(this.model):this.form.reset(this.model)}),!this.options.parentForm&&this.parentFormGroup&&(sr(this.options,"parentForm",this.parentFormGroup),$l(this.options.parentForm,"submitted",({firstChange:e})=>{e||(this.checkExpressionChange(),this.options._markForCheck({fieldGroup:this.fields,model:this.model,formControl:this.form,options:this.options}))})),this.options.updateInitialValue||(this.options.updateInitialValue=()=>this.options._initialModel=zr(this.model)),this.options._buildForm||(this.options._buildForm=(e=!1)=>{this.clearModelSubscriptions(),this.formlyBuilder.buildForm(this.form,this.fields,this.model,this.options),this.trackModelChanges(this.fields),e&&this.modelChange.emit(this._modelChangeValue=zr(this.model))})}checkExpressionChange(){this.options&&this.options._checkField&&this.options._checkField({fieldGroup:this.fields,model:this.model,formControl:this.form,options:this.options})}trackModelChanges(e,i=[]){e.forEach(r=>{if(r.key&&!r.fieldGroup&&r.formControl){const o=r.formControl;let a=o.valueChanges.pipe(Iy((f,y)=>!(f!==y||Array.isArray(f)||Fc(f))));const{updateOn:c,debounce:u}=r.modelOptions;(!c||"change"===c)&&u&&u.default>0&&(a=o.valueChanges.pipe(function lX(n,t=Uw){return e=>e.lift(new cX(n,t))}(u.default))),this.modelChangeSubs.push(a.subscribe(f=>{o instanceof Nm&&o._fields&&o._fields.length>1&&o.patchValue(f,{emitEvent:!1,onlySelf:!0}),r.parsers&&r.parsers.length>0&&r.parsers.forEach(y=>f=y(f)),this.changeModel({key:[...i,...za(r)].join("."),value:f,field:r})}));const h=o.valueChanges.observers;h&&h.length>1&&h.unshift(h.pop())}r.fieldGroup&&r.fieldGroup.length>0&&this.trackModelChanges(r.fieldGroup,r.key?[...i,...za(r)]:i)})}clearModelSubscriptions(){this.modelChangeSubs.forEach(e=>e.unsubscribe()),this.modelChangeSubs=[]}get field(){return this.fields&&this.fields[0]&&this.fields[0].parent}}return n.\u0275fac=function(e){return new(e||n)(w(Go),w(ar),w(bt),pl("immutable"),w(Il,8))},n.\u0275cmp=ie({type:n,selectors:[["formly-form"]],viewQuery:function(e,i){if(1&e&&dt(hX,5),2&e){let r;ke(r=Me())&&(i.content=r.first)}},inputs:{model:"model",fields:"fields",options:"options",form:"form"},outputs:{modelChange:"modelChange"},features:[Wt([Go]),Ft],ngContentSelectors:jR,decls:9,vars:1,consts:[["hide-deprecation","",3,"form","options","model","field",4,"ngFor","ngForOf"],["content",""],["hide-deprecation","",3,"form","options","model","field"]],template:function(e,i){1&e&&(_l(),s(0,"\n    "),S(1,pX,2,4,"formly-field",0),s(2,"\n    "),U(3,null,1),s(5,"\n      "),vl(6),s(7,"\n    "),V(),s(8,"\n  ")),2&e&&(_(1),v("ngForOf",i.fields))},dependencies:function(){return[Ye,ZR]},encapsulation:2}),n})(),ZR=(()=>{class n{constructor(e,i,r,o,a){this.formlyConfig=e,this.renderer=i,this.resolver=r,this.elementRef=o,this.warnDeprecation=!1,this.modelChange=new X,this.hostObservers=[],this.componentRefs=[],this.hooksObservers=[],this.detectFieldBuild=!1,this.warnDeprecation=null===a}set model(e){this.warnDeprecation&&console.warn(`NgxFormly: passing 'model' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}set form(e){this.warnDeprecation&&console.warn(`NgxFormly: passing 'form' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}set options(e){this.warnDeprecation&&console.warn(`NgxFormly: passing 'options' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}ngAfterContentInit(){this.triggerHook("afterContentInit")}ngAfterContentChecked(){this.triggerHook("afterContentChecked")}ngAfterViewInit(){this.triggerHook("afterViewInit")}ngAfterViewChecked(){this.triggerHook("afterViewChecked")}ngDoCheck(){this.triggerHook("doCheck"),this.detectFieldBuild&&this.field&&this.field.options&&this.render()}ngOnInit(){this.triggerHook("onInit")}ngOnChanges(e){this.triggerHook("onChanges",e)}ngOnDestroy(){this.resetRefs(this.field),this.hostObservers.forEach(e=>e()),this.hooksObservers.forEach(e=>e()),this.triggerHook("onDestroy")}renderField(e,i,r=[]){if(this.containerRef===e&&(this.resetRefs(this.field),this.containerRef.clear(),r=this.field?this.field.wrappers:[]),r&&r.length>0){const[o,...a]=r,{component:c}=this.formlyConfig.getWrapper(o),u=e.createComponent(this.resolver.resolveComponentFactory(c));this.attachComponentRef(u,i),$l(u.instance,"fieldComponent",({firstChange:h,previousValue:f,currentValue:y})=>{if(y){if(f&&f._lContainer===y._lContainer)return;const T=f?f.detach():null;T&&!T.destroyed?y.insert(T):this.renderField(y,i,a),!h&&u.changeDetectorRef.detectChanges()}})}else if(i&&i.type){const{component:o}=this.formlyConfig.getType(i.type),a=e.createComponent(this.resolver.resolveComponentFactory(o));this.attachComponentRef(a,i)}}triggerHook(e,i){if(this.field&&this.field.hooks&&this.field.hooks[e]&&(!i||i.field)){const r=this.field.hooks[e](this.field);if(Sg(r)&&-1!==["onInit","afterContentInit","afterViewInit"].indexOf(e)){const o=r.subscribe();this.hooksObservers.push(()=>o.unsubscribe())}}this.field&&this.field.lifecycle&&this.field.lifecycle[e]&&this.field.lifecycle[e](this.field.form,this.field,this.field.model,this.field.options),"onChanges"===e&&i.field&&(this.resetRefs(i.field.previousValue),this.render())}attachComponentRef(e,i){this.componentRefs.push(e),i._componentRefs.push(e),Object.assign(e.instance,{field:i})}render(){if(this.field){if(!this.field.options)return void(this.detectFieldBuild=!0);this.detectFieldBuild=!1,this.hostObservers.forEach(e=>e()),this.hostObservers=[$l(this.field,"hide",({firstChange:e,currentValue:i})=>{this.formlyConfig.extras.lazyRender?i?this.containerRef.clear():this.renderField(this.containerRef,this.field):(e&&this.renderField(this.containerRef,this.field),(!e||e&&i)&&this.renderer.setStyle(this.elementRef.nativeElement,"display",i?"none":""))}),$l(this.field,"className",({firstChange:e,currentValue:i})=>{(!e||e&&i)&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",i)})]}}resetRefs(e){e&&(e._componentRefs?e._componentRefs=e._componentRefs.filter(i=>-1===this.componentRefs.indexOf(i)):sr(this.field,"_componentRefs",[])),this.componentRefs=[]}}return n.\u0275fac=function(e){return new(e||n)(w(ar),w(Xi),w(fc),w(Pt),pl("hide-deprecation"))},n.\u0275cmp=ie({type:n,selectors:[["formly-field"]],viewQuery:function(e,i){if(1&e&&dt(fX,7,Fr),2&e){let r;ke(r=Me())&&(i.containerRef=r.first)}},inputs:{model:"model",form:"form",options:"options",field:"field"},outputs:{modelChange:"modelChange"},features:[Ft],decls:2,vars:0,consts:[["container",""]],template:function(e,i){1&e&&S(0,mX,0,0,"ng-template",null,0,ae)},encapsulation:2}),n})(),Ul=(()=>{class n{constructor(e,i,r){this.renderer=e,this.elementRef=i,this.uiAttributesCache={},this.uiAttributes=[...zR,"tabindex","placeholder","readonly","disabled","step"],this.uiEvents={listeners:[],events:["click","keyup","keydown","keypress"]},this.document=r}get to(){return this.field.templateOptions||{}}get fieldAttrElements(){return this.field&&this.field._elementRefs||[]}ngOnChanges(e){e.field&&(this.field.name&&this.setAttribute("name",this.field.name),this.uiEvents.listeners.forEach(i=>i()),this.uiEvents.events.forEach(i=>{this.to&&this.to[i]&&this.uiEvents.listeners.push(this.renderer.listen(this.elementRef.nativeElement,i,r=>this.to[i](this.field,r)))}),this.to&&this.to.attributes&&$l(this.to,"attributes",({currentValue:i,previousValue:r})=>{r&&Object.keys(r).forEach(o=>this.removeAttribute(o)),i&&Object.keys(i).forEach(o=>{null!=i[o]&&this.setAttribute(o,i[o])})}),this.detachElementRef(e.field.previousValue),this.attachElementRef(e.field.currentValue),1===this.fieldAttrElements.length&&(!this.id&&this.field.id&&this.setAttribute("id",this.field.id),$l(this.field,"focus",({currentValue:i})=>{this.toggleFocus(i)}))),e.id&&this.setAttribute("id",this.id)}ngDoCheck(){this.uiAttributes.forEach(e=>{const i=this.to[e];this.uiAttributesCache[e]!==i&&(!this.to.attributes||!this.to.attributes.hasOwnProperty(e.toLowerCase()))&&(this.uiAttributesCache[e]=i,i||0===i?this.setAttribute(e,!0===i?e:`${i}`):this.removeAttribute(e))})}ngOnDestroy(){this.uiEvents.listeners.forEach(e=>e()),this.detachElementRef(this.field)}toggleFocus(e){const i=this.fieldAttrElements?this.fieldAttrElements[0]:null;if(!i||!i.nativeElement.focus)return;const r=!!this.document.activeElement&&this.fieldAttrElements.some(({nativeElement:o})=>this.document.activeElement===o||o.contains(this.document.activeElement));e&&!r?i.nativeElement.focus():!e&&r&&i.nativeElement.blur()}onFocus(e){this.field.___$focus=!0,this.to.focus&&this.to.focus(this.field,e)}onBlur(e){this.field.___$focus=!1,this.to.blur&&this.to.blur(this.field,e)}onChange(e){this.to.change&&this.to.change(this.field,e),this.field.formControl&&this.field.formControl.markAsDirty()}attachElementRef(e){e&&(e._elementRefs&&-1===e._elementRefs.indexOf(this.elementRef)?e._elementRefs.push(this.elementRef):sr(e,"_elementRefs",[this.elementRef]))}detachElementRef(e){const i=e&&e._elementRefs?this.fieldAttrElements.indexOf(this.elementRef):-1;-1!==i&&this.field._elementRefs.splice(i,1)}setAttribute(e,i){this.renderer.setAttribute(this.elementRef.nativeElement,e,i)}removeAttribute(e){this.renderer.removeAttribute(this.elementRef.nativeElement,e)}}return n.\u0275fac=function(e){return new(e||n)(w(Xi),w(Pt),w(ln))},n.\u0275dir=de({type:n,selectors:[["","formlyAttributes",""]],hostBindings:function(e,i){1&e&&A("focus",function(o){return i.onFocus(o)})("blur",function(o){return i.onBlur(o)})("change",function(o){return i.onChange(o)})},inputs:{field:["formlyAttributes","field"],id:"id"},features:[Ft]}),n})(),lo=(()=>{class n{get model(){return this.field.model}set model(e){console.warn(`NgxFormly: passing 'model' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}get form(){return this.field.parent.formControl}set form(e){console.warn(`NgxFormly: passing 'form' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}get options(){return this.field.options}set options(e){console.warn(`NgxFormly: passing 'options' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}get key(){return this.field.key}get formControl(){return this.field.formControl}get to(){return this.field.templateOptions||{}}get showError(){return this.options.showError(this)}get id(){return this.field.id}get formState(){return this.options.formState||{}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,inputs:{model:"model",form:"form",options:"options",field:"field"}}),n})(),CT=(()=>{class n extends lo{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275dir=de({type:n,viewQuery:function(e,i){if(1&e&&dt(gX,5,Fr),2&e){let r;ke(r=Me())&&(i.fieldComponent=r.first)}},features:[ce]}),n})(),SX=(()=>{class n extends lo{constructor(){super(...arguments),this.defaultOptions={defaultValue:{}}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275cmp=ie({type:n,selectors:[["formly-group"]],hostVars:2,hostBindings:function(e,i){2&e&&ji(i.field.fieldGroupClassName||"")},features:[ce],ngContentSelectors:jR,decls:5,vars:1,consts:[[3,"field",4,"ngFor","ngForOf"],[3,"field"]],template:function(e,i){1&e&&(_l(),s(0,"\n    "),S(1,_X,1,1,"formly-field",0),s(2,"\n    "),vl(3),s(4,"\n  ")),2&e&&(_(1),v("ngForOf",i.field.fieldGroup))},dependencies:[Ye,ZR],encapsulation:2}),n})(),TX=(()=>{class n{constructor(e){this.formlyConfig=e}ngOnChanges(){this.errorMessage$=this.field.formControl.statusChanges.pipe(Su(null),zn(()=>Sg(this.errorMessage)?this.errorMessage:Se(this.errorMessage)))}get errorMessage(){const e=this.field.formControl;for(let i in e.errors)if(e.errors.hasOwnProperty(i)){let r=this.formlyConfig.getValidatorMessage(i);if(Fc(e.errors[i])){if(e.errors[i].errorPath)return;e.errors[i].message&&(r=e.errors[i].message)}return this.field.validation&&this.field.validation.messages&&this.field.validation.messages[i]&&(r=this.field.validation.messages[i]),this.field.validators&&this.field.validators[i]&&this.field.validators[i].message&&(r=this.field.validators[i].message),this.field.asyncValidators&&this.field.asyncValidators[i]&&this.field.asyncValidators[i].message&&(r=this.field.asyncValidators[i].message),"function"==typeof r?r(e.errors[i],this.field):r}}}return n.\u0275fac=function(e){return new(e||n)(w(ar))},n.\u0275cmp=ie({type:n,selectors:[["formly-validation-message"]],inputs:{field:"field"},features:[Ft],decls:2,vars:3,template:function(e,i){1&e&&(s(0),Vt(1,"async")),2&e&&We(Tn(1,1,i.errorMessage$))},dependencies:[bc],encapsulation:2,changeDetection:0}),n})(),DX=(()=>{class n extends lo{constructor(e){super(),this.sanitizer=e,this.innerHtml={content:null,template:null}}get template(){return this.field&&this.field.template!==this.innerHtml.template&&(this.innerHtml={template:this.field.template,content:this.to.safeHtml?this.sanitizer.bypassSecurityTrustHtml(this.field.template):this.field.template}),this.innerHtml.content}}return n.\u0275fac=function(e){return new(e||n)(w(hw))},n.\u0275cmp=ie({type:n,selectors:[["formly-template"]],features:[ce],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(e,i){1&e&&N(0,"div",0),2&e&&v("innerHtml",i.template,Nr)},encapsulation:2}),n})();function KR(n,t,e){return n instanceof Function?n.apply(t,e):!!n}class kX{prePopulate(t){if(t.parent||t.options._checkField)return;let e=!1;t.options._checkField=(i,r)=>{e||(e=!0,WR(i.formControl,()=>this.checkField(i,r)),e=!1)}}postPopulate(t){if(t.parent&&!t._expressionProperties){if(sr(t,"_expressionProperties",{}),t.expressionProperties)for(const e in t.expressionProperties){const i=t.expressionProperties[e];if("string"==typeof i||GR(i))t._expressionProperties[e]={expression:this._evalExpression(e,i,"templateOptions.disabled"===e&&t.parent.expressionProperties&&t.parent.expressionProperties.hasOwnProperty("templateOptions.disabled")?()=>t.parent.templateOptions.disabled:void 0)},"templateOptions.disabled"===e&&Object.defineProperty(t._expressionProperties[e],"expressionValue",{get:()=>t.templateOptions.disabled,set:()=>{},enumerable:!0,configurable:!0});else if(i instanceof Mt){const r=()=>i.subscribe(u=>{this.setExprValue(t,e,u),t.options&&t.options._markForCheck&&t.options._markForCheck(t)});let o=r();const a=t.hooks.onInit;t.hooks.onInit=()=>(null===o&&(o=r()),a&&a(t));const c=t.hooks.onDestroy;t.hooks.onDestroy=()=>{c&&c(t),o.unsubscribe(),o=null}}}t.hideExpression?(delete t.hide,t.hideExpression=this._evalExpression("hide",t.hideExpression,()=>{let e=t.parent;for(;e.parent&&!e.hide;)e=e.parent;return e.hide})):$l(t,"hide",({currentValue:e,firstChange:i})=>{t._hide=e,(!i||i&&!0===e)&&t.options._hiddenFieldsForCheck.push(t)})}}_evalExpression(t,e,i){return(r,o,a)=>{try{return"string"==typeof e&&(e=function EX(n,t){try{return-1!==n.indexOf("this.field")&&console.warn("NgxFormly: using 'this.field' in expressionProperties is deprecated since v5.1, use 'field' instead."),Function(...t,`return ${n};`)}catch(e){console.error(e)}}(e,["model","formState","field"])),"function"!=typeof e&&(e=()=>!!e),i&&i()||e(r,o,a)}catch(c){throw c.message=`[Formly Error] [Expression "${t}"] ${c.message}`,c}}}checkField(t,e=!1){const i=this._checkField(t,e);t.options._hiddenFieldsForCheck.sort(r=>r.hide?-1:1).forEach(r=>this.toggleFormControl(r,!!r.hide,!e)),t.options._hiddenFieldsForCheck=[],i&&(this.checkField(t),t.options&&t.options._markForCheck&&t.options._markForCheck(t))}_checkField(t,e=!1){let i=!1;return t.fieldGroup.forEach(r=>{r.options&&(this.checkFieldExpressionChange(r,e)&&(i=!0),this.checkFieldVisibilityChange(r,e)&&(t.options._hiddenFieldsForCheck.push(r),i=!0),r.fieldGroup&&r.fieldGroup.length>0&&this._checkField(r,e)&&(i=!0))}),i}checkFieldExpressionChange(t,e){if(!t||!t._expressionProperties)return!1;let i=!1;const r=t._expressionProperties;for(const o in r){let a=KR(r[o].expression,{field:t},[t.model,t.options.formState,t]);"templateOptions.disabled"===o&&(a=!!a),(e||r[o].expressionValue!==a&&(!Fc(a)||Sg(a)||JSON.stringify(a)!==JSON.stringify(r[o].expressionValue)))&&(i=!0,r[o].expressionValue=a,this.setExprValue(t,o,a))}return i}checkFieldVisibilityChange(t,e){if(!t||Rc(t.hideExpression))return!1;const i=!!KR(t.hideExpression,{field:t},[t.model,t.options.formState,t]);let r=!1;return(i!==t.hide||e)&&(r=!0,t.hide=i,t.templateOptions.hidden=i),r}setDisabledState(t,e){t.fieldGroup&&t.fieldGroup.filter(i=>!i.expressionProperties||!i.expressionProperties.hasOwnProperty("templateOptions.disabled")).forEach(i=>this.setDisabledState(i,e)),t.key&&t.templateOptions.disabled!==e&&(t.templateOptions.disabled=e)}toggleFormControl(t,e,i){if(t.formControl&&t.key){sr(t,"_hide",!(!e&&!t.hide));const r=t.formControl;r._fields&&r._fields.length>1&&kg(r),!0!==e||r._fields&&!r._fields.every(o=>!!o._hide)?!1===e&&(t.resetOnHide&&t.parent&&!Eg(t.defaultValue)&&Eg(Dg(t))&&Tg(t,t.defaultValue),bT(t,void 0,!0),t.resetOnHide&&t.fieldArray&&(t.fieldGroup||[]).length!==(t.model||[]).length&&t.options._buildForm(!0)):(function yT(n,t=!1){const e=n.formControl.parent;if(!e)return;const i=n.formControl,r={emitEvent:t};if(e instanceof Rm){const o=e.controls.findIndex(a=>a===i);-1!==o&&Gb(e,r,()=>e.removeAt(o))}else if(e instanceof Gi){const o=za(n),a=o[o.length-1];e.get([a])===i&&Gb(e,r,()=>e.removeControl(a))}i.setParent(null)}(t,!0),i&&t.resetOnHide&&(t.formControl.reset({value:void 0,disabled:t.formControl.disabled}),t.fieldGroup&&(Tg(t,void 0),t.formControl instanceof Rm&&(t.fieldGroup.length=0))))}t.fieldGroup&&t.fieldGroup.filter(r=>!r.hideExpression).forEach(r=>this.toggleFormControl(r,e,i)),t.options.fieldChanges&&t.options.fieldChanges.next({field:t,type:"hidden",value:e})}setExprValue(t,e,i){try{let r=t;const o=-1===e.indexOf("[")?e.split("."):e.replace(/\'|\"/g,"").split(/[[\]]{1,2}/).filter(c=>c),a=o.length-1;for(let c=0;c<a;c++)r=r[o[c]];r[o[a]]=i}catch(r){throw r.message=`[Formly Error] [Expression "${e}"] ${r.message}`,r}if("templateOptions.disabled"===e&&t.key&&this.setDisabledState(t,i),0===e.indexOf("model.")){const r=e.replace(/^model\./,""),o=t.key&&e===r?t.formControl:t.parent.formControl.get(r);o&&(!Rc(o.value)||!Rc(i))&&o.value!==i&&o.patchValue(i)}this.emitExpressionChanges(t,e,i)}emitExpressionChanges(t,e,i){t.options.fieldChanges&&t.options.fieldChanges.next({field:t,type:"expressionChanges",property:e,value:i})}}class MX{constructor(t){this.formlyConfig=t}onPopulate(t){this.initFieldValidation(t,"validators"),this.initFieldValidation(t,"asyncValidators")}initFieldValidation(t,e){const i=[];if("validators"===e&&!(t.hasOwnProperty("fieldGroup")&&!t.key)&&i.push(this.getPredefinedFieldValidation(t)),t[e])for(const r in t[e])"validation"===r&&!Array.isArray(t[e].validation)&&(t[e].validation=[t[e].validation],console.warn(`NgxFormly(${t.key}): passing a non array value to the 'validation' is deprecated, pass an array instead`)),"validation"===r?i.push(...t[e].validation.map(o=>this.wrapNgValidatorFn(t,o))):i.push(this.wrapNgValidatorFn(t,t[e][r],r));sr(t,"_"+e,i)}getPredefinedFieldValidation(t){let e=[];return zR.forEach(i=>$l(t.templateOptions,i,({currentValue:r,firstChange:o})=>{e=e.filter(a=>a!==i),null!=r&&!1!==r&&e.push(i),!o&&t.formControl&&kg(t.formControl)})),i=>0===e.length?null:xl.compose(e.map(r=>()=>{const o=t.templateOptions[r];switch(r){case"required":return xl.required(i);case"pattern":return xl.pattern(o)(i);case"minLength":return xl.minLength(o)(i);case"maxLength":return xl.maxLength(o)(i);case"min":return xl.min(o)(i);case"max":return xl.max(o)(i)}}))(i)}wrapNgValidatorFn(t,e,i){let r=null;if("string"==typeof e&&(r=zr(this.formlyConfig.getValidator(e))),"object"==typeof e&&e.name&&(r=zr(this.formlyConfig.getValidator(e.name)),e.options&&(r.options=e.options)),"object"==typeof e&&e.expression){const{expression:o}=e,a=vT(e,["expression"]);r={name:i,validation:o,options:Object.keys(a).length>0?a:null}}return"function"==typeof e&&(r={name:i,validation:e}),o=>{const a=r.validation(o,t,r.options);return function wX(n){return!!n&&"function"==typeof n.then}(a)?a.then(c=>this.handleAsyncResult(t,i?!!c:c,r)):Sg(a)?a.pipe(pe(c=>this.handleAsyncResult(t,i?!!c:c,r))):this.handleResult(t,i?!!a:a,r)}}handleAsyncResult(t,e,i){return t.options&&t.options._markForCheck&&t.options._markForCheck(t),this.handleResult(t,e,i)}handleResult(t,e,{name:i,options:r}){"boolean"==typeof e&&(e=e?null:{[i]:r||!0});const o=t.formControl;return o._childrenErrors&&o._childrenErrors[i]&&o._childrenErrors[i](),Fc(e)&&Object.keys(e).forEach(a=>{const c=e[a].errorPath?e[a].errorPath:(r||{}).errorPath,u=c?t.formControl.get(c):null;if(u){const f=vT(e[a],["errorPath"]);u.setErrors(Object.assign({},u.errors||{},{[a]:f})),!o._childrenErrors&&sr(o,"_childrenErrors",{}),o._childrenErrors[a]=()=>{const P=vT(u.errors||{},["symbol"==typeof a?a:a+""]);u.setErrors(0===Object.keys(P).length?null:P)}}}),e}}class xX{constructor(t){this.config=t}onPopulate(t){t.parent&&(t.fieldGroup&&!t.key?sr(t,"formControl",t.parent.formControl):this.addFormControl(t))}postPopulate(t){if(t.parent)return;const e=this.setValidators(t);if(0!==e.length)if(1===e.length){let i=e[0].formControl;for(;i;)i._updateTreeValidity({onlySelf:!0}),i=i.parent}else t.formControl._updateTreeValidity()}addFormControl(t){let e=function qR(n){if(n.formControl)return n.formControl;if(!1===n.shareFormControl)return null;const t=n.parent.formControl;return t?t.get(za(n)):null}(t);if(!e){const i={updateOn:t.modelOptions.updateOn},r=t.key?Dg(t):t.defaultValue,o=this.config?this.config.resolveFieldTypeRef(t):null;if(o&&o.componentType&&o.componentType.createControl){const a=o.componentType;console.warn(`NgxFormly: '${a.name}::createControl' is deprecated since v5.0, use 'prePopulate' hook instead.`),e=a.createControl(r,t)}else e=t.fieldGroup?new Gi({},i):new Nm(r,i)}bT(t,e)}setValidators(t){let e=!1;if(t.key||!t.parent||!t.key&&!t.fieldGroup){const{formControl:r}=t,o=!!t.templateOptions&&t.templateOptions.disabled;t.key&&r&&(o&&r.enabled&&(r.disable({emitEvent:!1,onlySelf:!0}),r.parent?e=!0:kg(r)),!o&&r.disabled&&(r.enable({emitEvent:!1,onlySelf:!0}),r.parent?e=!0:kg(r))),r&&(null===r.validator||null===r.asyncValidator)&&(r.setValidators(()=>{const a=xl.compose(this.mergeValidators(t,"_validators"));return a?a(r):null}),r.setAsyncValidators(()=>{const a=xl.composeAsync(this.mergeValidators(t,"_asyncValidators"));return a?a(r):Se(null)}),r.parent?e=!0:kg(r))}const i=e?[t]:[];return(t.fieldGroup||[]).forEach(r=>{const o=this.setValidators(r);e||i.push(...o)}),i}mergeValidators(t,e){const i=[],r=t.formControl;return r&&r._fields&&r._fields.length>1?r._fields.filter(o=>!o._hide).forEach(o=>i.push(...o[e])):t[e]&&i.push(...t[e]),t.fieldGroup&&t.fieldGroup.filter(o=>!o.key&&o.fieldGroup).forEach(o=>i.push(...this.mergeValidators(o,e))),i}}class IX{constructor(t){this.formlyConfig=t,this.formId=0}prePopulate(t){if(this.getFieldComponentInstance(t).prePopulate(),t.parent)return;const e=t.options&&t.options.fieldTransform||this.formlyConfig.extras.fieldTransform;(Array.isArray(e)?e:[e]).forEach(i=>{if(i&&(console.warn("NgxFormly: fieldTransform is deprecated since v5.0, use custom extension instead."),!i(t.fieldGroup,t.model,t.formControl,t.options)))throw new Error("fieldTransform must return an array of fields")})}onPopulate(t){this.initFieldOptions(t),this.getFieldComponentInstance(t).onPopulate(),t.fieldGroup&&t.fieldGroup.forEach((e,i)=>{Object.defineProperty(e,"parent",{get:()=>t,configurable:!0}),Object.defineProperty(e,"index",{get:()=>i,configurable:!0}),this.formId++})}postPopulate(t){this.getFieldComponentInstance(t).postPopulate()}initFieldOptions(t){const e=t.parent;if(e){if(Object.defineProperty(t,"form",{get:()=>e.formControl,configurable:!0}),Object.defineProperty(t,"options",{get:()=>e.options,configurable:!0}),Object.defineProperty(t,"model",{get:()=>t.key&&t.fieldGroup?Dg(t):e.model,configurable:!0}),Jh(t,{id:vX(`formly_${this.formId}`,t,t.index),hooks:{},modelOptions:{},templateOptions:t.type&&t.key?{label:"",placeholder:"",focus:!1,disabled:!1}:{}}),this.formlyConfig.extras.resetFieldOnHide&&!1!==t.resetOnHide&&(t.resetOnHide=!0),t.lifecycle&&console.warn("NgxFormly: 'lifecycle' is deprecated since v5.0, use 'hooks' instead."),"formly-template"!==t.type&&(t.template||t.expressionProperties&&t.expressionProperties.template)&&(t.type&&console.warn("NgxFormly: passing 'type' property is not allowed when 'template' is set."),t.type="formly-template"),!t.type&&t.fieldGroup&&(t.type="formly-group"),t.type&&this.formlyConfig.getMergedField(t),t.parent){let i=!Eg(t.key)&&!Eg(t.defaultValue)&&Eg(Dg(t))&&(!t.resetOnHide||!(t.hide||t.hideExpression));if(i&&t.resetOnHide){let r=t.parent;for(;r&&!r.hideExpression&&!r.hide;)r=r.parent;i=!r||!(r.hideExpression||r.hide)}i&&Tg(t,t.defaultValue)}this.initFieldWrappers(t)}}initFieldWrappers(t){t.wrappers=t.wrappers||[];const e=Object.assign({preWrapper:[],postWrapper:[]},t.templateOptions.templateManipulators||{});t.wrappers=[...this.formlyConfig.templateManipulators.preWrapper.map(i=>i(t)),...e.preWrapper.map(i=>i(t)),...t.wrappers,...this.formlyConfig.templateManipulators.postWrapper.map(i=>i(t)),...e.postWrapper.map(i=>i(t))].filter((i,r,o)=>i&&r===o.indexOf(i))}getFieldComponentInstance(t){const e=this.formlyConfig.resolveFieldTypeRef(t),i=e?e.instance:{};return{prePopulate:()=>i.prePopulate&&i.prePopulate(t),onPopulate:()=>i.onPopulate&&i.onPopulate(t),postPopulate:()=>i.postPopulate&&i.postPopulate(t)}}}function YR(n){return{types:[{name:"formly-group",component:SX},{name:"formly-template",component:DX}],extensions:[{name:"core",extension:new IX(n)},{name:"field-validation",extension:new MX(n)},{name:"field-form",extension:new xX(n)},{name:"field-expression",extension:new kX}]}}let wT=(()=>{class n{constructor(e,i=[]){i&&i.forEach(r=>e.addConfig(r))}static forRoot(e={}){return{ngModule:n,providers:[{provide:Xh,multi:!0,useFactory:YR,deps:[ar]},{provide:Xh,useValue:e,multi:!0},{provide:YD,useValue:e,multi:!0},ar,Go]}}static forChild(e={}){return{ngModule:n,providers:[{provide:Xh,multi:!0,useFactory:YR,deps:[ar]},{provide:Xh,useValue:e,multi:!0},{provide:YD,useValue:e,multi:!0},Go]}}}return n.\u0275fac=function(e){return new(e||n)(R(ar),R(Xh,8))},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[yu]}),n})();function PX(n,t){if(1&n){const e=Z();U(0),s(1,"\n        "),p(2,"div",5),A("click",function(){return k(e),x(C().onCancel())}),s(3,"\n            Cancel\n        "),m(),s(4,"\n    "),V()}}function OX(n,t){1&n&&oi(0)}function AX(n,t){if(1&n&&(U(0),s(1,"\n        "),S(2,OX,1,0,"ng-container",6),s(3,"\n    "),V()),2&n){const e=C(),i=re(13),r=re(16);_(2),v("ngIf",e.form.valid)("ngIfThen",i)("ngIfElse",r)}}function NX(n,t){1&n&&(s(0,"\n    "),p(1,"button",7),s(2,"\n        Submit\n    "),m(),s(3,"\n"))}function RX(n,t){1&n&&(s(0,"\n    "),p(1,"div",8),s(2,"\n        "),N(3,"i",9),s(4,"\n        Submit *\n    "),m(),s(5,"\n")),2&n&&(_(1),v("ngbTooltip","The form is not yet correctly filled out!")("tooltipClass","my-tooltip"))}class Cn{constructor(){this.form=new Gi({}),this.enctype="application/x-www-form-urlencoded",this.enableSubmitButtons=!0,this.formlySubmit=new X,this.formlyCancel=new X}onSubmit(){this.form.valid&&this.formlySubmit.emit(this.model)}onCancel(){this.formlyCancel.emit(this.model)}}function FX(n,t){if(1&n&&(U(0),s(1,"\n                "),N(2,"input",5),s(3,"\n            "),V()),2&n){const e=C().$implicit,i=C();_(2),ji("custom-control mr-2 "+e.className),v("checked",i.modelCopy[e.key])}}function LX(n,t){1&n&&(U(0),s(1,"*"),V())}function $X(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"div"),s(3),m(),s(4,"\n        "),V()),2&n){const e=C().$implicit,i=C();_(2),ji("form-control "+e.className),_(1),ee("\n                ",i.modelCopy[e.key],"    \n            ")}}function UX(n,t){if(1&n&&(U(0),s(1,"\n            "),N(2,"div",6),s(3,"\n        "),V()),2&n){const e=C().$implicit,i=C();_(2),ji("custom-control mr-2 "+e.className),v("innerHTML",i.modelCopy[e.key],Nr)}}Cn.\u0275fac=function(t){return new(t||Cn)},Cn.\u0275cmp=ie({type:Cn,selectors:[["app-formly-formcontainer"]],inputs:{model:"model",fields:"fields",enctype:"enctype",enableSubmitButtons:"enableSubmitButtons"},outputs:{formlySubmit:"formlySubmit",formlyCancel:"formlyCancel"},decls:17,vars:7,consts:[[3,"formGroup","enctype","submit"],[3,"form","fields","model"],[4,"ngIf"],["activeSubmitButton",""],["inactiveSubmitButton",""],[1,"btn","btn-dark","mr-3",3,"click"],[4,"ngIf","ngIfThen","ngIfElse"],["type","submit",1,"btn","btn-primary"],["placement","top",1,"btn","btn-dark","strikethrough",3,"ngbTooltip","tooltipClass"],["aria-hidden","true",1,"fa","fa-lock","mr-2"]],template:function(t,e){1&t&&(s(0,"\n"),p(1,"form",0),A("submit",function(){return e.onSubmit()}),s(2,"\n    "),N(3,"formly-form",1),s(4,"\n    "),s(5,"\n    "),S(6,PX,5,0,"ng-container",2),s(7,"\n\n\n    "),s(8,"\n    "),S(9,AX,4,3,"ng-container",2),s(10,"\n\n"),m(),s(11,"\n\n"),S(12,NX,4,0,"ng-template",null,3,ae),s(14,"\n\n"),S(15,RX,6,2,"ng-template",null,4,ae)),2&t&&(_(1),v("formGroup",e.form)("enctype",e.enctype),_(2),v("form",e.form)("fields",e.fields)("model",e.model),_(3),v("ngIf",e.enableSubmitButtons),_(3),v("ngIf",e.enableSubmitButtons))},dependencies:[me,Vr,Ur,Ym,Il,ep],styles:[".strikethrough[_ngcontent-%COMP%]{text-decoration:line-through}"]});const VX=function(n){return{"mb-0":n}},BX=function(){return["checkbox","tinymce"]};function HX(n,t){if(1&n&&(U(0),s(1,"\n    "),p(2,"div",1),s(3,"\n        "),p(4,"div",2),s(5,"\n            "),S(6,FX,4,3,"ng-container",3),s(7,"\n\n    \n            "),p(8,"label",4),s(9),S(10,LX,2,0,"ng-container",3),s(11,"\n            "),m(),s(12,"\n        "),m(),s(13,"\n        \n        "),S(14,$X,5,3,"ng-container",3),s(15,"\n\n        "),S(16,UX,4,3,"ng-container",3),s(17,"\n\n    "),m(),s(18,"\n"),V()),2&n){const e=t.$implicit;_(6),v("ngIf","checkbox"===e.type),_(2),v("ngClass",ot(6,VX,"checkbox"===e.type)),_(1),ee("\n                ",e.templateOptions.label,"\n                "),_(1),v("ngIf",e.templateOptions.required),_(4),v("ngIf",function Tx(n,t,e){const i=Ji()+n,r=F();return r[i]===ut?ka(r,i,e?t.call(e):t()):Xf(r,i)}(8,BX).includes(e.type)),_(2),v("ngIf","tinymce"===e.type)}}class Mg{constructor(){}ngOnInit(){var t=this;this.modelCopy=JSON.parse(JSON.stringify(this.model)),this.formlyFields.forEach(function(){var e=_t(function*(i){"select"===i.type&&(t.modelCopy[`${i.key}`]=yield t.getSelectedOptionValue(i,t.modelCopy))});return function(i){return e.apply(this,arguments)}}())}getSelectedOptionValue(t,e){return _t(function*(){if("select"!==t.type)return;const i=`${t.key}`,r=e[i];return"Observable"===t.templateOptions.options.constructor.name?(yield t.templateOptions.options.toPromise()).filter(h=>h.pk===r)[0]?.name_full:e[i]})()}}function jX(n,t){1&n&&(U(0),s(1,"\n            "),N(2,"hr",9),s(3,"\n        "),V())}Mg.\u0275fac=function(t){return new(t||Mg)},Mg.\u0275cmp=ie({type:Mg,selectors:[["app-display-form-container"]],inputs:{formlyFields:"formlyFields",model:"model"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"form-group"],[1,"d-flex","align-items-center"],[4,"ngIf"],[3,"ngClass"],["type","checkbox","disabled","",3,"checked"],[3,"innerHTML"]],template:function(t,e){1&t&&(S(0,HX,19,9,"ng-container",0),s(1,"\n\n\n")),2&t&&v("ngForOf",e.formlyFields)},dependencies:[rn,Ye,me],styles:[".form-control[_ngcontent-%COMP%]{color:var(--white);background-color:transparent;border-color:var(--white);overflow:hidden;white-space:nowrap}"]});const JR=function(n){return{"col-sm-6":n}};class vi{constructor(){this.isVisibleSubject=new yn(!1),this.displayVertically=!1,this.updateSubmit=new X,this.cancel=new X}ngOnInit(){this.markFieldMismatches()}markFieldMismatches(){const t=this.formlyFields.map(e=>e.key.toString());for(let e of t)this.modelFromUser[e]!=this.modelFromServer[e]&&(this.formlyFields.find(a=>a.key===e).className="updated")}onCancel(){this.cancel.emit(null)}onSubmit(){this.modelFromUser.update_datetime=this.modelFromServer.update_datetime,this.updateSubmit.emit(null)}}function zX(n,t){if(1&n&&(U(0),s(1,"\n    "),p(2,"div",2),s(3,"\n      "),N(4,"i",3),s(5),m(),s(6,"\n  "),V()),2&n){const e=C();_(5),ee("\n      ",e.labelText,"\n    ")}}function GX(n,t){if(1&n&&(U(0),s(1,"\n    "),p(2,"a",4),s(3,"\n    "),N(4,"i",3),s(5),m(),s(6,"\n  "),V()),2&n){const e=C();_(2),v("routerLink",e.link),_(3),ee("\n    ",e.labelText,"\n  ")}}vi.\u0275fac=function(t){return new(t||vi)},vi.\u0275cmp=ie({type:vi,selectors:[["app-compare-form-container"]],inputs:{formlyFields:"formlyFields",modelFromUser:"modelFromUser",modelFromServer:"modelFromServer",isVisibleSubject:"isVisibleSubject",displayVertically:"displayVertically"},outputs:{updateSubmit:"updateSubmit",cancel:"cancel"},decls:36,vars:11,consts:[[1,"container","p-0","mw-100"],["compareFormContainer",""],[1,"alert","alert-info"],[1,"fa","fa-info-circle"],[1,"row"],[1,"col-12",3,"ngClass"],[3,"model","formlyFields"],[4,"ngIf"],[3,"model","fields","formlySubmit","formlyCancel"],[1,"white-separator"]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"div",2),s(4,"\n        "),N(5,"span",3),s(6,"\n        While you were updating this article, somebody else went ahead and updated it as well. Please include their changes in your update before submitting.\n    "),m(),s(7,"\n\n    "),p(8,"div",4),s(9,"\n        "),p(10,"div",5),s(11,"\n            "),p(12,"div"),s(13,"\n                "),p(14,"h3"),s(15," Server Version "),m(),s(16,"\n                "),N(17,"app-display-form-container",6),s(18,"\n            "),m(),s(19,"\n        "),m(),s(20,"\n\n        "),S(21,jX,4,0,"ng-container",7),s(22,"\n        \n        "),p(23,"div",5),s(24,"\n            "),p(25,"div"),s(26,"\n                "),p(27,"h3"),s(28," Your Version "),m(),s(29,"\n                "),p(30,"app-formly-formcontainer",8),A("formlySubmit",function(){return e.onSubmit()})("formlyCancel",function(){return e.onCancel()}),m(),s(31,"\n            "),m(),s(32,"\n        "),m(),s(33,"\n    "),m(),s(34,"\n"),m(),s(35,"\n")),2&t&&(_(10),v("ngClass",ot(7,JR,!e.displayVertically)),_(7),v("model",e.modelFromServer)("formlyFields",e.formlyFields),_(4),v("ngIf",e.displayVertically),_(2),v("ngClass",ot(9,JR,!e.displayVertically)),_(7),v("model",e.modelFromUser)("fields",e.formlyFields))},dependencies:[rn,me,Cn,Mg]});var tp=(()=>(function(n){n[n.Link=0]="Link",n[n.Text=1]="Text"}(tp||(tp={})),tp))();class Vl{constructor(){this.styles=tp}ngOnInit(){this.badgeStyle=null==this.link?tp.Text:tp.Link}}function WX(n,t){if(1&n&&(U(0),s(1,"\n            "),N(2,"app-edit-toggle",12),s(3,"\n\n            "),p(4,"h2",13),s(5),m(),s(6,"\n        "),V()),2&n){const e=C();_(2),v("isInUpdateState",!0)("link",e.updateCancelUrl),_(3),ee("\n                Updating Character ",e.userModel.name,"\n            ")}}function qX(n,t){if(1&n){const e=Z();p(0,"app-inline-create-button",19),A("click",function(){return k(e),x(C(4).toggleConnectionCreateState())}),s(1,"     \n                        "),m()}2&n&&v("labelText","Add Class")}function QX(n,t){if(1&n){const e=Z();U(0),s(1,"\n                        "),p(2,"span",16),s(3),p(4,"span",17),A("click",function(){const o=k(e).$implicit;return x(C(3).deletePlayerClassConnection(o))}),m(),s(5,"\n                        "),m(),s(6,"\n            \n                        "),s(7,"\n                        "),S(8,qX,2,1,"app-inline-create-button",18),s(9,"\n                    "),V()}if(2&n){const e=t.$implicit,i=C(3),r=re(29);_(3),ee("\n                            ",e.player_class_details.name,"\n                            "),_(5),v("ngIf",!i.isCharacterConnectionCreationState)("ngIfElse",r)}}function ZX(n,t){if(1&n&&(U(0),s(1,"\n                "),p(2,"div",14),s(3,"\n                    "),S(4,QX,10,3,"ng-container",15),s(5,"\n                "),m(),s(6,"    \n            "),V()),2&n){const e=C(2);_(4),v("ngForOf",e.userModel.player_class_connections)}}function KX(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"h4",4),s(3," Classes "),m(),s(4,"\n            "),N(5,"hr",5),s(6,"\n            \n            "),S(7,ZX,7,1,"ng-container",3),s(8,"\n        "),V()),2&n){const e=C();_(7),v("ngIf",e.userModel)}}function YX(n,t){1&n&&(U(0),s(1,"\n                        Organization Memberships\n                    "),V())}function JX(n,t){if(1&n){const e=Z();p(0,"span",16),s(1),p(2,"span",17),A("click",function(){const o=k(e).$implicit;return x(C(4).deleteOrganizationMembership(o))}),m(),s(3,"\n                        "),m()}if(2&n){const e=t.$implicit;_(1),ee("\n                            ",e.name,"\n                            ")}}function XX(n,t){if(1&n){const e=Z();p(0,"div",21),s(1,"\n                        "),S(2,JX,4,1,"span",22),s(3,"\n                            \n                        "),s(4,"\n                        "),p(5,"app-inline-create-button",19),A("click",function(){return k(e),x(C(3).toggleOrganizationMembershipCreateState())}),s(6,"     \n                        "),m(),s(7,"\n                    "),m()}if(2&n){const e=C(3);_(2),v("ngForOf",e.userModel.organizations),_(3),v("labelText","Add Membership")}}function eee(n,t){if(1&n&&(U(0),s(1,"\n                    "),S(2,XX,8,2,"div",20),s(3,"   \n                "),V()),2&n){const e=C(2);_(2),v("ngIf",e.userModel)}}function tee(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"div",1),s(3,"\n                "),p(4,"h4",4),s(5," \n                    "),S(6,YX,2,0,"ng-container",2),s(7,"\n    \n                     "),m(),s(8,"\n                "),N(9,"hr",5),s(10,"\n                \n                "),S(11,eee,4,1,"ng-container",2),s(12," \n            "),m(),s(13,"\n        "),V()),2&n){const e=C(),i=re(32),r=re(35);_(6),v("ngIf",!e.isOrganizationMembershipCreationState)("ngIfElse",i),_(5),v("ngIf",!e.isOrganizationMembershipCreationState)("ngIfElse",r)}}function nee(n,t){if(1&n){const e=Z();p(0,"app-formly-formcontainer",23),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("model",e.userModel)("fields",e.formlyFields)}}function iee(n,t){if(1&n){const e=Z();p(0,"app-compare-form-container",24),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)}}function ree(n,t){if(1&n&&(s(0,"\n    "),N(1,"app-edit-toggle",12),s(2,"\n\n    "),p(3,"h2",13),s(4,"\n        Creating a new character\n    "),m(),s(5,"\n")),2&n){const e=C();_(1),v("isInUpdateState",!0)("link",e.creationCancelUrl)}}function oee(n,t){if(1&n&&(U(0),s(1,"\n                "),p(2,"option",30),s(3),m(),s(4,"\n            "),V()),2&n){const e=t.$implicit,i=C(2);_(2),v("value",e.pk),Et("disabled",!!i.hasConnection(e)||null),_(1),ee("\n                    ",e.name,"\n                ")}}function see(n,t){if(1&n){const e=Z();s(0,"\n    "),s(1,"\n    "),p(2,"form",25),A("submit",function(){k(e);const r=C();return x(r.createPlayerClassConnection(r.connectionModel))}),s(3,"\n        "),p(4,"select",26),A("ngModelChange",function(r){return k(e),x(C().connectionModel.player_class=r)}),s(5,"\n            "),S(6,oee,5,3,"ng-container",15),s(7,"\n        "),m(),s(8,"\n\n        "),p(9,"i",27),A("click",function(){return k(e),x(C().toggleConnectionCreateState())}),m(),s(10,"\n        "),p(11,"button",28),s(12," \n            "),N(13,"i",29),s(14," \n        "),m(),s(15,"\n    "),m(),s(16,"\n")}if(2&n){const e=C();_(4),v("ngModel",e.connectionModel.player_class),_(2),v("ngForOf",e.playerClasses)}}function aee(n,t){1&n&&s(0,"\n        Create Organization Membership\n")}function lee(n,t){if(1&n){const e=Z();s(0,"\n    "),s(1,"\n    "),p(2,"app-formly-formcontainer",23),A("formlySubmit",function(){k(e);const r=C();return x(r.createOrganizationMembership(r.membershipModel))})("formlyCancel",function(){return k(e),x(C().toggleOrganizationMembershipCreateState())}),m(),s(3,"\n")}if(2&n){const e=C();_(2),v("model",e.membershipModel)("fields",e.organizationFormlyFields)}}Vl.\u0275fac=function(t){return new(t||Vl)},Vl.\u0275cmp=ie({type:Vl,selectors:[["app-inline-create-button"]],inputs:{link:"link",labelText:"labelText"},decls:7,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"badge","badge-primary","pointer","p-2","no-underline","ml-2"],[1,"fa","fa-plus","mx-1"],[1,"badge","badge-primary","p-2","no-underline","ml-2",3,"routerLink"]],template:function(t,e){1&t&&(U(0,0),s(1,"\n  "),S(2,zX,7,1,"ng-container",1),s(3,"\n\n  "),S(4,GX,7,2,"ng-container",1),s(5,"\n"),V(),s(6,"\n\n")),2&t&&(v("ngSwitch",e.badgeStyle),_(2),v("ngSwitchCase",e.styles.Text),_(2),v("ngSwitchCase",e.styles.Link))},dependencies:[wh,iy,Ht],styles:[".full-sized[_nghost-%COMP%]   .badge[_ngcontent-%COMP%], .full-sized   [_nghost-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:100%}"]});class np extends vr{constructor(t,e,i,r,o,a,c,u,h,f,y,T,E){super(e,a,o,t,y,T,r,E),this.formlyService=i,this.warnings=o,this.routingService=a,this.playerClassService=c,this.characterConnectionService=u,this.organizationService=h,this.organizationMembershipService=f,this.userModelClass=vg,this.formlyFields=[this.formlyService.genericCheckbox({key:"player_character",label:"Player Character",defaultValue:!1}),this.formlyService.genericCheckbox({key:"alive",defaultValue:!0}),this.formlyService.genericInput({key:"name",isNameInput:!0}),this.formlyService.genericInput({key:"title",required:!1}),this.formlyService.customStringSelect({key:"gender",label:"Sex",options:["Other","Female","Male"]}),this.formlyService.genericInput({key:"race"}),this.formlyService.genericSelect({key:"current_location",sortProp:"name_full",label:"Location",overviewType:Ae.Location,campaign:this.campaign.name,required:!1})],this.organizationFormlyFields=[this.formlyService.genericInput({key:"role",isNameInput:!0,required:!1}),this.formlyService.genericDisableSelect({key:"organization_id",sortProp:"name_full",label:"Organization",overviewType:Ae.Organization,campaign:this.campaign.name,disabledExpression:P=>!!this.hasMembership(P)||null,tooltipMessage:"The organization or group this character is a member of",warningMessage:null})],this.isCharacterConnectionCreationState=!1,this.isOrganizationMembershipCreationState=!1}updateRouterLinks(t,e,i){this.updateCancelUrl=this.routingService.getRoutePath("character",{campaign:t,name:e.name}),this.creationCancelUrl=this.routingService.getRoutePath("character-overview",{campaign:t})}toggleConnectionCreateState(){this.playerClasses||this.playerClassService.list().pipe(le()).subscribe(t=>this.playerClasses=t,t=>this.warnings.showWarning(t)),this.isCharacterConnectionCreationState=!this.isCharacterConnectionCreationState,this.resetConnectionModel()}deletePlayerClassConnection(t){this.characterConnectionService.delete(t.pk).pipe(le()).subscribe(e=>{const i=this.userModel.player_class_connections.indexOf(t);this.userModel.player_class_connections.splice(i,1)},e=>this.warnings.showWarning(e))}createPlayerClassConnection(t){t.player_class=parseInt(t.player_class),this.characterConnectionService.create(t).pipe(le()).subscribe(e=>{this.userModel.player_class_connections.push(e),this.toggleConnectionCreateState()},e=>this.warnings.showWarning(e))}resetConnectionModel(){this.connectionModel={player_class:null,character:this.userModel.pk}}hasConnection(t){return this.userModel.player_class_connections.some(e=>e.player_class===t.pk)}toggleOrganizationMembershipCreateState(){this.organizations||this.organizationService.campaignList(this.campaign.name).pipe(le()).subscribe(t=>this.organizations=t,t=>this.warnings.showWarning(t)),this.isOrganizationMembershipCreationState=!this.isOrganizationMembershipCreationState,this.resetOrganizationMembershipModel()}resetOrganizationMembershipModel(){this.membershipModel={role:null,organization_id:null,member_id:this.userModel.pk}}deleteOrganizationMembership(t){this.organizationMembershipService.delete(t.pk).pipe(le()).subscribe(e=>{const i=this.userModel.organizations.findIndex(r=>r.pk===t.pk);this.userModel.organizations.splice(i,1)},e=>this.warnings.showWarning(e))}createOrganizationMembership(t){t.organization_id=parseInt(t.organization_id),this.organizationMembershipService.create(t).pipe(le()).subscribe(e=>{this.userModel=e,this.toggleOrganizationMembershipCreateState()},e=>this.warnings.showWarning(e))}hasMembership(t){return this.userModel.organizations.some(e=>e.organization_id===t.pk)}}np.\u0275fac=function(t){return new(t||np)(w(or),w(Gt),w(Yt),w(Fe),w(ze),w(he),w(Nc),w(Kh),w(Ys),w(Yh),w(Wn),w(Ve),w(_e))},np.\u0275cmp=ie({type:np,selectors:[["app-character-article-update"]],features:[ce],decls:36,vars:6,consts:[[1,"main"],[1,"mb-5"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"mb-0"],[1,"white-separator"],[3,"model","fields","formlySubmit","formlyCancel",4,"ngIf"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel",4,"ngIf"],["createState",""],["connectionForm",""],["createMembershipHeader",""],["createMembershipForm",""],[3,"isInUpdateState","link"],[1,"text-center"],["id","player-classes",1,"mb-5"],[4,"ngFor","ngForOf"],[1,"badge","badge-secondary","mr-3"],[1,"ml-2","fa","fa-trash","icon",3,"click"],["class","full-sized",3,"labelText","click",4,"ngIf","ngIfElse"],[1,"full-sized",3,"labelText","click"],["id","organizations",4,"ngIf"],["id","organizations"],["class","badge badge-secondary mr-3",4,"ngFor","ngForOf"],[3,"model","fields","formlySubmit","formlyCancel"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel"],[1,"d-inline-flex","align-items-center",3,"submit"],["name","connection","id","connection",1,"form-control","d-inline-block",3,"ngModel","ngModelChange"],[1,"fa","fa-times","icon","mx-2","fa-1-5x",3,"click"],["type","submit"],[1,"fa","fa-check","icon","fa-1-5x"],[3,"value"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),s(4,"\n        "),S(5,WX,7,3,"ng-container",2),s(6,"\n\n        "),s(7,"\n        "),S(8,KX,9,1,"ng-container",3),s(9,"\n\n        "),s(10,"\n        "),S(11,tee,14,4,"ng-container",3),s(12,"\n\n        "),s(13,"\n        "),p(14,"h4",4),s(15," Character Data "),m(),s(16,"\n        "),N(17,"hr",5),s(18,"\n\n        "),S(19,nee,1,2,"app-formly-formcontainer",6),s(20,"\n\n        "),S(21,iee,1,3,"app-compare-form-container",7),s(22,"\n    "),m(),s(23,"\n"),m(),s(24,"\n\n"),S(25,ree,6,2,"ng-template",null,8,ae),s(27,"\n\n\n"),S(28,see,17,2,"ng-template",null,9,ae),s(30,"\n\n"),S(31,aee,1,0,"ng-template",null,10,ae),s(33,"\n\n"),S(34,lee,4,2,"ng-template",null,11,ae)),2&t){const i=re(26);_(5),v("ngIf",(e.isInUpdateState()||e.isInOutdatedUpdateState())&&e.userModel)("ngIfElse",i),_(3),v("ngIf",e.isInUpdateState()),_(3),v("ngIf",e.isInUpdateState()),_(8),v("ngIf",e.isInUpdateState()||e.isInCreateState()),_(2),v("ngIf",e.isInOutdatedUpdateState())}},dependencies:[Ye,me,Vr,js,zs,Vo,ki,Ur,Bs,Uo,fn,Cn,vi,Vl],styles:[".badge[_ngcontent-%COMP%]{font-size:100%}"]});const cee=["article"];class co extends ni{constructor(t,e,i,r,o,a){super(a,e),this.articleService=t,this.routingService=i,this.warnings=r,this.globalUrlParams=o,this.constants=H,this.queryParameterName="name",this.isLoadingArticleData=!1,this.textfieldFormStateSubject=new yn(H.displayState)}ngOnInit(){this.campaign=this.route.snapshot.data.campaign,this.articleData=this.route.snapshot.data.article,this.updateDynamicVariables(this.campaign,this.articleData,null),this.updateOnDeleteRouteParameters(this.campaign,this.route.snapshot.params)}ngAfterViewInit(){this.articleElement?.nativeElement&&_i(this.articleElement.nativeElement,"fadeIn").then(t=>this.onInitAnimationEnd())}onInitAnimationEnd(){}updateDynamicVariables(t,e,i){}updateOnDeleteRouteParameters(t,e){this.deleteRoute.params.campaign=t.name}onDescriptionUpdate(t){this.articleService.patch(this.articleData.pk,{description:t,update_datetime:this.articleData.update_datetime}).pipe(le()).subscribe(i=>{this.articleData=i},i=>{this.onDescriptionUpdateError(i)})}onDescriptionUpdateError(t){409===t?.status?(this.articleData=t.error,this.textfieldFormStateSubject.next(H.outdatedUpdateState)):this.warnings.showWarning(t)}deleteArticle(){this.articleService.delete(this.articleData.pk).pipe(le()).subscribe(t=>this.routingService.routeToPath(this.deleteRoute.routeName,this.deleteRoute.params),t=>this.warnings.showWarning(t))}ngOnDestroy(){this.parameter_subscription&&this.parameter_subscription.unsubscribe(),this.globalParamSubscription&&this.globalParamSubscription.unsubscribe()}}co.\u0275fac=function(t){du()},co.\u0275dir=de({type:co,viewQuery:function(t,e){if(1&t&&dt(cee,5),2&t){let i;ke(i=Me())&&(e.articleElement=i.first)}},features:[ce]});class ip{constructor(t){this.sanitized=t}transform(t){return this.sanitized.bypassSecurityTrustHtml(t)}}function uee(n,t){if(1&n){const e=Z();p(0,"i",8),A("click",function(){return k(e),x(C(3).enableEdit())}),m()}}function dee(n,t){if(1&n){const e=Z();p(0,"i",9),A("click",function(){return k(e),x(C(3).cancelEdit())}),m()}}function hee(n,t){if(1&n){const e=Z();p(0,"i",10),A("click",function(){return k(e),x(C(3).finishEdit())}),m()}}function pee(n,t){if(1&n&&(U(0),s(1,"\n        "),p(2,"h4",4),s(3,"\n            "),S(4,uee,1,0,"i",5),s(5,"\n            "),S(6,dee,1,0,"i",6),s(7,"\n            "),S(8,hee,1,0,"i",7),s(9,"\n        "),m(),s(10,"\n    "),V()),2&n){const e=C(2);_(4),v("ngIf",e.isInDisplayState()&&e.allowEdit),_(2),v("ngIf",e.isInUpdateState()),_(2),v("ngIf",e.isInUpdateState())}}function fee(n,t){if(1&n&&(U(0),s(1,"\n    "),N(2,"h4",3),s(3,"\n    "),S(4,pee,11,3,"ng-container",0),s(5,"\n"),V()),2&n){const e=C();_(2),v("innerHTML",e.heading,Nr),_(2),v("ngIf",e.hasUpdatePermission)}}function mee(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"form",11),A("submit",function(){return k(e),x(C().finishEdit())}),s(3,"\n                "),p(4,"editor",12),A("ngModelChange",function(r){return k(e),x(C().textModel=r)}),m(),s(5,"\n\n\n                "),s(6,"\n                "),p(7,"div",13),A("click",function(){return k(e),x(C().cancelEdit())}),s(8,"\n                    "),N(9,"span",14),s(10,"\n                    Cancel\n                "),m(),s(11,"\n                "),p(12,"button",15),s(13,"\n                    "),N(14,"span",16),s(15,"\n                    Submit\n                "),m(),s(16,"\n            "),m(),s(17,"\n\n        "),V()}if(2&n){const e=C();_(4),v("init",e.constants.tinyMCESettings)("ngModel",e.textModel)}}function gee(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),s(2,"\n            "),p(3,"div",17),s(4,"\n                "),N(5,"span",18),s(6,"\n                While you were updating this article, somebody else went ahead and updated it as well. \n                Please include their changes in your update before submitting.\n            "),m(),s(7,"\n\n            "),s(8,"\n            "),p(9,"div",19),s(10,"\n                "),s(11,"\n                "),p(12,"div"),s(13,"\n                    "),p(14,"h3"),s(15," Server Version "),m(),s(16,"\n                    "),N(17,"div",20),Vt(18,"safeHtml"),s(19,"\n                "),m(),s(20,"\n\n\n                "),N(21,"hr",21),s(22,"\n\n\n                "),s(23,"\n                "),p(24,"form",11),A("submit",function(){return k(e),x(C().finishEdit())}),s(25,"\n                    "),p(26,"h3"),s(27," Your Version "),m(),s(28,"\n\n                    "),p(29,"editor",12),A("ngModelChange",function(r){return k(e),x(C().textModel=r)}),m(),s(30,"\n    \n    \n                    "),s(31,"\n                    "),p(32,"div",22),A("click",function(){return k(e),x(C().cancelEdit())}),s(33,"\n                        "),N(34,"span",14),s(35,"\n                        Cancel\n                    "),m(),s(36,"\n                    "),p(37,"button",15),s(38,"\n                        "),N(39,"span",16),s(40,"\n                        Submit\n                    "),m(),s(41,"\n                "),m(),s(42,"\n            "),m(),s(43,"\n\n        "),V()}if(2&n){const e=C();_(17),v("innerHTML",Tn(18,3,e.initialText),Nr),_(12),v("init",e.constants.tinyMCESettings)("ngModel",e.textModel)}}function _ee(n,t){1&n&&(N(0,"div",20),Vt(1,"safeHtml")),2&n&&v("innerHTML",Tn(1,1,C().textModel),Nr)}ip.\u0275fac=function(t){return new(t||ip)(w(hw,16))},ip.\u0275pipe=Zn({name:"safeHtml",type:ip,pure:!0});class Wo extends ni{constructor(t,e){super(e,t),this.allowEdit=!0,this.formStateSubject=new yn(H.displayState),this.updateText=new X,this.constants=H}ngOnInit(){this.initialText=null==this.initialText?"":this.initialText,this.textModel=this.initialText}isInUpdateState(){return this.formStateSubject.value===H.updateState}isInOutdatedUpdateState(){return this.formStateSubject.value===H.outdatedUpdateState}isInDisplayState(){return this.formStateSubject.value===H.displayState}enableEdit(){this.allowEdit&&this.formStateSubject.next(H.updateState)}finishEdit(){this.allowEdit&&(this.formStateSubject.next(H.displayState),this.updateText.emit(this.textModel))}cancelEdit(){this.allowEdit&&(this.formStateSubject.next(H.displayState),this.textModel=this.initialText)}}Wo.\u0275fac=function(t){return new(t||Wo)(w(Fe),w(_e))},Wo.\u0275cmp=ie({type:Wo,selectors:[["app-textfield"]],inputs:{initialText:"initialText",heading:"heading",allowEdit:"allowEdit",formStateSubject:"formStateSubject"},outputs:{updateText:"updateText"},features:[ce],decls:16,vars:4,consts:[[4,"ngIf"],[1,"mt-2"],[3,"innerHTML",4,"ngIf"],[1,"d-inline",3,"innerHTML"],[1,"d-inline"],["class","fa icon fa-pencil ml-2",3,"click",4,"ngIf"],["class","fa icon fa-times ml-2",3,"click",4,"ngIf"],["class","fa icon fa-check ml-2",3,"click",4,"ngIf"],[1,"fa","icon","fa-pencil","ml-2",3,"click"],[1,"fa","icon","fa-times","ml-2",3,"click"],[1,"fa","icon","fa-check","ml-2",3,"click"],[3,"submit"],["name","textEditField",1,"mb-2",3,"init","ngModel","ngModelChange"],[1,"btn","btn-secondary","mx-2",3,"click"],[1,"fa","icon","fa-times"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-check"],[1,"alert","alert-info"],[1,"fa","fa-info-circle"],[1,"flex-column","card","p-4"],[3,"innerHTML"],[1,"white-separator"],[1,"btn","btn-dark","mx-2",3,"click"]],template:function(t,e){1&t&&(s(0,"\n"),S(1,fee,6,2,"ng-container",0),s(2,"\n\n"),s(3,"\n"),p(4,"form",1),s(5,"\n    "),p(6,"div"),s(7,"\n        "),S(8,mee,18,2,"ng-container",0),s(9,"\n\n        "),S(10,gee,44,5,"ng-container",0),s(11,"\n\n        "),S(12,_ee,2,3,"div",2),s(13,"\n    "),m(),s(14,"\n"),m(),s(15,"\n")),2&t&&(_(1),v("ngIf",e.heading),_(7),v("ngIf",e.isInUpdateState()&&e.hasUpdatePermission),_(2),v("ngIf",e.isInOutdatedUpdateState()&&e.hasUpdatePermission),_(2),v("ngIf",e.isInDisplayState()||!e.userHasUpdatePermission))},dependencies:[me,LS,Vr,ki,Ur,Bs,Uo,ip],styles:["i.fa-pencil[_ngcontent-%COMP%]:hover{color:gray}i.fa-check[_ngcontent-%COMP%]:hover{color:#368949}i.fa-times[_ngcontent-%COMP%]:hover{color:#9c1e2a}"]});class Wb{}class Wu extends Hr{constructor(t){super(t),this.baseUrl=`${H.wikiApiUrl}/encounterconnection`}}Wu.\u0275fac=function(t){return new(t||Wu)(R(qt))},Wu.\u0275prov=W({token:Wu,factory:Wu.\u0275fac,providedIn:"root"});const vee=["toggle"];function yee(n,t){1&n&&oi(0)}function bee(n,t){if(1&n){const e=Z();s(0,"\n  "),p(1,"div",5),A("click",function(){return k(e),x(C().toggleState())}),s(2,"\n    "),vl(3),s(4,"\n  "),m(),s(5,"\n")}}function Cee(n,t){if(1&n){const e=Z();s(0,"\n  "),p(1,"div",6),s(2,"\n    "),p(3,"span",7),s(4," "),p(5,"strong"),s(6),m(),s(7," "),m(),s(8,"  \n    "),p(9,"div",8),A("click",function(){return k(e),x(C().emitConfirmationEvent())}),s(10," Yes "),m(),s(11,"\n    "),p(12,"div",9),A("click",function(){return k(e),x(C().toggleState())}),s(13," No "),m(),s(14,"  \n  "),m(),s(15,"\n")}if(2&n){const e=C();_(6),We(e.message)}}const wee=[[["","id","inactivebutton"]]];class rp{constructor(){this.isActive=!1,this.confirmationEmission=null,this.confirmationEvent=new X}toggleState(){this.isActive=!this.isActive,_i(this.toggleElement.nativeElement,"flipInY")}emitConfirmationEvent(){this.isActive&&this.confirmationEvent.emit(this.confirmationEmission),this.isActive=!1}}function Tee(n,t){if(1&n){const e=Z();U(0),s(1,"\n    "),p(2,"app-animated-toggle",1),A("confirmationEvent",function(){return k(e),x(C().emitDeleteEvent())}),s(3,"\n        "),p(4,"div",2),s(5,"\n            "),p(6,"div",3),s(7,"\n                "),N(8,"i",4),s(9,"\n            "),m(),s(10," \n        "),m(),s(11,"\n    "),m(),s(12,"\n"),V()}if(2&n){const e=C();_(2),v("message",e.deleteMessage)}}rp.\u0275fac=function(t){return new(t||rp)},rp.\u0275cmp=ie({type:rp,selectors:[["app-animated-toggle"]],viewQuery:function(t,e){if(1&t&&dt(vee,5),2&t){let i;ke(i=Me())&&(e.toggleElement=i.first)}},inputs:{isActive:"isActive",confirmationEmission:"confirmationEmission",message:"message"},outputs:{confirmationEvent:"confirmationEvent"},ngContentSelectors:["#inactiveButton"],decls:12,vars:3,consts:[[1,"fit-content"],["toggle",""],[4,"ngIf","ngIfThen","ngIfElse"],["inactiveToggle",""],["activeToggle",""],[3,"click"],[1,"delete-request","float-right"],[1,"mr-3"],[1,"btn","btn-danger","float-right","mr-2",3,"click"],[1,"btn","btn-secondary","float-right",3,"click"]],template:function(t,e){if(1&t&&(_l(wee),p(0,"div",0,1),s(2,"\n  "),S(3,yee,1,0,"ng-container",2),s(4,"\n"),m(),s(5,"\n\n"),S(6,bee,6,0,"ng-template",null,3,ae),s(8,"\n\n"),S(9,Cee,16,1,"ng-template",null,4,ae),s(11,"\n")),2&t){const i=re(7),r=re(10);_(3),v("ngIf",e.isActive)("ngIfThen",r)("ngIfElse",i)}},dependencies:[me],styles:[".fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}"]});class bs extends ni{constructor(t,e){super(t,e),this.deleteEventEmission=null,this.deleteMessage="Delete this object?",this.deleteEvent=new X}emitDeleteEvent(){this.deleteEvent.emit(this.deleteEventEmission)}}bs.\u0275fac=function(t){return new(t||bs)(w(_e),w(Fe))},bs.\u0275cmp=ie({type:bs,selectors:[["app-delete-toggle"]],inputs:{deleteEventEmission:"deleteEventEmission",deleteMessage:"deleteMessage"},outputs:{deleteEvent:"deleteEvent"},features:[ce],decls:2,vars:1,consts:[[4,"ngIf"],[1,"float-right",3,"message","confirmationEvent"],["id","inactiveButton"],[1,"btn","btn-outline-danger"],[1,"fa","fa-trash"]],template:function(t,e){1&t&&(S(0,Tee,13,1,"ng-container",0),s(1,"\n")),2&t&&v("ngIf",e.hasDeletePermission)},dependencies:[me,rp]});class qu{}qu.\u0275fac=function(t){return new(t||qu)},qu.\u0275cmp=ie({type:qu,selectors:[["app-tooltip-infocircle"]],inputs:{tooltipMessage:"tooltipMessage"},decls:2,vars:2,consts:[[1,"fas","fa-info-circle","icon",3,"ngbTooltip","tooltipClass"]],template:function(t,e){1&t&&(N(0,"sup",0),s(1,"\n")),2&t&&v("ngbTooltip",e.tooltipMessage)("tooltipClass","my-tooltip")},dependencies:[Ym]});const Dee=function(n,t){return{"fa-chevron-down":n,"fa-chevron-up":t}};function Eee(n,t){if(1&n&&(s(0,"\n                        "),p(1,"div",11),s(2,"\n                            "),N(3,"span",12),s(4,"\n                            "),N(5,"i",13),s(6,"\n                        "),m(),s(7,"\n                    ")),2&n){const e=C(),i=e.$implicit,r=e.index,o=C(2);_(3),v("innerHTML",i.name,Nr),_(2),v("ngClass",Pn(2,Dee,!o.panelIsOpen(r),o.panelIsOpen(r)))}}function kee(n,t){if(1&n){const e=Z();U(0),s(1,"\n                                            "),p(2,"i",26),A("click",function(){k(e);const r=C().$implicit,o=C(2).$implicit;return x(C(2).deleteEncounterConnection(o,r))}),m(),s(3,"\n                                        "),V()}}function Mee(n,t){if(1&n&&(U(0),s(1,"\n                                    "),p(2,"span",24),s(3,"\n                                        "),p(4,"a",25),s(5),m(),s(6,"\n                                        "),S(7,kee,4,0,"ng-container",22),s(8,"\n                                    "),m(),s(9,"\n                                "),V()),2&n){const e=t.$implicit,i=t.index,r=C(2).index,o=C(2);_(4),v("routerLink",o.encounterConnectionUrls[r][i]),_(1),ee("\n                                            ",e.character_details.name,"\n                                        "),_(2),v("ngIf",o.hasDeletePermission)}}function xee(n,t){if(1&n&&(U(0),s(1,"\n                                                "),p(2,"option",32),s(3),m(),s(4,"\n                                            "),V()),2&n){const e=t.$implicit;_(2),v("value",e.pk),_(1),We(e.name)}}function Iee(n,t){if(1&n){const e=Z();U(0),s(1,"\n                                    "),p(2,"form",27),A("submit",function(){k(e);const r=C(2).$implicit;return x(C(2).createEncounterConnection(r))}),s(3,"\n\n                                        "),p(4,"select",28),A("ngModelChange",function(r){return k(e),x(C(4).baseEncounterConnection.character=r)}),s(5,"\n                                            "),S(6,xee,5,2,"ng-container",7),s(7,"\n                                        "),m(),s(8,"\n            \n                                        "),s(9,"\n                                        "),p(10,"i",29),A("click",function(){return k(e),x(C(4).toggleEncounterConnectionCreationState())}),m(),s(11,"\n                                        "),p(12,"button",30),s(13,"\n                                            "),N(14,"i",31),s(15,"\n                                        "),m(),s(16,"\n                                        \n                                    "),m(),s(17,"\n                                "),V()}if(2&n){const e=C(4);_(4),v("ngModel",e.baseEncounterConnection.character),_(2),v("ngForOf",e.characters)}}function Pee(n,t){if(1&n){const e=Z();U(0),s(1,"\n                                    "),p(2,"i",33),A("click",function(){return k(e),x(C(4).toggleEncounterConnectionCreationState())}),m(),s(3,"\n                                "),V()}}const Oee=function(n){return{"d-none":n}};function Aee(n,t){if(1&n){const e=Z();s(0,"\n                        "),s(1,"\n                        "),p(2,"div",14),A("click",function(){k(e);const r=C().$implicit;return x(C(2).fullEditEncounter(r))}),s(3,"\n                            "),N(4,"i",15),s(5,"\n                        "),m(),s(6,"\n        \n                        "),s(7,"\n                        "),p(8,"div",16),s(9,"\n                            "),p(10,"app-textfield",17),A("updateText",function(r){k(e);const o=C().index;return x(C(2).onEncounterUpdate(r,o))}),m(),s(11,"\n                        "),m(),s(12,"\n        \n                        "),N(13,"hr",18),s(14,"\n                        "),s(15,"\n                        "),p(16,"div",19),s(17,"\n                            "),p(18,"span",20),s(19," Characters: "),m(),s(20,"\n                            "),p(21,"div",21),s(22,"\n\n                                "),s(23,"\n                                "),S(24,Mee,10,3,"ng-container",7),s(25,"\n        \n                                "),s(26,"\n                                "),S(27,Iee,18,2,"ng-container",22),s(28,"\n\n                                "),S(29,Pee,4,0,"ng-container",22),s(30,"\n                            "),m(),s(31,"\n                        "),m(),s(32,"\n        \n                        "),s(33,"\n                        "),p(34,"app-delete-toggle",23),A("deleteEvent",function(){k(e);const r=C().$implicit;return x(C(2).deleteEncounter(r))}),m(),s(35,"\n        \n                    ")}if(2&n){const e=C().$implicit,i=C(2);_(2),v("ngClass",ot(8,Oee,!i.hasUpdatePermission)),_(8),v("initialText",e.description)("heading",e.title)("allowEdit",!1),_(14),v("ngForOf",e.encounterConnections),_(3),v("ngIf",i.inEncounterConnectionCreationState&&i.hasCreatePermission),_(2),v("ngIf",!i.inEncounterConnectionCreationState&&i.hasCreatePermission),_(5),v("deleteMessage","Delete this encounter?")}}function Nee(n,t){if(1&n&&(U(0),s(1,"\n                "),p(2,"ngb-panel",8),s(3,"\n    \n                    "),s(4,"\n                    "),S(5,Eee,8,5,"ng-template",9),s(6,"\n        \n                    "),s(7,"\n                    "),S(8,Aee,36,10,"ng-template",10),s(9,"\n        \n                "),m(),s(10,"\n            "),V()),2&n){const e=t.index;_(2),v("id","static-"+e)}}function Ree(n,t){if(1&n){const e=Z();U(0),s(1,"\n    "),p(2,"div",5),s(3,"\n        "),p(4,"ngb-accordion",6),A("panelChange",function(r){return k(e),x(C().onPanelChange(r))}),s(5,"\n            "),S(6,Nee,11,1,"ng-container",7),s(7,"\n        "),m(),s(8,"\n    "),m(),s(9,"\n"),V()}if(2&n){const e=C();_(4),v("closeOthers",!0)("animation",!0),_(2),v("ngForOf",e.encounters)}}function Fee(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"app-formly-formcontainer",36),A("formlySubmit",function(){k(e);const r=C(2);return x(r.updateEncounter(r.userModel))})("formlyCancel",function(){k(e);const r=C(2);return x(r.formState=r.constants.displayState)}),m(),s(3,"\n        "),V()}if(2&n){const e=C(2);_(2),v("model",e.userModel)("fields",e.formlyFields)}}function Lee(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"app-compare-form-container",37),A("updateSubmit",function(){k(e);const r=C(2);return x(r.updateEncounter(r.userModel))})("cancel",function(){k(e);const r=C(2);return x(r.formState=r.constants.displayState)}),m(),s(3,"  \n        "),V()}if(2&n){const e=C(2);_(2),v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)("displayVertically",!0)}}function $ee(n,t){if(1&n&&(s(0,"\n    "),p(1,"div",34),s(2,"\n        "),N(3,"h4",35),s(4,"\n\n        "),S(5,Fee,4,2,"ng-container",22),s(6,"\n\n        "),S(7,Lee,4,4,"ng-container",22),s(8,"\n    "),m(),s(9,"\n")),2&n){const e=C();_(3),v("innerHTML",e.userModel.title,Nr),_(2),v("ngIf",e.isInUpdateState()),_(2),v("ngIf",e.isInOutdatedUpdateState())}}class xg extends ni{constructor(t,e,i,r,o,a,c,u){super(u,c),this.overviewService=t,this.encounterService=e,this.encounterConnectionService=i,this.formlyService=r,this.warnings=o,this.routingService=a,this.constants=H,this.campaign=this.route.snapshot.params.campaign,this.formState=H.displayState,this.inEncounterConnectionCreationState=!1,this.baseEncounterConnection=new Wb,this.formlyFields=[this.formlyService.genericInput({key:"title"}),this.formlyService.genericSelect({key:"location",label:"Encounter Location",sortProp:"name_full",overviewType:Ae.Location,campaign:this.campaign}),this.formlyService.genericTextField({key:"description",required:!0})]}ngOnInit(){this.isOpen={},this.encounterConnectionUrls=[],this.encounters.forEach((t,e)=>{this.isOpen[`static-${e}`]=!1;const o=t.encounterConnections.map(a=>this.routingService.getRoutePath("character",{name:a.character_details.name,campaign:this.campaign}));this.encounterConnectionUrls.push(o)})}isInCreateState(){return this.formState===H.createState}isInUpdateState(){return this.formState===H.updateState}isInOutdatedUpdateState(){return this.formState===H.outdatedUpdateState}isInDeleteState(){return this.formState===H.deleteState}isInDisplayState(){return this.formState===H.displayState}onEncounterUpdate(t,e){const i=this.encounters[e];i.description=t,this.encounterService.update(i.pk,i).pipe(le()).subscribe(r=>this.encounters[e]=r,r=>this.warnings.showWarning(r))}fullEditEncounter(t){this.userModel=JSON.parse(JSON.stringify(t)),this.formState=H.updateState}updateEncounter(t){this.encounterService.update(t.pk,t).pipe(le()).subscribe(e=>{const i=this.encounters.findIndex(r=>r.pk===t.pk);this.encounters[i]=e,this.formState=H.displayState},e=>this.onEncounterUpdateError(e))}onEncounterUpdateError(t){409===t?.status?(this.serverModel=t.error,this.formState=H.outdatedUpdateState):this.warnings.showWarning(t)}deleteEncounter(t){this.encounterService.delete(t.pk).pipe(le()).subscribe(e=>{const i=this.encounters.findIndex(r=>r.pk===t.pk);this.encounters.splice(i,1)},e=>this.warnings.showWarning(e))}resetEncounterForm(){this.userModel=new Qs}onPanelChange({panelId:t}){for(const e in this.isOpen)this.isOpen[e]=!(e!==t||this.isOpen[e])}panelIsOpen(t){return this.isOpen[`static-${t}`]}toggleEncounterConnectionCreationState(){this.inEncounterConnectionCreationState=!this.inEncounterConnectionCreationState,this.characters||this.overviewService.getCampaignOverviewItems(this.campaign,Ae.Character).pipe(le()).subscribe(t=>this.characters=t.filter(e=>!e.player_character),t=>this.warnings.showWarning(t))}createEncounterConnection(t){this.baseEncounterConnection.encounter=t.pk,this.encounterConnectionService.create(this.baseEncounterConnection).pipe(le()).subscribe(e=>{t.encounterConnections.push(e),this.resetBaseEncounterConnection(),this.inEncounterConnectionCreationState=!1},e=>this.warnings.showWarning(e))}deleteEncounterConnection(t,e){this.encounterConnectionService.delete(e.pk).pipe(le()).subscribe(i=>{const r=t.encounterConnections.indexOf(e);r>-1&&t.encounterConnections.splice(r,1)},i=>this.warnings.showWarning(i))}resetBaseEncounterConnection(){this.baseEncounterConnection=new Wb}}function Uee(n,t){if(1&n&&(U(0),s(1),V()),2&n){const e=C().$implicit;_(1),ee("\n                        (",e.role,")\n                    ")}}function Vee(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"li"),s(3,"\n                "),p(4,"a",2),s(5),S(6,Uee,2,1,"ng-container",3),s(7,"\n                "),m(),s(8,"\n            "),m(),s(9,"\n        "),V()),2&n){const e=t.$implicit,i=t.index,r=C();_(4),v("routerLink",r.itemLinks[i]),_(1),ee("\n                    ",e.name,"\n                    "),_(1),v("ngIf",!!e.role)}}xg.\u0275fac=function(t){return new(t||xg)(w(ja),w(Nl),w(Wu),w(Yt),w(ze),w(he),w(Fe),w(_e))},xg.\u0275cmp=ie({type:xg,selectors:[["app-encounter-accordion"]],inputs:{encounters:"encounters",articleCharacter:"articleCharacter"},features:[ce],decls:14,vars:4,consts:[[1,"row"],[1,"col"],[3,"tooltipMessage"],[4,"ngIf","ngIfElse"],["EncounterForm",""],[1,"encounter-list","mb-5","mt-3"],[3,"closeOthers","animation","panelChange"],[4,"ngFor","ngForOf"],[3,"id"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"d-flex","align-items-center","justify-content-between","panel-title"],[1,"encounter-title",3,"innerHTML"],[1,"fa","float-right","icon",3,"ngClass"],[1,"btn","btn-secondary","float-right",3,"ngClass","click"],[1,"fa","fa-pencil"],[1,"mb-1"],[3,"initialText","heading","allowEdit","updateText"],[1,"white-line"],[1,"encounter-connections","d-inline-flex"],[1,"mr-4","tag-label"],[1,"d-inline-flex","align-items-center","flex-wrap"],[4,"ngIf"],[1,"col-md-9","float-right","px-0",3,"deleteMessage","deleteEvent"],[1,"badge","badge-secondary","mr-2","p-2"],[3,"routerLink"],[1,"fa","fa-trash","icon","ml-1",3,"click"],[1,"d-flex","align-items-center",3,"submit"],["name","character","id","character",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","icon","mx-2","fa-times","fa-1-5x",3,"click"],["type","submit"],[1,"fa","icon","fa-check","fa-1-5x"],[3,"value"],[1,"fa","icon","mx-2","fa-plus","fa-1-5x",3,"click"],[1,"my-3","py-3","px-3","card"],[3,"innerHTML"],[3,"model","fields","formlySubmit","formlyCancel"],[3,"formlyFields","modelFromUser","modelFromServer","displayVertically","updateSubmit","cancel"]],template:function(t,e){if(1&t&&(s(0,"\n"),p(1,"div",0),s(2,"\n    "),p(3,"h4",1),s(4),N(5,"app-tooltip-infocircle",2),s(6,"\n    "),m(),s(7,"\n"),m(),s(8,"\n\n"),S(9,Ree,10,3,"ng-container",3),s(10,"\n\n"),s(11,"\n"),S(12,$ee,10,3,"ng-template",null,4,ae)),2&t){const i=re(13);_(4),ee(" \n        ",e.encounters.length," Encounters\n        "),_(1),v("tooltipMessage","List of all encounters with "+e.articleCharacter.name+". Starts with the most recent encounter and ends with the latest."),_(4),v("ngIf",e.isInDisplayState())("ngIfElse",i)}},dependencies:[rn,Ye,me,Ht,Vr,js,zs,Vo,ki,Ur,Bs,Uo,Gm,zm,Ky,Yy,Wo,bs,Cn,vi,qu],styles:[".encounter-title[_ngcontent-%COMP%]{color:#fff;width:100%;font-size:18px}.encounter-connections[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;font-size:16px}.badge[_ngcontent-%COMP%]{background-color:var(--wiki-background-2)}.badge[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-bottom:none}.badge[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--link-blue)!important}.badge[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:display .2s;display:none}.badge[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%]:hover{color:red}.badge[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{display:inline}.encounter-connections[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.encounter-connections[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{opacity:1}.fa-check[_ngcontent-%COMP%]:hover{color:green}.fa-times[_ngcontent-%COMP%]:hover{color:red}#encounter-delete[_ngcontent-%COMP%]{background-color:var(--wiki-background-2)!important}.panel-title[_ngcontent-%COMP%]   .encounter-title[_ngcontent-%COMP%], .panel-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:color .2s;color:#fff}.panel-title[_ngcontent-%COMP%]:hover   .encounter-title[_ngcontent-%COMP%], .panel-title[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{color:gray}h4[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}h4[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{opacity:1}.white-line[_ngcontent-%COMP%]{background-color:#fff}.tag-label[_ngcontent-%COMP%]{font-size:14px}.btn-secondary[_ngcontent-%COMP%]{background-color:var(--wiki-background-2)}.btn-outline-secondary[_ngcontent-%COMP%]{border-color:var(--wiki-background-2);color:#fff}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:var(--wiki-background-2)}.delete-request[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#393e41}"]});const Bee=function(n){return{"d-none":n}};class Qu extends ni{constructor(t,e){super(e,t),this.constants=H,this.createLink="",this.campaign=this.route.snapshot.params.campaign}ngOnInit(){const t=this.articleType.toLocaleLowerCase();""===this.createLink&&(this.createLink=`${H.wikiUrlFrontendPrefix}/${t}/create`),this.itemLinks=this.items.map(e=>`${H.wikiUrlFrontendPrefix}/${t}/${this.campaign}/${e.name}`)}}Qu.\u0275fac=function(t){return new(t||Qu)(w(Fe),w(_e))},Qu.\u0275cmp=ie({type:Qu,selectors:[["app-object-list"]],inputs:{heading:"heading",items:"items",articleType:"articleType",createLink:"createLink"},features:[ce],decls:15,vars:6,consts:[[1,"fa","fa-plus","icon","ml-1",3,"routerLink","ngClass"],[4,"ngFor","ngForOf"],[3,"routerLink"],[4,"ngIf"]],template:function(t,e){1&t&&(s(0,"\n"),p(1,"div"),s(2,"\n    "),s(3,"\n    "),p(4,"h4"),s(5),N(6,"i",0),s(7,"\n    "),m(),s(8,"\n    "),s(9,"\n    "),p(10,"ul"),s(11,"\n        "),S(12,Vee,10,3,"ng-container",1),s(13,"\n    "),m(),s(14,"\n"),m()),2&t&&(_(5),ee("\n        ",e.heading,"\n        "),_(1),v("routerLink",e.createLink)("ngClass",ot(4,Bee,!e.hasCreatePermission)),_(6),v("ngForOf",e.items))},dependencies:[rn,Ye,me,Ht]});class ST{constructor(t){t&&Object.assign(this,t)}}class TT{constructor(t){t&&Object.assign(this,t)}}class op extends Hr{constructor(t){super(t),this.baseUrl=`${H.wikiApiUrl}/quoteconnection`}}op.\u0275fac=function(t){return new(t||op)(R(qt))},op.\u0275prov=W({token:op,factory:op.\u0275fac,providedIn:"root"});class Cs{constructor(){}ngOnInit(){}}function Hee(n,t){if(1&n&&(U(0),s(1,"\n            "),N(2,"span",7),s(3,"\n          "),V()),2&n){const e=C(4);_(2),v("innerHTML","- "+e.quote.description,Nr)}}function jee(n,t){if(1&n&&(U(0),s(1),V()),2&n){const e=C(4);_(1),ee("\n            - ",e.character.name,"\n          ")}}function zee(n,t){if(1&n){const e=Z();U(0),s(1,"\n                  "),p(2,"i",16),A("click",function(){k(e);const r=C().$implicit;return x(C(4).deleteQuoteConnection(r))}),m(),s(3,"\n                "),V()}}function Gee(n,t){if(1&n&&(U(0),s(1,"\n              "),p(2,"span",14),s(3,"\n                "),p(4,"a",15),s(5),m(),s(6,"\n                \n                "),S(7,zee,4,0,"ng-container",5),s(8,"\n              "),m(),s(9,"\n            "),V()),2&n){const e=t.$implicit,i=t.index,r=C(4);_(4),v("routerLink",r.connectedCharacterURLs[i]),_(1),ee("\n                  ",e.character_details.name,"\n                "),_(2),v("ngIf",r.hasDeletePermission)}}function Wee(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"option",22),s(3),m(),s(4,"\n                  "),V()),2&n){const e=t.$implicit,i=C(5);_(2),v("value",e.pk),Et("disabled",!!i.hasConnection(e)||null),_(1),ee("\n                      ",e.name,"\n                    ")}}function qee(n,t){if(1&n){const e=Z();U(0),s(1,"\n              "),p(2,"form",17),A("submit",function(){return k(e),x(C(4).createQuoteConnection())}),s(3,"\n                "),p(4,"select",18),A("ngModelChange",function(r){return k(e),x(C(4).baseQuoteConnection.character=r)}),s(5,"\n\n                  "),S(6,Wee,5,3,"ng-container",13),s(7,"\n                \n                "),m(),s(8,"\n    \n                "),p(9,"i",19),A("click",function(){return k(e),x(C(4).toggleQuoteConnectionCreateState())}),m(),s(10,"\n    \n                "),p(11,"button",20),s(12,"\n                  "),N(13,"i",21),s(14,"\n                "),m(),s(15,"\n              \n              "),m(),s(16,"\n            "),V()}if(2&n){const e=C(4);_(4),v("ngModel",e.baseQuoteConnection.character),_(2),v("ngForOf",e.characters)}}function Qee(n,t){if(1&n){const e=Z();U(0),s(1,"\n              "),p(2,"app-inline-create-button",23),A("click",function(){return k(e),x(C(4).toggleQuoteConnectionCreateState())}),s(3,"     \n              "),m(),s(4,"\n            "),V()}2&n&&(_(2),v("labelText","Add Character"))}function Zee(n,t){if(1&n&&(U(0),s(1,"\n      "),p(2,"blockquote"),s(3,"\n        "),s(4,"\n        "),N(5,"div",7),s(6,"\n  \n        "),s(7,"\n        "),p(8,"div",8),s(9,"\n          "),S(10,Hee,4,1,"ng-container",5),s(11,"\n\n          "),S(12,jee,2,1,"ng-container",5),s(13,"\n        "),m(),s(14,"\n  \n        "),N(15,"hr",9),s(16,"\n  \n        "),s(17,"\n        "),p(18,"div",10),s(19,"\n          "),p(20,"span",11),s(21," Characters: "),m(),s(22,"\n  \n          "),p(23,"span",12),s(24,"\n            "),s(25,"\n            "),S(26,Gee,10,3,"ng-container",13),s(27,"\n\n            "),s(28,"\n            "),S(29,qee,17,2,"ng-container",5),s(30,"\n  \n            "),S(31,Qee,5,1,"ng-container",5),s(32,"\n\n          "),m(),s(33,"\n        "),m(),s(34,"\n      "),m(),s(35,"\n    "),V()),2&n){const e=C(3);_(5),v("innerHTML",e.quote.quote,Nr),_(5),v("ngIf",!!e.quote.description),_(2),v("ngIf",!e.quote.description),_(14),v("ngForOf",e.quote.connections),_(3),v("ngIf",e.inQuoteConnectionCreateState),_(2),v("ngIf",e.hasCreatePermission&&!e.inQuoteConnectionCreateState)}}function Kee(n,t){if(1&n&&(U(0),s(1,"\n          "),s(2,"\n          "),N(3,"i",30),s(4,"\n        "),V()),2&n){const e=C(4);_(3),v("routerLink",e.quoteOverviewUrl)}}Cs.\u0275fac=function(t){return new(t||Cs)},Cs.\u0275cmp=ie({type:Cs,selectors:[["app-spinner"]],decls:2,vars:0,consts:[["id","article-loader-spinner",1,"spinner-border"]],template:function(t,e){1&t&&(N(0,"div",0),s(1,"\n"))}});const qb=function(n){return{"d-none":n}};function Yee(n,t){if(1&n){const e=Z();U(0),s(1,"\n      "),p(2,"div",24),s(3,"\n        "),s(4,"\n        "),p(5,"i",25),A("click",function(){return k(e),x(C(3).getNextRandomQuote())}),m(),s(6,"\n        \n        "),s(7,"\n        "),p(8,"i",26),A("click",function(){return k(e),x(C(3).toggleEditState())}),m(),s(9,"\n\n        "),s(10,"\n        "),p(11,"i",27),A("click",function(){return k(e),x(C(3).toggleCreateState())}),m(),s(12,"\n\n        "),s(13,"\n        "),p(14,"i",28),A("click",function(){return k(e),x(C(3).inDeleteState=!0)}),m(),s(15,"\n\n        "),s(16,"\n        "),p(17,"i",29),A("click",function(){return k(e),x(C(3).copyQuoteToClipboard())}),m(),s(18,"\n        \n        "),S(19,Kee,5,1,"ng-container",5),s(20,"\n\n      "),m(),s(21,"\n    "),V()}if(2&n){const e=C(3);_(5),v("ngClass",ot(5,qb,!e.enableRandomQuotes)),_(3),v("ngClass",ot(7,qb,!e.hasUpdatePermission)),_(3),v("ngClass",ot(9,qb,!e.hasCreatePermission||!e.enableCreatingQuotes)),_(3),v("ngClass",ot(11,qb,!e.hasDeletePermission)),_(5),v("ngIf",e.enableLinkToOverview)}}function Jee(n,t){if(1&n&&(U(0),s(1,"\n    "),S(2,Zee,36,6,"ng-container",6),s(3,"\n\n    "),s(4,"\n    "),S(5,Yee,22,13,"ng-container",6),s(6,"\n\n  "),V()),2&n){const e=C(2),i=re(4),r=re(12);_(2),v("ngIf",!e.isLoadingNextQuote)("ngIfElse",i),_(3),v("ngIf",!e.inDeleteState)("ngIfElse",r)}}function Xee(n,t){if(1&n&&(p(0,"div",4),s(1,"\n  "),S(2,Jee,7,4,"ng-container",5),s(3,"\n"),m()),2&n){const e=C();_(2),v("ngIf",e.quote.pk)}}function ete(n,t){1&n&&N(0,"app-spinner")}function tte(n,t){if(1&n&&(U(0),s(1),V()),2&n){const e=C(2);_(1),ee("Create Quote for ",e.character.name,"")}}function nte(n,t){if(1&n&&(U(0),s(1),V()),2&n){const e=C(2);_(1),ee("Updating Quote ",e.quote.pk,"")}}function ite(n,t){if(1&n){const e=Z();s(0,"\n  "),p(1,"blockquote"),s(2,"\n    "),s(3,"\n    "),p(4,"h5",31),s(5,"\n      "),S(6,tte,2,1,"ng-container",5),s(7,"\n      "),S(8,nte,2,1,"ng-container",5),s(9,"\n    "),m(),s(10,"\n\n    "),s(11,"\n    "),p(12,"form",32),A("submit",function(){return k(e),x(C().onSubmit())}),s(13,"\n      "),N(14,"formly-form",33),s(15,"\n      "),p(16,"div",34),A("click",function(){return k(e),x(C().onCancel())}),s(17,"Cancel"),m(),s(18,"\n      "),p(19,"button",35),s(20,"Submit"),m(),s(21,"\n    "),m(),s(22,"\n  "),m(),s(23,"\n")}if(2&n){const e=C();_(6),v("ngIf",e.inCreateState),_(2),v("ngIf",e.inEditState),_(4),v("formGroup",e.form),_(2),v("form",e.form)("fields",e.fields)("model",e.model)}}function rte(n,t){if(1&n){const e=Z();s(0,"\n  "),p(1,"div"),s(2,"\n    Delete this quote?\n    "),p(3,"div",36),A("click",function(){return k(e),x(C().deleteQuote())}),s(4,"Yes"),m(),s(5,"\n    "),p(6,"div",37),A("click",function(){return k(e),x(C().inDeleteState=!1)}),s(7,"No"),m(),s(8,"\n  "),m(),s(9,"\n")}}class sp extends ni{constructor(t,e,i,r,o,a,c,u){super(u,c),this.quoteService=t,this.formlyService=e,this.quoteConnectionservice=i,this.overviewService=r,this.warningsService=o,this.routingService=a,this.connectedCharacterURLs=[],this.constants=H,this.enableRandomQuotes=!1,this.enableLinkToOverview=!1,this.enableCreatingQuotes=!1,this.inCreateState=!1,this.delete=new X,this.create=new X,this.inDeleteState=!1,this.inEditState=!1,this.isLoadingNextQuote=!1,this.baseQuoteConnection=new TT,this.inQuoteConnectionCreateState=!1,this.form=new Gi({})}ngOnInit(){(this.inCreateState||this.isEmptyQuote(this.quote))&&(this.quote=new ST,this.quote.connections=[],this.toggleCreateState()),this.fields=this.getFormlyFieldConfigurations(this.campaign),this.updateDynamicVariables(this.campaign,this.character,this.quote?.connections)}getFormlyFieldConfigurations(t){return[this.formlyService.genericTextField({key:"quote",required:!0}),this.formlyService.genericInput({key:"description",required:!0}),this.formlyService.genericSelect({key:"session",overviewType:Ae.Session,required:!0,campaign:t.name}),this.formlyService.genericSelect({key:"encounter",overviewType:Ae.Encounter,required:!1,campaign:t.name})]}updateDynamicVariables(t,e,i){null!=i&&(this.connectedCharacterURLs=i.map(r=>this.routingService.getRoutePath("character",{name:r.character_details.name,campaign:t.name}))),this.quoteOverviewUrl=this.routingService.getRoutePath("quote-overview",{name:e.name,campaign:t.name})}ngOnChanges(){this.inCreateState&&this.toggleCreateState()}isEmptyQuote(t){return null==t?.pk}getNextRandomQuote(){this.isLoadingNextQuote=!0,this.quoteService.getRandomQuote(this.campaign.name,this.character.name).pipe(le()).subscribe(t=>{t?.quote&&(this.quote=t),this.isLoadingNextQuote=!1},t=>this.warningsService.showWarning(t))}onSubmit(){var t=this;return _t(function*(){const e=t.inCreateState?t.quoteService.create(t.model):t.quoteService.update(t.model.pk,t.model);try{if(t.quote=yield e.toPromise(),t.model=t.quote,t.inCreateState){const i={quote:t.quote.pk,character:t.character.pk},r=yield t.quoteConnectionservice.create(i).toPromise();t.quote.connections=[r],t.inCreateState=!1,t.create.emit(t.quote)}else t.inEditState=!1}catch(i){t.warningsService.showWarning(i)}})()}onCancel(){this.inCreateState&&this.delete.emit(),this.inCreateState=!1,this.inEditState=!1}toggleCreateState(){this.inCreateState=!0,this.model=new ST,this.model.encounter=null}toggleEditState(){this.inEditState=!0,this.model=this.quote}toggleQuoteConnectionCreateState(){this.inQuoteConnectionCreateState=!this.inQuoteConnectionCreateState,this.characters||this.overviewService.getCampaignOverviewItems(this.campaign.name,Ae.Character).pipe(le()).subscribe(t=>this.characters=t,t=>this.warningsService.showWarning(t))}createQuoteConnection(){this.baseQuoteConnection.quote=this.quote.pk,this.quoteConnectionservice.create(this.baseQuoteConnection).pipe(le()).subscribe(t=>{this.quote.connections.push(t),this.inQuoteConnectionCreateState=!1,this.resetBaseQuoteConnection()},t=>this.warningsService.showWarning(t))}deleteQuoteConnection(t){this.quoteConnectionservice.delete(t.pk).pipe(le()).subscribe(e=>{const i=this.quote.connections.indexOf(t);this.quote.connections.splice(i,1)},e=>this.warningsService.showWarning(e))}hasConnection(t){for(let e of this.quote.connections)if(e.character_details.pk===t.pk)return!0;return!1}resetBaseQuoteConnection(){this.baseQuoteConnection=new TT}copyQuoteToClipboard(){NR(`${this.quote.quote.split("<br />").map(a=>`>${a.trim().trimStart()}`).join("<br />")}\n>- ${this.quote.description} `)}deleteQuote(){this.quoteService.delete(this.quote.pk).pipe(le()).subscribe(t=>{this.inDeleteState=!1,this.delete.emit(this.quote)},t=>this.warningsService.showWarning(t))}}function ote(n,t){if(1&n){const e=Z();U(0),s(1,"\n    "),p(2,"app-quotefield",2),A("delete",function(){return k(e),x(C().onQuoteDelete())}),m(),s(3,"\n"),V()}if(2&n){const e=C();_(2),v("character",e.character)("quote",e.quote)("campaign",e.campaign)("enableCreatingQuotes",!0)("enableLinkToOverview",!0)("enableRandomQuotes",!0)("inCreateState",e.inCreateState)}}sp.\u0275fac=function(t){return new(t||sp)(w(Ll),w(Yt),w(op),w(ja),w(ze),w(he),w(Fe),w(_e))},sp.\u0275cmp=ie({type:sp,selectors:[["app-quotefield"]],inputs:{quote:"quote",character:"character",campaign:"campaign",enableRandomQuotes:"enableRandomQuotes",enableLinkToOverview:"enableLinkToOverview",enableCreatingQuotes:"enableCreatingQuotes",inCreateState:"inCreateState"},outputs:{delete:"delete",create:"create"},features:[ce,Ft],decls:14,vars:2,consts:[["class","mb-3",4,"ngIf","ngIfElse"],["loading",""],["quoteForm",""],["deleteRequest",""],[1,"mb-3"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"innerHTML"],[1,"mb-3","ml-4"],[1,"white-line"],[1,"quote-connections","d-inline","icon-container"],[1,"tag-label","mr-2"],[1,"d-inline-flex","align-items-center","flex-wrap"],[4,"ngFor","ngForOf"],[1,"badge","badge-secondary","p-2","mr-2","text-center","vanish-container"],[3,"routerLink"],[1,"fa","fa-trash","icon","vanish-icon","ml-2",3,"click"],[1,"d-flex","align-items-center",3,"submit"],["name","character","id","character",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","icon","mx-2","fa-times","fa-1-5x",3,"click"],["type","submit",1,"mx-2"],[1,"fa","icon","fa-check","fa-1-5x"],[3,"value"],[3,"labelText","click"],[1,"icon-container","hide-icon","mt-1"],["title","Load new quote",1,"fa","fa-refresh","fa-1-5x","icon","mx-3",3,"ngClass","click"],["title","Edit Quote",1,"fa","fa-pencil","fa-1-5x","icon","mx-3",3,"ngClass","click"],["title","Create Quote",1,"fa","fa-plus","fa-1-5x","icon","mx-3",3,"ngClass","click"],["title","Delete Quote",1,"fa","fa-trash","fa-1-5x","icon","mx-3",3,"ngClass","click"],["title","Copy Quote to Clipboard",1,"fas","fa-copy","fa-1-5x","icon","mx-3",3,"click"],["title","See all quotes",1,"fa","fa-th-list","fa-1-5x","icon","mr-3",3,"routerLink"],[1,"border-white","border-bottom"],[3,"formGroup","submit"],[3,"form","fields","model"],[1,"btn","btn-secondary","mr-3",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-danger","mr-2",3,"click"],[1,"btn","btn-secondary","mr-2",3,"click"]],template:function(t,e){if(1&t&&(S(0,Xee,4,1,"div",0),s(1,"\n\n"),s(2,"\n"),S(3,ete,1,0,"ng-template",null,1,ae),s(5,"\n\n"),s(6,"\n"),S(7,ite,24,6,"ng-template",null,2,ae),s(9,"\n\n"),s(10,"\n"),S(11,rte,10,0,"ng-template",null,3,ae),s(13,"\n")),2&t){const i=re(8);v("ngIf",!e.inCreateState&&!e.inEditState)("ngIfElse",i)}},dependencies:[rn,Ye,me,Ht,Vr,js,zs,Vo,ki,Ur,Bs,Uo,Il,ep,Cs,Vl],styles:[".hide-icon[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.icon-container[_ngcontent-%COMP%]:hover   .hide-icon[_ngcontent-%COMP%]{opacity:1}.vanish-icon[_ngcontent-%COMP%]{display:none}.vanish-container[_ngcontent-%COMP%]:hover   .vanish-icon[_ngcontent-%COMP%]{display:inline-block}.fa-trash[_ngcontent-%COMP%]:hover{color:red}.tag-label[_ngcontent-%COMP%]{font-size:.9rem}.badge.badge-secondary[_ngcontent-%COMP%]{padding:.35rem}.white-line[_ngcontent-%COMP%]{background-color:#fff}blockquote[_ngcontent-%COMP%]:hover ~ .icon-container[_ngcontent-%COMP%], .icon-container[_ngcontent-%COMP%]:hover{opacity:1}@media (max-width: 768px){.icon-container[_ngcontent-%COMP%]{opacity:1}.vanish-icon[_ngcontent-%COMP%]{display:inline}}"]});const ste=function(n){return{"d-none":n}};function ate(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"div",3),s(2,"\n        "),p(3,"div",4),A("click",function(){return k(e),x(C().toggleCreateState())}),s(4,"\n            Add Quote\n        "),m(),s(5,"\n    "),m(),s(6,"\n")}if(2&n){const e=C();_(3),v("ngClass",ot(1,ste,!e.hasCreatePermission))}}class Ig extends ni{constructor(t,e,i,r,o){super(o,r),this.quoteService=t,this.warningsService=e,this.routingService=i,this.constants=H,this.isLoadingNextQuote=!1,this.inCreateState=!1,this.inDeleteState=!1,this.inEditState=!1}ngOnInit(){this.getNextRandomQuote()}getNextRandomQuote(){this.isLoadingNextQuote=!0,this.quoteService.getRandomQuote(this.campaign.name,this.character.name).pipe(le()).subscribe(t=>{t?.quote&&(this.quote=t),this.isLoadingNextQuote=!1},t=>this.quote=null)}toggleCreateState(){this.inCreateState=!this.inCreateState}onQuoteDelete(){this.getNextRandomQuote(),this.inCreateState=!1}}function lte(n,t){1&n&&oi(0)}function cte(n,t){if(1&n){const e=Z();p(0,"app-delete-toggle",6),A("deleteEvent",function(){return k(e),x(C().onDelete())}),m()}2&n&&v("deleteMessage",C().deleteMessage)}function ute(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"a",7),A("click",function(){return k(e),x(C().onClick())}),s(2),m(),s(3,"\n")}if(2&n){const e=C();_(1),v("routerLink",e.link),_(1),ee("\n        ",e.label,"\n    ")}}function dte(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"a",8),A("click",function(){return k(e),x(C().onClick())}),s(2),m(),s(3,"\n")}if(2&n){const e=C();_(2),ee("\n        ",e.label,"\n    ")}}Ig.\u0275fac=function(t){return new(t||Ig)(w(Ll),w(ze),w(he),w(Fe),w(_e))},Ig.\u0275cmp=ie({type:Ig,selectors:[["app-quote-gallery"]],inputs:{character:"character",campaign:"campaign"},features:[ce],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["addNewQuoteButton",""],[3,"character","quote","campaign","enableCreatingQuotes","enableLinkToOverview","enableRandomQuotes","inCreateState","delete"],[1,"row"],[1,"btn","btn-secondary","col-md-3",3,"ngClass","click"]],template:function(t,e){if(1&t&&(S(0,ote,4,7,"ng-container",0),s(1,"\n\n"),s(2,"\n"),S(3,ate,7,3,"ng-template",null,1,ae)),2&t){const i=re(4);v("ngIf",e.campaign&&e.quote&&e.quote.pk||e.inCreateState)("ngIfElse",i)}},dependencies:[rn,me,sp],styles:[".hide-icon[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.vanish-icon[_ngcontent-%COMP%]{display:none}.icon-container[_ngcontent-%COMP%]:hover   .hide-icon[_ngcontent-%COMP%]{opacity:1}.vanish-container[_ngcontent-%COMP%]:hover   .vanish-icon[_ngcontent-%COMP%]{display:inline-block}.fa-trash[_ngcontent-%COMP%]:hover{color:red}.tag-label[_ngcontent-%COMP%]{font-size:.9rem}.badge.badge-secondary[_ngcontent-%COMP%]{padding:.35rem}.white-line[_ngcontent-%COMP%]{background-color:#fff}blockquote[_ngcontent-%COMP%]:hover ~ .icon-container[_ngcontent-%COMP%], .icon-container[_ngcontent-%COMP%]:hover{opacity:1}@media (max-width: 768px){.icon-container[_ngcontent-%COMP%]{opacity:1}.vanish-icon[_ngcontent-%COMP%]{display:inline}}"]});class Gr{constructor(){this.showDelete=!0,this.buttonClick=new X,this.delete=new X}ngOnInit(){if(!this.label)throw"You did not provide a label for a grid-button"}onClick(){this.clickEmissionValue&&this.buttonClick.emit(this.clickEmissionValue),this.buttonClick.emit()}onDelete(){this.delete.emit()}}Gr.\u0275fac=function(t){return new(t||Gr)},Gr.\u0275cmp=ie({type:Gr,selectors:[["app-article-footer"]],inputs:{link:"link",label:"label",clickEmissionValue:"clickEmissionValue",deleteMessage:"deleteMessage",showDelete:"showDelete"},outputs:{buttonClick:"buttonClick",delete:"delete"},decls:18,vars:4,consts:[[1,"row"],[1,"col-md-3"],[4,"ngIf","ngIfThen","ngIfElse"],["class","col-md-9 float-right",3,"deleteMessage","deleteEvent",4,"ngIf"],["linkButton",""],["nonLinkButton",""],[1,"col-md-9","float-right",3,"deleteMessage","deleteEvent"],[1,"btn","btn-secondary","w-100",3,"routerLink","click"],[1,"col-md-3","btn","btn-secondary",3,"click"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n    "),s(2,"\n    "),p(3,"div",1),s(4,"\n        "),S(5,lte,1,0,"ng-container",2),s(6,"\n    "),m(),s(7,"\n\n    "),s(8,"\n    "),S(9,cte,1,1,"app-delete-toggle",3),s(10,"\n"),m(),s(11,"\n\n"),S(12,ute,4,2,"ng-template",null,4,ae),s(14,"\n\n"),S(15,dte,4,1,"ng-template",null,5,ae),s(17," ")),2&t){const i=re(13),r=re(16);_(5),v("ngIf",e.link)("ngIfThen",i)("ngIfElse",r),_(4),v("ngIf",e.showDelete)}},dependencies:[me,Ht,bs]});class hte{}new Wi({"Content-Type":"application/json"});class ap extends Hr{constructor(t){super(t),this.baseUrl=`${H.wikiApiUrl}/image`}getArticleImages(t,e){return this.http.get(`${this.baseUrl}/${t}/${e}`)}update(t,e){const i=Uu(e,"image");return this.http.put(`${this.baseUrl}/pk/${t}/`,i)}create(t){const e=`${H.wikiApiUrl}/image/upload/`,i=Uu(t,"image");return this.http.post(e,i)}patch(t,e){const i=`${this.baseUrl}/pk/${t}/`,r=function nX(n){const t=new FormData;return Object.keys(n).forEach(i=>t.append(i,n[i])),t}(e);return this.http.patch(i,r)}delete(t){return this.http.delete(`${this.baseUrl}/pk/${t}`)}}function pte(n,t){1&n&&oi(0,8),2&n&&(C(),v("ngTemplateOutlet",re(13)))}function fte(n,t){1&n&&oi(0,8),2&n&&(C(),v("ngTemplateOutlet",re(16)))}function mte(n,t){1&n&&oi(0,8),2&n&&(C(),v("ngTemplateOutlet",re(19)))}function gte(n,t){1&n&&oi(0,8),2&n&&(C(),v("ngTemplateOutlet",re(22)))}function _te(n,t){if(1&n&&(s(0,"\n        "),p(1,"div",16),s(2,"\n          "),N(3,"img",17),s(4,"\n        "),m(),s(5,"\n      ")),2&n){const e=C(),i=e.$implicit,r=e.index,o=C(3);_(1),v("title",i.name),_(2),v("src",o.constants.wikiUrl+i.image,Yn)("alt","Image "+r+" of the character")}}function vte(n,t){1&n&&S(0,_te,6,3,"ng-template",15),2&n&&v("id","imageIndex-"+t.index)}function yte(n,t){if(1&n){const e=Z();U(0),s(1,"\n    "),p(2,"ngb-carousel",12,13),A("slide",function(r){return k(e),x(C(2).onSlide(r))}),s(4,"\n      "),S(5,vte,1,1,null,14),s(6,"\n    "),m(),s(7,"\n  "),V()}if(2&n){const e=C(2);_(2),v("showNavigationArrows",e.images.length>1)("showNavigationIndicators",e.images.length>1),_(3),v("ngForOf",e.images)}}function bte(n,t){if(1&n){const e=Z();U(0),s(1,"\n      "),p(2,"i",18),A("click",function(){return k(e),x(C(2).toggleCreateState())}),m(),s(3,"\n    "),V()}}function Cte(n,t){if(1&n){const e=Z();U(0),s(1,"\n      "),p(2,"i",19),A("click",function(){return k(e),x(C(2).toggleEditState())}),m(),s(3,"\n    "),V()}}function wte(n,t){if(1&n){const e=Z();U(0),s(1,"\n      "),p(2,"i",20),A("click",function(){return k(e),x(C(2).toggleDeleteState())}),m(),s(3,"\n    "),V()}}function Ste(n,t){if(1&n&&(s(0,"\n  "),S(1,yte,8,3,"ng-container",9),s(2,"\n\n  "),s(3,"\n  "),p(4,"div",10),s(5,"\n    "),s(6,"\n    "),S(7,bte,4,0,"ng-container",11),s(8,"\n\n\n    "),s(9,"\n    "),S(10,Cte,4,0,"ng-container",11),s(11,"\n\n    "),s(12,"\n    "),S(13,wte,4,0,"ng-container",11),s(14,"\n\n  "),m(),s(15,"\n")),2&n){const e=C(),i=re(28);_(1),v("ngIf",(null==e.images?null:e.images.length)>0)("ngIfElse",i),_(6),v("ngIf",e.hasCreatePermission),_(3),v("ngIf",(null==e.images?null:e.images.length)>0&&e.hasUpdatePermission),_(3),v("ngIf",(null==e.images?null:e.images.length)>1&&e.hasDeletePermission)}}function Tte(n,t){1&n&&N(0,"app-spinner")}function Dte(n,t){if(1&n){const e=Z();s(0,"\n  "),p(1,"div",21),s(2,"\n    "),p(3,"h5",22),s(4,"\n      Updating this image:\n      "),S(5,Tte,1,0,"app-spinner",11),s(6,"\n    "),m(),s(7,"\n\n    "),p(8,"div",23),s(9,"\n      "),N(10,"img",24),s(11,"\n    "),m(),s(12,"\n\n    "),p(13,"app-formly-formcontainer",25),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m(),s(14,"\n  "),m(),s(15,"\n")}if(2&n){const e=C();_(5),v("ngIf",e.isLoading),_(5),v("src",e.constants.wikiUrl+e.getCurrentMainImage().image,Yn),_(3),v("model",e.userModel)("fields",e.formlyFields)("enctype","multipart/form-data")}}function Ete(n,t){1&n&&N(0,"app-spinner")}function kte(n,t){if(1&n){const e=Z();s(0,"\n  "),p(1,"div",21),s(2,"\n    "),p(3,"h5",22),s(4,"\n      Upload new image\n      "),S(5,Ete,1,0,"app-spinner",11),s(6,"\n    "),m(),s(7,"\n\n    "),p(8,"app-formly-formcontainer",25),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m(),s(9,"\n  "),m(),s(10,"\n")}if(2&n){const e=C();_(5),v("ngIf",e.isLoading),_(3),v("model",e.userModel)("fields",e.formlyFields)("enctype","multipart/form-data")}}function Mte(n,t){1&n&&N(0,"app-spinner")}function xte(n,t){if(1&n){const e=Z();s(0,"\n  "),p(1,"div",21),s(2,"\n    "),p(3,"h5",22),s(4,"\n      Deleting this image:\n      "),S(5,Mte,1,0,"app-spinner",11),s(6,"\n    "),m(),s(7,"\n\n    "),p(8,"div",23),s(9,"\n      "),N(10,"img",24),s(11,"\n    "),m(),s(12,"\n\n    "),p(13,"div",26),s(14,"\n      Do you really want to delete this image?\n      "),p(15,"div",27),A("click",function(){return k(e),x(C().onCancel())}),s(16,"No"),m(),s(17,"\n      "),p(18,"div",28),A("click",function(){return k(e),x(C().deleteCurrentMainImage())}),s(19,"Yes"),m(),s(20,"\n    "),m(),s(21,"\n  "),m(),s(22,"\n")}if(2&n){const e=C();_(5),v("ngIf",e.isLoading),_(5),v("src",e.constants.wikiUrl+e.getCurrentMainImage().image,Yn)}}function Ite(n,t){if(1&n){const e=Z();s(0,"\n  "),p(1,"app-compare-form-container",29),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m(),s(2,"\n")}if(2&n){const e=C();_(1),v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)("displayVertically",!0)}}function Pte(n,t){if(1&n&&(s(0,"\n      "),p(1,"div",32),s(2,"\n        "),N(3,"img",33),s(4,"\n        "),p(5,"div",34),s(6,"\n          "),p(7,"p"),s(8,"This article doesn't have an image yet"),m(),s(9,"\n        "),m(),s(10,"\n      "),m(),s(11,"\n    ")),2&n){const e=C(2);_(3),v("src",e.constants.defaultImageUrl,Yn)}}function Ote(n,t){1&n&&(s(0,"\n  "),p(1,"ngb-carousel",30),s(2,"\n    "),S(3,Pte,12,1,"ng-template",31),s(4,"\n  "),m(),s(5,"\n")),2&n&&(_(1),v("showNavigationArrows",!1)("showNavigationIndicators",!1))}ap.\u0275fac=function(t){return new(t||ap)(R(qt))},ap.\u0275prov=W({token:ap,factory:ap.\u0275fac,providedIn:"root"});class Bl extends ni{constructor(t,e,i,r,o,a){super(a,o),this.imageUploadService=t,this.formlyService=e,this.warnings=i,this.routingService=r,this.constants=H,this.FormState=Br,this.formState=Br.READ,this.isLoading=!1,this.currentImageIndex=0,this.formlyFields=[this.formlyService.genericInput({key:"name",required:!1}),this.formlyService.genericInput({key:"character_article",label:"Character Article",hide:!0,isNumberInput:!0,required:!1}),this.formlyService.genericInput({key:"location_article",label:"Location Article",hide:!0,isNumberInput:!0,required:!1}),this.formlyService.genericInput({key:"creature_article",label:"Creature Article",hide:!0,isNumberInput:!0,required:!1}),this.formlyService.genericInput({key:"organization_article",label:"Organization Article",hide:!0,isNumberInput:!0,required:!1}),this.formlyService.genericInput({key:"encounter_article",label:"Encounter Article",hide:!0,isNumberInput:!0,required:!1}),this.formlyService.genericInput({key:"item_article",label:"Item Article",hide:!0,isNumberInput:!0,required:!1}),this.formlyService.singleFileField({key:"image"})]}getCurrentMainImage(){return this.images[this.currentImageIndex]}onSlide(t){const i=t.current.replace("imageIndex-","");this.currentImageIndex=parseInt(i,10)}resetImageModel(){this.userModel=new hte}toggleDeleteState(){this.formState=Br.DELETE}toggleCreateState(){this.formState=Br.CREATE,this.resetImageModel(),this.userModel.article_type=this.article_type,this.userModel[`${this.article_type}_article`]=this.article_pk}toggleEditState(){this.formState=Br.UPDATE,this.userModel=this.images[this.currentImageIndex]}onCancel(){this.formState=Br.READ}onSubmit(){if(this.formState===Br.CREATE)this.createImage();else{if(this.formState!==Br.UPDATE&&this.formState!==Br.UPDATEOUTDATED)throw`Submitted form while Image-Gallery Component was in invalid state ${this.formState}`;this.updateImage()}}updateImage(){var t=this;return _t(function*(){let i;t.isLoading=!0,i="string"!==t.userModel.image.constructor.name.toLowerCase()?t.imageUploadService.update(t.userModel.pk,t.userModel):t.imageUploadService.patch(t.userModel.pk,{pk:t.userModel.pk,name:t.userModel.name}),i.pipe(le()).subscribe(r=>{r.image=r.image.replace(H.wikiUrl,""),t.images[t.currentImageIndex]=r,t.resetImageModel(),t.formState=Br.READ,t.isLoading=!1},r=>t.warnings.showWarning(r))})()}createImage(){this.isLoading=!0,this.imageUploadService.create(this.userModel).pipe(le()).subscribe(t=>{this.images.push(t),this.resetImageModel(),this.formState=Br.READ,this.isLoading=!1},t=>this.warnings.showWarning(t))}deleteCurrentMainImage(){this.isLoading=!0;const t=this.getCurrentMainImage();this.imageUploadService.delete(t.pk).pipe(le()).subscribe(e=>{this.images.splice(this.currentImageIndex,1),this.currentImageIndex===this.images.length&&(this.currentImageIndex=this.images.length-1),this.formState=Br.READ,this.isLoading=!1},e=>this.warnings.showWarning(e))}}function Ate(n,t){1&n&&(U(0),s(1,"\n            "),p(2,"div",4),s(3,"\n                "),p(4,"div",16),s(5,"\n                    "),N(6,"app-edit-toggle",17),s(7,"\n                "),m(),s(8,"\n            "),m(),s(9,"\n        "),V()),2&n&&(_(6),v("isInUpdateState",!1)("link","update"))}function Nte(n,t){if(1&n&&(U(0),s(1),V()),2&n){const e=C();_(1),ee("",e.articleData.title," - ")}}function Rte(n,t){1&n&&(U(0),s(1," (\u2020) "),V())}function Fte(n,t){if(1&n&&(p(0,"ng-conainter"),s(1),m()),2&n){const e=C();_(1),We(e.articleData.gender)}}function Lte(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"div",4),s(3,"\n                        "),p(4,"div",7),s(5),p(6,"a",19),s(7,"\n                                "),p(8,"strong"),s(9),m(),s(10,"\n                            "),m(),s(11,"\n                        "),m(),s(12,"\n                    "),m(),s(13,"\n                "),V()),2&n){const e=t.$implicit,i=t.index,r=C(2);_(5),ee("\n                            ",e.role," of \n                            "),_(1),v("routerLink",r.organizationUrls[i]),_(3),We(e.name)}}function $te(n,t){if(1&n&&(U(0),s(1,"  \n                "),S(2,Lte,14,3,"ng-container",18),s(3,"\n            "),V()),2&n){const e=C();_(2),v("ngForOf",e.articleData.organizations)}}function Ute(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"div",7),s(3,"\n                        Last known location:\n                        "),p(4,"a",19),s(5,"\n                            "),p(6,"strong"),s(7),m(),s(8,"\n                        "),m(),s(9,"\n                    "),m(),s(10,"\n                "),V()),2&n){const e=C();_(4),v("routerLink",e.locationUrl),_(3),ee(" ",e.articleData.current_location_details.name," ")}}Bl.\u0275fac=function(t){return new(t||Bl)(w(ap),w(Yt),w(ze),w(he),w(Fe),w(_e))},Bl.\u0275cmp=ie({type:Bl,selectors:[["app-image-carousel"]],inputs:{images:"images",article_type:"article_type",article_pk:"article_pk"},features:[ce],decls:30,vars:5,consts:[[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],["displayState",""],["updateState",""],["createState",""],["deleteState",""],["outdatedUpdateState",""],["defaultImage",""],[3,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[1,"edit-image-buttons","mt-2"],[4,"ngIf"],["interval","false",3,"showNavigationArrows","showNavigationIndicators","slide"],["imageCarousel",""],[4,"ngFor","ngForOf"],["ngbSlide","",3,"id"],[1,"image-container",3,"title"],[3,"src","alt"],["aria-hidden","true",1,"fa","fa-plus-square-o","fa-2x","icon","mx-4",3,"click"],["aria-hidden","true",1,"fa","fa-pencil","fa-2x","icon","mx-4",3,"click"],["aria-hidden","true",1,"fa","fa-trash","fa-2x","icon","mx-4",3,"click"],[1,"card","p-4","m-2"],[1,"text-center"],[1,"image-container"],["title","None","alt","",1,"gallery-image",3,"src"],[3,"model","fields","enctype","formlySubmit","formlyCancel"],[1,"text-center","mt-3"],[1,"btn","btn-dark","mr-3",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"d-flex","justify-content-center",3,"formlyFields","modelFromUser","modelFromServer","displayVertically","updateSubmit","cancel"],[3,"showNavigationArrows","showNavigationIndicators"],["ngbSlide",""],[1,"image-container","default-image"],["alt","Default Image stand in since this article has none",3,"src"],[1,"image-caption"]],template:function(t,e){1&t&&(U(0,0),s(1,"\n  "),S(2,pte,1,1,"ng-container",1),s(3,"\n  "),S(4,fte,1,1,"ng-container",1),s(5,"\n  "),S(6,mte,1,1,"ng-container",1),s(7,"\n  "),S(8,gte,1,1,"ng-container",1),s(9,"\n  "),s(10,"\n"),V(),s(11,"\n\n"),S(12,Ste,16,5,"ng-template",null,2,ae),s(14,"\n\n"),S(15,Dte,16,5,"ng-template",null,3,ae),s(17,"\n\n"),S(18,kte,11,4,"ng-template",null,4,ae),s(20,"\n\n"),S(21,xte,23,2,"ng-template",null,5,ae),s(23,"\n\n"),S(24,Ite,3,4,"ng-template",null,6,ae),s(26,"\n\n"),S(27,Ote,6,2,"ng-template",null,7,ae),s(29,"\n")),2&t&&(v("ngSwitch",e.formState),_(2),v("ngSwitchCase",e.FormState.READ),_(2),v("ngSwitchCase",e.FormState.UPDATE),_(2),v("ngSwitchCase",e.FormState.CREATE),_(2),v("ngSwitchCase",e.FormState.DELETE))},dependencies:[Ye,me,Ro,wh,iy,nA,tA,Cs,Cn,vi],styles:[".image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;width:100%;max-height:18rem}@media only screen and (max-width: 768px){.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:10rem}}.image-caption[_ngcontent-%COMP%]{background:var(--wiki-background-1);width:50%;text-align:center;position:absolute;bottom:20%;margin-left:auto;margin-right:auto;left:0;right:0}.image-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.edit-image-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;align-content:center;justify-content:center;transition:opacity .2s;opacity:0}.mouseoverVisible[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.defaultImage[_ngcontent-%COMP%]{position:relative}app-image-carousel:hover[_nghost-%COMP%]   .edit-image-buttons[_ngcontent-%COMP%], app-image-carousel:hover   [_nghost-%COMP%]   .edit-image-buttons[_ngcontent-%COMP%], app-image-carousel:hover[_nghost-%COMP%]   .mouseoverVisible[_ngcontent-%COMP%], app-image-carousel:hover   [_nghost-%COMP%]   .mouseoverVisible[_ngcontent-%COMP%]{opacity:1}@media (hover: none){.edit-image-buttons[_ngcontent-%COMP%], .mouseoverVisible[_ngcontent-%COMP%]{opacity:1}}"]});class Pg extends co{constructor(t,e,i,r,o,a){super(t,e,r,i,o,a),this.route=e,this.warnings=i,this.routing=r,this.deleteRoute={routeName:"character-overview",params:{campaign:null}},this.queryParameterName="name",this.quoteCreateState=!1,this.OverviewType=Ae}ngOnInit(){super.ngOnInit(),this.articleData.items.sort((t,e)=>t.name>e.name?1:-1)}updateDynamicVariables(t,e,i){this.updateRouteLinks(t,e,i),this.playerClassString=this.createPlayerClassString(e)}updateRouteLinks(t,e,i){this.characterOverviewUrl=this.routing.getRoutePath("character-overview",{campaign:t.name}),this.itemCreateUrl=this.routing.getRoutePath("item-character-create",{character_name:e.name,campaign:t.name}),this.locationUrl=this.routing.getRoutePath("location",{name:e.current_location_details?.name,parent_name:e.current_location_details?.parent_location,campaign:t.name}),this.organizationUrls=e.organizations.map(r=>this.routing.getRoutePath("organization",{name:r.name,campaign:t.name}))}createPlayerClassString(t){return t.player_class_connections.map(e=>e.player_class_details.name).join(", ")}}function Vte(n,t){1&n&&(U(0),s(1,"\n            "),p(2,"div",4),s(3,"\n                "),p(4,"div",10),s(5,"\n                    "),N(6,"app-edit-toggle",11),s(7,"\n                "),m(),s(8,"\n            "),m(),s(9,"\n        "),V()),2&n&&(_(6),v("isInUpdateState",!1)("link","update"))}Pg.\u0275fac=function(t){return new(t||Pg)(w(or),w(Fe),w(ze),w(he),w(Ve),w(_e))},Pg.\u0275cmp=ie({type:Pg,selectors:[["app-character-article"]],features:[ce],decls:67,vars:26,consts:[[1,"main"],["article",""],[1,"container"],[4,"ngIf"],[1,"row"],[1,"text-center","subheading","col"],[1,"text-center","mb-3","subheading"],[1,"col"],[3,"article_type","article_pk","images"],[1,"mb-3"],[3,"character","campaign"],[1,"mb-5"],[3,"initialText","heading","formStateSubject","updateText"],[3,"articleType","createLink","heading","items"],[3,"encounters","articleCharacter"],[3,"link","label","deleteMessage","delete"],[1,"col-12"],[3,"isInUpdateState","link"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),S(5,Ate,10,2,"ng-container",3),s(6,"\n        \n        "),s(7,"\n        "),p(8,"div",4),s(9,"\n            "),p(10,"h1",5),s(11,"\n                "),S(12,Nte,2,1,"ng-container",3),s(13),S(14,Rte,2,0,"ng-container",3),s(15,"\n            "),m(),s(16,"\n        "),m(),s(17,"\n\n\n        "),s(18,"\n        "),p(19,"div",6),s(20,"\n            "),s(21,"\n            "),p(22,"div",4),s(23,"\n                "),p(24,"div",7),s(25,"\n                    "),S(26,Fte,2,1,"ng-conainter",3),s(27),m(),s(28,"    \n            "),m(),s(29,"\n\n            "),S(30,$te,4,1,"ng-container",3),s(31," \n\n            "),s(32,"\n            "),p(33,"div",4),s(34,"\n                "),S(35,Ute,11,2,"ng-container",3),s(36,"\n            "),m(),s(37,"\n        "),m(),s(38,"\n\n        "),s(39,"\n        "),N(40,"app-image-carousel",8),s(41,"\n\n        "),s(42,"\n        "),p(43,"div",9),s(44,"\n            "),N(45,"app-quote-gallery",10),s(46,"\n        "),m(),s(47,"\n\n        "),s(48,"\n        "),p(49,"div",11),s(50,"\n            "),p(51,"app-textfield",12),A("updateText",function(r){return e.onDescriptionUpdate(r)}),m(),s(52,"\n        "),m(),s(53,"\n\n        "),s(54,"\n        "),p(55,"div",11),s(56,"\n            "),N(57,"app-object-list",13),s(58,"\n        "),m(),s(59,"\n\n        "),s(60,"\n        "),N(61,"app-encounter-accordion",14),s(62,"\n\n        "),s(63,"\n        "),p(64,"app-article-footer",15),A("delete",function(){return e.deleteArticle()}),m(),s(65,"\n\n    "),m(),s(66,"\n"),m()),2&t&&(_(5),v("ngIf",e.hasUpdatePermission),_(7),v("ngIf",e.articleData.title),_(1),ee("\n                ",e.articleData.name,"\n                "),_(1),v("ngIf",!e.articleData.alive),_(12),v("ngIf","Other"!==e.articleData.gender),_(1),gc("\n                    ",e.articleData.race,"\n                    ",e.playerClassString,"\n                "),_(3),v("ngIf",(null==e.articleData.organizations?null:e.articleData.organizations.length)>0),_(5),v("ngIf",e.articleData.current_location),_(5),v("article_type","character")("article_pk",e.articleData.pk)("images",e.articleData.images),_(5),v("character",e.articleData)("campaign",e.campaign),_(6),v("initialText",e.articleData.description)("heading","Description")("formStateSubject",e.textfieldFormStateSubject),_(6),v("articleType",e.OverviewType.Item)("createLink",e.itemCreateUrl)("heading","Items of Note")("items",e.articleData.items),_(4),v("encounters",e.articleData.encounters)("articleCharacter",e.articleData),_(3),v("link",e.characterOverviewUrl)("label","Back to Characters")("deleteMessage","Delete "+e.articleData.name+"?"))},dependencies:[Ye,me,Ht,Wo,xg,fn,Qu,Ig,Gr,Bl]});class Og extends co{constructor(t,e,i,r,o,a){super(t,e,r,i,o,a),this.warnings=i,this.routingService=r,this.deleteRoute={routeName:"creature-overview",params:{campaign:null}},this.queryParameterName="name"}updateDynamicVariables(t,e,i){this.creatureOverviewUrl=this.routingService.getRoutePath("creature-overview",{campaign:t.name})}}Og.\u0275fac=function(t){return new(t||Og)(w(Ba),w(Fe),w(ze),w(he),w(Ve),w(_e))},Og.\u0275cmp=ie({type:Og,selectors:[["app-creature-article"]],features:[ce],decls:28,vars:11,consts:[[1,"main"],["article",""],[1,"container"],[4,"ngIf"],[1,"row"],[1,"text-center","col"],[3,"article_type","article_pk","images"],[1,"mb-5"],[3,"initialText","heading","formStateSubject","updateText"],[3,"link","label","deleteMessage","delete"],[1,"col-12"],[3,"isInUpdateState","link"]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),S(5,Vte,10,2,"ng-container",3),s(6,"\n\n        "),s(7,"\n        "),p(8,"div",4),s(9,"\n            "),p(10,"h1",5),s(11),m(),s(12,"\n        "),m(),s(13,"\n\n        "),s(14,"\n        "),N(15,"app-image-carousel",6),s(16,"\n\n        "),s(17,"\n        "),p(18,"div",7),s(19,"\n            "),p(20,"app-textfield",8),A("updateText",function(r){return e.onDescriptionUpdate(r)}),m(),s(21,"\n        "),m(),s(22,"\n\n        "),s(23,"\n        "),p(24,"app-article-footer",9),A("delete",function(){return e.deleteArticle()}),m(),s(25,"\n        \n    "),m(),s(26,"\n"),m(),s(27,"\n")),2&t&&(_(5),v("ngIf",e.hasUpdatePermission),_(6),ee(" ",e.articleData.name," "),_(4),v("article_type","creature")("article_pk",e.articleData.pk)("images",e.articleData.images),_(5),v("initialText",e.articleData.description)("heading","Description")("formStateSubject",e.textfieldFormStateSubject),_(4),v("link",e.creatureOverviewUrl)("label","Back to Creatures")("deleteMessage","Delete "+e.articleData.name+"?"))},dependencies:[me,Wo,fn,Gr,Bl]});class Zu extends ni{constructor(t,e,i,r){super(r,i),this.warnings=t,this.articleService=e,this.constants=H,this.isOpen=!1,this.validFormStates=[H.displayState,H.createState,H.updateState,H.deleteState,H.outdatedUpdateState]}ngOnInit(){this.determineCardStateOnInit(),this.formlyFields=this.getFormlyFieldConfigurations(this.campaign),this.isInCreateState()&&(this.isOpen=!0,this.createUserModel()),this.updateDynamicVariables(this.campaign,this.cardData,this.route.snapshot.params)}updateDynamicVariables(t,e,i){}determineCardStateOnInit(){this.formState=null==this.cardData.pk?this.constants.createState:this.constants.displayState}getFormlyFieldConfigurations(t){return this.formlyFields}createUserModel(){this.userModel=new this.userModelClass,this.userModel.campaign=this.campaign.pk}isInCreateState(){return this.formState===H.createState}isInUpdateState(){return this.formState===H.updateState}isInOutdatedUpdateState(){return this.formState===H.outdatedUpdateState}isInDisplayState(){return this.formState===H.displayState}toggleEditState(){this.formState=this.isInDisplayState()?H.updateState:H.displayState,this.isInUpdateState()&&this.resetModel()}toggleFormState(){this.isInDisplayState()?(this.formState=H.updateState,this.resetModel()):this.isInUpdateState()||this.isInOutdatedUpdateState()?this.formState=H.displayState:this.isInCreateState()&&this.removeCard(this)}resetModel(){this.userModel=JSON.parse(JSON.stringify(this.cardData))}toggleCreateState(){this.formState=this.isInDisplayState()?H.createState:H.displayState}toggleCard(){this.isOpen=!this.isOpen}onSubmit(){this.isInUpdateState()||this.isInOutdatedUpdateState()?this.articleUpdate(this.userModel):this.isInCreateState()&&this.articleCreate(this.userModel)}articleUpdate(t){if(null==t.pk)throw"Invalid userModel Exception. The userModel provided here does not have a primary\n        key defined. This primary key is necessary to update the correct article in the database. Please contact the developer";const e=this;this.articleService.update(t.pk,t).pipe(le()).subscribe(i=>this.onUpdateSuccess(i,e),i=>this.onUpdateError(i,e))}articleCreate(t){const e=this;this.articleService.create(t).pipe(le()).subscribe(i=>this.onCreationSuccess(i,e),i=>this.onCreationError(i,e))}articleDelete(t){const e=this;this.articleService.delete(t.pk).pipe(le()).subscribe(i=>this.onDeletionSuccess(i,e),i=>this.onDeletionError(i,e))}onUpdateSuccess(t,e){e.cardData=t,e.formState=H.displayState}onUpdateError(t,e){e.baseErrorCallback(t)}onCreationSuccess(t,e){e.cardData=t,e.formState=H.displayState}onCreationError(t,e){e.baseErrorCallback(t)}onDeletionSuccess(t,e){e.removeCard(e)}onDeletionError(t,e){e.baseErrorCallback(t)}baseErrorCallback(t){409===t?.status?(this.serverModel=t.error,this.formState=H.outdatedUpdateState):(this.warnings.showWarning(t),this.formState=H.displayState)}onCancel(t){(t=null==this.cardData?t:this).isInCreateState()?t.removeCard(t):t.formState=H.displayState}removeCard(t){_i(t.card.nativeElement,"fadeOutDown").then(()=>t.cardDelete.emit(t.index))}}Zu.\u0275fac=function(t){du()},Zu.\u0275dir=de({type:Zu,inputs:{isOpen:"isOpen",cardData:"cardData",index:"index",campaign:"campaign"},outputs:{cardDelete:"cardDelete"},features:[ce]});const Bte=["card"];function Hte(n,t){if(1&n&&(U(0),s(1,"\n                "),p(2,"a",13),s(3),m(),s(4,"\n              "),V()),2&n){const e=C(3);_(2),v("routerLink",e.cardData.getAbsoluteLocationRouterUrl()),_(1),ee("\n                  ",e.cardData.location_details.name,"\n                ")}}function jte(n,t){if(1&n&&(U(0),s(1,"\n          "),p(2,"i",3),s(3,"\n            "),p(4,"span",11),s(5,"Location:"),m(),s(6,"\n            "),p(7,"span",12),s(8,"\n              "),S(9,Hte,5,2,"ng-container",0),s(10,"\n            "),m(),s(11,"\n          "),m(),s(12,"\n        "),V()),2&n){const e=C(2);_(9),v("ngIf",e.cardData.location_details)}}function zte(n,t){if(1&n){const e=Z();U(0),s(1,"\n          "),p(2,"app-textfield",14),A("updateText",function(){return k(e),x(C(2).onSubmit())}),s(3,"\n          "),m(),s(4,"\n        "),V()}if(2&n){const e=C(2);_(2),v("initialText",e.cardData.description)("allowEdit",!1)}}function Gte(n,t){if(1&n){const e=Z();U(0),s(1,"\n          "),p(2,"app-formly-formcontainer",15),A("formlySubmit",function(){return k(e),x(C(2).onSubmit())})("formlyCancel",function(){return k(e),x(C(2).onCancel())}),s(3,"\n          "),m(),s(4,"\n        "),V()}if(2&n){const e=C(2);_(2),v("model",e.userModel)("fields",e.formlyFields)}}function Wte(n,t){if(1&n){const e=Z();U(0),s(1,"\n          "),p(2,"app-compare-form-container",16),A("updateSubmit",function(){return k(e),x(C(2).onSubmit())})("cancel",function(){return k(e),x(C(2).onCancel())}),s(3,"\n          "),m(),s(4,"\n        "),V()}if(2&n){const e=C(2);_(2),v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)("displayVertically",!0)}}function qte(n,t){1&n&&(U(0),s(1,"\n          "),N(2,"hr",17),s(3,"\n        "),V())}function Qte(n,t){if(1&n){const e=Z();U(0),s(1,"\n                  "),p(2,"i",23),A("click",function(){k(e);const r=C().$implicit,o=C(3);return x(o.deleteEncounterConnection(o.cardData,r))}),m(),s(3,"\n                "),V()}}function Zte(n,t){if(1&n&&(p(0,"span",22),s(1,"\n                "),p(2,"a",13),s(3),m(),s(4,"\n                "),S(5,Qte,4,0,"ng-container",0),s(6,"\n\n              "),m()),2&n){const e=t.$implicit,i=t.index,r=C(3);_(2),v("routerLink",r.connectedCharacterUrls[i]),_(1),ee("\n                  ",e.character_details.name,"\n                "),_(2),v("ngIf",r.hasDeletePermission)}}function Kte(n,t){if(1&n&&(p(0,"option",30),s(1),m()),2&n){const e=t.$implicit;v("value",e.pk),_(1),ee("\n                      ",e.name,"\n                    ")}}function Yte(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"form",24),A("submit",function(){k(e);const r=C(3);return x(r.createEncounterConnection(r.cardData))}),s(3,"\n                  "),p(4,"select",25),A("ngModelChange",function(r){return k(e),x(C(3).baseEncounterConnection.character=r)}),s(5,"\n\n                    "),S(6,Kte,2,2,"option",26),s(7,"\n                  \n                  "),m(),s(8,"\n    \n                  "),p(9,"i",27),A("click",function(){return k(e),x(C(3).toggleEncounterConnectionCreationState())}),m(),s(10,"\n    \n                  "),p(11,"button",28),s(12,"\n                    "),N(13,"i",29),s(14,"\n                  "),m(),s(15,"\n                "),m(),s(16,"\n              "),V()}if(2&n){const e=C(3);_(4),v("ngModel",e.baseEncounterConnection.character),_(2),v("ngForOf",e.characterOptions)}}function Jte(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"app-inline-create-button",31),A("click",function(){return k(e),x(C(3).toggleEncounterConnectionCreationState())}),s(3,"     \n                "),m(),s(4,"\n              "),V()}2&n&&(_(2),v("labelText","Add Character"))}function Xte(n,t){if(1&n&&(U(0),s(1,"\n          "),p(2,"div",18),s(3,"\n            "),p(4,"span",19),s(5," Characters: "),m(),s(6,"\n            "),p(7,"div",20),s(8,"\n              "),s(9,"\n              "),S(10,Zte,7,3,"span",21),s(11,"\n  \n              "),s(12,"\n              "),S(13,Yte,17,2,"ng-container",0),s(14,"\n\n  \n              "),s(15,"\n              "),S(16,Jte,5,1,"ng-container",0),s(17,"\n            "),m(),s(18,"\n          "),m(),s(19,"\n        "),V()),2&n){const e=C(2);_(10),v("ngForOf",e.cardData.encounterConnections),_(3),v("ngIf",e.inEncounterConnectionCreationState),_(3),v("ngIf",e.hasCreatePermission&&!e.inEncounterConnectionCreationState)}}function ene(n,t){if(1&n){const e=Z();U(0),s(1,"\n          "),p(2,"app-delete-toggle",32),A("deleteEvent",function(){k(e);const r=C(2);return x(r.articleDelete(r.cardData))}),m(),s(3,"\n        "),V()}2&n&&(_(2),v("deleteMessage","Delete this encounter?"))}function tne(n,t){if(1&n){const e=Z();U(0),s(1,"\n        "),p(2,"div",33),s(3,"\n          "),p(4,"i",34),A("click",function(){return k(e),x(C(2).decreaseEncounterOrderIndex())}),m(),s(5,"\n          \n          "),p(6,"i",35),A("click",function(){return k(e),x(C(2).increaseEncounterOrderIndex())}),m(),s(7,"\n        "),m(),s(8,"\n      "),V()}}const nne=function(n,t,e){return{"highlight encounter":n,"mb-3":t,isBeingCutOut:e}},ine=function(n,t){return{"d-none":n,"d-flex":t}},rne=function(n,t){return{"fa-pencil":n,"fa-times":t}},one=function(n){return{"d-none":n}},sne=function(n,t){return{"col-sm-11 pr-2":n,"col-12":t}};function ane(n,t){if(1&n){const e=Z();U(0),s(1,"\n\n  "),p(2,"div",1,2),s(4,"\n    "),s(5,"\n    "),p(6,"div",3),s(7,"\n      "),p(8,"h4",4),s(9),s(10,"\n        "),p(11,"div",5),s(12,"\n          "),s(13,"\n          "),p(14,"div",6),A("click",function(){return k(e),x(C().toggleCutState())}),s(15,"\n            "),N(16,"i",7),s(17,"\n          "),m(),s(18,"\n\n          "),s(19,"\n          "),p(20,"div",8),A("click",function(){return k(e),x(C().toggleFormState())}),s(21,"\n            "),N(22,"i",9),s(23,"\n          "),m(),s(24,"\n        "),m(),s(25,"\n      "),m(),s(26,"\n\n      "),s(27,"\n      "),p(28,"div",1),s(29,"\n        "),S(30,jte,13,1,"ng-container",0),s(31,"\n\n      "),m(),s(32,"\n    "),m(),s(33,"\n\n    "),s(34,"\n    "),p(35,"div",3),s(36,"\n      "),p(37,"div",10),s(38,"\n        "),s(39,"\n        "),S(40,zte,5,2,"ng-container",0),s(41,"\n\n        "),S(42,Gte,5,2,"ng-container",0),s(43,"\n\n        "),S(44,Wte,5,4,"ng-container",0),s(45,"\n\n        "),s(46,"\n        "),S(47,qte,4,0,"ng-container",0),s(48,"\n\n        "),S(49,Xte,20,3,"ng-container",0),s(50,"\n\n\n        "),s(51,"\n        "),S(52,ene,4,1,"ng-container",0),s(53,"\n\n      "),m(),s(54,"\n\n      "),s(55,"\n      "),S(56,tne,9,0,"ng-container",0),s(57,"\n\n    "),m(),s(58,"\n  "),m(),s(59,"\n"),V()}if(2&n){const e=C();_(2),v("ngClass",vh(14,nne,!e.diaryEntryView,e.diaryEntryView,e.cutEncounterIndex===e.index)),_(7),ee("\n        ",e.cardData.title,"\n\n        "),_(2),v("ngClass",Pn(18,ine,e.hasUpdatePermission||e.diaryEntryView,e.hasUpdatePermission&&!e.diaryEntryView)),_(11),v("ngClass",Pn(21,rne,e.isInDisplayState(),!e.isInDisplayState())),_(6),v("ngClass",ot(24,one,e.diaryEntryView)),_(2),v("ngIf",!e.isInCreateState()),_(7),v("ngClass",Pn(26,sne,!e.diaryEntryView,e.diaryEntryView)),_(3),v("ngIf",e.isInDisplayState()),_(2),v("ngIf",e.isInCreateState()||e.isInUpdateState()),_(2),v("ngIf",e.isInOutdatedUpdateState()),_(3),v("ngIf",!e.diaryEntryView&&!e.isInCreateState()),_(2),v("ngIf",!e.diaryEntryView&&!e.isInCreateState()),_(3),v("ngIf",!e.diaryEntryView),_(4),v("ngIf",!e.diaryEntryView)}}class Ag extends Zu{constructor(t,e,i,r,o,a,c,u){super(e,t,c,u),this.encounterService=t,this.warning=e,this.routingService=i,this.characterService=r,this.encounterConnectionService=o,this.formlyService=a,this.userModelClass=Qs,this.cardDelete=new X,this.formlyFields=[],this.encounterOrderIncrease=new X,this.encounterOrderDecrease=new X,this.cardCreate=new X,this.excisionStart=new X,this.excisionCancel=new X,this.inEncounterConnectionCreationState=!1,this.baseEncounterConnection=new Wb}updateDynamicVariables(t,e,i){this.connectedCharacterUrls=e.encounterConnections.map(r=>this.routingService.getRoutePath("character",{name:r.character_details.name,campaign:t.name}))}getFormlyFieldConfigurations(t){return[this.formlyService.genericInput({key:"title"}),this.formlyService.genericSelect({key:"location",label:"Encounter Location",sortProp:"name_full",overviewType:Ae.Location,required:!1,campaign:t.name}),this.formlyService.genericTextField({key:"description",required:!0})]}createUserModel(){this.userModel=new Qs,this.userModel.campaign=this.campaign.pk,this.userModel.diaryentry=this.cardData.diaryentry,this.userModel.order_index=this.cardData.nextOrderIndex()}onCreationSuccess(t,e){super.onCreationSuccess(t,e),this.cardCreate.emit(t)}onDeletionSuccess(t,e){super.onDeletionSuccess(t,e),this.cardDelete.emit(this.index)}toggleCutState(){this.cutEncounterIndex===this.index?this.excisionCancel.emit():this.excisionStart.emit()}increaseEncounterOrderIndex(){this.encounterOrderIncrease.emit(this.index)}decreaseEncounterOrderIndex(){this.encounterOrderDecrease.emit(this.index)}articleCreate(t){const e=this;this.encounterService.createForDiaryentry(this.campaign.name,t).subscribe(i=>this.onCreationSuccess(i,e),i=>this.onCreationError(i,e))}toggleEncounterConnectionCreationState(){this.inEncounterConnectionCreationState=!this.inEncounterConnectionCreationState,this.characterOptions||this.characterService.getNonPlayerCharacters(this.campaign.name).pipe(le()).subscribe(t=>this.characterOptions=t,t=>this.warning.showWarning(t))}createEncounterConnection(t){this.baseEncounterConnection.encounter=t.pk,this.baseEncounterConnection.campaign=this.campaign.pk,this.encounterConnectionService.create(this.baseEncounterConnection).pipe(le()).subscribe(e=>{t.encounterConnections.push(e),this.updateDynamicVariables(this.campaign,t,this.route.snapshot.params),this.resetBaseEncounterConnection(),this.inEncounterConnectionCreationState=!1},e=>this.warning.showWarning(e))}deleteEncounterConnection(t,e){this.encounterConnectionService.delete(e.pk).pipe(le()).subscribe(i=>{const r=t.encounterConnections.indexOf(e);r>-1&&t.encounterConnections.splice(r,1)},i=>this.warning.showWarning(i))}resetBaseEncounterConnection(){this.baseEncounterConnection=new Wb}}Ag.\u0275fac=function(t){return new(t||Ag)(w(Nl),w(ze),w(he),w(or),w(Wu),w(Yt),w(Fe),w(_e))},Ag.\u0275cmp=ie({type:Ag,selectors:[["app-diary-entry-encounter"]],viewQuery:function(t,e){if(1&t&&dt(Bte,5),2&t){let i;ke(i=Me())&&(e.card=i.first)}},inputs:{diaryEntryView:"diaryEntryView",cutEncounterIndex:"cutEncounterIndex"},outputs:{encounterOrderIncrease:"encounterOrderIncrease",encounterOrderDecrease:"encounterOrderDecrease",cardCreate:"cardCreate",excisionStart:"excisionStart",excisionCancel:"excisionCancel"},features:[ce],decls:2,vars:1,consts:[[4,"ngIf"],[1,"container",3,"ngClass"],["card",""],[1,"row"],[1,"heading","col-12"],[1,"float-right","flex-row",3,"ngClass"],["title","Cut Encounter",1,"btn","btn-secondary","encounter-hidden","mr-2",3,"click"],[1,"fas","fa-cut"],[1,"btn","btn-secondary","encounter-hidden",3,"click"],[1,"fa",3,"ngClass"],[3,"ngClass"],[1,"col-2"],[1,"col-10"],[3,"routerLink"],[3,"initialText","allowEdit","updateText"],[3,"model","fields","formlySubmit","formlyCancel"],[1,"d-flex","justify-content-center",3,"formlyFields","modelFromUser","modelFromServer","displayVertically","updateSubmit","cancel"],[1,"white-line","mt-4"],[1,"encounter-connections","d-flex","align-items-center"],[1,"mr-4","tag-label"],[1,"d-inline-flex","align-items-center","flex-wrap"],["class","badge badge-secondary p-2 mr-2",4,"ngFor","ngForOf"],[1,"badge","badge-secondary","p-2","mr-2"],[1,"fa","fa-trash","icon","ml-1",3,"click"],[1,"d-flex","align-items-center",3,"submit"],["name","character","id","character",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"fa","icon","mx-2","fa-times","fa-1-5x",3,"click"],["type","submit",1,"mx-2"],[1,"fa","icon","fa-check","fa-1-5x"],[3,"value"],[3,"labelText","click"],[1,"float-right","px-0",3,"deleteMessage","deleteEvent"],[1,"d-flex","flex-column","order-arrows","justify-content-start","align-items-end","col-sm-1"],[1,"fa","fa-3x","my-2","icon","fa-long-arrow-up",3,"click"],[1,"fa","fa-3x","my-2","icon","fa-long-arrow-down",3,"click"]],template:function(t,e){1&t&&(S(0,ane,60,29,"ng-container",0),s(1,"\n\n\n")),2&t&&v("ngIf",e.campaign)},dependencies:[rn,Ye,me,Ht,Vr,js,zs,Vo,ki,Ur,Bs,Uo,Wo,bs,Cn,vi,Vl],styles:[".heading[_ngcontent-%COMP%]{margin-bottom:0rem}.encounter[_ngcontent-%COMP%]{padding-top:1.5rem;padding-bottom:1.5rem}.encounter[_ngcontent-%COMP%]   .encounter-hidden[_ngcontent-%COMP%]{display:block}.encounter-connections[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-start;font-size:16px;padding-bottom:1rem}.badge[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-bottom:none}.badge[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--link-blue)}.badge[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:display .2s;display:none}.badge[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{display:inline}.badge-secondary[_ngcontent-%COMP%]{background-color:var(--wiki-background-2)}.fa-check[_ngcontent-%COMP%]:hover{color:green}.fa-times[_ngcontent-%COMP%]:hover, .badge[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%]:hover{color:red}.white-line[_ngcontent-%COMP%]{background-color:#fff;margin:.3rem 0}.tag-label[_ngcontent-%COMP%]{font-size:14px}.btn-secondary[_ngcontent-%COMP%]{background-color:var(--wiki-background-2)}.btn-outline-secondary[_ngcontent-%COMP%]{border-color:var(--wiki-background-2);color:#fff}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:var(--wiki-background-2)}.delete-request[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#393e41}.order-arrows[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{border-color:#393e41;background-color:var(--wiki-background-2);border-radius:.25rem;padding:.33rem .5rem}.encounter[_ngcontent-%COMP%]   .order-arrows[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{display:inline-block}.isBeingCutOut[_ngcontent-%COMP%]{opacity:.5}@media (max-width: 768px){.edit-image-buttons[_ngcontent-%COMP%]{opacity:1}}@media (max-width: 576px){div.order-arrows.flex-column[_ngcontent-%COMP%]{flex-direction:row!important}div.order-arrows.justify-content-start[_ngcontent-%COMP%]{justify-content:center!important}div.order-arrows[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:0 2rem}}"]});const lne=["encounters"],XR=function(n){return{disabled:n}};function cne(n,t){if(1&n){const e=Z();U(0),s(1,"\n        "),p(2,"div",5),s(3,"\n            "),p(4,"div",6),A("click",function(){return k(e),x(C().toggleEncounterCreateState(-1))}),s(5,"\n                "),N(6,"i",7),s(7,"\n                Add First Encounter\n            "),m(),s(8,"\n    \n            "),p(9,"div",8),A("click",function(){return k(e),x(C().insertExcisedEncounter(0))}),s(10,"\n                "),N(11,"i",9),s(12,"\n                Insert Cut Encounter\n            "),m(),s(13,"\n        "),m(),s(14,"\n    "),V()}if(2&n){const e=C();_(9),v("ngClass",ot(1,XR,null==e.cutEncounterIndex))}}function une(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"app-diary-entry-encounter",12,13),A("cardDelete",function(){k(e);const r=C().index;return x(C().deleteEncounter(r))})("cardCreate",function(r){return k(e),x(C(2).onEncounterCreate(r))})("encounterOrderIncrease",function(){k(e);const r=C().index;return x(C().onEncounterOrderIncrease(r))})("encounterOrderDecrease",function(){k(e);const r=C().index;return x(C().onEncounterOrderDecrease(r))})("excisionStart",function(){k(e);const r=C().index;return x(C().onExcisionStart(r))})("excisionCancel",function(){k(e);const r=C().index;return x(C().onExcisionCancel(r))}),m(),s(4,"\n            "),V()}if(2&n){const e=C(),i=e.$implicit,r=e.index,o=C();_(2),v("cardData",i)("index",r)("cutEncounterIndex",o.cutEncounterIndex)("diaryEntryView",o.diaryEntryView)("campaign",o.campaign)}}function dne(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"div",14),s(3,"\n                    "),p(4,"div",6),A("click",function(){k(e);const r=C().index;return x(C().toggleEncounterCreateState(r))}),s(5,"\n                        "),N(6,"i",7),s(7,"\n                        Add Encounter\n                    "),m(),s(8,"\n                    "),s(9,"\n                    "),p(10,"div",8),A("click",function(){k(e);const r=C().index;return x(C().insertExcisedEncounter(r))}),s(11,"\n                        "),N(12,"i",9),s(13,"\n                        Insert Cut Encounter\n                    "),m(),s(14,"\n                "),m(),s(15,"\n            "),V()}if(2&n){const e=C(2);_(10),v("ngClass",ot(1,XR,null==e.cutEncounterIndex))}}function hne(n,t){if(1&n&&(p(0,"div",10),s(1,"\n            "),s(2,"\n            "),S(3,une,5,5,"ng-container",11),s(4,"\n\n            "),s(5,"\n            "),S(6,dne,16,3,"ng-container",1),s(7,"\n\n\n        "),m()),2&n){const e=t.index,i=C(),r=re(14);_(3),v("ngIf",!i.isEncounterUpdating[e]&&i.campaign)("ngIfElse",r),_(3),v("ngIf",!i.diaryEntryView)}}function pne(n,t){1&n&&N(0,"app-spinner")}class Ng extends ni{constructor(t,e,i,r,o){super(o,r),this.warning=t,this.routingService=e,this.encounterService=i,this.constants=H,this.encounters=[],this.isEncounterUpdating=[],this.isUpdating=!1}ngOnInit(){this.diaryEntryView=!(null!=this.route.snapshot.params.displayMode)||"diaryEntry"===this.route.snapshot.params.displayMode;for(const e of this.diaryEntry.encounters){const i=new Qs(e);this.encounters.push(i),this.isEncounterUpdating.push(!1)}this.sortEncounters()}ngAfterViewInit(){this.scrollToEncounterInQueryList(this.encounterElements,this.route.snapshot.params.encounterTitle)}scrollToEncounterInQueryList(t,e){if(null==e)return;e=e.toLowerCase();const i=t.find(o=>o.cardData.title.toLowerCase()==e);null!=i&&i.card.nativeElement.scrollIntoView()}toggleEncounterCreateState(t){const e=this.getOrderIndexForNewEncounter(t),r=new Qs({description:null,diaryentry:this.diaryEntry.pk,location:null,title:"New Encounter",getAbsoluteRouterUrl:null,order_index:e,encounterConnections:[]});this.insertEncounter(r,t<0?0:t+1)}insertEncounter(t,e){this.encounters.splice(e,0,t)}getOrderIndexForNewEncounter(t){const i=0===this.encounters.length;let o;return o=i?0:t<0&&!i?this.encounters[0].priorOrderIndex():this.encounters[t].getShiftedOrderIndex(),o}onEncounterCreate(t){this.encounters=t}deleteEncounter(t){this.encounters.splice(t,1)}sortEncounters(){this.encounters.sort((t,e)=>{const i=t.order_index,r=e.order_index;return null==i&&null==r?0:null==i?1:null==r?-1:i-r})}onEncounterOrderIncrease(t){t!==this.encounters.length-1&&this.swapEncounters(t,t+1)}onEncounterOrderDecrease(t){0!==t&&this.swapEncounters(t,t-1)}swapEncounters(t,e){var i=this;return _t(function*(){i.isEncounterUpdating[t]=!0,i.isEncounterUpdating[e]=!0;const r=i.encounters[t],o=i.encounters[e];try{const a=yield i.swapEncountersInDb(r.pk,o.pk),c=a.find(h=>h.pk===r.pk),u=a.find(h=>h.pk===o.pk);i.encounters[t]=c,i.encounters[e]=u}catch(a){i.warning.showWarning(a)}i.isEncounterUpdating[t]=!1,i.isEncounterUpdating[e]=!1,i.sortEncounters()})()}swapEncountersInDb(t,e){var i=this;return _t(function*(){return i.encounterService.swapEncounterOrder(i.campaign.name,t,e).toPromise()})()}onExcisionStart(t){this.cutEncounterIndex=t}onExcisionCancel(t){this.cutEncounterIndex===t&&(this.cutEncounterIndex=null)}insertExcisedEncounter(t){var e=this;return _t(function*(){if(null==e.cutEncounterIndex)return;const i=e.encounters[e.cutEncounterIndex],r=e.encounters[t].order_index;e.isUpdating=!0,e.encounterService.cutInsertEncounter(e.campaign.name,i,r).pipe(le()).subscribe(o=>{e.encounters=o,e.isUpdating=!1,e.cutEncounterIndex=null},o=>e.warning.showWarning(o))})()}}function fne(n,t){1&n&&(p(0,"span"),s(1,"\n                            "),N(2,"span",15),s(3," \n                            Edit Encounters\n                        "),m())}function mne(n,t){1&n&&(p(0,"span"),s(1,"\n                            "),N(2,"span",16),s(3," \n                            Read Diaryentry\n                        "),m())}function gne(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"div",4),s(3,"\n                "),p(4,"div",12),s(5,"\n                    "),N(6,"app-edit-toggle",13),s(7,"\n                    \n                    "),p(8,"div",14),A("click",function(){k(e);const r=C();return x(r.diaryentryDisplayMode=!r.diaryentryDisplayMode)}),s(9,"\n                        "),S(10,fne,4,0,"span",3),s(11,"\n                        "),S(12,mne,4,0,"span",3),s(13,"\n                    "),m(),s(14,"\n                "),m(),s(15,"\n            "),m(),s(16,"\n        "),V()}if(2&n){const e=C();_(6),v("isInUpdateState",!1)("link","update"),_(4),v("ngIf",e.diaryentryDisplayMode),_(2),v("ngIf",!e.diaryentryDisplayMode)}}function _ne(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"a",17),s(3," \n                        "),N(4,"i",18),s(5,"\n                        Next\n                    "),m(),s(6,"\n                "),V()),2&n){const e=C();_(2),v("routerLink",e.nextDiaryentryUrl)}}function vne(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"a",17),s(3," \n                        Back\n                        "),N(4,"i",19),s(5,"\n                    "),m(),s(6,"\n                "),V()),2&n){const e=C();_(2),v("routerLink",e.priorDiaryentryUrl)}}function yne(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"a",17),s(3," \n                        "),N(4,"i",18),s(5,"\n                        Next\n                    "),m(),s(6,"\n                "),V()),2&n){const e=C();_(2),v("routerLink",e.nextDiaryentryUrl)}}function bne(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"a",17),s(3," \n                        Prior\n                        "),N(4,"i",19),s(5,"\n                    "),m(),s(6,"\n                "),V()),2&n){const e=C();_(2),v("routerLink",e.priorDiaryentryUrl)}}Ng.\u0275fac=function(t){return new(t||Ng)(w(ze),w(he),w(Nl),w(Fe),w(_e))},Ng.\u0275cmp=ie({type:Ng,selectors:[["app-diary-entry-encounter-list"]],viewQuery:function(t,e){if(1&t&&dt(lne,5),2&t){let i;ke(i=Me())&&(e.encounterElements=i)}},inputs:{diaryEntry:"diaryEntry",campaign:"campaign",diaryEntryView:"diaryEntryView"},features:[ce],decls:16,vars:2,consts:[[1,"container","px-0"],[4,"ngIf"],[1,"row"],["class","w-100",4,"ngFor","ngForOf"],["loading",""],[1,"d-flex","mb-4","justify-content-center","row"],[1,"col-md-4","col-6","btn","btn-lg","btn-primary",3,"click"],["title","Add Encounter to Diaryentry",1,"fa","fa-plus","pointer"],[1,"col-md-4","col-6","btn","btn-lg","btn-secondary",3,"ngClass","click"],["title","Insert Cut Encounter",1,"fas","fa-file-import","pointer"],[1,"w-100"],[4,"ngIf","ngIfElse"],[3,"cardData","index","cutEncounterIndex","diaryEntryView","campaign","cardDelete","cardCreate","encounterOrderIncrease","encounterOrderDecrease","excisionStart","excisionCancel"],["encounters",""],[1,"d-flex","my-4","justify-content-center"]],template:function(t,e){1&t&&(p(0,"div",0),s(1,"\n    "),s(2,"\n    "),S(3,cne,15,3,"ng-container",1),s(4,"\n\n\n    "),s(5,"\n    "),p(6,"div",2),s(7,"\n        "),S(8,hne,8,3,"div",3),s(9,"\n    "),m(),s(10,"\n"),m(),s(11,"\n\n"),s(12,"\n"),S(13,pne,1,0,"ng-template",null,4,ae),s(15,"\n")),2&t&&(_(3),v("ngIf",!e.diaryEntryView&&e.hasUpdatePermission&&e.hasDeletePermission&&e.userHasCreatePermission),_(5),v("ngForOf",e.encounters))},dependencies:[rn,Ye,me,Cs,Ag]});class lp extends co{constructor(t,e,i,r,o,a){super(t,e,r,i,o,a),this.route=e,this.warning=i,this.routingService=r,this.diaryentryDisplayMode=!0,this.deleteRoute={routeName:"diaryentry-overview",params:{campaign:null}}}getQueryParameter(t){return{isMainSession:parseInt(t.isMainSession),sessionNumber:parseInt(t.sessionNumber),authorName:t.authorName}}updateDynamicVariables(t,e,i){this.diaryentryOverviewUrl=this.routingService.getRoutePath("diaryentry-overview",{campaign:t.name}),this.priorDiaryentryUrl=this.createDiaryentryURL(e.adjacent_diaryentries.prior_diaryentry),this.nextDiaryentryUrl=this.createDiaryentryURL(e.adjacent_diaryentries.next_diaryentry)}onDescriptionUpdate(){throw"InvalidFunctionUseException. This functionality does not exist on diaryentry-article"}createDiaryentryURL(t){return null==t?"":this.routingService.getRoutePath("diaryentry",{sessionNumber:t.session_details.session_number,isMainSession:t.session_details.is_main_session_int,authorName:t.author_details.name,campaign:this.campaign.name})}}function Cne(n,t){1&n&&(U(0),s(1,"\n            "),p(2,"div",4),s(3,"\n                "),p(4,"div",10),s(5,"\n                    "),N(6,"app-edit-toggle",11),s(7,"\n                "),m(),s(8,"\n            "),m(),s(9,"\n        "),V()),2&n&&(_(6),v("isInUpdateState",!1)("link","update"))}function wne(n,t){if(1&n&&(U(0),s(1,"\n                "),p(2,"p",12),s(3," \n                    Owned by: \n                    "),p(4,"a",13),s(5),m(),s(6,"\n                "),m(),s(7,"\n            "),V()),2&n){const e=C();_(4),v("routerLink",e.ownerUrl),_(1),ee("\n                        ",e.articleData.owner_details.name,"\n                    ")}}lp.\u0275fac=function(t){return new(t||lp)(w(Ks),w(Fe),w(ze),w(he),w(Ve),w(_e))},lp.\u0275cmp=ie({type:lp,selectors:[["app-diaryentry-article"]],features:[ce],decls:65,vars:18,consts:[[1,"main"],["article",""],[1,"container"],[4,"ngIf"],[1,"row"],[1,"text-center","col"],["id","authors",1,"row","mb-2"],[1,"text-center","col-12"],[1,"row","mb-3","d-flex","align-items-center","justify-content-between"],[1,"col-lg-2","col-md-4","col-5"],[3,"diaryEntry","diaryEntryView","campaign"],[3,"link","label","deleteMessage","delete"],[1,"col-12","d-flex","align-items-end","flex-column"],[3,"isInUpdateState","link"],[1,"btn","btn-secondary","mt-2",3,"click"],[1,"fa","fa-pencil"],[1,"fa","fa-times"],[1,"btn","btn-secondary","w-100",3,"routerLink"],[1,"fa","fa-arrow-left","mr-1"],[1,"fa","fa-arrow-right","ml-1"]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),S(5,gne,17,4,"ng-container",3),s(6,"\n\n\n\n        "),s(7,"\n        "),p(8,"div",4),s(9,"\n            "),p(10,"h1",5),s(11),N(12,"br"),s(13),m(),s(14,"\n        "),m(),s(15,"\n        "),p(16,"div",6),s(17,"\n            "),p(18,"p",7),s(19),N(20,"br"),s(21),Vt(22,"date"),m(),s(23,"\n        "),m(),s(24,"\n\n        "),s(25,"\n        "),p(26,"div",8),s(27,"\n            "),s(28,"\n            "),p(29,"div",9),s(30,"\n                "),S(31,_ne,7,1,"ng-container",3),s(32,"\n            "),m(),s(33,"\n\n\n            "),s(34,"\n            "),p(35,"div",9),s(36,"\n                "),S(37,vne,7,1,"ng-container",3),s(38,"\n            "),m(),s(39,"\n        "),m(),s(40,"\n\n        "),s(41,"\n        "),N(42,"app-diary-entry-encounter-list",10),s(43,"\n\n        "),s(44,"\n        "),p(45,"div",8),s(46,"\n            "),s(47,"\n            "),p(48,"div",9),s(49,"\n                "),S(50,yne,7,1,"ng-container",3),s(51,"\n            "),m(),s(52,"\n\n            "),s(53,"\n            "),p(54,"div",9),s(55,"\n                "),S(56,bne,7,1,"ng-container",3),s(57,"\n            "),m(),s(58,"\n        "),m(),s(59,"\n\n        "),s(60,"\n        "),p(61,"app-article-footer",11),A("delete",function(){return e.deleteArticle()}),m(),s(62,"\n        \n    "),m(),s(63,"\n"),m(),s(64,"\n")),2&t&&(_(5),v("ngIf",e.hasUpdatePermission),_(6),ee("\n                Diary Entry # ",e.articleData.session_details.session_number," "),_(2),ee("\n                ",e.articleData.title,"\n            "),_(6),ee(" \n                Written by: ",e.articleData.author_details.name," "),_(2),ee("\n                on ",Ia(22,15,e.articleData.session_details.session_date,"longDate"),"\n            "),_(10),v("ngIf",e.articleData.adjacent_diaryentries.next_diaryentry),_(6),v("ngIf",e.articleData.adjacent_diaryentries.prior_diaryentry),_(5),v("diaryEntry",e.articleData)("diaryEntryView",e.diaryentryDisplayMode)("campaign",e.campaign),_(8),v("ngIf",e.articleData.adjacent_diaryentries.next_diaryentry),_(6),v("ngIf",e.articleData.adjacent_diaryentries.prior_diaryentry),_(5),v("link",e.diaryentryOverviewUrl)("label","Back to Diaryentries")("deleteMessage","Delete this Diaryentry?"))},dependencies:[me,Ht,fn,Gr,Ng,ry],styles:[".encounter[_ngcontent-%COMP%]{padding:.5rem 0;transition:.2s padding}.encounter[_ngcontent-%COMP%]:hover{padding:.5rem 3rem}@media (max-width: 576px){#authors.mb-5[_ngcontent-%COMP%]{margin-bottom:.5rem!important}}"]});class Rg extends co{constructor(t,e,i,r,o,a){super(t,e,r,i,o,a),this.route=e,this.warnings=i,this.routingService=r,this.deleteRoute={routeName:"item-overview",params:{campaign:null}},this.queryParameterName="name"}updateDynamicVariables(t,e,i){this.ownerUrl=this.routingService.getRoutePath("character",{name:e.owner_details?.name,campaign:t.name}),this.itemOverviewUrl=this.routingService.getRoutePath("item-overview",{campaign:t.name})}}Rg.\u0275fac=function(t){return new(t||Rg)(w(Ha),w(Fe),w(ze),w(he),w(Ve),w(_e))},Rg.\u0275cmp=ie({type:Rg,selectors:[["app-item-article"]],features:[ce],decls:33,vars:12,consts:[[1,"main"],["article",""],[1,"container"],[4,"ngIf"],[1,"row"],[1,"text-center","col"],[3,"article_type","article_pk","images"],[1,"mb-5"],[3,"initialText","heading","formStateSubject","updateText"],[3,"link","label","deleteMessage","delete"],[1,"col-12"],[3,"isInUpdateState","link"],[1,"text-center","col","mb-5"],[3,"routerLink"]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),S(5,Cne,10,2,"ng-container",3),s(6,"\n\n        "),s(7,"\n        "),p(8,"div",4),s(9,"\n            "),p(10,"h1",5),s(11),m(),s(12,"\n        "),m(),s(13,"\n        "),p(14,"div",4),s(15,"\n            "),S(16,wne,8,2,"ng-container",3),s(17,"\n        "),m(),s(18,"\n\n\n        "),s(19,"\n        "),N(20,"app-image-carousel",6),s(21,"\n\n        "),s(22,"\n        "),p(23,"div",7),s(24,"\n            "),p(25,"app-textfield",8),A("updateText",function(r){return e.onDescriptionUpdate(r)}),m(),s(26,"\n        "),m(),s(27,"\n\n        "),s(28,"\n        "),p(29,"app-article-footer",9),A("delete",function(){return e.deleteArticle()}),m(),s(30,"\n    "),m(),s(31,"\n"),m(),s(32,"\n")),2&t&&(_(5),v("ngIf",e.hasUpdatePermission),_(6),ee(" ",e.articleData.name," "),_(5),v("ngIf",e.articleData.owner_details),_(4),v("article_type","item")("article_pk",e.articleData.pk)("images",e.articleData.images),_(5),v("initialText",e.articleData.description)("heading","Description")("formStateSubject",e.textfieldFormStateSubject),_(4),v("link",e.itemOverviewUrl)("label","Back to Items")("deleteMessage","Delete "+e.articleData.name+"?"))},dependencies:[me,Ht,Wo,fn,Gr,Bl]});const Sne=function(n,t){return{"fa-chevron-down":n,"fa-chevron-up":t}};function Tne(n,t){if(1&n&&(s(0,"\n            "),p(1,"span",6),s(2," \n                "),p(3,"a",7),s(4),m(),s(5,"\n            "),m(),s(6,"\n            "),N(7,"i",8),s(8,"\n        ")),2&n){const e=C(),i=e.index,r=e.$implicit,o=C();_(3),v("routerLink",o.locationUrls[i]),_(1),ee(" \n                    ",r.name," \n                "),_(3),v("ngClass",Pn(3,Sne,!o.panelIsOpen(i),o.panelIsOpen(i)))}}function Dne(n,t){if(1&n&&(U(0),s(1,"\n                            "),p(2,"span",16),s(3,"\n                                "),p(4,"a",7),s(5),m(),s(6,"\n                            "),m(),s(7,"\n                        "),V()),2&n){const e=t.$implicit,i=t.index,r=C(3).index,o=C();_(4),v("routerLink",o.locationCharacterUrls[r][i]),_(1),ee("\n                                    ",e.name,"\n                                ")}}function Ene(n,t){if(1&n&&(U(0),s(1,"\n                "),p(2,"div",12),s(3,"\n                    "),p(4,"span",13),s(5," Characters: "),m(),s(6,"\n                    "),p(7,"span",14),s(8,"\n                        "),S(9,Dne,8,2,"ng-container",15),s(10,"\n                    "),m(),s(11,"\n                "),m(),s(12,"  \n            "),V()),2&n){const e=C(2).$implicit;_(9),v("ngForOf",e.characters)}}function kne(n,t){if(1&n){const e=Z();s(0,"\n            "),s(1,"\n            "),p(2,"div",9),s(3,"\n                "),p(4,"app-textfield",10),A("updateText",function(r){k(e);const o=C().index;return x(C().onSublocationUpdate(r,o))}),m(),s(5,"\n            "),m(),s(6,"\n\n            "),s(7,"\n            "),S(8,Ene,13,1,"ng-container",11),s(9,"     \n        ")}if(2&n){const e=C(),i=e.$implicit,r=e.index,o=C();_(4),v("initialText",i.description)("heading",i.name)("formStateSubject",o.sublocationDescriptionFormStates[r]),_(4),v("ngIf",i.characters.length>0)}}function Mne(n,t){1&n&&(p(0,"ngb-panel",3),s(1,"\n        "),s(2,"\n        "),S(3,Tne,9,6,"ng-template",4),s(4,"\n\n        "),s(5,"\n        "),S(6,kne,10,4,"ng-template",5),s(7,"\n\n    "),m()),2&n&&v("id","static-"+t.index)}const xne=function(n){return{"d-none":n}};class Fg extends ni{constructor(t,e,i,r,o){super(o,r),this.locationService=t,this.warnings=e,this.routingService=i,this.constants=H,this.campaignName=this.route.snapshot.params.campaign,this.sublocationDescriptionFormStates=[]}ngOnInit(){this.isOpen={},this.locationCharacterUrls=[],this.sublocations.forEach((t,e)=>{this.isOpen[`static-${e}`]=!1;const r=new yn(H.displayState);this.sublocationDescriptionFormStates.push(r);const a=t.characters.map(c=>this.routingService.getRoutePath("character",{name:c.name,campaign:this.campaignName}));this.locationCharacterUrls.push(a)}),this.locationUrls=this.sublocations.map(t=>this.routingService.getRoutePath("location",{name:t.name,parent_name:t.parent_location_details.name,campaign:this.campaignName}))}onSublocationUpdate(t,e){const i=this.sublocations[e];i.description=t,this.locationService.update(i.pk,i).pipe(le()).subscribe(o=>{},o=>this.onDescriptionUpdateError(o,e))}onPanelChange({panelId:t}){for(const e in this.isOpen)this.isOpen[e]=!(e!==t||this.isOpen[e])}panelIsOpen(t){return this.isOpen[`static-${t}`]}onDescriptionUpdateError(t,e){if(409===t?.status){const o=new Vu(t.error);this.sublocations[e]=o,this.sublocationDescriptionFormStates[e].next(H.outdatedUpdateState)}else this.warnings.showWarning(t)}}function Ine(n,t){1&n&&(U(0),s(1,"\n      "),p(2,"div",4),s(3,"\n        "),p(4,"div",16),s(5,"\n          "),N(6,"app-edit-toggle",17),s(7,"\n        "),m(),s(8,"\n      "),m(),s(9,"  \n    "),V()),2&n&&(_(6),v("isInUpdateState",!1)("link","update"))}function Pne(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"a",19),s(3),m(),s(4,"\n            "),N(5,"i",20),s(6,"\n          "),V()),2&n){const e=t.$implicit,i=t.index,r=C(2);_(2),v("routerLink",r.parentLocationUrls[i]),_(1),ee("\n              ",e,"\n            ")}}function One(n,t){if(1&n&&(U(0),s(1,"\n        "),p(2,"p",18),s(3,"\n          "),S(4,Pne,7,2,"ng-container",8),s(5),m(),s(6,"\n      "),V()),2&n){const e=C();_(4),v("ngForOf",e.articleData.parent_location_list),_(1),ee("\n          ",e.articleData.name,"\n        ")}}function Ane(n,t){if(1&n&&(U(0),s(1,"\n        "),p(2,"a",21),s(3),s(4,"\n          "),N(5,"i"),s(6,"\n        "),m(),s(7,"  \n      "),V()),2&n){const e=t.$implicit,i=t.index,r=C();_(2),v("routerLink",r.markerUrls[i]),_(1),ee("\n          ",e.map,"\n          "),_(2),Ov("mx-1 icon fas fa-",e.map_icon,"")}}function Nne(n,t){if(1&n&&(U(0),s(1,"\n        "),p(2,"app-inline-create-button",22),s(3,"     \n        "),m(),s(4,"\n      "),V()),2&n){const e=C();_(2),v("labelText","Add Marker")("link",e.markerCreateUrl)}}Fg.\u0275fac=function(t){return new(t||Fg)(w(so),w(ze),w(he),w(Fe),w(_e))},Fg.\u0275cmp=ie({type:Fg,selectors:[["app-location-accordion"]],inputs:{sublocations:"sublocations"},features:[ce],decls:10,vars:5,consts:[["routerLink","create",1,"fa","fa-plus","icon","ml-1",3,"ngClass"],[3,"closeOthers","panelChange"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],["ngbPanelTitle","","class","button-container"],["ngbPanelContent",""],[1,"location-title"],[3,"routerLink"],[1,"fa","float-right","icon",3,"ngClass"],[1,"mb-4"],[3,"initialText","heading","formStateSubject","updateText"],[4,"ngIf"],[1,"location-character","mb-1"],[1,"mr-4"],[1,"d-inline-flex","align-items-center","flex-wrap"],[4,"ngFor","ngForOf"],[1,"badge","badge-secondary","mr-2","p-1","mb-1"]],template:function(t,e){1&t&&(p(0,"h4"),s(1,"\n    Locations of Interest \n    "),N(2,"i",0),s(3,"\n"),m(),s(4,"\n\n"),p(5,"ngb-accordion",1),A("panelChange",function(r){return e.onPanelChange(r)}),s(6,"\n    "),S(7,Mne,8,1,"ngb-panel",2),s(8,"\n"),m(),s(9,"\n  ")),2&t&&(_(2),v("ngClass",ot(3,xne,!e.hasCreatePermission)),_(3),v("closeOthers",!0),_(2),v("ngForOf",e.sublocations))},dependencies:[rn,Ye,me,Ht,Gm,zm,Ky,Yy,Wo],styles:[".location-title[_ngcontent-%COMP%]{color:#fff;width:100%;font-size:18px;border-bottom:dotted 2px gray}.location-title[_ngcontent-%COMP%]:hover{border-bottom:solid 2px gray}.location-character[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start}.badge[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-bottom:none}.badge[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--link-blue)}.badge-secondary[_ngcontent-%COMP%]{background-color:#1b1f22}"]});class Lg extends co{constructor(t,e,i,r,o,a){super(t,e,r,i,o,a),this.route=e,this.warnings=i,this.routingService=r,this.deleteRoute={routeName:"location-overview",params:{campaign:null}},this.OverviewType=Ae}updateDynamicVariables(t,e,i){this.markerCreateUrl=this.routingService.getRoutePath("marker-create",{parent_location_name:e.parent_location_details.name,location_name:e.name,campaign:t.name}),this.parentLocationUrls=e.parent_location_list.map(r=>this.buildLocationUrl(r,e.parent_location_list)),this.markerUrls=e.marker_details.map(r=>this.routingService.getRoutePath("marker",{parent_location_name:e.parent_location_details.name,location_name:e.name,map_name:r.map,campaign:t.name})),this.characterCreateUrl=this.routingService.getRoutePath("character-create",{campaign:t.name}),this.locationOverviewUrl=this.routingService.getRoutePath("location-overview",{campaign:t.name})}getQueryParameter(t){return{locationName:t.name,parentLocationName:t.parent_name?t.parent_name:"None"}}buildLocationUrl(t,e){if(!e)throw"Tried building a route to a location in parent_location_list when there is no parent_location_list";const i=e.indexOf(t);return this.routingService.getRoutePath("location",{parent_name:0===i?"None":e[i-1],name:t,campaign:this.campaign.name})}}function Rne(n,t){1&n&&(U(0),s(1,"\n            "),p(2,"div",4),s(3,"\n                "),p(4,"div",15),s(5,"\n                    "),N(6,"app-edit-toggle",16),s(7,"\n                "),m(),s(8,"\n            "),m(),s(9,"\n        "),V()),2&n&&(_(6),v("isInUpdateState",!1)("link","update"))}function Fne(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"a",17),s(3),m(),s(4,"\n                "),V()),2&n){const e=C();_(2),v("routerLink",e.organizationLeaderUrl),_(1),ee("\n                        ",e.articleData.leader,"\n                    ")}}function Lne(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"a",17),s(3),m(),s(4,"\n                "),V()),2&n){const e=C();_(2),v("routerLink",e.headquartersUrl),_(1),ee("\n                        ",e.articleData.headquarter_details.name_full,"\n                    ")}}function $ne(n,t){1&n&&s(0,"Unknown")}Lg.\u0275fac=function(t){return new(t||Lg)(w(so),w(Fe),w(ze),w(he),w(Ve),w(_e))},Lg.\u0275cmp=ie({type:Lg,selectors:[["app-location-article"]],features:[ce],decls:59,vars:19,consts:[[1,"main"],["article",""],[1,"container"],[4,"ngIf"],[1,"row"],[1,"text-center","col-12"],[3,"article_type","article_pk","images"],[1,"mb-3"],[4,"ngFor","ngForOf"],[1,"mb-5"],[3,"initialText","heading","formStateSubject","updateText"],[1,"mb-4"],[3,"heading","items","articleType","createLink"],[1,"encounter-list","mb-5","mt-3"],[3,"sublocations"],[3,"link","label","deleteMessage","delete"],[1,"col-12"],[3,"isInUpdateState","link"],[1,"text-center","font-italic","col-12","mb-5"],[3,"routerLink"],[1,"fa","fa-arrow-right","mx-1"],[1,"badge","badge-secondary","p-2","mx-2","no-underline",3,"routerLink"],[3,"labelText","link"]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n  "),p(3,"article",2),s(4,"\n    "),S(5,Ine,10,2,"ng-container",3),s(6,"\n\n    "),s(7,"\n    "),p(8,"div",4),s(9,"\n      "),p(10,"h1",5),s(11),m(),s(12,"\n\n      "),s(13,"\n      "),S(14,One,7,2,"ng-container",3),s(15,"\n\n    "),m(),s(16,"\n\n    "),s(17,"\n    "),p(18,"app-image-carousel",6),s(19,"\n    "),m(),s(20,"\n\n    "),p(21,"div",7),s(22,"\n      "),p(23,"i"),s(24," Marked on Maps:"),m(),s(25,"\n      "),S(26,Ane,8,5,"ng-container",8),s(27,"\n\n      "),s(28,"\n      "),S(29,Nne,5,2,"ng-container",3),s(30,"\n    "),m(),s(31,"\n\n    "),s(32,"\n    "),p(33,"div",9),s(34,"\n      "),p(35,"app-textfield",10),A("updateText",function(r){return e.onDescriptionUpdate(r)}),s(36,"\n      "),m(),s(37,"\n    "),m(),s(38,"\n\n    "),s(39,"\n    "),p(40,"div",11),s(41,"\n      "),p(42,"app-object-list",12),s(43,"\n      "),m(),s(44,"\n    "),m(),s(45,"\n\n    "),s(46,"\n    "),p(47,"div",13),s(48,"\n      "),p(49,"app-location-accordion",14),s(50,"\n      "),m(),s(51,"\n    "),m(),s(52,"\n\n    "),s(53,"\n    "),p(54,"app-article-footer",15),A("delete",function(){return e.deleteArticle()}),s(55,"\n    "),m(),s(56,"\n  "),m(),s(57,"\n"),m(),s(58,"\n")),2&t&&(_(5),v("ngIf",e.hasUpdatePermission),_(6),ee("\n        ",e.articleData.name,"\n      "),_(3),v("ngIf",e.articleData.parent_location_list.length>0),_(4),v("article_type","location")("article_pk",e.articleData.pk)("images",e.articleData.images),_(8),v("ngForOf",e.articleData.marker_details),_(3),v("ngIf",e.hasCreatePermission),_(6),v("initialText",e.articleData.description)("heading","Description")("formStateSubject",e.textfieldFormStateSubject),_(7),v("heading","Characters of Interest")("items",e.articleData.characters)("articleType",e.OverviewType.Character)("createLink",e.characterCreateUrl),_(7),v("sublocations",e.articleData.sublocations),_(5),v("link",e.locationOverviewUrl)("label","Back to Locations")("deleteMessage","Delete "+e.articleData.name+"?"))},dependencies:[Ye,me,Ht,Wo,Fg,fn,Qu,Gr,Bl,Vl],styles:["h4[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]   .icon.fa-plus[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}h4[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]:hover   .icon.fa-plus[_ngcontent-%COMP%]{opacity:1}"]});class $g extends co{constructor(t,e,i,r,o,a){super(t,e,r,i,o,a),this.route=e,this.warnings=i,this.routingService=r,this.deleteRoute={routeName:"organization-overview",params:{campaign:null}},this.queryParameterName="name",this.OverviewType=Ae}ngOnInit(){super.ngOnInit(),this.articleData.members=this.articleData.members.sort((t,e)=>t.name>e.name?1:-1)}updateDynamicVariables(t,e,i){this.organizationOverviewUrl=this.routingService.getRoutePath("organization-overview",{campaign:t.name}),this.characterCreateUrl=this.routingService.getRoutePath("character-create",{campaign:t.name}),this.headquartersUrl=this.routingService.getRoutePath("location",{name:e.headquarter_details.name,parent_name:e.headquarter_details.parent_name,campaign:t.name}),this.organizationLeaderUrl=this.routingService.getRoutePath("character",{name:e.leader,campaign:t.name})}}$g.\u0275fac=function(t){return new(t||$g)(w(Ys),w(Fe),w(ze),w(he),w(Ve),w(_e))},$g.\u0275cmp=ie({type:$g,selectors:[["app-organization-article"]],features:[ce],decls:52,vars:19,consts:[[1,"main"],["article",""],[1,"container"],[4,"ngIf"],[1,"row"],[1,"text-center","col"],[1,"text-center","subheading","mb-1","col-12"],[4,"ngIf","ngIfElse"],[1,"text-center","mb-3","subheading","col-12"],[3,"article_type","article_pk","images"],[1,"mb-5"],[3,"initialText","heading","formStateSubject","updateText"],[3,"heading","items","createLink","articleType"],[3,"link","label","deleteMessage","delete"],["Unknown",""],[1,"col-12"],[3,"isInUpdateState","link"],[1,"ml-1",3,"routerLink"]],template:function(t,e){if(1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),S(5,Rne,10,2,"ng-container",3),s(6,"\n\n        "),s(7,"\n        "),p(8,"div",4),s(9,"\n            "),p(10,"h1",5),s(11),m(),s(12,"\n        "),m(),s(13,"\n\n        "),p(14,"div",4),s(15,"\n            "),s(16,"\n            "),p(17,"div",6),s(18," \n                Leader: \n                "),S(19,Fne,5,2,"ng-container",7),s(20,"\n            "),m(),s(21,"\n\n            "),s(22,"\n            "),p(23,"div",8),s(24," \n                Headquarters:\n                "),S(25,Lne,5,2,"ng-container",7),s(26,"\n            "),m(),s(27,"\n        "),m(),s(28,"\n\n\n        "),s(29,"\n        "),N(30,"app-image-carousel",9),s(31,"\n\n        "),s(32,"\n        "),p(33,"div",10),s(34,"\n            "),p(35,"app-textfield",11),A("updateText",function(r){return e.onDescriptionUpdate(r)}),m(),s(36,"\n        "),m(),s(37,"\n\n        "),s(38,"\n        "),p(39,"div",10),s(40,"\n            "),N(41,"app-object-list",12),s(42,"\n        "),m(),s(43,"\n\n        "),s(44,"\n        "),p(45,"app-article-footer",13),A("delete",function(){return e.deleteArticle()}),m(),s(46,"\n    "),m(),s(47,"\n"),m(),s(48,"\n\n"),S(49,$ne,1,0,"ng-template",null,14,ae),s(51,"\n")),2&t){const i=re(50);_(5),v("ngIf",e.hasUpdatePermission),_(6),ee(" ",e.articleData.name," "),_(8),v("ngIf",e.articleData.leader)("ngIfElse",i),_(6),v("ngIf",e.articleData.headquarter_details)("ngIfElse",i),_(5),v("article_type","organization")("article_pk",e.articleData.pk)("images",e.articleData.images),_(5),v("initialText",e.articleData.description)("heading","Description")("formStateSubject",e.textfieldFormStateSubject),_(6),v("heading","Members")("items",e.articleData.members)("createLink",e.characterCreateUrl)("articleType",e.OverviewType.Character),_(4),v("link",e.organizationOverviewUrl)("label","Back to Organizations")("deleteMessage","Delete "+e.articleData.name+"?")}},dependencies:[me,Ht,Wo,fn,Qu,Gr,Bl]});const Une=["listArticle"],Vne=["articles"];class Ku extends ni{constructor(t,e,i,r,o,a){super(a,e),this.articleService=t,this.routingService=i,this.warnings=r,this.globalUrlParams=o,this.constants=H,this.isLoadingArticles=!1,this.articleStarterTitle="New Article Item",this.articlesSortProperty="name",this.isReverseSort=!1,this.articlesInitialScrollParameter="articleTitle"}ngOnInit(){this.campaign=this.route.snapshot.data.campaign;const t=this.route.snapshot.data.articleList,e=t.sort((i,r)=>i[this.articlesSortProperty]<r[this.articlesSortProperty]?-1:1);this.articles=this.isReverseSort?e.reverse():e,this.showArticleArray=this.articles.map(i=>!0),this.updateDynamicVariables(this.campaign,t,this.route.snapshot.params)}ngAfterViewInit(){this.scrollToArticleInQueryList(this.articleElements,this.route.snapshot.params[this.articlesInitialScrollParameter]),this.animateListArticle()}animateListArticle(){this.listArticleElement?.nativeElement&&_i(this.listArticleElement.nativeElement,"fadeIn").then(t=>this.onInitAnimationEnd())}onInitAnimationEnd(){}scrollToArticleInQueryList(t,e){null!=e&&(e=e.toLowerCase(),t.find(r=>this.getArticleTitle(r)?.toLowerCase()==e)?.card.nativeElement.scrollIntoView())}getArticleTitle(t){return t.cardData.title}updateDynamicVariables(t,e,i){}addArticle(){const t=new this.articleModelClass;t.name=this.articleStarterTitle,this.articles.unshift(t)}onArticleDelete(t){this.articles.splice(t,1)}}Ku.\u0275fac=function(t){du()},Ku.\u0275dir=de({type:Ku,viewQuery:function(t,e){if(1&t&&(dt(Une,5),dt(Vne,5)),2&t){let i;ke(i=Me())&&(e.listArticleElement=i.first),ke(i=Me())&&(e.articleElements=i)}},features:[ce]});const Bne=["card"],Hne=function(n,t){return{"fa-chevron-down":n,"fa-chevron-up":t}};function jne(n,t){if(1&n){const e=Z();U(0),s(1,"\n        "),p(2,"h5",10),A("click",function(){return k(e),x(C().toggleCard())}),s(3," \n            "),p(4,"span"),s(5),m(),s(6,"\n            "),N(7,"i",11),s(8,"\n        "),m(),s(9,"\n    "),V()}if(2&n){const e=C();_(5),We(e.cardData.name),_(2),v("ngClass",Pn(2,Hne,!e.isOpen,e.isOpen))}}function zne(n,t){1&n&&N(0,"hr",12)}const Gne=function(n,t){return{"fa-times":n,"fa-pencil":t}};function Wne(n,t){if(1&n){const e=Z();U(0),s(1,"\n                    "),p(2,"div",13),A("click",function(){return k(e),x(C().toggleFormState())}),s(3,"\n                        "),N(4,"i",14),s(5,"\n                    "),m(),s(6,"\n                "),V()}if(2&n){const e=C();_(4),v("ngClass",Pn(1,Gne,!e.isInDisplayState(),e.isInDisplayState()))}}function qne(n,t){if(1&n&&(U(0),s(1,"\n                "),N(2,"div",15),s(3,"\n            "),V()),2&n){const e=C();_(2),v("innerHTML",e.cardData.description,Nr)}}function Qne(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"app-formly-formcontainer",16),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m(),s(3,"\n            "),V()}if(2&n){const e=C();_(2),v("model",e.userModel)("fields",e.formlyFields)}}function Zne(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"app-compare-form-container",17),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m(),s(3,"\n            "),V()}if(2&n){const e=C();_(2),v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)("displayVertically",!0)}}function Kne(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"div",18),s(2,"\n        "),s(3,"\n        "),p(4,"app-formly-formcontainer",16),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m(),s(5,"\n    "),m(),s(6,"\n")}if(2&n){const e=C();_(4),v("model",e.userModel)("fields",e.formlyFields)}}const Yne=function(n){return{"animate__animated animate__fadeInUp":n}};class Ug extends Zu{constructor(t,e,i,r,o,a){super(i,t,o,a),this.formlyService=e,this.warnings=i,this.element=r,this.userModelClass=Hb,this.cardDelete=new X,this.formlyFields=[this.formlyService.genericInput({key:"name",isNameInput:!0}),this.formlyService.genericTextField({key:"description"})]}}Ug.\u0275fac=function(t){return new(t||Ug)(w(Rl),w(Yt),w(ze),w(Pt),w(Fe),w(_e))},Ug.\u0275cmp=ie({type:Ug,selectors:[["app-rule"]],viewQuery:function(t,e){if(1&t&&dt(Bne,5),2&t){let i;ke(i=Me())&&(e.card=i.first)}},inputs:{cardData:"cardData"},features:[ce],decls:39,vars:12,consts:[[1,"card","row","mb-3","px-4","pt-3","pb-1",3,"ngClass"],["card",""],[4,"ngIf"],[1,"mb-3","w-100",3,"ngbCollapse"],[1,"col-12"],["class","white-separator mb-2",4,"ngIf"],[1,"mb-3"],[1,"d-inline"],[3,"deleteMessage","deleteEvent"],["formField",""],[1,"pointer","col-12","justify-content-between","d-flex","align-items-center",3,"click"],[1,"fa","icon",3,"ngClass"],[1,"white-separator","mb-2"],[1,"btn","btn-secondary","float-right",3,"click"],[1,"fa",3,"ngClass"],[3,"innerHTML"],[3,"model","fields","formlySubmit","formlyCancel"],[1,"d-flex","justify-content-center",3,"formlyFields","modelFromUser","modelFromServer","displayVertically","updateSubmit","cancel"],["id","edit-section"]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n    "),s(3,"\n    "),S(4,jne,10,5,"ng-container",2),s(5,"\n\n\n    "),s(6,"\n    "),p(7,"div",3),s(8,"\n        "),p(9,"div",4),s(10,"\n            "),s(11,"\n            "),S(12,zne,1,0,"hr",5),s(13,"\n\n            "),s(14,"\n            "),p(15,"div",6),s(16,"\n                "),p(17,"h4",7),s(18),m(),s(19,"\n        \n                "),s(20,"\n                "),S(21,Wne,7,4,"ng-container",2),s(22,"\n\n            "),m(),s(23,"\n\n\n            "),s(24,"\n            "),S(25,qne,4,1,"ng-container",2),s(26,"\n        \n            "),S(27,Qne,4,2,"ng-container",2),s(28,"\n\n            "),S(29,Zne,4,4,"ng-container",2),s(30,"\n\n            "),s(31,"\n            "),p(32,"app-delete-toggle",8),A("deleteEvent",function(){return e.articleDelete(e.cardData)}),m(),s(33," \n        "),m(),s(34,"\n\n    "),m(),s(35,"\n"),m(),s(36,"\n\n"),S(37,Kne,7,2,"ng-template",null,9,ae)),2&t&&(v("ngClass",ot(10,Yne,e.isInCreateState())),_(4),v("ngIf",!e.isInOutdatedUpdateState()),_(3),v("ngbCollapse",!e.isOpen),_(5),v("ngIf",!e.isInOutdatedUpdateState()),_(6),ee(" ",e.cardData.name,""),_(3),v("ngIf",e.hasUpdatePermission),_(4),v("ngIf",e.isInDisplayState()),_(2),v("ngIf",e.isInCreateState()||e.isInUpdateState()),_(2),v("ngIf",e.isInOutdatedUpdateState()),_(3),v("deleteMessage","Delete this rule ?"))},dependencies:[rn,me,SS,bs,Cn,vi],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--wiki-background-2)}"]});const Jne=["ruleElements"];function Xne(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"div",9),s(3,"\n                "),p(4,"a",10),A("click",function(){return k(e),x(C().addArticle())}),s(5," \n                    "),N(6,"i",11),s(7,"\n                    Add Rule\n                "),m(),s(8,"\n            "),m(),s(9,"\n        "),V()}}function eie(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"app-rule",12,13),A("cardDelete",function(){const o=k(e).index;return x(C().onArticleDelete(o))}),m(),s(4,"\n        "),V()}if(2&n){const e=t.$implicit,i=t.index,r=C();_(2),v("cardData",e)("campaign",r.campaign)("index",i)}}class cp extends Ku{constructor(t,e,i,r,o,a){super(t,r,e,o,a,i),this.routingService=e,this.articleModelClass=Hb,this.articleStarterTitle="New Rule",this.articlesInitialScrollParameter="name"}updateDynamicVariables(t,e,i){this.homeUrl=this.routingService.getRoutePath("home2",{campaign:t.name})}}cp.\u0275fac=function(t){return new(t||cp)(w(Rl),w(he),w(_e),w(Fe),w(ze),w(Ve))},cp.\u0275cmp=ie({type:cp,selectors:[["app-rules"]],viewQuery:function(t,e){if(1&t&&dt(Jne,5),2&t){let i;ke(i=Me())&&(e.articleElements=i)}},features:[ce],decls:25,vars:3,consts:[[1,"main"],["listArticle",""],[1,"container"],[1,"row"],[1,"text-center","col"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row","mt-5"],[1,"btn","btn-secondary","col-md-3",3,"routerLink"],[1,"mb-3","row"],[1,"btn","btn-primary","col-lg-2","col-sm-3",3,"click"],[1,"fa","fa-plus"],[3,"cardData","campaign","index","cardDelete"],["ruleElements",""]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n\n        "),s(5,"\n        "),p(6,"div",3),s(7,"\n            "),p(8,"h1",4),s(9,"Rules"),m(),s(10,"\n        "),m(),s(11,"\n\n        "),S(12,Xne,10,0,"ng-container",5),s(13,"\n\n        "),s(14,"\n        "),S(15,eie,5,3,"ng-container",6),s(16,"\n\n        "),s(17,"\n        "),p(18,"div",7),s(19,"\n            "),p(20,"a",8),s(21,"\n                Back To Frontpage\n            "),m(),s(22,"\n        "),m(),s(23,"\n    "),m(),s(24,"\n"),m()),2&t&&(_(12),v("ngIf",e.tokenService.isAdmin()),_(3),v("ngForOf",e.articles),_(5),v("routerLink",e.homeUrl))},dependencies:[Ye,me,Ht,Ug]});class up{constructor(t){this.http=t,this.adminUrl=`${H.wikiApiUrl}/admin`}clearDatabase(){return this.http.delete(`${this.adminUrl}/dbclear`)}downloadDatabase(){return this.http.get(`${this.adminUrl}/dbdownload`,{responseType:"blob"})}getStatistics(){return this.http.get(`${this.adminUrl}/statistics`)}}up.\u0275fac=function(t){return new(t||up)(R(qt))},up.\u0275prov=W({token:up,factory:up.\u0275fac,providedIn:"root"});class dp extends Hr{constructor(t){super(t),this.baseUrl=`${H.wikiApiUrl}/group`}}dp.\u0275fac=function(t){return new(t||dp)(R(qt))},dp.\u0275prov=W({token:dp,factory:dp.\u0275fac,providedIn:"root"});const tie=["isSUInput"],nie=["isAdminInput"];function iie(n,t){1&n&&(U(0),s(1,"\n                    "),p(2,"span",11),s(3," (\u2020) "),m(),s(4,"\n                "),V())}function rie(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"span",12),s(3),p(4,"span",13),A("click",function(){const o=k(e).$implicit;return x(C(2).removeUserFromGroup(o))}),m(),s(5,"\n                "),m(),s(6,"\n            "),V()}if(2&n){const e=t.$implicit,i=C(2);_(3),ee("  \n                    ",i.getGroupName(e)," \n                    ")}}function oie(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"i",14),A("click",function(){return k(e),x(C(2).toggleGroupAddState())}),m(),s(3,"\n            "),V()}}function sie(n,t){if(1&n){const e=Z();U(0),s(1,"\n                    "),p(2,"span",16),A("click",function(){return k(e),x(C(3).toggleDeleteState())}),m(),s(3,"\n                "),V()}2&n&&(_(2),v("ngbTooltip","Delete user ?")("tooltipClass","my-tooltip"))}const aie=function(n,t){return{"col-1":n,"col-md-4 col-12":t}};function lie(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"div",15),s(3,"   \n                "),S(4,sie,4,2,"ng-container",8),s(5,"\n            "),m(),s(6,"\n        "),V()),2&n){const e=C(2),i=re(4);_(2),v("ngClass",Pn(3,aie,!e.isDeleteState,e.isDeleteState)),_(2),v("ngIf",!e.isDeleteState)("ngIfElse",i)}}const cie=function(n,t){return{"d-none":n,"d-flex":t}};function uie(n,t){if(1&n&&(U(0),s(1,"\n    "),p(2,"div",3),s(3,"\n        "),s(4,"\n        "),p(5,"div",4),s(6,"\n            "),p(7,"span",5),s(8),S(9,iie,5,0,"ng-container",0),s(10,"\n            "),m(),s(11,"\n        "),m(),s(12,"\n    \n        "),s(13,"\n        "),p(14,"div",6),s(15,"\n            "),S(16,rie,7,1,"ng-container",7),s(17,"\n            \n            "),S(18,oie,4,0,"ng-container",8),s(19,"\n        "),m(),s(20,"\n    \n        "),s(21,"\n        "),p(22,"div",9),s(23,"\n            "),p(24,"span",10),s(25),m(),s(26,"\n        "),m(),s(27,"\n    \n        "),s(28,"\n        "),S(29,lie,7,6,"ng-container",0),s(30,"\n    "),m(),s(31,"\n"),V()),2&n){const e=C(),i=re(8);_(8),ee("\n                ",e.user.username,"\n                "),_(1),v("ngIf",!e.user.is_active),_(7),v("ngForOf",e.user.groups),_(2),v("ngIf",!e.isAddGroupstate)("ngIfElse",i),_(4),v("ngClass",Pn(8,cie,e.isDeleteState,!e.isDeleteState)),_(3),ee(" ",e.user.email," "),_(4),v("ngIf",e.user.is_active)}}function die(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"div",17),s(2,"\n        "),p(3,"div",18)(4,"strong"),s(5),m()(),s(6,"\n        "),p(7,"div",19),s(8,"\n            "),p(9,"div",20),A("click",function(){return k(e),x(C().deleteUser())}),s(10," Yes "),m(),s(11,"\n            "),p(12,"div",21),A("click",function(){return k(e),x(C().toggleDeleteState())}),s(13," No "),m(),s(14,"\n        "),m(),s(15,"\n    "),m(),s(16,"\n")}if(2&n){const e=C();_(5),ee("Delete ",e.user.username,"?")}}function hie(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"option",30),s(3),m(),s(4,"\n                "),V()),2&n){const e=t.$implicit,i=C(2);_(2),v("value",e.id),Et("disabled",!!i.isUserInGroup(e.id)||null),_(1),ee("\n                        ",e.name,"\n                    ")}}function pie(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"div",22),s(2,"\n        \n        "),p(3,"form",23),A("submit",function(){k(e);const r=re(6);return x(C().addUserToSelectedGroup(r.value))}),s(4,"\n            "),p(5,"select",24,25),A("ngModelChange",function(r){return k(e),x(C().newGroup=r)}),s(7,"\n                "),S(8,hie,5,3,"ng-container",7),s(9,"\n            "),m(),s(10,"\n\n            "),p(11,"div",26),s(12,"\n                "),p(13,"i",27),A("click",function(){return k(e),x(C().toggleGroupAddState())}),m(),s(14,"\n                \n                "),p(15,"button",28),s(16,"\n                    "),N(17,"i",29),s(18,"\n                "),m(),s(19,"\n            "),m(),s(20,"\n        "),m(),s(21,"\n\n    "),m(),s(22,"\n")}if(2&n){const e=C();_(5),v("ngModel",e.newGroup),_(3),v("ngForOf",e.groups)}}class Vg{constructor(t,e,i){this.userService=t,this.warnings=e,this.tokenService=i,this.delete=new X,this.isDeleteState=!1,this.isAddGroupstate=!1,this.newGroup=null}ngOnInit(){}updateUser(){this.userService.update(this.user.pk,this.user).pipe(le()).subscribe(t=>this.user=t,t=>this.warnings.showWarning(t))}isUserInGroup(t){return this.user.groups.includes(t)}getGroupName(t){const e=this.groups.filter(r=>r.id===t);return 0===e.length?"":e[0].name}removeUserFromGroup(t){const e=this.user.groups.indexOf(t);this.user.groups.splice(e,1),this.updateUserGroups()}addUserToSelectedGroup(t){t="string"==typeof t?parseInt(t):t,this.user.groups.push(t),this.updateUserGroups()}updateUserGroups(){this.userService.updateUserGroups(this.user).pipe(le()).subscribe(t=>{this.user=t,this.isAddGroupstate=!1},t=>this.warnings.showWarning(t))}toggleGroupAddState(){this.isAddGroupstate=!this.isAddGroupstate,this.isAddGroupstate&&(this.newGroup=null)}toggleDeleteState(){this.isDeleteState=!this.isDeleteState}deleteUser(){this.userService.delete(this.user.pk).pipe(le()).subscribe(t=>{this.delete.emit(this.index)},t=>this.warnings.showWarning(t))}}Vg.\u0275fac=function(t){return new(t||Vg)(w(ao),w(ze),w(_e))},Vg.\u0275cmp=ie({type:Vg,selectors:[["app-user-row"]],viewQuery:function(t,e){if(1&t&&(dt(tie,5),dt(nie,5)),2&t){let i;ke(i=Me())&&(e.suInput=i.first),ke(i=Me())&&(e.adminInput=i.first)}},inputs:{user:"user",index:"index",groups:"groups"},outputs:{delete:"delete"},decls:9,vars:1,consts:[[4,"ngIf"],["userDelete",""],["addGroup",""],[1,"py-2","row"],[1,"col-md-3","col-4","p-0","d-flex","align-items-center"],[1,"ml-3"],[1,"col-md-5","col-6","p-0","d-flex","flex-column","justify-content-center","hide-container"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"col-md-3","p-0","align-items-center","hide-on-mobile",3,"ngClass"],[1,"d-block","text-break"],["title","Deleted/Deactivated"],[1,"badge","cursor-default","bg-dark","border-white","vanish-container","hide-overflow"],[1,"fa","fa-times","icon","vanish-icon",3,"click"],[1,"fa","fa-plus","fa-1-5x","icon","hide-icon","text-center",3,"click"],[1,"d-flex","p-0","align-items-center","justify-content-center",3,"ngClass"],["placement","top",1,"fa","fa-trash","icon",3,"ngbTooltip","tooltipClass","click"],[1,"delete-request","d-flex","animate__animated","animate__flipInY"],[1,"mr-3"],[1,"d-inline-flex"],[1,"btn","btn-danger","float-right","mr-2",3,"click"],[1,"btn","btn-secondary","float-right",3,"click"],[1,"mt-3"],[3,"submit"],["name","character","id","character",1,"form-control",3,"ngModel","ngModelChange"],["groupField",""],[1,"d-flex","justify-content-around"],[1,"fa","icon","fa-times","mx-2","fa-1-5x",3,"click"],["type","submit",1,"d-flex"],[1,"fa","icon","fa-check","fa-1-5x"],[3,"value"]],template:function(t,e){1&t&&(S(0,uie,32,11,"ng-container",0),s(1,"\n\n"),s(2,"\n"),S(3,die,17,1,"ng-template",null,1,ae),s(5,"\n\n"),s(6,"\n"),S(7,pie,23,2,"ng-template",null,2,ae)),2&t&&v("ngIf",e.user&&e.groups)},dependencies:[rn,Ye,me,Vr,js,zs,Vo,ki,Ur,Bs,Uo,Ym],styles:[".hide-icon[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.hide-container[_ngcontent-%COMP%]:hover   .hide-icon[_ngcontent-%COMP%]{opacity:1}.vanish-icon[_ngcontent-%COMP%]{display:none}.vanish-container[_ngcontent-%COMP%]:hover   .vanish-icon[_ngcontent-%COMP%]{display:inline-block}.badge[_ngcontent-%COMP%]{border-style:double}.cursor-default[_ngcontent-%COMP%]{cursor:default}.hide-overflow[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}@media (max-width: 768px){.hide-on-mobile[_ngcontent-%COMP%]{display:none!important}}"]});const fie=["adminCard"];function mie(n,t){1&n&&(U(0),s(1,"\n                            "),N(2,"span",26),s(3,"\n                            Add User\n                        "),V())}function gie(n,t){1&n&&(U(0),s(1,"\n                            "),N(2,"span",27),s(3,"\n                            Cancel User Creation\n                        "),V())}function _ie(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"div",28),s(3,"\n                    "),p(4,"h4"),s(5,"Adding new User"),m(),s(6,"\n                    "),s(7,"\n                    "),p(8,"app-formly-formcontainer",29),A("formlySubmit",function(){return k(e),x(C().saveNewUser())})("formlyCancel",function(){return k(e),x(C().toggleUserCreateState())}),m(),s(9,"\n                "),m(),s(10,"\n            "),V()}if(2&n){const e=C();_(8),v("model",e.userModel)("fields",e.userFields)}}const vie=function(n){return{"light-row":n}};function yie(n,t){if(1&n){const e=Z();U(0),s(1,"\n                    "),p(2,"div",30),s(3,"\n                        "),p(4,"app-user-row",31),A("delete",function(){const o=k(e).index;return x(C().removeDeletedUser(o))}),m(),s(5,"\n                    "),m(),s(6,"\n                "),V()}if(2&n){const e=t.$implicit,i=t.index,r=C();_(2),v("ngClass",ot(4,vie,i%2==0)),_(2),v("index",i)("user",e)("groups",r.groups)}}function bie(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"div",13),s(3,"\n                        "),p(4,"div",32),s(5),m(),s(6,"\n                        "),p(7,"div",32),s(8),m(),s(9,"\n                    "),m(),s(10,"\n                "),V()),2&n){const e=t.$implicit;_(5),ee(" ",e.key,""),_(3),ee(" ",e.value,"")}}function Cie(n,t){1&n&&(U(0),s(1,"\n                        "),N(2,"app-spinner",33),s(3,"\n                    "),V())}function wie(n,t){1&n&&(U(0),s(1,"\n                            "),N(2,"span",34),s(3,"\n                            Add Campaign\n                        "),V())}function Sie(n,t){1&n&&(U(0),s(1,"\n                            "),N(2,"span",27),s(3,"\n                            Cancel Campaign Creation\n                        "),V())}function Tie(n,t){if(1&n&&(U(0),s(1,"\n                        "),p(2,"div",35),s(3,"\n                            "),p(4,"div",36),s(5,"\n                                "),N(6,"img",37),s(7,"\n                                "),p(8,"strong"),s(9),m(),s(10,"\n                            "),m(),s(11,"\n                            "),p(12,"div",36),s(13),m(),s(14,"\n                            "),p(15,"div",36),s(16),m(),s(17,"\n                            "),p(18,"div",36),s(19),m(),s(20,"\n                        "),m(),s(21,"\n                    "),V()),2&n){const e=t.$implicit;_(6),fu("alt","Icon of campaign ",e.name,""),v("src",e.icon,Yn),_(3),ee("  ",e.name," "),_(4),ee("Admins: ",e.admins.length,""),_(3),ee("Members: ",e.members.length,""),_(3),ee("Guest: ",e.guests.length,"")}}function Die(n,t){if(1&n&&(U(0),s(1,"\n                "),p(2,"div",24),s(3,"\n                    "),S(4,Tie,22,6,"ng-container",20),s(5,"\n                "),m(),s(6,"\n            "),V()),2&n){const e=C();_(4),v("ngForOf",e.campaigns)}}function Eie(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"div",28),s(3,"\n                    "),p(4,"h4"),s(5,"Adding new Campaign"),m(),s(6,"\n                    "),s(7,"\n                    "),p(8,"app-formly-formcontainer",29),A("formlySubmit",function(){return k(e),x(C().createNewCampaign())})("formlyCancel",function(){return k(e),x(C().toggleCampaignCreateState())}),m(),s(9,"    \n                "),m(),s(10,"\n            "),V()}if(2&n){const e=C();_(8),v("model",e.campaignModel)("fields",e.campaignFields)}}class Bg{constructor(t,e,i,r,o,a,c,u,h,f){this.userService=t,this.warnings=e,this.formlyService=i,this.adminService=r,this.routingService=o,this.groupService=a,this.tokenService=c,this.route=u,this.campaignService=h,this.globalUrlParams=f,this.isUserCreateState=!1,this.userFields=[this.formlyService.genericInput({key:"username",isNameInput:!0,required:!0}),this.formlyService.confirmedPasswordInput({}),this.formlyService.genericInput({key:"email",isNameInput:!0,required:!1})],this.databaseDeleteConfirmationCount=0,this.isCampaignCreateState=!1,this.isWaitingForCampaignCreation=!1,this.campaignFields=[this.formlyService.genericInput({key:"name",isNameInput:!0,required:!0,maxLength:40,placeholder:"Your campaign's name..."}),this.formlyService.genericInput({key:"subtitle",isNameInput:!1,required:!1,maxLength:400,placeholder:"The subtitle to show on the home page"}),this.formlyService.singleFileField({key:"background_image",required:!0}),this.formlyService.singleFileField({key:"icon",required:!0})],this.blobToFile=(y,T)=>{var E=y;return E.lastModifiedDate=new Date,E.name=T,y}}ngOnInit(){this.parameterSubscription=this.route.params.subscribe(t=>this.setRouterLinks(),t=>this.warnings.showWarning(t)),this.userService.list().pipe(le()).subscribe(t=>{this.users=t.sort((e,i)=>e.username.toLocaleLowerCase()<i.username.toLocaleLowerCase()?-1:1)},t=>this.warnings.showWarning(t)),this.groupService.list().pipe(le()).subscribe(t=>this.groups=t,t=>this.warnings.showWarning(t)),this.adminService.getStatistics().pipe(le()).subscribe(t=>this.statistics=t,t=>this.warnings.showWarning(t)),this.campaignService.list().pipe(le()).subscribe(t=>this.campaigns=t,t=>this.warnings.showWarning(t))}ngAfterViewInit(){_i(this.adminCard.nativeElement,"fadeIn")}setRouterLinks(){this.campaignOverviewUrl=this.routingService.getRoutePath("campaign-overview")}saveNewUser(){this.userService.create(this.userModel).pipe(le()).subscribe(t=>{this.users.push(t),this.isUserCreateState=!1},t=>this.warnings.showWarning(t))}toggleUserCreateState(){this.isUserCreateState=!this.isUserCreateState,this.isUserCreateState&&(this.userModel={username:null,email:""})}removeDeletedUser(t){this.users.splice(t,1)}startDatabaseDownload(){this.adminService.downloadDatabase().pipe(le()).subscribe(t=>{const e=document.createElement("a"),i=URL.createObjectURL(t);e.href=i,e.download="db.sqlite3",e.click(),URL.revokeObjectURL(i)},t=>this.warnings.showWarning(t))}toggleCampaignCreateState(){this.isCampaignCreateState=!this.isCampaignCreateState,this.isCampaignCreateState&&(this.campaignModel={name:null,subtitle:null,background_image:null,icon:null})}createNewCampaign(){this.campaignService.create(this.campaignModel).pipe(le()).subscribe(t=>{this.campaigns.push(t),this.isCampaignCreateState=!1,this.globalUrlParams.autoUpdateCampaignSet()},t=>this.warnings.showWarning(t))}ngOnDestroy(){this.parameterSubscription&&this.parameterSubscription.unsubscribe()}}Bg.\u0275fac=function(t){return new(t||Bg)(w(ao),w(ze),w(Yt),w(up),w(he),w(dp),w(_e),w(Fe),w(Wn),w(Ve))},Bg.\u0275cmp=ie({type:Bg,selectors:[["app-admin"]],viewQuery:function(t,e){if(1&t&&dt(fie,5),2&t){let i;ke(i=Me())&&(e.adminCard=i.first)}},decls:148,vars:20,consts:[[1,"main"],["adminCard",""],[1,"btn","btn-secondary","mb-3",3,"routerLink"],[1,"fas","fa-globe-americas"],[1,"mb-3"],[1,"d-flex","justify-content-between"],[1,"mb-0"],[1,"fa","fa-user"],[1,"align-self-end","position-relative","top1"],[1,"btn","btn-dark","border-white",3,"click"],[4,"ngIf"],[1,"white-separator"],[1,"usertable"],[1,"row"],[1,"col-5","col-md-3","d-flex","flex-column"],["placement","top",1,"fa","fa-user-circle",3,"tooltipClass","ngbTooltip"],[1,"col-6","col-md-5"],["placement","top",1,"fa","fa-group",3,"ngbTooltip","tooltipClass"],[1,"col-3","hide-on-mobile"],["placement","top",1,"fa","fa-envelope-o",3,"ngbTooltip","tooltipClass"],[4,"ngFor","ngForOf"],[1,"mt-3"],[1,"fa","fa-database"],[1,"btn","btn-primary","border-white",3,"click"],[1,"container","mb-5"],[1,"fas","fa-dragon"],[1,"fa","fa-user-plus"],[1,"fa","fa-times"],[1,"my-2","card","p-3"],[3,"model","fields","formlySubmit","formlyCancel"],[1,"",3,"ngClass"],[3,"index","user","groups","delete"],[1,"col-6","col-sm-3"],[1,"ml-3"],[1,"fa","fa-plus"],[1,"row","mb-4"],[1,"col-sm-3"],[1,"mr-3","campaign-icon",3,"src","alt"]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"div",2),s(4,"\n        "),N(5,"span",3),s(6,"\n        Back To campaign overview\n    "),m(),s(7,"\n\n    "),p(8,"article"),s(9,"\n        "),s(10,"\n        "),p(11,"div",4),s(12,"\n            "),s(13,"\n            "),p(14,"div",5),s(15,"\n                "),p(16,"h3",6),s(17," \n                    "),N(18,"span",7),s(19,"\n                    Users\n                "),m(),s(20,"\n                \n                "),s(21,"\n                "),p(22,"div",8),s(23,"\n                    "),s(24,"\n                    "),p(25,"div",9),A("click",function(){return e.toggleUserCreateState()}),s(26,"\n                        "),S(27,mie,4,0,"ng-container",10),s(28,"\n                        "),S(29,gie,4,0,"ng-container",10),s(30,"\n                    "),m(),s(31,"\n                "),m(),s(32,"\n\n            "),m(),s(33,"\n    \n            "),N(34,"hr",11),s(35,"\n\n            "),s(36,"\n            "),S(37,_ie,11,2,"ng-container",10),s(38,"\n    \n            "),s(39,"\n            "),p(40,"div",12),s(41,"\n                "),s(42,"\n                "),p(43,"div",13),s(44,"\n                    "),p(45,"h4",14),s(46,"\n                        "),p(47,"div"),s(48,"\n                            "),N(49,"span",15),s(50,"\n                            Name\n                        "),m(),s(51,"\n                    "),m(),s(52,"\n                    "),p(53,"h4",16),s(54,"\n                        "),N(55,"span",17),s(56,"\n                        Groups\n                    "),m(),s(57,"\n                    "),p(58,"h4",18),s(59,"\n                        "),N(60,"span",19),s(61,"\n                        Email\n                    "),m(),s(62,"\n                "),m(),s(63,"\n    \n                "),s(64,"\n                "),S(65,yie,7,6,"ng-container",20),s(66,"\n                \n                "),p(67,"div",21),s(68,"(\u2020): Deactivated/Deleted Account "),m(),s(69,"\n\n            "),m(),s(70,"\n        "),m(),s(71,"\n\n        "),s(72,"\n        "),p(73,"div",4),s(74,"\n            "),s(75,"\n            "),p(76,"div",5),s(77,"\n                "),p(78,"h3",6),s(79," \n                    "),N(80,"span",22),s(81,"\n                    Database\n                "),m(),s(82,"\n\n                "),s(83,"\n                "),p(84,"div",8),s(85,"\n                    "),s(86,"\n                    "),p(87,"div",23),A("click",function(){return e.startDatabaseDownload()}),s(88," \n                        "),N(89,"span",22),s(90,"\n                        Download Database \n                    "),m(),s(91,"\n    \n                    "),s(92,"\n                    "),s(93,"\n                "),m(),s(94,"\n\n            "),m(),s(95,"\n\n            "),N(96,"hr",11),s(97,"\n            \n            "),s(98,"\n            "),s(99,"\n            "),p(100,"div",24),s(101,"\n                "),S(102,bie,11,2,"ng-container",20),Vt(103,"keyvalue"),s(104,"\n            "),m(),s(105,"\n        "),m(),s(106,"\n\n\n        "),s(107,"\n        "),p(108,"div",4),s(109,"\n            "),s(110,"\n            "),p(111,"div",5),s(112,"\n                "),p(113,"h3",6),s(114," \n                    "),N(115,"span",25),s(116,"\n                    Campaigns\n                    "),S(117,Cie,4,0,"ng-container",10),s(118,"\n                "),m(),s(119,"\n\n                "),s(120,"\n                "),p(121,"div",8),s(122,"\n                    "),s(123,"\n                    "),p(124,"div",23),A("click",function(){return e.toggleCampaignCreateState()}),s(125," \n                        "),S(126,wie,4,0,"ng-container",10),s(127,"\n                        "),S(128,Sie,4,0,"ng-container",10),s(129,"\n                    "),m(),s(130,"\n                "),m(),s(131," \n            "),m(),s(132,"\n\n            "),N(133,"hr",11),s(134,"\n\n            "),s(135,"\n            "),S(136,Die,7,1,"ng-container",10),s(137,"\n\n            "),s(138,"\n            "),S(139,Eie,11,2,"ng-container",10),s(140,"\n        "),m(),s(141,"\n\n        "),p(142,"div",2),s(143,"\n            "),N(144,"span",3),s(145,"\n            Back To campaign overview\n        "),m(),s(146,"\n\n    "),m(),s(147,"\n"),m()),2&t&&(_(3),v("routerLink",e.campaignOverviewUrl),_(24),v("ngIf",!e.isUserCreateState),_(2),v("ngIf",e.isUserCreateState),_(8),v("ngIf",e.isUserCreateState),_(12),v("tooltipClass","my-tooltip")("ngbTooltip","Username"),_(6),v("ngbTooltip","Access-right groups")("tooltipClass","my-tooltip"),_(5),v("ngbTooltip","Email-Address")("tooltipClass","my-tooltip"),_(5),v("ngForOf",e.users),_(37),v("ngForOf",Tn(103,18,e.statistics)),_(15),v("ngIf",e.isWaitingForCampaignCreation),_(9),v("ngIf",!e.isCampaignCreateState),_(2),v("ngIf",e.isCampaignCreateState),_(8),v("ngIf",!e.isCampaignCreateState&&!e.isWaitingForCampaignCreation),_(3),v("ngIf",e.isCampaignCreateState&&!e.isWaitingForCampaignCreation),_(3),v("routerLink",e.campaignOverviewUrl))},dependencies:[rn,Ye,me,Ht,Ym,Cs,Cn,Vg,oy],styles:[".usertable[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{line-height:1.2;margin-left:-15px;margin-right:-15px}.usertable[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%]{justify-content:center;display:flex;margin:auto}.light-row[_ngcontent-%COMP%]{background-color:#272a2d}.small-text[_ngcontent-%COMP%]{font-size:.7rem}.warning[_ngcontent-%COMP%]{background-color:#936512!important}.campaign-icon[_ngcontent-%COMP%]{max-height:2rem}@media (max-width: 768px){.hide-on-mobile[_ngcontent-%COMP%]{display:none!important}}"]});const kie=["campaignOverviewContainer"];function Mie(n,t){if(1&n&&(U(0),s(1,"\n        "),p(2,"a",15),s(3,"\n          "),N(4,"span",16),s(5,"\n          General administration\n        "),m(),s(6,"\n\n        "),p(7,"a",15),s(8,"\n          "),N(9,"i",17),s(10,"\n          "),p(11,"span"),s(12," Config Tables "),m(),s(13,"\n        "),m(),s(14,"\n      "),V()),2&n){const e=C();_(2),v("routerLink",e.generalAdminUrl),_(5),v("routerLink",e.configTableUrl)}}function xie(n,t){1&n&&(U(0),s(1,"\n        Choose your campaign\n      "),V())}function Iie(n,t){1&n&&N(0,"app-spinner")}const Pie=function(n,t,e){return{"col-sm-12":n,"col-sm-6":t,"col-sm-4":e}};function Oie(n,t){if(1&n){const e=Z();U(0),s(1,"\n          "),p(2,"a",19),A("click",function(){const o=k(e).$implicit;return x(C(3).routeToCampaign(o.name))}),s(3,"\n            "),p(4,"div",20),s(5,"\n              "),p(6,"h3",21),s(7),m(),s(8,"\n            "),m(),s(9,"\n          "),m(),s(10,"\n        "),V()}if(2&n){const e=t.$implicit,i=C(3);_(2),io("background-image","url("+i.constants.wikiUrl+e.background_image+")"),v("ngClass",vh(4,Pie,1===i.campaignData.length,2===i.campaignData.length||4===i.campaignData.length,3===i.campaignData.length||i.campaignData.length>=5)),_(5),We(e.name)}}function Aie(n,t){if(1&n&&(U(0),s(1,"\n        "),S(2,Oie,11,8,"ng-container",18),s(3,"\n      "),V()),2&n){const e=C(2);_(2),v("ngForOf",e.campaignData)}}function Nie(n,t){if(1&n&&(U(0),s(1,"\n      "),S(2,Aie,4,1,"ng-container",10),s(3,"\n    "),V()),2&n){const e=C(),i=re(41);_(2),v("ngIf",(null==e.campaignData?null:e.campaignData.length)>0)("ngIfElse",i)}}function Rie(n,t){if(1&n&&(s(0,"\n  "),p(1,"div",22),s(2,"\n    "),N(3,"img",23),s(4,"\n    "),p(5,"div",24),s(6,"\n      "),p(7,"h4",25),s(8,"\n        You have not yet been invited into any campaign.\n      "),m(),s(9,"\n      "),p(10,"div"),s(11,"\n        Please inform your DM or the person within your group administrating the webserver \n        to add you to the required permission group.\n      "),m(),s(12,"\n    "),m(),s(13,"\n  "),m(),s(14,"\n")),2&n){const e=C();_(3),v("src",e.constants.dragonFrameUrl,Yn)}}function Fie(n,t){1&n&&s(0,"\n    No Campaign available!\n")}function Lie(n,t){1&n&&(s(0,"\n  "),N(1,"app-spinner",26),s(2,"\n"))}class Hg{constructor(t,e,i){this.routingService=t,this.globalUrlParams=e,this.tokenService=i,this.constants=H,this.isLoading=!1,this.generalAdminUrl=this.routingService.getRoutePath("admin"),this.configTableUrl=this.routingService.getRoutePath("config-tables")}ngOnInit(){var t=this;return _t(function*(){t.isLoading=!0,t.profileUrl=t.routingService.getRoutePath("direct-profile",{username:t.tokenService.getCurrentUserName()}),t.globalUrlParamSubscription=t.globalUrlParams.getCampaigns().pipe(Ot(e=>null!=e)).subscribe(e=>{t.campaignData=t.sortCampaigns(e),t.onAfterCampaignDataRetrieved(e),t.isLoading=!1})})()}logout(){this.tokenService.hasTokens()&&(this.tokenService.invalidateJWTToken(),this.tokenService.removeJWTTokenFromLocalStorage()),this.routingService.routeToPath("login-state",{state:"logged-out"})}sortCampaigns(t){return t.sort((e,i)=>e.name<i.name?-1:1)}onAfterCampaignDataRetrieved(t){this.isGlobalAdmin=this.tokenService.isAdmin()||this.tokenService.isSuperUser()}routeToCampaign(t){this.campaignOverviewContainer.nativeElement.style.setProperty("--animate-duration","0.5s"),this.globalUrlParams.updateCurrentlySelectedCampaign(t),_i(this.campaignOverviewContainer.nativeElement,"slideOutLeft").then(()=>this.routingService.routeToPath("home2",{campaign:t}))}ngOnDestroy(){this.globalUrlParamSubscription&&this.globalUrlParamSubscription.unsubscribe()}}Hg.\u0275fac=function(t){return new(t||Hg)(w(he),w(Ve),w(_e))},Hg.\u0275cmp=ie({type:Hg,selectors:[["app-campaign-overview"]],viewQuery:function(t,e){if(1&t&&dt(kie,5),2&t){let i;ke(i=Me())&&(e.campaignOverviewContainer=i.first)}},decls:48,vars:8,consts:[["id","container-overview",1,"container","bg-color-black"],["campaignOverviewContainer",""],["id","campaign-overview-heading",1,"row","mx-0"],["id","heading-buttons"],[1,"btn","btn-secondary","mx-2",3,"routerLink"],[1,"fa","fa-user-circle"],[1,"btn","btn-secondary","mx-2",3,"click"],[1,"fas","fa-sign-out-alt"],[4,"ngIf"],[1,"flex-1","mb-0","text-center"],[4,"ngIf","ngIfElse"],["id","campaign-overview-body",1,"row","flex-1","mx-0"],["noCampaign",""],["noCampaignHeading",""],["campaignLoadingBody",""],[1,"btn","btn-info","mx-2",3,"routerLink"],[1,"fas","fa-user-cog"],[1,"fa","fa-table"],[4,"ngFor","ngForOf"],[1,"px-0","campaign","pointer",3,"ngClass","click"],[1,"campaign-overlay","overlay-heading","text-center"],[1,"mb-0","px-3"],[1,"w-100","h-100","position-relative","d-flex","justify-content-center"],["alt","Image of a red dragon frame",1,"w-100","h-100",3,"src"],[1,"position-absolute","frame-text"],[1,"mb-1"],[1,"m-auto"]],template:function(t,e){if(1&t&&(p(0,"div",0,1),s(2,"\n  "),p(3,"div",2),s(4,"\n    "),p(5,"div",3),s(6,"\n      "),p(7,"a",4),s(8,"\n        "),N(9,"i",5),s(10,"\n        "),p(11,"span"),s(12," Profile"),m(),s(13," \n      "),m(),s(14,"\n\n      "),p(15,"a",6),A("click",function(){return e.logout()}),s(16,"\n        "),N(17,"i",7),s(18,"\n        "),p(19,"span"),s(20," Logout"),m(),s(21," \n      "),m(),s(22,"\n\n      "),S(23,Mie,15,2,"ng-container",8),s(24,"\n    "),m(),s(25,"\n\n    "),p(26,"h3",9),s(27,"\n      "),S(28,xie,2,0,"ng-container",10),s(29,"\n      "),S(30,Iie,1,0,"app-spinner",8),s(31,"\n    "),m(),s(32,"\n  "),m(),s(33,"\n  "),p(34,"div",11),s(35,"\n    "),S(36,Nie,4,2,"ng-container",10),s(37,"\n\n  "),m(),s(38,"\n"),m(),s(39,"\n\n"),S(40,Rie,15,1,"ng-template",null,12,ae),s(42,"\n\n"),S(43,Fie,1,0,"ng-template",null,13,ae),s(45,"\n\n"),S(46,Lie,3,0,"ng-template",null,14,ae)),2&t){const i=re(44),r=re(47);v("@slideInOut",void 0),_(7),v("routerLink",e.profileUrl),_(16),v("ngIf",e.isGlobalAdmin),_(5),v("ngIf",(null==e.campaignData?null:e.campaignData.length)>0)("ngIfElse",i),_(2),v("ngIf",e.isLoading),_(6),v("ngIf",null!=e.campaignData)("ngIfElse",r)}},dependencies:[rn,Ye,me,Ht,Cs],styles:["#container-overview[_ngcontent-%COMP%]{width:100vw;min-height:100vh;max-width:unset!important;padding:0!important;display:flex;flex-direction:column}.campaign[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;background-size:cover;background-position:center;min-height:30vh;opacity:.75;transition:opacity .2s ease-in-out}.campaign[_ngcontent-%COMP%]:hover{opacity:1;border-bottom:none}.campaign-overlay[_ngcontent-%COMP%]{position:absolute;background-color:var(--wiki-background-1);z-index:1}.campaign-overlay.overlay-heading[_ngcontent-%COMP%]{width:100%;min-height:4rem;line-break:anywhere;display:flex;justify-content:center;align-items:center}.campaign[_ngcontent-%COMP%]:hover   .campaign-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--link-blue);transform:scale(1.2)}.campaign[_ngcontent-%COMP%]   .campaign-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.background-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;opacity:.5;transition:opacity .2s ease-in-out}.campaign[_ngcontent-%COMP%]:hover   .background-image[_ngcontent-%COMP%]{opacity:1}#campaign-overview-heading[_ngcontent-%COMP%]{background-color:var(--wiki-background-1);align-items:center;justify-content:center;height:10%}#campaign-overview-body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%], #campaign-overview-body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], #campaign-overview-body[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-sm[_ngcontent-%COMP%]{max-height:100%}#campaign-overview-body[_ngcontent-%COMP%]   .frame-text[_ngcontent-%COMP%]{color:#000;bottom:24%;width:50%;height:15%;text-align:center}#campaign-overview-body[_ngcontent-%COMP%]   .frame-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000}@media (max-width: 768px){.overlay-heading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}#campaign-overview-heading[_ngcontent-%COMP%]{height:unset}#campaign-overview-body[_ngcontent-%COMP%]   .frame-text[_ngcontent-%COMP%]{font-size:12px}#campaign-overview-body[_ngcontent-%COMP%]   .frame-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 576px){.campaign-row[_ngcontent-%COMP%]{flex-direction:column;flex:1}.campaign[_ngcontent-%COMP%]{border-bottom:groove white 2px;border-top:groove white 2px}.background-image[_ngcontent-%COMP%]{height:unset}#campaign-overview-heading[_ngcontent-%COMP%]{flex-direction:column}#heading-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;width:100%}#heading-buttons[_ngcontent-%COMP%]   .btn.mx-2[_ngcontent-%COMP%]{margin:0rem 0rem .5rem!important}}"],data:{animation:[function z6(n,t){return{type:7,name:n,definitions:t,options:{}}}("slideInOut",[$P(":enter",[wm({transform:"translateX(-100%)"}),FP("500ms",wm({transform:"translateX(0%)"}))]),$P(":leave",[FP("500ms",wm({transform:"translateX(-100%)"}))])])]}});class eF{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){return`${H.wikiUrlFrontendPrefix}/admin`}}function $ie(n,t){if(1&n){const e=Z();p(0,"app-formly-formcontainer",8),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("model",e.userModel)("fields",e.formlyFields)}}function Uie(n,t){if(1&n){const e=Z();p(0,"app-compare-form-container",9),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)}}class hp extends vr{constructor(t,e,i,r,o,a,c,u){super(e,i,r,o,o,c,a,u),this.formlyService=t,this.userModelClass=eF,this.updateCancelRoute={routeName:"home2",params:{campaign:null}},this.creationCancelRoute={routeName:"campaign-overview",params:{}},this.formlyFields=[this.formlyService.genericInput({key:"name",isNameInput:!0,required:!0,maxLength:400}),this.formlyService.genericInput({key:"subtitle",isNameInput:!1,required:!1,maxLength:400}),this.formlyService.genericSelect({key:"default_map",label:"Default Map",valueProp:"pk",overviewType:Ae.Map,campaign:this.campaign.name,required:!1}),this.formlyService.singleFileField({key:"background_image",required:!0}),this.formlyService.singleFileField({key:"icon",required:!0})]}getQueryParameters(t){return{name:t.campaign}}updateRouterLinks(t,e,i){this.campaignAdminUrl=this.routingService.getRoutePath("campaign-admin",{campaign:i.campaign}),this.campaignOverviewUrl=this.routingService.getRoutePath("campaign-overview")}onUpdateSuccess(t,e){this.routingService.routeToPath("campaign-admin",{campaign:t.name}),this.globalUrlParam.autoUpdateCampaignSet()}onCreationSuccess(t,e){return _t(function*(){throw"InvalidFunctionError. Campaign Update can not create campaigns"})()}}hp.\u0275fac=function(t){return new(t||hp)(w(Yt),w(Gt),w(he),w(ze),w(Wn),w(Fe),w(Ve),w(_e))},hp.\u0275cmp=ie({type:hp,selectors:[["app-campaign-update"]],features:[ce],decls:25,vars:5,consts:[[1,"main"],[1,"mb-5"],[1,"row"],[1,"col-12"],[3,"isInUpdateState","link"],[1,"text-center"],[3,"model","fields","formlySubmit","formlyCancel",4,"ngIf"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel",4,"ngIf"],[3,"model","fields","formlySubmit","formlyCancel"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel"]],template:function(t,e){1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),p(4,"div",2),s(5,"\n            "),p(6,"div",3),s(7,"\n                "),N(8,"app-edit-toggle",4),s(9,"\n            "),m(),s(10,"\n        "),m(),s(11,"\n        \n        "),s(12,"\n        "),p(13,"div"),s(14,"\n            "),p(15,"h2",5),s(16),m(),s(17,"\n        "),m(),s(18,"\n\n\n        "),s(19,"\n        "),S(20,$ie,1,2,"app-formly-formcontainer",6),s(21,"\n\n        "),S(22,Uie,1,3,"app-compare-form-container",7),s(23,"\n\n    "),m(),s(24,"\n"),m()),2&t&&(_(8),v("isInUpdateState",!0)("link",e.campaignAdminUrl),_(8),ee("\n                Updating Campaign ",e.userModel.name,"\n            "),_(4),v("ngIf",e.isInUpdateState()||e.isInCreateState()),_(2),v("ngIf",e.isInOutdatedUpdateState()))},dependencies:[me,fn,Cn,vi]});const Vie=["adminCard"];function Bie(n,t){if(1&n&&(U(0),s(1,"\n                                "),N(2,"span",14),s(3),V()),2&n){const e=C().$implicit;_(3),ee("\n                                Add ",e.name,"\n                            ")}}function Hie(n,t){if(1&n&&(U(0),s(1,"\n                                "),N(2,"span",15),s(3),V()),2&n){const e=C().$implicit;_(3),ee("\n                                Cancel ",e.name," creation\n                            ")}}function jie(n,t){1&n&&(U(0),s(1,"\n                        Load entries to see them\n                    "),V())}function zie(n,t){if(1&n&&(U(0),s(1,"\n                                            "),p(2,"th",19),s(3),m(),s(4,"\n                                        "),V()),2&n){const e=t.$implicit;_(3),ee("\n                                                ",e.key,"\n                                            ")}}function Gie(n,t){if(1&n&&(p(0,"td"),s(1),m()),2&n){const e=t.$implicit;_(1),We(e.value)}}function Wie(n,t){if(1&n){const e=Z();U(0),s(1,"\n                                        "),p(2,"tr"),s(3,"\n                                            "),p(4,"th",20),s(5),m(),s(6,"\n                                            "),S(7,Gie,2,1,"td",4),Vt(8,"keyvalue"),s(9,"\n                                            "),p(10,"td"),s(11,"\n                                                "),p(12,"app-delete-toggle",21),A("deleteEvent",function(){const o=k(e).index,a=C(3).index;return x(C().deleteTableEntry(a,o))}),m(),s(13,"\n                                            "),m(),s(14,"\n                                        "),m(),s(15,"\n                                    "),V()}if(2&n){const e=t.$implicit;_(5),gc("",e.id," ",e.pk,""),_(2),v("ngForOf",Tn(8,3,e))}}function qie(n,t){if(1&n&&(U(0),s(1,"\n                            "),p(2,"table",17),s(3,"\n                                "),s(4,"\n                                "),p(5,"thead"),s(6,"\n                                    "),p(7,"tr"),s(8,"\n                                        "),p(9,"th",18),s(10,"#"),m(),s(11,"\n                                        "),S(12,zie,5,1,"ng-container",4),Vt(13,"keyvalue"),s(14,"\n                                    "),m(),s(15,"\n                                "),m(),s(16,"\n                                "),s(17,"\n                                "),p(18,"tbody"),s(19,"\n                                    "),S(20,Wie,16,5,"ng-container",4),s(21,"\n\n                                "),m(),s(22,"\n                            "),m(),s(23,"\n                        "),V()),2&n){const e=C(2).$implicit;_(12),v("ngForOf",Tn(13,2,e.entries[0])),_(8),v("ngForOf",e.entries)}}function Qie(n,t){if(1&n&&(U(0),s(1,"\n                    "),S(2,jie,2,0,"ng-container",10),s(3,"\n    \n                    "),p(4,"div",16),s(5,"\n                        "),s(6,"\n                        "),S(7,qie,24,4,"ng-container",10),s(8,"\n\n                    "),m(),s(9,"\n    \n                "),V()),2&n){const e=C().$implicit;_(2),v("ngIf",0===e.entries.length),_(5),v("ngIf",e.entries.length>0)}}function Zie(n,t){if(1&n){const e=Z();U(0),s(1,"\n                    "),p(2,"div",22),s(3,"\n                        "),p(4,"h4"),s(5),m(),s(6,"\n                        "),s(7,"\n                        "),p(8,"app-formly-formcontainer",23),A("formlySubmit",function(){k(e);const r=C().index;return x(C().createNewTableEntry(r))})("formlyCancel",function(){k(e);const r=C().index,o=C();return x(o.createStateArray[r]=!o.createStateArray[r])}),m(),s(9,"\n                    "),m(),s(10,"\n                "),V()}if(2&n){const e=C().$implicit;_(5),ee("Adding new ",e.name,""),_(3),v("model",e.model)("fields",e.formFields)}}function Kie(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"div",5),s(3,"\n                "),s(4,"\n                "),p(5,"div",6),s(6,"\n                    "),p(7,"h3",7),s(8," \n                        "),N(9,"span"),s(10),m(),s(11,"\n                    \n                    "),s(12,"\n                    "),p(13,"div",8),s(14,"\n                        "),s(15,"\n                        "),p(16,"div",9),A("click",function(){const o=k(e).index,a=C();return x(a.createStateArray[o]=!a.createStateArray[o])}),s(17,"\n                            "),s(18,"\n                            "),S(19,Bie,4,1,"ng-container",10),s(20,"\n    \n                            "),s(21,"\n                            "),S(22,Hie,4,1,"ng-container",10),s(23,"\n                        "),m(),s(24,"\n    \n                        "),p(25,"div",11),A("click",function(){const o=k(e).index;return x(C().loadTableEntries(o))}),s(26,"\n                            "),N(27,"span",12),s(28,"\n                            Load table data\n                        "),m(),s(29,"\n                    "),m(),s(30,"\n    \n                "),m(),s(31,"\n    \n                "),N(32,"hr",13),s(33,"\n    \n                "),s(34,"\n    \n                "),S(35,Qie,10,2,"ng-container",10),s(36,"\n    \n                "),S(37,Zie,11,3,"ng-container",10),s(38,"\n\n            "),m(),s(39,"\n        "),V()}if(2&n){const e=t.$implicit,i=t.index,r=C();_(9),ji("fa fa-"+e.icon),_(1),ee("\n                        ",e.name,"\n                    "),_(9),v("ngIf",!r.createStateArray[i]),_(3),v("ngIf",r.createStateArray[i]),_(13),v("ngIf",!r.createStateArray[i]),_(2),v("ngIf",r.createStateArray[i])}}class jg{constructor(t,e,i,r,o){this.formlyService=t,this.markerTypeService=e,this.playerClassService=i,this.warnings=r,this.routingService=o,this.tables=[{name:"Marker Type",entries:[],icon:"tag",service:this.markerTypeService,model:{name:null,is_text_marker:!1,icon:null,color:null},formFields:[this.formlyService.genericInput({key:"name",isNameInput:!0}),this.formlyService.genericCheckbox({key:"is_text_marker",label:"Show name instead of Icon",defaultValue:!1}),this.formlyService.genericInput({key:"icon"}),this.formlyService.genericInput({key:"color"})]},{name:"Class",entries:[],icon:"user",service:this.playerClassService,model:{name:null},formFields:[this.formlyService.genericInput({key:"name",isNameInput:!0})]}],this.createStateArray=[],this.modelBackup=[]}ngOnInit(){for(let t of this.tables){const e=Object.assign({},t.model);this.modelBackup.push(e),this.createStateArray.push(!1)}this.updateRouterLinks()}updateRouterLinks(){this.campaignOverviewUrl=this.routingService.getRoutePath("campaign-overview")}ngAfterViewInit(){_i(this.article.nativeElement,"fadeIn")}resetModel(t){const i=Object.assign({},this.modelBackup[t]);this.tables[t].model=i}loadTableEntries(t){const e=this.tables[t];e.service.list().pipe(le()).subscribe(r=>e.entries=r.sort((o,a)=>null!=o.id&&null!=a.id?o.id-a.id:null!=o.pk&&null!=a.pk?o.pk-a.pk:void 0),r=>this.warnings.showWarning(r))}createNewTableEntry(t){const e=this.tables[t];e.service.create(e.model).pipe(le()).subscribe(r=>{e.entries.push(r),this.createStateArray[t]=!1},r=>this.warnings.showWarning(r))}deleteTableEntry(t,e){const i=this.tables[t],r=i.entries[e];i.service.delete(null==r.pk?r.id:r.pk).pipe(le()).subscribe(a=>i.entries.splice(e,1),a=>this.warnings.showWarning(a))}}function Yie(n,t){if(1&n&&(U(0),s(1,"\n            "),N(2,"app-edit-toggle",6),s(3,"\n\n            "),p(4,"h2",7),s(5),m(),s(6,"\n        "),V()),2&n){const e=C();_(2),v("isInUpdateState",!0)("link",e.updateCancelUrl),_(3),ee("\n                Updating Creature ",e.userModel.name,"\n            ")}}function Jie(n,t){if(1&n&&(s(0,"\n            "),N(1,"app-edit-toggle",6),s(2,"\n\n            "),p(3,"h2",7),s(4,"\n                Adding a new Creature\n            "),m(),s(5,"\n        ")),2&n){const e=C();_(1),v("isInUpdateState",!0)("link",e.creationCancelUrl)}}function Xie(n,t){if(1&n){const e=Z();p(0,"app-formly-formcontainer",8),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("model",e.userModel)("fields",e.formlyFields)}}function ere(n,t){if(1&n){const e=Z();p(0,"app-compare-form-container",9),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)}}jg.\u0275fac=function(t){return new(t||jg)(w(Yt),w(Gu),w(Nc),w(ze),w(he))},jg.\u0275cmp=ie({type:jg,selectors:[["app-config-tables"]],viewQuery:function(t,e){if(1&t&&dt(Vie,5),2&t){let i;ke(i=Me())&&(e.article=i.first)}},decls:19,vars:3,consts:[[1,"main"],["adminCard",""],[1,"btn","btn-secondary","mb-3",3,"routerLink"],[1,"fas","fa-globe-americas"],[4,"ngFor","ngForOf"],[1,"mb-3"],[1,"d-flex","justify-content-between"],[1,"mb-0"],[1,"align-self-end","position-relative","top1"],[1,"btn","btn-dark","border-white",3,"click"],[4,"ngIf"],[1,"btn","btn-primary","border-white",3,"click"],[1,"fa","fa-refresh"],[1,"white-separator"],[1,"fa","fa-plus"],[1,"fa","fa-times"],[1,"scroll-sideways"],[1,"table","table-dark","table-striped"],["scope","col"],["scope","col",1,"text-uppercase"],["scope","row"],[3,"deleteEvent"],[1,"my-2","card","p-3"],[3,"model","fields","formlySubmit","formlyCancel"]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article"),s(4,"\n        "),p(5,"div",2),s(6,"\n            "),N(7,"span",3),s(8,"\n            Back To campaign overview\n        "),m(),s(9,"\n\n        "),s(10,"\n        "),S(11,Kie,40,7,"ng-container",4),s(12,"\n\n        "),p(13,"div",2),s(14,"\n            "),N(15,"span",3),s(16,"\n            Back To campaign overview\n        "),m(),s(17,"\n    "),m(),s(18,"\n"),m()),2&t&&(_(5),v("routerLink",e.campaignOverviewUrl),_(6),v("ngForOf",e.tables),_(2),v("routerLink",e.campaignOverviewUrl))},dependencies:[Ye,me,Ht,bs,Cn,oy],styles:["table.table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1.5rem}"]});class pp extends vr{constructor(t,e,i,r,o,a,c,u,h){super(e,a,o,t,c,u,r,h),this.formlyService=i,this.warnings=o,this.routingService=a,this.campaignService=c,this.userModelClass=$b,this.formlyFields=[this.formlyService.genericInput({key:"name",isNameInput:!0})]}updateRouterLinks(t,e,i){this.updateCancelUrl=this.routingService.getRoutePath("creature",{name:e?.name,campaign:t}),this.creationCancelUrl=this.routingService.getRoutePath("creature-overview",{campaign:t})}}pp.\u0275fac=function(t){return new(t||pp)(w(Ba),w(Gt),w(Yt),w(Fe),w(ze),w(he),w(Wn),w(Ve),w(_e))},pp.\u0275cmp=ie({type:pp,selectors:[["app-creature-article-update"]],features:[ce],decls:16,vars:4,consts:[[1,"main"],[1,"mb-5"],[4,"ngIf","ngIfElse"],["createState",""],[3,"model","fields","formlySubmit","formlyCancel",4,"ngIf"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel",4,"ngIf"],[3,"isInUpdateState","link"],[1,"text-center"],[3,"model","fields","formlySubmit","formlyCancel"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),s(4,"\n        "),S(5,Yie,7,3,"ng-container",2),s(6,"\n        "),S(7,Jie,6,2,"ng-template",null,3,ae),s(9,"\n\n\n        "),s(10,"\n        "),S(11,Xie,1,2,"app-formly-formcontainer",4),s(12,"\n\n        "),S(13,ere,1,3,"app-compare-form-container",5),s(14,"\n\n    "),m(),s(15,"\n"),m()),2&t){const i=re(8);_(5),v("ngIf",(e.isInUpdateState()||e.isInOutdatedUpdateState())&&e.userModel)("ngIfElse",i),_(6),v("ngIf",e.isInUpdateState()||e.isInCreateState()),_(2),v("ngIf",e.isInOutdatedUpdateState())}},dependencies:[me,fn,Cn,vi]});const tF={name:"isInvalidSessionAuthorPair",message:"\n    The author you selected already has a diaryentry in the session you selected. You \n    can't have 2 diaryentries from the same author in the same session. Consider writing \n    your diaryentry as an encounter instead into the diaryentry at the spot you just considered."};function nF(n){return n.value||0===n.value?null:{required:!0}}const dre={name:"required",validation:nF},hre={name:"requiredIcon",validation:nF},vre={name:"notInteger",validation:function _re(n){return"number"==typeof n.value&&Number.isInteger(n.value)?null:{notInteger:!0}}};function DT(){return DT=_t(function*(n){const{session:t,author:e}=n.value,a=(yield n.controls.session._fields[0].templateOptions.options.toPromise()).find(f=>f.pk===t);if(null==a)throw"WeirdError. You selected a session, its id got into the model and somehow that field is no longer among the options (?)";return a.author_ids.includes(e)&&!n.pristine?{passwordMatch:{message:"That account already has a diaryentry written for that session. Accounts can only have one Diaryentry per session"}}:null}),DT.apply(this,arguments)}const Tre={name:"sessionAuthorPairUnique",validation:function Sre(n){return DT.apply(this,arguments)}};function Dre(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"app-edit-toggle",6),s(3,"\n            "),m(),s(4,"\n\n            "),p(5,"h2",7),s(6),m(),s(7,"\n        "),V()),2&n){const e=C();_(2),v("isInUpdateState",!0)("link",e.updateCancelUrl),_(4),ee('\n                Updating Diaryentry "',e.userModel.title,'"\n            ')}}function Ere(n,t){if(1&n){const e=Z();p(0,"app-formly-formcontainer",8),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("model",e.userModel)("fields",e.formlyFields)}}function kre(n,t){if(1&n){const e=Z();p(0,"app-compare-form-container",9),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)}}function Mre(n,t){if(1&n&&(s(0,"\n    "),p(1,"app-edit-toggle",6),s(2,"\n    "),m(),s(3,"\n    \n    "),p(4,"h2",7),s(5,"\n        Creating a new Diaryentry\n    "),m(),s(6,"\n")),2&n){const e=C();_(1),v("isInUpdateState",!0)("link",e.creationCancelUrl)}}class fp extends vr{constructor(t,e,i,r,o,a,c,u,h){super(i,a,o,e,c,u,r,h),this.formlyService=t,this.routingService=a,this.userModelClass=yg,this.formlyFields=[this.formlyService.genericInput({key:"title",isNameInput:!0}),{asyncValidators:{validation:[{name:"sessionAuthorPairUnique",options:{errorPath:"session"}}]},fieldGroup:[this.formlyService.genericSelect({key:"author",labelProp:"username",sortProp:"username",overviewType:Ae.User,campaign:this.campaign.name}),this.formlyService.genericDisableSelect({key:"session",overviewType:Ae.Session,campaign:this.campaign.name,disabledExpression:this.hasDiaryentryForAuthor,tooltipMessage:"Sessions may be impossible to select if the selected author already has a diaryentry for that session.",warningMessage:tF.message,wrappers:["session-update-wrapper"],showWrapperLabel:!1})]}]}updateRouterLinks(t,e,i){this.updateCancelUrl=this.routingService.getRoutePath("diaryentry",{campaign:t,isMainSession:e.session_details?.is_main_session_int,sessionNumber:e.session_details?.session_number,authorName:e.author_details?.name}),this.creationCancelUrl=this.routingService.getRoutePath("diaryentry-overview",{campaign:t})}hasDiaryentryForAuthor(t,e,i,r){return!(r.pristine&&i.session===t.pk)&&t.author_ids.includes(i.author)}onCreationSuccess(t){this.routingService.routeToPath("diaryentry",{sessionNumber:t.session_details.session_number,isMainSession:t.session_details.is_main_session_int,authorName:t.author_details.name,campaign:this.campaign.name,displayMode:"encounter"})}}function xre(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"app-edit-toggle",6),s(3,"\n            "),m(),s(4,"\n\n            "),p(5,"h2",7),s(6),m(),s(7,"\n        "),V()),2&n){const e=C();_(2),v("isInUpdateState",!0)("link",e.updateCancelUrl),_(4),ee("\n                Updating Item ",e.userModel.name,"\n            ")}}function Ire(n,t){if(1&n){const e=Z();p(0,"app-formly-formcontainer",8),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("model",e.userModel)("fields",e.formlyFields)}}function Pre(n,t){if(1&n){const e=Z();p(0,"app-compare-form-container",9),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)}}function Ore(n,t){if(1&n&&(s(0,"\n    "),p(1,"app-edit-toggle",6),s(2,"\n    "),m(),s(3,"\n\n    "),p(4,"h2",7),s(5,"\n        Creating a new Item\n    "),m(),s(6,"\n")),2&n){const e=C();_(1),v("isInUpdateState",!0)("link",e.creationCancelUrl)}}fp.\u0275fac=function(t){return new(t||fp)(w(Yt),w(Ks),w(Gt),w(Fe),w(ze),w(he),w(Wn),w(Ve),w(_e))},fp.\u0275cmp=ie({type:fp,selectors:[["app-diaryentry-article-update"]],features:[ce],decls:16,vars:4,consts:[[1,"main"],[1,"mb-5"],[4,"ngIf","ngIfElse"],[3,"model","fields","formlySubmit","formlyCancel",4,"ngIf"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel",4,"ngIf"],["createState",""],[3,"isInUpdateState","link"],[1,"text-center"],[3,"model","fields","formlySubmit","formlyCancel"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),s(4,"\n        "),S(5,Dre,8,3,"ng-container",2),s(6,"\n\n        "),s(7,"\n        "),S(8,Ere,1,2,"app-formly-formcontainer",3),s(9,"\n\n        "),S(10,kre,1,3,"app-compare-form-container",4),s(11,"\n\n    "),m(),s(12,"\n"),m(),s(13,"\n\n"),S(14,Mre,7,2,"ng-template",null,5,ae)),2&t){const i=re(15);_(5),v("ngIf",(e.isInUpdateState()||e.isInOutdatedUpdateState())&&e.userModel)("ngIfElse",i),_(3),v("ngIf",e.isInUpdateState()||e.isInCreateState()),_(2),v("ngIf",e.isInOutdatedUpdateState())}},dependencies:[me,fn,Cn,vi]});class Yu extends vr{constructor(t,e,i,r,o,a,c,u,h,f){super(i,c,a,t,u,h,r,f),this.characterService=e,this.formlyService=o,this.campaignService=u,this.userModelClass=bg,this.formlyFields=[this.formlyService.genericInput({key:"name",isNameInput:!0}),this.formlyService.genericSelect({key:"owner",overviewType:Ae.Character,campaign:this.campaign.name,required:!1})]}updateRouterLinks(t,e,i){this.updateCancelUrl=this.routingService.getRoutePath("item",{campaign:t,name:i.name}),this.creationCancelUrl=this.routingService.getRoutePath("item-overview",{campaign:t})}onCancel(){this.isForAssociatedObjectCreation()?this.routingService.routeToPath("character",{name:this.route.snapshot.params.character_name,campaign:this.campaign.name}):vr.prototype.onCancel(this)}isForAssociatedObjectCreation(){return this.routingService.routeNameMatches(this.route,"item-character-create")}}Yu.\u0275fac=function(t){return new(t||Yu)(w(Ha),w(or),w(Gt),w(Fe),w(Yt),w(ze),w(he),w(Wn),w(Ve),w(_e))},Yu.\u0275cmp=ie({type:Yu,selectors:[["app-item-article-update"]],features:[ce],decls:16,vars:4,consts:[[1,"main"],[1,"mb-5"],[4,"ngIf","ngIfElse"],[3,"model","fields","formlySubmit","formlyCancel",4,"ngIf"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel",4,"ngIf"],["createState",""],[3,"isInUpdateState","link"],[1,"text-center"],[3,"model","fields","formlySubmit","formlyCancel"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),s(4,"\n        "),S(5,xre,8,3,"ng-container",2),s(6,"\n\n        "),s(7,"\n        "),S(8,Ire,1,2,"app-formly-formcontainer",3),s(9,"\n\n        "),S(10,Pre,1,3,"app-compare-form-container",4),s(11,"\n\n    "),m(),s(12,"\n"),m(),s(13,"\n\n        \n"),S(14,Ore,7,2,"ng-template",null,5,ae)),2&t){const i=re(15);_(5),v("ngIf",(e.isInUpdateState()||e.isInOutdatedUpdateState())&&e.userModel)("ngIfElse",i),_(3),v("ngIf",e.isInUpdateState()||e.isInCreateState()),_(2),v("ngIf",e.isInOutdatedUpdateState())}},dependencies:[me,fn,Cn,vi]});class zg{constructor(t,e,i,r,o,a){this.markerService=t,this.locationService=e,this.route=i,this.formlyService=r,this.warnings=o,this.routingService=a,this.constants=H,this.campaign=this.route.snapshot.params.campaign,this.locationForm=new Gi({}),this.markerForm=new Gi({}),this.location_fields=[this.formlyService.genericInput({key:"name",isNameInput:!0}),this.formlyService.genericSelect({key:"parent_location",label:"Parent Location",overviewType:Ae.Location,sortProp:"name_full",campaign:this.campaign,required:!1})],this.marker_fields=[this.formlyService.genericInput({key:"latitude",isNumberInput:!0}),this.formlyService.genericInput({key:"longitude",isNumberInput:!0}),this.formlyService.genericSelect({key:"map",overviewType:Ae.Map,campaign:this.campaign}),this.formlyService.genericSelect({key:"type",labelProp:"name",valueProp:"id",label:"Marker Type",overviewType:Ae.MarkerTypeType,campaign:this.campaign}),this.formlyService.genericInput({key:"color",label:"Custom Color",required:!1}),this.formlyService.genericInput({key:"icon",label:"Custom Icon",required:!1})]}ngOnInit(){this.markerModel=this.route.snapshot.data.markerModelData,this.locationModel=this.route.snapshot.data.locationModelData,this.updateRouterLinks(this.campaign,this.route.snapshot.params)}updateRouterLinks(t,e){this.mapUrl=this.routingService.getRoutePath("map",{name:e.map_name,campaign:t})}onSubmit(){this.locationService.create(this.locationModel).pipe(le()).subscribe(t=>{this.markerModel.location=t.pk,this.markerService.create(this.markerModel).pipe(le()).subscribe(e=>this.routingService.routeToApiObject(t),e=>this.warnings.showWarning(e))},t=>this.warnings.showWarning(t))}onCancel(){this.routingService.routeToPath("map",{name:this.mapName,campaign:this.campaign})}ngOnDestroy(){this.parameter_subscription&&this.parameter_subscription.unsubscribe()}}function Are(n,t){if(1&n&&(U(0),s(1,"\n            "),N(2,"app-edit-toggle",6),s(3,"\n\n            "),p(4,"h2",7),s(5),m(),s(6,"\n        "),V()),2&n){const e=C();_(2),v("isInUpdateState",!0)("link",e.updateCancelUrl),_(3),ee("\n                Updating Location ",e.userModel.name,"\n            ")}}function Nre(n,t){if(1&n){const e=Z();p(0,"app-formly-formcontainer",8),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("model",e.userModel)("fields",e.formlyFields)}}function Rre(n,t){if(1&n){const e=Z();p(0,"app-compare-form-container",9),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)}}function Fre(n,t){if(1&n&&(s(0,"\n    "),N(1,"app-edit-toggle",6),s(2,"\n\n    "),p(3,"h2",7),s(4,"\n        Adding a new Location\n    "),m(),s(5,"\n")),2&n){const e=C();_(1),v("isInUpdateState",!0)("link",e.creationCancelUrl)}}zg.\u0275fac=function(t){return new(t||zg)(w(zo),w(so),w(Fe),w(Yt),w(ze),w(he))},zg.\u0275cmp=ie({type:zg,selectors:[["app-location-article-map-create"]],decls:41,vars:9,consts:[[1,"main"],[1,"mb-5"],[3,"isInUpdateState","link"],[1,"text-center"],[3,"formGroup","submit"],[1,"mb-0"],[3,"form","fields","model"],[1,"btn","btn-dark","mr-3",3,"click"],["type","submit",1,"btn","btn-secondary"]],template:function(t,e){1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),N(4,"app-edit-toggle",2),s(5,"\n        \n        "),p(6,"h2",3),s(7," Adding Location and Marker "),m(),s(8,"\n\n        "),s(9,"\n        "),p(10,"form",4),A("submit",function(){return e.onSubmit()}),s(11,"\n            "),s(12,"\n            "),p(13,"div",1),s(14,"\n                "),p(15,"h5",5),s(16," Location Fields "),m(),s(17,"\n                "),p(18,"formly-form",6),s(19,"\n                "),m(),s(20,"    \n            "),m(),s(21,"\n\n            "),s(22,"\n            "),p(23,"div"),s(24,"\n                "),p(25,"h5",5),s(26," Marker Fields "),m(),s(27,"\n                "),p(28,"formly-form",6),s(29,"\n                "),m(),s(30,"\n            "),m(),s(31,"\n            \n            "),s(32,"\n            "),p(33,"div",7),A("click",function(){return e.onCancel()}),s(34,"Cancel"),m(),s(35,"\n            "),p(36,"button",8),s(37,"Submit"),m(),s(38,"\n        "),m(),s(39,"\n    "),m(),s(40,"\n"),m()),2&t&&(_(4),v("isInUpdateState",!0)("link",e.mapUrl),_(6),v("formGroup",e.locationForm),_(8),v("form",e.locationForm)("fields",e.location_fields)("model",e.locationModel),_(10),v("form",e.markerForm)("fields",e.marker_fields)("model",e.markerModel))},dependencies:[Vr,Ur,Il,ep,fn]});class Ju extends vr{constructor(t,e,i,r,o,a,c,u,h){super(i,a,o,e,c,u,r,h),this.formlyService=t,this.userModelClass=Vu,this.formlyFields=[this.formlyService.genericInput({key:"name",isNameInput:!0}),this.formlyService.genericDisableSelect({key:"parent_location",label:"Parent Location",overviewType:Ae.Location,sortProp:"name_full",campaign:this.campaign.name,required:!1,disabledExpression:f=>this.isSameLocation(f,this.userModel)||this.isChildLocation(this.userModel,f),tooltipMessage:"The location that contains this new location, e.g. the location 'Mayor's House' within the location 'Small city Lundorf'",warningMessage:"The location you selected can't have the same name as the location that is trying to contain it! That would mean that this location contained itself!"})]}isSameLocation(t,e){return t.name===e.name}isChildLocation(t,e){return e.parent_location===t.pk}updateRouterLinks(t,e,i){this.updateCancelUrl=this.routingService.getRoutePath("location",{name:e.name,parent_name:e.parent_location_details?.name,campaign:t}),this.creationCancelUrl=this.routingService.getRoutePath("location-overview",{campaign:t})}onCancel(){this.isForAssociatedObjectCreation()?this.routingService.routeToPath("location",{name:this.userModel.parent_location_details.name,parent_name:this.userModel.parent_location_details.parent_location}):vr.prototype.onCancel(this)}isForAssociatedObjectCreation(){return this.routingService.routeNameMatches(this.route,"location-parentlocation-create")}}function Lre(n,t){if(1&n&&(U(0),s(1,"\n            "),N(2,"app-edit-toggle",6),s(3,"\n\n            "),p(4,"h2",7),s(5),m(),s(6,"\n        "),V()),2&n){const e=C();_(2),v("isInUpdateState",!0)("link",e.updateCancelUrl),_(3),ee(" Updating Map ",e.userModel.name," ")}}function $re(n,t){if(1&n){const e=Z();p(0,"app-formly-formcontainer",8),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("model",e.userModel)("fields",e.formlyFields)}}function Ure(n,t){if(1&n){const e=Z();p(0,"app-compare-form-container",9),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)}}function Vre(n,t){if(1&n&&(s(0,"\n    "),N(1,"app-edit-toggle",6),s(2,"\n\n    "),p(3,"h2",7),s(4," Adding a new Map "),m(),s(5,"\n")),2&n){const e=C();_(1),v("isInUpdateState",!0)("link",e.creationCancelUrl)}}Ju.\u0275fac=function(t){return new(t||Ju)(w(Yt),w(so),w(Gt),w(Fe),w(ze),w(he),w(Wn),w(Ve),w(_e))},Ju.\u0275cmp=ie({type:Ju,selectors:[["app-location-article-update"]],features:[ce],decls:16,vars:4,consts:[[1,"main"],[1,"mb-5"],[4,"ngIf","ngIfElse"],[3,"model","fields","formlySubmit","formlyCancel",4,"ngIf"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel",4,"ngIf"],["createState",""],[3,"isInUpdateState","link"],[1,"text-center"],[3,"model","fields","formlySubmit","formlyCancel"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),s(4,"\n        "),S(5,Are,7,3,"ng-container",2),s(6,"\n\n        "),s(7,"\n        "),S(8,Nre,1,2,"app-formly-formcontainer",3),s(9,"\n\n        "),S(10,Rre,1,3,"app-compare-form-container",4),s(11,"\n\n    "),m(),s(12,"\n"),m(),s(13,"\n\n"),S(14,Fre,6,2,"ng-template",null,5,ae)),2&t){const i=re(15);_(5),v("ngIf",(e.isInUpdateState()||e.isInOutdatedUpdateState())&&e.userModel)("ngIfElse",i),_(3),v("ngIf",e.isInUpdateState()||e.isInCreateState()),_(2),v("ngIf",e.isInOutdatedUpdateState())}},dependencies:[me,fn,Cn,vi]});class mp extends vr{constructor(t,e,i,r,o,a,c,u,h){super(i,a,o,e,c,u,r,h),this.formlyService=t,this.warnings=o,this.routingService=a,this.userModelClass=Zh,this.formlyFields=[this.formlyService.genericInput({key:"name",isNameInput:!0,required:!0}),this.formlyService.genericInput({key:"icon",label:"Map Icon",validators:["faPrefix"],required:!1}),this.formlyService.singleFileField({key:"image",label:"Map Image",required:this.isInCreateState()})]}ngOnInit(){super.ngOnInit(),this.userModel.icon=this.extractIconNameFromPath(this.userModel.icon)}extractIconNameFromPath(t){const e=t.split("/");return e[e.length-1]}updateRouterLinks(t,e,i){this.updateCancelUrl=this.routingService.getRoutePath("map",{name:e.name,campaign:t}),this.creationCancelUrl=this.routingService.getRoutePath("default-map",{campaign:t})}articleUpdate(t){this.hasImageSelected(t.image)||delete t.image,super.articleUpdate(t)}hasImageSelected(t){return"FileList"===t.constructor.name}}mp.\u0275fac=function(t){return new(t||mp)(w(Yt),w(jr),w(Gt),w(Fe),w(ze),w(he),w(Wn),w(Ve),w(_e))},mp.\u0275cmp=ie({type:mp,selectors:[["app-map-update"]],features:[ce],decls:16,vars:4,consts:[[1,"main"],[1,"mb-5"],[4,"ngIf","ngIfElse"],[3,"model","fields","formlySubmit","formlyCancel",4,"ngIf"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel",4,"ngIf"],["createState",""],[3,"isInUpdateState","link"],[1,"text-center"],[3,"model","fields","formlySubmit","formlyCancel"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),s(4,"\n        "),S(5,Lre,7,3,"ng-container",2),s(6,"\n\n        "),s(7,"\n        "),S(8,$re,1,2,"app-formly-formcontainer",3),s(9,"\n\n        "),S(10,Ure,1,3,"app-compare-form-container",4),s(11,"\n\n    "),m(),s(12," \n"),m(),s(13,"\n\n"),S(14,Vre,6,2,"ng-template",null,5,ae)),2&t){const i=re(15);_(5),v("ngIf",(e.isInUpdateState()||e.isInOutdatedUpdateState())&&e.userModel)("ngIfElse",i),_(3),v("ngIf",e.isInUpdateState()||e.isInCreateState()),_(2),v("ngIf",e.isInOutdatedUpdateState())}},dependencies:[me,fn,Cn,vi]});var Ga=ue(407);class Gg{constructor(t){this.routingService=t,this.hideCoordinatesState=!0}ngAfterContentInit(){setTimeout(()=>this.initMap(),0)}initMap(){this.leafletMap=Ga.map("leafletMapDiv",{crs:Ga.CRS.Simple,minZoom:-1,maxZoom:2}),this.addMapImage(),this.addMarkers(),this.setMapEventListeners()}setMapEventListeners(){this.leafletMap.on("mousemove",t=>{this.mouseLatitude=t.latlng.lat,this.mouseLongitude=t.latlng.lng}),this.leafletMap.on("click",t=>{const e=parseInt(t.latlng.lat),i=parseInt(t.latlng.lng),r=this.makeFreePopupContentHTML(i,e);Ga.popup().setLatLng([e,i]).setContent(r).openOn(this.leafletMap)})}makeFreePopupContentHTML(t,e){return`\n      <div class="mb-2 pointer"> \n        <a href="${this.routingService.getRoutePath("marker-map-create",{latitude:e,longitude:t,map_name:this.map.name,campaign:this.campaign.name})}">\n          <i class="fa fa-map-marker"></i> Add Marker\n        </a>\n      </div>\n\n      <div class="pointer"> \n        <a href="${this.routingService.getRoutePath("location-map-create",{latitude:e,longitude:t,map_name:this.map.name,campaign:this.campaign.name})}">\n          <i class="fa fa-home"></i> Add Marker and Location\n        </a>\n      </div>\n    `}addMapImage(){const t=[[200,140],[800,1160]];Ga.imageOverlay(H.wikiUrl+this.map.image,t).addTo(this.leafletMap),this.leafletMap.fitBounds(t)}addMarkers(){const t={};for(let e of this.map.markers){const i=e.type_details.name,r=t.hasOwnProperty(i)?t[i]:Ga.layerGroup();t[i]=r,(e.type_details.is_text_marker?this.createTextMarker(e):this.createAwesomeMarker(e)).addTo(r)}for(const e in t)t[e].addTo(this.leafletMap);Ga.control.layers(null,t,{sortLayers:!0}).addTo(this.leafletMap)}createTextMarker(t){const e=this.getMarkerColor(t),i=["beige","lightgreen"].includes(e)?"black":"white";return Ga.marker([t.latitude,t.longitude],{icon:Ga.divIcon({html:`\n        <div class="leaflet-text-marker bg-color-${e} text-color-${i}">\n          <strong>${t.location_details.name}</strong>\n        </div>\n        `})}).bindPopup(this.getPopupText(t)).bindTooltip(t.location_details.name)}getMarkerColor(t){return t.color?t.color:t.type_details.color?t.type_details.color:"grey"}getPopupText(t){return`${this.makeLocationHeading(t)} <br> ${this.makeLocationDescription(t)} <br> ${this.makeSublocationList(t)}`}makeLocationHeading(t){return`<a href="${this.routingService.getRoutePath("location",{campaign:this.campaign.name,parent_name:t.location_details.parent_location_name,name:t.location_details.name})}"> <b>${t.location_details.name}</b> </a>`}makeLocationDescription(t){let e=t.location_details.description;return null==e?"":e.split(" ").length>=35?`${e.split(" ").slice(0,35)} ...`:e}makeSublocationList(t){if(t.location_details.sublocations.length>0){const e='<h5 class="popup-heading"> Locations of Interest: </h5>';let i=" <ul>";for(let r of t.location_details.sublocations)i+=`<li><a href="${this.routingService.getRoutePath("location",{parent_name:t.location_details.name,name:r,campaign:this.campaign.name})}"> ${r}</a></li>`;return i+="</ul>",`${e} ${i}`}return""}createAwesomeMarker(t){return Ga.marker([t.latitude,t.longitude],{icon:this.divIcon(t)}).bindPopup(this.getPopupText(t)).bindTooltip(t.location_details.name)}divIcon(t){const a=t.color||t.type_details.color;return Ga.divIcon({className:"custom-div-icon",html:`<div style='background-color:${a};' class='marker-pin'></div><i class='d-flex justify-content-center ${t.type_details.fontawesome_type} fa-${t.type_details.icon} awesome'>`,iconSize:[30,42],iconAnchor:[15,42],color:a})}}Gg.\u0275fac=function(t){return new(t||Gg)(w(he))},Gg.\u0275cmp=ie({type:Gg,selectors:[["app-leaflet-map"]],inputs:{map:"map",campaign:"campaign"},decls:2,vars:0,consts:[["id","leafletMapDiv"]],template:function(t,e){1&t&&(s(0,"\n"),N(1,"div",0))},styles:[".map-frame[_ngcontent-%COMP%]{border:2px solid black;height:600px;width:100%;margin:0 auto 2rem}#leafletMapDiv[_ngcontent-%COMP%]{height:600px;width:100%;margin:0 auto}.w-15[_ngcontent-%COMP%]{width:15%}"]});const Bre=["mapChoice"];function Hre(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"div",13),s(3,"\n                "),p(4,"div",14),s(5,"\n                    "),N(6,"app-edit-toggle",15),s(7,"\n                "),m(),s(8,"\n            "),m(),s(9,"\n        "),V()),2&n){const e=C();_(6),v("isInUpdateState",!1)("link",e.updateMapUrl)}}function jre(n,t){if(1&n&&(U(0),s(1,"\n                            "),p(2,"option",21),s(3),m(),s(4,"\n                        "),V()),2&n){const e=t.$implicit;_(2),v("value",e.name),_(1),We(e.name)}}function zre(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"div",16),s(3,"\n                "),p(4,"h3",17),s(5,"\n                    "),s(6,"\n                    "),s(7,"\n                    Map of\n                    "),p(8,"select",18,19),A("change",function(r){return k(e),x(C().onMapChange(r))}),s(10,"\n                        "),S(11,jre,5,2,"ng-container",20),s(12,"\n                    "),m(),s(13," \n                "),m(),s(14,"\n            "),m(),s(15,"\n        "),V()}if(2&n){const e=C();_(11),v("ngForOf",e.maps)}}function Gre(n,t){if(1&n&&(p(0,"div",23),s(1,"\n                    "),N(2,"app-leaflet-map",24),s(3,"\n                "),m()),2&n){const e=C(2);_(2),v("map",e.articleData)("campaign",e.campaign)}}function Wre(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"div",13),s(3,"\n                "),S(4,Gre,4,2,"div",22),s(5,"\n            "),m(),s(6,"\n        "),V()),2&n){const e=C(),i=re(37);_(4),v("ngIf",e.articleData)("ngIfElse",i)}}function qre(n,t){if(1&n){const e=Z();p(0,"app-article-footer",25),A("delete",function(){return k(e),x(C().deleteMap())}),m()}if(2&n){const e=C();v("link",e.homeUrl)("label","Back to Frontpage")("deleteMessage","Delete Map of "+e.articleData.name+"?")}}function Qre(n,t){if(1&n&&(U(0),s(1,"\n        "),p(2,"div",26),s(3,"\n            "),p(4,"p",27),s(5," "),p(6,"strong"),s(7," There's no map yet! Want to add one? "),m(),s(8," "),m(),s(9,"\n            "),p(10,"a",28),s(11,"\n                "),N(12,"span",7),s(13,"\n                Add Map\n            "),m(),s(14,"\n        "),m(),s(15,"\n    "),V()),2&n){const e=C(2);_(10),v("routerLink",e.createMapUrl)}}function Zre(n,t){if(1&n&&(s(0,"\n    "),S(1,Qre,16,1,"ng-container",8),s(2,"\n")),2&n){const e=C(),i=re(33);_(1),v("ngIf",e.hasCreatePermission)("ngIfElse",i)}}function Kre(n,t){if(1&n&&(s(0,"\n    "),p(1,"div",26),s(2,"\n        "),p(3,"p",27)(4,"strong"),s(5," There's no map yet, but maybe there will be in the future! "),m()(),s(6,"\n        "),p(7,"a",29),s(8,"\n            Back to home page\n        "),m(),s(9,"\n    "),m(),s(10,"\n")),2&n){const e=C();_(7),v("routerLink",e.homeUrl)}}function Yre(n,t){1&n&&N(0,"app-spinner")}class gp extends co{constructor(t,e,i,r,o,a,c){super(e,t,r,i,o,a),this.route=t,this.warnings=i,this.routingService=r,this.router=c,this.deleteRoute={routeName:"character-overview",params:{campaign:null}}}ngOnInit(){var t=this;return _t(function*(){t.campaign=t.route.snapshot.data.campaign;const e=t.route.snapshot.data.article;t.articleData=e.mapData,t.maps=e.maps,t.updateDynamicVariables(t.campaign,t.articleData,null)})()}updateDynamicVariables(t,e,i){this.createMapUrl=this.routingService.getRoutePath("map-create",{campaign:t.name}),this.homeUrl=this.routingService.getRoutePath("home1",{campaign:t.name}),this.updateMapUrl=this.routingService.getRoutePath("map-update",{campaign:t.name,name:e?.name})}ngAfterViewInit(){super.ngAfterViewInit(),this.setInitialMapChoiceValue()}setInitialMapChoiceValue(){let e=this.route.snapshot.params.name;if(null==e&&(e=this.campaign.default_map_details?.name),null==e)return;const i=this.getMapOptionIndex(e);this.getMapChoiceElement().selectedIndex=i}getMapChoiceElement(){return this.mapChoice.first.nativeElement}getMapOptionIndex(t){const e=this.getMapChoiceElement().options;for(let i=0;i<e.length;i++)if(e[i].value===t)return i;throw`${t} is not a valid map name. There is no map with this name on the page!`}routeToMap(t){const e=this.routingService.getRoutePath("map",{name:t,campaign:this.campaign.name});this.router.navigateByUrl(e)}onMapChange(t){this.routeToMap(t.target.value)}deleteMap(){this.articleService.delete(this.articleData.pk).pipe(le()).subscribe(t=>{const e=this.maps.findIndex(r=>this.articleData.name===r.name);this.maps.splice(e,1);const i=this.getSecondaryMapChoice();null!=i?this.routeToMap(i):this.routingService.routeToPath("default-map",{campaign:this.campaign.name})},t=>this.warnings.showWarning(t))}getSecondaryMapChoice(){if(0===this.maps.length)return;const t=this.campaign.default_map_details?.name;return t??this.maps[0].name}}gp.\u0275fac=function(t){return new(t||gp)(w(Fe),w(jr),w(ze),w(he),w(Ve),w(_e),w(Gt))},gp.\u0275cmp=ie({type:gp,selectors:[["app-map"]],viewQuery:function(t,e){if(1&t&&dt(Bre,5),2&t){let i;ke(i=Me())&&(e.mapChoice=i)}},features:[ce],decls:38,vars:6,consts:[[1,"main"],["article",""],[1,"container"],[4,"ngIf"],[1,"row","mb-3"],[1,"col-md-3",3,"routerLink"],[1,"btn","btn-primary","w-100"],[1,"fas","fa-plus"],[4,"ngIf","ngIfElse"],[3,"link","label","deleteMessage","delete",4,"ngIf"],["noMapMessage",""],["noMapMessageGuest",""],["loading",""],[1,"row"],[1,"col-12"],[3,"isInUpdateState","link"],[1,"row","text-center"],[1,"icon-container","col"],["name","map","id","map",1,"mw-100",3,"change"],["mapChoice",""],[4,"ngFor","ngForOf"],[3,"value"],["class","mb-5 col",4,"ngIf","ngIfElse"],[1,"mb-5","col"],[3,"map","campaign"],[3,"link","label","deleteMessage","delete"],[1,"row","justify-content-center","align-items-center","flex-column","mt-5"],[1,"h4"],[1,"mt-3","btn","btn-lg","btn-primary","col-sm-4",3,"routerLink"],[1,"mt-3","btn","btn-lg","btn-secondary",3,"routerLink"]],template:function(t,e){if(1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),s(5,"\n        "),S(6,Hre,10,2,"ng-container",3),s(7,"\n        \n        "),S(8,zre,16,1,"ng-container",3),s(9,"\n\n\n        "),p(10,"div",4),s(11,"\n            "),p(12,"div",5),s(13,"\n                "),p(14,"div",6),s(15,"\n                    "),N(16,"span",7),s(17,"\n                    Add Map\n                "),m(),s(18,"\n            "),m(),s(19,"\n        "),m(),s(20,"\n\n        "),s(21,"\n        "),S(22,Wre,7,2,"ng-container",8),s(23,"\n\n        "),s(24,"\n        "),S(25,qre,1,3,"app-article-footer",9),s(26,"\n        \n    "),m(),s(27,"\n"),m(),s(28,"\n\n"),S(29,Zre,3,2,"ng-template",null,10,ae),s(31,"\n\n"),S(32,Kre,11,1,"ng-template",null,11,ae),s(34,"\n\n"),s(35,"\n"),S(36,Yre,1,0,"ng-template",null,12,ae)),2&t){const i=re(30);_(6),v("ngIf",e.hasUpdatePermission),_(2),v("ngIf",e.maps.length>0),_(4),v("routerLink",e.createMapUrl),_(10),v("ngIf",e.maps.length>0)("ngIfElse",i),_(3),v("ngIf",e.articleData)}},dependencies:[Ye,me,Ht,js,zs,Cs,fn,Gg,Gr],styles:[".icon-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}.icon-container[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{opacity:1}select[_ngcontent-%COMP%]{background-color:#4c4c4c;background-clip:padding-box;border:1px solid #222;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;color:#fff;font-weight:700;padding-left:.5rem;padding-right:.5rem}.main[_ngcontent-%COMP%]{max-width:75rem}"]});class Wg{constructor(t,e,i,r,o,a){this.markerService=t,this.mapService=e,this.route=i,this.formlyService=r,this.warnings=o,this.routingService=a,this.campaign=this.route.snapshot.params.campaign,this.constants=H,this.form=new Gi({}),this.fields=[this.formlyService.genericInput({key:"latitude",isNumberInput:!0}),this.formlyService.genericInput({key:"longitude",isNumberInput:!0}),this.formlyService.genericSelect({key:"location",sortProp:"name_full",overviewType:Ae.Location,campaign:this.campaign}),this.formlyService.genericSelect({key:"map",overviewType:Ae.Map,campaign:this.campaign}),this.formlyService.genericSelect({key:"type",valueProp:"id",labelProp:"name",label:"Marker Type",overviewType:Ae.MarkerTypeType,campaign:this.campaign}),this.formlyService.genericInput({key:"color",label:"Custom Color",required:!1}),this.formlyService.genericInput({key:"icon",label:"Custom Icon",required:!1})]}ngOnInit(){this.parameter_subscription=this.route.params.subscribe(t=>{const e=parseInt(t.longitude),i=parseInt(t.latitude);this.mapName=t.map_name,this.createUserModel(i,e),this.updateRouterLinks(this.campaign,t)})}updateRouterLinks(t,e){this.mapUrl=this.routingService.getRoutePath("map",{name:e.map_name,campaign:t})}createUserModel(t,e){this.mapService.readByParam(this.campaign,{name:this.mapName}).pipe(le()).subscribe(i=>{this.model=new Hu,this.model.map=i.pk,this.model.latitude=t,this.model.longitude=e},i=>this.routingService.routeToErrorPage(i))}onSubmit(){this.markerService.create(this.model).pipe(le()).subscribe(t=>this.routingService.routeToPath("map",{name:t.map_details.name,campaign:this.campaign}),t=>this.warnings.showWarning(t))}onCancel(){this.routingService.routeToPath("map",{name:this.mapName,campaign:this.campaign})}ngOnDestroy(){this.parameter_subscription&&this.parameter_subscription.unsubscribe()}}function Jre(n,t){if(1&n&&(U(0),s(1,"\n            "),N(2,"app-edit-toggle",6),s(3,"\n\n            "),p(4,"h2",7),s(5),m(),s(6,"\n        "),V()),2&n){const e=C();_(2),v("isInUpdateState",!0)("link",e.updateCancelUrl),_(3),gc(" \n                Updating Marker for ",e.userModel.location_details.name," \n                on ",e.userModel.map_details.name," \n            ")}}function Xre(n,t){if(1&n&&(s(0,"\n            "),N(1,"app-edit-toggle",6),s(2,"\n\n            "),p(3,"h2",7),s(4," Adding a new Marker "),m(),s(5,"\n        ")),2&n){const e=C();_(1),v("isInUpdateState",!0)("link",e.creationCancelUrl)}}function eoe(n,t){if(1&n){const e=Z();p(0,"app-formly-formcontainer",8),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("model",e.userModel)("fields",e.formlyFields)}}function toe(n,t){if(1&n){const e=Z();p(0,"app-compare-form-container",9),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)}}Wg.\u0275fac=function(t){return new(t||Wg)(w(zo),w(jr),w(Fe),w(Yt),w(ze),w(he))},Wg.\u0275cmp=ie({type:Wg,selectors:[["app-marker-map-create"]],decls:13,vars:4,consts:[[1,"main"],[1,"mb-5"],[3,"isInUpdateState","link"],[1,"text-center"],[3,"model","fields","formlySubmit","formlyCancel"]],template:function(t,e){1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),N(4,"app-edit-toggle",2),s(5,"\n\n        "),p(6,"h2",3),s(7," Adding a new Marker "),m(),s(8,"\n\n        "),s(9,"\n        "),p(10,"app-formly-formcontainer",4),A("formlySubmit",function(){return e.onSubmit()})("formlyCancel",function(){return e.onCancel()}),m(),s(11,"\n    "),m(),s(12,"\n"),m()),2&t&&(_(4),v("isInUpdateState",!0)("link",e.mapUrl),_(6),v("model",e.model)("fields",e.fields))},dependencies:[fn,Cn]});class _p extends vr{constructor(t,e,i,r,o,a,c,u,h,f){super(i,c,a,t,u,h,r,f),this.locationService=e,this.formlyService=o,this.warnings=a,this.routingService=c,this.userModelClass=Hu,this.formlyFields=[this.formlyService.genericInput({key:"latitude",isNumberInput:!0}),this.formlyService.genericInput({key:"longitude",isNumberInput:!0}),this.formlyService.genericSelect({key:"location",sortProp:"name_full",overviewType:Ae.Location,campaign:this.campaign.name}),this.formlyService.genericSelect({key:"map",overviewType:Ae.Map,campaign:this.campaign.name}),this.formlyService.genericSelect({key:"type",label:"Marker Type",labelProp:"name",valueProp:"id",overviewType:Ae.MarkerTypeType,campaign:this.campaign.name}),this.formlyService.genericInput({key:"color",label:"Custom Color",required:!1}),this.formlyService.genericInput({key:"icon",label:"Custom Icon",required:!1})]}updateRouterLinks(t,e,i){this.creationCancelUrl=this.routingService.getRoutePath("location",{parent_name:e.location_details.parent_location_name,name:e.location_details.name,campaign:t}),this.updateCancelUrl=this.routingService.getRoutePath("marker",{campaign:t,parent_location_name:e.location_details.parent_location_name,location_name:e.location_details.name,map_name:e.map_details?.name})}}function noe(n,t){if(1&n&&(p(0,"span"),s(1),m()),2&n){const e=C();_(1),We(e.articleData.icon)}}function ioe(n,t){if(1&n&&(p(0,"span"),s(1),p(2,"span",10),s(3," (from marker type) "),m(),s(4," \n                "),m()),2&n){const e=C();_(1),ee("\n                    ",e.articleData.type_details.icon,"\n                    ")}}function roe(n,t){if(1&n&&(U(0),s(1),V()),2&n){const e=C();_(1),ee("\n                    ",e.articleData.color,"\n                ")}}function ooe(n,t){if(1&n&&(U(0),s(1),p(2,"span",10),s(3," (from marker type) "),m(),s(4," \n                "),V()),2&n){const e=C();_(1),ee("\n                    ",e.articleData.type_details.color,"                    \n                    ")}}_p.\u0275fac=function(t){return new(t||_p)(w(zo),w(so),w(Gt),w(Fe),w(Yt),w(ze),w(he),w(Wn),w(Ve),w(_e))},_p.\u0275cmp=ie({type:_p,selectors:[["app-marker-update"]],features:[ce],decls:16,vars:4,consts:[[1,"main"],[1,"mb-5"],[4,"ngIf","ngIfElse"],["createState",""],[3,"model","fields","formlySubmit","formlyCancel",4,"ngIf"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel",4,"ngIf"],[3,"isInUpdateState","link"],[1,"text-center"],[3,"model","fields","formlySubmit","formlyCancel"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),s(4,"\n        "),S(5,Jre,7,4,"ng-container",2),s(6,"\n\n        "),S(7,Xre,6,2,"ng-template",null,3,ae),s(9,"\n\n        "),s(10,"\n        "),S(11,eoe,1,2,"app-formly-formcontainer",4),s(12,"\n\n        "),S(13,toe,1,3,"app-compare-form-container",5),s(14,"\n    "),m(),s(15,"\n"),m()),2&t){const i=re(8);_(5),v("ngIf",(e.isInOutdatedUpdateState()||e.isInUpdateState())&&e.userModel)("ngIfElse",i),_(6),v("ngIf",e.isInUpdateState()||e.isInCreateState()),_(2),v("ngIf",e.isInOutdatedUpdateState())}},dependencies:[me,fn,Cn,vi]});class qg extends co{constructor(t,e,i,r,o,a){super(e,t,r,i,o,a),this.route=t,this.warnings=i,this.routingService=r,this.deleteRoute={routeName:"location",params:{name:null,parent_name:null,campaign:null}}}updateDynamicVariables(t,e,i){this.locationUrl=this.routingService.getRoutePath("location",{parent_name:e.location_details.parent_location_name,name:e.location_details.name,campaign:t.name})}updateOnDeleteRouteParameters(t,e){super.updateOnDeleteRouteParameters(t,e);const i=e.parent_location_name;this.deleteRoute.params.name=e.location_name,this.deleteRoute.params.parent_name=i}}function soe(n,t){if(1&n&&(U(0),s(1,"\n            "),N(2,"app-edit-toggle",6),s(3,"\n\n            "),p(4,"h2",7),s(5),m(),s(6,"\n        "),V()),2&n){const e=C();_(2),v("isInUpdateState",!0)("link",".."),_(3),ee(" Updating Organization ",e.userModel.name," ")}}function aoe(n,t){if(1&n){const e=Z();p(0,"app-formly-formcontainer",8),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("model",e.userModel)("fields",e.formlyFields)}}function loe(n,t){if(1&n){const e=Z();p(0,"app-compare-form-container",9),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)}}function coe(n,t){if(1&n&&(s(0,"\n    "),N(1,"app-edit-toggle",6),s(2,"\n\n    "),p(3,"h2",7),s(4," Creating a new Organization "),m(),s(5,"\n")),2&n){const e=C();_(1),v("isInUpdateState",!0)("link",e.creationCancelUrl)}}qg.\u0275fac=function(t){return new(t||qg)(w(Fe),w(zo),w(ze),w(he),w(Ve),w(_e))},qg.\u0275cmp=ie({type:qg,selectors:[["app-marker"]],features:[ce],decls:94,vars:11,consts:[[1,"main"],[1,"container"],[1,"row"],[1,"text-center","col"],[1,"col-md-4","col-0"],[1,"col-3"],[1,"col-md-5","col-9"],[4,"ngIf"],[1,"mb-5"],[3,"link","label","deleteMessage","delete"],[1,"text-muted","ml-3"]],template:function(t,e){1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),N(4,"app-edit-toggle"),s(5,"\n        "),p(6,"div",2),s(7,"\n            "),p(8,"h1",3),s(9),m(),s(10,"\n        "),m(),s(11,"\n        \n        "),s(12,"\n        "),p(13,"div",2),s(14,"\n            "),p(15,"h3",3),s(16," Properties "),m(),s(17,"\n        "),m(),s(18,"\n\n        "),s(19,"\n        "),p(20,"div",2),s(21,"\n            "),N(22,"div",4),s(23,"\n            "),p(24,"strong",5),s(25,"Longitude: "),m(),s(26," \n            "),p(27,"span",6),s(28),m(),s(29,"\n        "),m(),s(30,"\n\n        "),s(31,"\n        "),p(32,"div",2),s(33,"\n            "),N(34,"div",4),s(35,"\n            "),p(36,"strong",5),s(37,"Latitude: "),m(),s(38," \n            "),p(39,"span",6),s(40),m(),s(41,"\n        "),m(),s(42,"\n\n        "),s(43,"\n        "),p(44,"div",2),s(45,"\n            "),N(46,"div",4),s(47,"\n            "),p(48,"strong",5),s(49,"Marker type: "),m(),s(50," \n            "),p(51,"span",6),s(52),m(),s(53,"\n        "),m(),s(54,"\n\n        "),s(55,"\n        "),p(56,"div",2),s(57,"\n            "),N(58,"div",4),s(59,"\n            "),p(60,"strong",5),s(61,"Icon: "),m(),s(62,"\n\n            "),p(63,"span",6),s(64," \n                "),S(65,noe,2,1,"span",7),s(66," \n                "),S(67,ioe,5,1,"span",7),s(68,"     \n            "),m(),s(69,"\n\n        "),m(),s(70,"\n\n        "),s(71,"\n        "),p(72,"div",2),s(73,"\n            "),N(74,"div",4),s(75,"\n            "),p(76,"strong",5),s(77,"Color: "),m(),s(78," \n\n            "),p(79,"span",6),s(80," \n                "),S(81,roe,2,1,"ng-container",7),s(82," \n                "),S(83,ooe,5,1,"ng-container",7),s(84," \n            "),m(),s(85,"\n\n        "),m(),s(86,"\n\n        "),s(87,"\n        "),N(88,"div",8),s(89,"\n        \n        "),s(90,"\n        "),p(91,"app-article-footer",9),A("delete",function(){return e.deleteArticle()}),m(),s(92,"\n\n    "),m(),s(93,"\n"),m()),2&t&&(_(9),ee("Marker on ",e.articleData.map_details.name,""),_(19),We(e.articleData.longitude),_(12),We(e.articleData.latitude),_(12),We(e.articleData.type_details.name),_(13),v("ngIf",e.articleData.icon),_(2),v("ngIf",!e.articleData.icon),_(14),v("ngIf",e.articleData.color),_(2),v("ngIf",!e.articleData.color),_(8),v("link",e.locationUrl)("label","Back to "+e.articleData.location_details.name)("deleteMessage","Delete Marker?"))},dependencies:[me,fn,Gr]});class vp extends vr{constructor(t,e,i,r,o,a,c,u,h){super(e,a,o,t,c,u,i,h),this.formlyService=r,this.warnings=o,this.routingService=a,this.userModelClass=Ub,this.formlyFields=[this.formlyService.genericInput({key:"name",isNameInput:!0}),this.formlyService.genericSelect({key:"leader",valueProp:"name",overviewType:Ae.Character,campaign:this.campaign.name,required:!1}),this.formlyService.genericSelect({key:"headquarter",sortProp:"name_full",overviewType:Ae.Location,campaign:this.campaign.name,required:!1})]}updateRouterLinks(t,e,i){this.creationCancelUrl=this.routingService.getRoutePath("organization-overview",{campaign:t}),this.updateCancelUrl=this.routingService.getRoutePath("organization",{campaign:t,name:i.name})}}function uoe(n,t){if(1&n&&(U(0),s(1,"\n            "),N(2,"app-edit-toggle",6),s(3,"\n\n            "),p(4,"h2",7),s(5),m(),s(6,"\n        "),V()),2&n){const e=C();_(2),v("isInUpdateState",!0)("link",e.updateCancelUrl),_(3),ee("\n                Updating Quest ",e.userModel.name,"\n            ")}}function doe(n,t){if(1&n){const e=Z();p(0,"app-formly-formcontainer",8),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("model",e.userModel)("fields",e.formlyFields)}}function hoe(n,t){if(1&n){const e=Z();p(0,"app-compare-form-container",9),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)}}function poe(n,t){if(1&n&&(s(0,"\n    "),N(1,"app-edit-toggle",6),s(2,"\n\n    "),p(3,"h2",7),s(4,"\n        Creating a new Quest\n    "),m(),s(5,"\n")),2&n){const e=C();_(1),v("isInUpdateState",!0)("link",e.creationCancelUrl)}}vp.\u0275fac=function(t){return new(t||vp)(w(Ys),w(Gt),w(Fe),w(Yt),w(ze),w(he),w(Wn),w(Ve),w(_e))},vp.\u0275cmp=ie({type:vp,selectors:[["app-organization-article-update"]],features:[ce],decls:16,vars:4,consts:[[1,"main"],[1,"mb-5"],[4,"ngIf","ngIfElse"],[3,"model","fields","formlySubmit","formlyCancel",4,"ngIf"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel",4,"ngIf"],["createState",""],[3,"isInUpdateState","link"],[1,"text-center"],[3,"model","fields","formlySubmit","formlyCancel"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),s(4,"\n        "),S(5,soe,7,3,"ng-container",2),s(6,"\n\n        "),s(7,"\n        "),S(8,aoe,1,2,"app-formly-formcontainer",3),s(9,"\n\n        "),S(10,loe,1,3,"app-compare-form-container",4),s(11,"\n\n    "),m(),s(12,"\n"),m(),s(13,"\n\n        \n"),S(14,coe,6,2,"ng-template",null,5,ae)),2&t){const i=re(15);_(5),v("ngIf",(e.isInUpdateState()||e.isInOutdatedUpdateState())&&e.userModel)("ngIfElse",i),_(3),v("ngIf",e.isInUpdateState()||e.isInCreateState()),_(2),v("ngIf",e.isInOutdatedUpdateState())}},dependencies:[me,fn,Cn,vi]});class yp extends vr{constructor(t,e,i,r,o,a,c,u,h){super(e,a,o,t,c,u,i,h),this.questService=t,this.formlyService=r,this.warnings=o,this.routingService=a,this.userModelClass=Vb,this.formlyFields=[this.formlyService.genericInput({key:"name",placeholder:"Quest Name",isNameInput:!0}),{key:"status",type:"select",templateOptions:{label:"Quest Status",labelProp:"label",valueProp:"value",options:this.questService.getQuestStates(),required:!0}},this.formlyService.genericSelect({key:"giver",label:"Quest Giver",overviewType:Ae.Character,campaign:this.campaign.name}),{key:"taker",type:"select",templateOptions:{label:"Quest Taker",labelProp:"name",valueProp:"pk",options:this.questService.getQuestTakers(this.campaign.name)}},this.formlyService.genericSelect({key:"start_session",label:"Start Session",overviewType:Ae.Session,campaign:this.campaign.name}),this.formlyService.genericSelect({key:"end_session",label:"End Session",overviewType:Ae.Session,campaign:this.campaign.name,required:!1}),this.formlyService.genericInput({key:"abstract",placeholder:"Quest Summary...",required:!1,maxLength:65})]}updateRouterLinks(t,e,i){this.updateCancelUrl=this.routingService.getRoutePath("quest",{campaign:t,name:e.name}),this.creationCancelUrl=this.routingService.getRoutePath("quest-overview",{campaign:t})}}function foe(n,t){1&n&&(U(0),s(1,"\n            "),p(2,"div",16),s(3,"\n                "),p(4,"div",17),s(5,"\n                    "),N(6,"app-edit-toggle",18),s(7,"\n                "),m(),s(8,"\n            "),m(),s(9,"\n        "),V()),2&n&&(_(6),v("isInUpdateState",!1)("link","update"))}function moe(n,t){if(1&n&&(U(0),s(1),V()),2&n){const e=C();_(1),ee(" \n                    ",e.articleData.end_session_details.name," \n                ")}}function goe(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"a",19),s(3),m(),s(4,"\n                "),V()),2&n){const e=C();_(2),v("routerLink",e.questGiverUrl),_(1),ee("\n                        ",e.articleData.giver_details.name,"\n                    ")}}function _oe(n,t){1&n&&s(0,"Ongoing")}function voe(n,t){1&n&&s(0," None ")}yp.\u0275fac=function(t){return new(t||yp)(w(_s),w(Gt),w(Fe),w(Yt),w(ze),w(he),w(Wn),w(Ve),w(_e))},yp.\u0275cmp=ie({type:yp,selectors:[["app-quest-article-update"]],features:[ce],decls:16,vars:4,consts:[[1,"main"],[1,"mb-5"],[4,"ngIf","ngIfElse"],[3,"model","fields","formlySubmit","formlyCancel",4,"ngIf"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel",4,"ngIf"],["createState",""],[3,"isInUpdateState","link"],[1,"text-center"],[3,"model","fields","formlySubmit","formlyCancel"],[3,"formlyFields","modelFromUser","modelFromServer","updateSubmit","cancel"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),s(4,"\n        "),S(5,uoe,7,3,"ng-container",2),s(6,"\n\n        "),s(7,"\n        "),S(8,doe,1,2,"app-formly-formcontainer",3),s(9,"\n\n        "),S(10,hoe,1,3,"app-compare-form-container",4),s(11,"\n\n    "),m(),s(12,"\n"),m(),s(13,"\n\n        \n"),S(14,poe,6,2,"ng-template",null,5,ae)),2&t){const i=re(15);_(5),v("ngIf",(e.isInUpdateState()||e.isInOutdatedUpdateState())&&e.userModel)("ngIfElse",i),_(3),v("ngIf",e.isInUpdateState()||e.isInCreateState()),_(2),v("ngIf",e.isInOutdatedUpdateState())}},dependencies:[me,fn,Cn,vi]});class Qg extends co{constructor(t,e,i,r,o,a){super(t,e,r,i,o,a),this.route=e,this.warnings=i,this.routingService=r,this.queryParameterName="name",this.deleteRoute={routeName:"quest-overview",params:{campaign:this.campaign}}}updateDynamicVariables(t,e,i){this.questGiverUrl=this.routingService.getRoutePath("character",{name:e.giver_details.name,campaign:t.name}),this.questOverviewUrl=this.routingService.getRoutePath("quest-overview",{campaign:t.name})}}Qg.\u0275fac=function(t){return new(t||Qg)(w(_s),w(Fe),w(ze),w(he),w(Ve),w(_e))},Qg.\u0275cmp=ie({type:Qg,selectors:[["app-quest-article"]],features:[ce],decls:65,vars:14,consts:[[1,"main"],["article",""],[1,"container"],[4,"ngIf"],[1,"row","mb-3"],[1,"text-center","col"],[1,"subheading","row"],[1,"col-5"],[1,"col-7"],[4,"ngIf","ngIfElse"],[1,"my-5"],[3,"initialText","heading","formStateSubject","updateText"],[3,"link","label","deleteMessage","delete"],["class","d-inline"],["Ongoing",""],["NoQuestGiver",""],[1,"row"],[1,"col-12"],[3,"isInUpdateState","link"],[3,"routerLink"]],template:function(t,e){if(1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),S(5,foe,10,2,"ng-container",3),s(6,"\n\n        "),s(7,"\n        "),p(8,"div",4),s(9,"\n            "),p(10,"h1",5),s(11),m(),s(12,"\n        "),m(),s(13,"\n\n        "),s(14,"\n        "),p(15,"div",6),s(16," \n            "),p(17,"span",7),s(18,"Status:"),m(),s(19,"\n            "),p(20,"span",8),s(21),m(),s(22,"     \n        "),m(),s(23,"\n\n        "),s(24,"\n        "),p(25,"div",6),s(26,"\n            "),p(27,"div",7),s(28,"Start - End:"),m(),s(29,"\n            "),p(30,"div",8),s(31),S(32,moe,2,1,"ng-container",9),s(33,"\n            "),m(),s(34,"\n        "),m(),s(35,"\n\n        "),s(36,"\n        "),p(37,"div",6),s(38," \n            "),p(39,"span",7),s(40,"Quest Giver:"),m(),s(41,"\n            "),p(42,"span",8),s(43,"\n                "),S(44,goe,5,2,"ng-container",9),s(45,"\n            "),m(),s(46,"\n        "),m(),s(47,"\n\n        "),s(48,"\n        "),p(49,"div",10),s(50,"\n            "),p(51,"app-textfield",11),A("updateText",function(r){return e.onDescriptionUpdate(r)}),m(),s(52,"\n        "),m(),s(53,"\n\n        "),s(54,"\n        "),p(55,"app-article-footer",12),A("delete",function(){return e.deleteArticle()}),m(),s(56,"\n    "),m(),s(57,"\n"),m(),s(58,"\n\n\n"),S(59,_oe,1,0,"ng-template",13,14,ae),s(61,"\n\n"),S(62,voe,1,0,"ng-template",null,15,ae),s(64,"\n")),2&t){const i=re(60),r=re(63);_(5),v("ngIf",e.hasUpdatePermission),_(6),ee(" ",e.articleData.name," "),_(10),We(e.articleData.status),_(10),ee("\n                ",e.articleData.start_session_details.name," - \n                "),_(1),v("ngIf",e.articleData.end_session_details)("ngIfElse",i),_(12),v("ngIf",e.articleData.giver_details)("ngIfElse",r),_(7),v("initialText",e.articleData.description)("heading","Description")("formStateSubject",e.textfieldFormStateSubject),_(4),v("link",e.questOverviewUrl)("label","Back to Quest Overview")("deleteMessage","Delete Quest ?")}},dependencies:[me,Ht,Wo,fn,Gr],styles:["h4[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s}h4[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{opacity:1}"]});const yoe=["overviewMainCard"];function boe(n,t){if(1&n&&(U(0),s(1,"\n                                "),p(2,"option",20),s(3),m(),s(4,"\n                            "),V()),2&n){const e=t.$implicit;_(2),v("value",e),_(1),ee("\n                                    ",e,"\n                                ")}}const Coe=function(n){return{"d-none":n}},woe=function(n,t,e){return{"completed bg-success":n,"on-hold bg-warning":t,"failed bg-danger":e}},Soe=function(n,t,e,i){return{fa:!0,"fa-check-square-o":n,"fa-hourglass-half":t,"fa-times":e,"fa-spinner":i}};function Toe(n,t){if(1&n&&(U(0),s(1,"\n                            "),p(2,"tr",21),s(3,"\n                                "),s(4,"\n                                "),p(5,"td"),s(6,"\n                                    "),p(7,"a",22),s(8,"\n                                        "),p(9,"strong"),s(10),m(),s(11,"\n                                    "),m(),s(12,"\n                                "),m(),s(13,"\n                                "),s(14,"\n                                "),p(15,"td",23),s(16),m(),s(17,"\n                                "),s(18,"\n                                "),p(19,"td",21),s(20,"\n                                    "),N(21,"i",24),s(22,"\n                                "),m(),s(23,"\n                            "),m(),s(24,"\n                        "),V()),2&n){const e=t.$implicit,i=C().$implicit,r=C();_(2),v("ngClass",ot(7,Coe,r.isFilteredOut(r.filterStates[i.key],e.status))),_(5),v("id","quest"+e.pk)("routerLink",e.getAbsoluteRouterUrl()),_(3),We(e.name),_(6),ee(" ",e.abstract,""),_(3),v("ngClass",vh(9,woe,"Completed"===e.status,"On Hold"===e.status,"Failed"===e.status)),_(2),v("ngClass",cC(13,Soe,"Completed"===e.status,"On Hold"===e.status,"Failed"===e.status,"In progress"===e.status))}}function Doe(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"div",10),s(3,"\n                "),p(4,"div",11),s(5,"\n                    "),p(6,"div",3),s(7,"\n                        "),s(8,"\n                        "),p(9,"h4",12),s(10),m(),s(11,"\n    \n                        "),s(12,"\n                        "),p(13,"select",13),A("ngModelChange",function(r){const a=k(e).$implicit;return x(C().filterStates[a.key]=r)}),s(14,"\n                            "),p(15,"option",14),s(16,"Default"),m(),s(17,"\n                            "),p(18,"option",15),s(19,"All"),m(),s(20,"\n                            "),S(21,boe,5,2,"ng-container",8),s(22,"\n                        "),m(),s(23,"\n                    "),m(),s(24,"\n                "),m(),s(25,"\n    \n                "),p(26,"table",16),s(27,"\n                    "),s(28,"\n                    "),p(29,"thead"),s(30,"\n                        "),p(31,"tr"),s(32,"\n                            "),p(33,"th",17),s(34,"Name"),m(),s(35,"\n                            "),p(36,"th",18),s(37,"\n                                Description\n                            "),m(),s(38,"\n                            "),p(39,"th",17),s(40,"Status"),m(),s(41,"\n                        "),m(),s(42,"\n                    "),m(),s(43,"\n    \n                    "),s(44,"\n                    "),p(45,"tbody",19),s(46,"\n                        "),S(47,Toe,25,18,"ng-container",8),s(48,"\n\n                    "),m(),s(49,"\n                "),m(),s(50,"\n            "),m(),s(51,"\n        "),V()}if(2&n){const e=t.$implicit,i=C();_(10),ee("\n                            ",e.key,"'s Quests\n                        "),_(3),v("ngModel",i.filterStates[e.key]),_(8),v("ngForOf",i.filterStateTypes),_(24),v("id",e.key+"-quests"),_(2),v("ngForOf",e.value)}}class Zg extends ni{constructor(t,e,i){super(i,e),this.routingService=t,this.constants=H}ngOnInit(){this.campaign=this.route.snapshot.data.campaign;const t=this.route.snapshot.data.overviewList;this.quests=this.groupQuestsByTaker(t);const e=t.map(o=>o.taker_details.name),i=[...new Set(e)];this.filterStates={},i.forEach(o=>this.filterStates[o]="Default");const r=t.map(o=>o.status);this.filterStateTypes=[...new Set(r)],this.updateDynamicVariables(this.campaign,t,this.route.snapshot.params)}updateDynamicVariables(t,e,i){this.homeUrl=this.routingService.getRoutePath("home1",{campaign:t.name})}ngAfterViewInit(){this.articleElement?.nativeElement&&_i(this.articleElement.nativeElement,"fadeIn")}groupQuestsByTaker(t){const i=t.reduce((c,u)=>{const h=u.taker_details.name;return c.hasOwnProperty(h)?c[h].push(u):c[h]=[u],c},{}),o=Object.keys(i).map(c=>({key:c,value:i[c]})).sort((c,u)=>"Group"===c.key?-1:"Group"===u.key||c.key>u.key?1:c.key===u.key?0:-1),a={"In progress":1,"On Hold":2,Completed:3,Failed:4};for(const[c,u]of o.entries())o[c].value=u.value.sort((h,f)=>h.status!==f.status?a[h.status]-a[f.status]:h.name>f.name?1:h.name<f.name?-1:void 0);return o}isFilteredOut(t,e){return!("All"===t||e===t||"Default"===t&&("In progress"===e||"On Hold"===e))}capitalizeString(t){return t.charAt(0).toUpperCase()+t.slice(1)}}function Eoe(n,t){if(1&n&&(p(0,"h4"),s(1),m()),2&n){const e=C().$implicit;_(1),ee(" Session ",e.session_details.session_number," ")}}function koe(n,t){1&n&&(p(0,"h4"),s(1," Create Quote "),m())}function Moe(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"div",9),s(3,"\n                "),s(4,"\n                "),S(5,Eoe,2,1,"h4",10),s(6,"\n                "),S(7,koe,2,0,"h4",10),s(8,"\n    \n                "),s(9,"\n                "),p(10,"app-quotefield",11),A("delete",function(){const o=k(e).index;return x(C().onArticleDelete(o))})("create",function(r){const a=k(e).index;return x(C().articles[a]=r)}),m(),s(11,"\n            "),m(),s(12,"\n        "),V()}if(2&n){const e=t.$implicit,i=C();_(5),v("ngIf",e.pk),_(2),v("ngIf",!e.pk),_(3),v("character",i.character)("campaign",i.campaign)("quote",e)}}Zg.\u0275fac=function(t){return new(t||Zg)(w(he),w(Fe),w(_e))},Zg.\u0275cmp=ie({type:Zg,selectors:[["app-quest-overview"]],viewQuery:function(t,e){if(1&t&&dt(yoe,5),2&t){let i;ke(i=Me())&&(e.articleElement=i.first)}},features:[ce],decls:30,vars:2,consts:[[1,"main"],["overviewMainCard",""],[1,"container"],[1,"row"],[1,"major","col","mb-4","pb-1","border-bottom"],[1,"row","mb-3"],["routerLink","create",1,"col-md-3","btn","btn-primary"],[1,"fas","fa-plus"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary","col-md-3",3,"routerLink"],[1,"row","mb-5"],[1,"mb-3","col-12"],[1,"col-md-9","my-auto","px-0"],["name","quest-status",1,"col-md-3",3,"ngModel","ngModelChange"],["selected","","value","Default"],["value","All"],[1,"table","table-dark","table-striped","mytable","pb-2"],["scope","col"],["scope","col",1,"hide-on-mobile"],[3,"id"],[3,"value"],[3,"ngClass"],[3,"id","routerLink"],[1,"hide-on-mobile"],["title","quest.status",3,"ngClass"]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),s(5,"\n        "),p(6,"div",3),s(7,"\n            "),p(8,"h2",4),s(9,"Quests"),m(),s(10,"\n        "),m(),s(11,"\n\n        "),p(12,"div",5),s(13,"\n            "),p(14,"div",6),s(15,"\n                "),N(16,"span",7),s(17,"\n                Add quest\n            "),m(),s(18,"\n        "),m(),s(19,"\n\n        "),S(20,Doe,52,5,"ng-container",8),s(21,"\n\n    \n        "),p(22,"div",3),s(23,"\n            "),p(24,"a",9),s(25,"\n                Back To Frontpage\n            "),m(),s(26,"\n        "),m(),s(27,"\n    "),m(),s(28,"\n"),m(),s(29,"\n")),2&t&&(_(20),v("ngForOf",e.quests),_(4),v("routerLink",e.homeUrl))},dependencies:[rn,Ye,Ht,js,zs,Vo,ki,Bs],styles:[".mytable[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .mytable[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .mytable[_ngcontent-%COMP%] > tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .mytable[_ngcontent-%COMP%] > tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .mytable[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .mytable[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}select[_ngcontent-%COMP%]{background-color:#4c4c4c;height:calc(1.5em + .75rem + 2px);font-size:.9375rem;line-height:1.5;background-clip:padding-box;border:1px solid #222;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;color:#fff}.bg-warning[_ngcontent-%COMP%]{background-color:#ffc8244d!important}.bg-success[_ngcontent-%COMP%]{background-color:#93c47d4d!important}.bg-danger[_ngcontent-%COMP%]{background-color:#ce0a0a4d!important}.form-control[_ngcontent-%COMP%]{max-width:20%;min-width:8rem}"]});class Kg extends Ku{constructor(t,e,i,r,o,a){super(t,r,i,e,a,o),this.baseQuoteConnection=new TT,this.inQuoteCreateState=!1,this.inQuoteConnectionCreateState=!1}ngOnInit(){this.character=this.route.snapshot.data.character,super.ngOnInit(),this.articles=this.articles.sort(this.sortQuotesBySession)}updateDynamicVariables(t,e,i){this.characterUrl=this.routingService.getRoutePath("character",{name:this.character.name,campaign:t.name})}sortQuotesBySession(t,e){return t.session_details.session_number>e.session_details.session_number?-1:t.session_details.session_number<e.session_details.session_number?1:0}addArticle(){const t=new ST;this.articles.unshift(t)}onArticleDelete(t){this.articles.splice(t,1)}}Kg.\u0275fac=function(t){return new(t||Kg)(w(or),w(ze),w(he),w(Fe),w(_e),w(Ve))},Kg.\u0275cmp=ie({type:Kg,selectors:[["app-quote-overview"]],features:[ce],decls:27,vars:5,consts:[[1,"main"],[1,"container"],[1,"text-center"],[3,"routerLink"],[1,"btn","btn-primary","my-3",3,"click"],[1,"fas","fa-plus"],[4,"ngFor","ngForOf"],[1,"col-md-3","px-0"],[1,"btn","btn-secondary","w-100",3,"routerLink"],[1,"mb-5"],[4,"ngIf"],[3,"character","campaign","quote","delete","create"]],template:function(t,e){1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),p(4,"h3",2),s(5," Quote Overview "),m(),s(6,"\n        "),p(7,"h5",2),s(8," \n            Quotes of: \n            "),p(9,"a",3),s(10),m(),s(11,"\n        "),m(),s(12,"\n\n        "),p(13,"div",4),A("click",function(){return e.addArticle()}),s(14," \n            "),N(15,"span",5),s(16,"\n            Add Quote \n        "),m(),s(17,"\n\n        "),S(18,Moe,13,5,"ng-container",6),s(19,"\n\n\n        "),p(20,"div",7),s(21,"\n            "),p(22,"a",8),s(23),m(),s(24,"\n        "),m(),s(25,"\n    "),m(),s(26,"\n"),m()),2&t&&(_(9),v("routerLink",e.characterUrl),_(1),ee("\n                ",e.character.name,"\n            "),_(8),v("ngForOf",e.articles),_(4),v("routerLink",e.character.getAbsoluteRouterUrl()),_(1),ee("\n                Back to ",e.character.name,"\n            "))},dependencies:[Ye,me,Ht,sp]});class bp{constructor(){this.searchPreferenceKey="AldruneSearchPreferences"}getStoredSearchPreferences(){return this.getStoredPreferences(this.searchPreferenceKey)}storeSearchPreferences(t){this.storePreferences(t,this.searchPreferenceKey)}getStoredPreferences(t){const e=localStorage.getItem(t);return JSON.parse(e)}storePreferences(t,e){const i=JSON.stringify(t);localStorage.setItem(e,i)}}function xoe(n,t){1&n&&N(0,"i",6)}bp.\u0275fac=function(t){return new(t||bp)},bp.\u0275prov=W({token:bp,factory:bp.\u0275fac,providedIn:"root"});const Ioe=function(n,t){return{"hover-highlight pointer":n,highlight:t}};function Poe(n,t){if(1&n){const e=Z();U(0),s(1,"\n        "),p(2,"div",2),A("click",function(){const o=k(e).$implicit;return x(C().selectArticleOption(o))}),s(3,"\n            "),p(4,"div",3),s(5,"\n                "),p(6,"span",4),s(7),Vt(8,"titlecase"),m(),s(9,"\n            "),m(),s(10,"\n            "),S(11,xoe,1,0,"i",5),s(12,"\n        "),m(),s(13,"\n    "),V()}if(2&n){const e=t.$implicit,i=C();_(2),v("ngClass",Pn(6,Ioe,i.interactable,i.filterSettings[e])),_(2),v("ngClass",i.settingCssClasses[e.toLowerCase()]),_(3),ee(" ",Tn(8,4,e)," "),_(4),v("ngIf",i.filterSettings[e])}}class Yg{constructor(t){this.preferenceService=t,this.defaultSearchPreferences={character:!1,creature:!1,diaryentry:!1,encounter:!1,item:!1,location:!1,map:!1,organization:!1,quest:!1,recording:!1,rules:!1,spell:!1},this.interactable=!1,this.onFilterOptionSelect=new X}ngOnInit(){if(this.interactable){const t=this.preferenceService.getStoredSearchPreferences();this.filterSettings=t??this.defaultSearchPreferences}else this.filterSettings=this.defaultSearchPreferences;this.settingNames=Object.keys(this.filterSettings),this.emitCurrentActiveFilters(),this.settingCssClasses=this.calculateSettingCssClasses(this.settingNames)}selectArticleOption(t){this.interactable&&(this.filterSettings[t]=!this.filterSettings[t],this.emitCurrentActiveFilters())}emitCurrentActiveFilters(){const e=this.settingNames.filter(i=>this.filterSettings[i]).map(i=>"recording"===i?"sessionaudio":i);this.onFilterOptionSelect.emit(e)}calculateSettingCssClasses(t){const e=t.map(r=>`sidebar ${H.articleTypeSidebarColorMapping[r]}`);let i={};for(let r=0;r<t.length;r++)i[t[r]]=e[r];return i}ngOnDestroy(){this.interactable&&this.preferenceService.storeSearchPreferences(this.filterSettings)}}Yg.\u0275fac=function(t){return new(t||Yg)(w(bp))},Yg.\u0275cmp=ie({type:Yg,selectors:[["app-colored-sidebar-legend"]],inputs:{interactable:"interactable"},outputs:{onFilterOptionSelect:"onFilterOptionSelect"},decls:5,vars:1,consts:[[1,"row"],[4,"ngFor","ngForOf"],[1,"col-lg-2","col-sm-3","col-6","py-2","d-flex","align-items-center","justify-content-between",3,"ngClass","click"],[1,"sidebar-border",3,"ngClass"],[1,"mx-1"],["class","fa fa-times",4,"ngIf"],[1,"fa","fa-times"]],template:function(t,e){1&t&&(p(0,"div",0),s(1,"\n    "),S(2,Poe,14,9,"ng-container",1),s(3,"\n    \n"),m(),s(4,"\n")),2&t&&(_(2),v("ngForOf",e.settingNames))},dependencies:[rn,Ye,me,gm],styles:[".sidebar-border[_ngcontent-%COMP%]{border-left:solid 10px}.yellow[_ngcontent-%COMP%]{border-left-color:#ff0}.lightgreen[_ngcontent-%COMP%]{border-left-color:#90ee90}.lightpink[_ngcontent-%COMP%]{border-left-color:#ee8600}.brown[_ngcontent-%COMP%]{border-left-color:#b7410e}.blue[_ngcontent-%COMP%]{border-left-color:#4169e1}.black[_ngcontent-%COMP%]{border-left-color:#000}.gray[_ngcontent-%COMP%]{border-left-color:gray}.white[_ngcontent-%COMP%]{border-left-color:#fff}.green[_ngcontent-%COMP%]{border-left-color:#006400}.darkgreen[_ngcontent-%COMP%]{border-left-color:#2f4a36}.orange[_ngcontent-%COMP%]{border-left-color:orange}.violet[_ngcontent-%COMP%]{border-left-color:#9871d2}.purple[_ngcontent-%COMP%]{border-left-color:#5d3754}.beige[_ngcontent-%COMP%]{border-left-color:var(--beige)}.teal[_ngcontent-%COMP%]{border-left-color:#1cd2c0}.darkpink[_ngcontent-%COMP%]{border-left-color:#b03060}.red[_ngcontent-%COMP%]{border-left-color:#bc0f0f}.darkred[_ngcontent-%COMP%]{border-left-color:#92000a}.darkyellow[_ngcontent-%COMP%]{border-left-color:#e6ae25}"]});const Ooe=function(n){return{"d-none":n}};function Aoe(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"a",10),s(3,"\n                       \n                        "),s(4,"\n                        "),p(5,"div",11),s(6,"\n                            "),p(7,"h5",12)(8,"strong"),s(9),m()(),s(10,"\n                        "),m(),s(11,"\n                        \n                        "),s(12,"\n                        "),p(13,"div",13),s(14),m(),s(15,"\n                    "),m(),s(16,"\n                "),V()),2&n){const e=t.$implicit,i=C(2);_(2),Ov("card flex-row align-items-center sidebar-border py-2 row mh-60px ",i.sidebarColor(e.article_type),""),v("routerLink",e.getAbsoluteRouterUrl())("ngClass",ot(7,Ooe,i.hasActiveFilter()&&!i.filterOptions.includes(e.article_type))),_(7),We(e.name),_(5),ee("\n                            ",e.description,"\n                        ")}}function Noe(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"div",8),s(3,"\n\n                "),S(4,Aoe,17,9,"ng-container",9),s(5,"\n\n            "),m(),s(6,"\n        "),V()),2&n){const e=C();_(4),v("ngForOf",e.articles)}}function Roe(n,t){if(1&n&&(s(0,"\n    "),p(1,"div",14),s(2,"\n        "),p(3,"h2",12),s(4),m(),s(5,"\n        "),p(6,"i"),s(7),m(),s(8,"\n    "),m(),s(9,"\n")),2&n){const e=C();_(4),ee("We couldn't find any hits for '",e.searchString,"'"),_(3),ee(" ",e.emptySearchSubtitle,"")}}class Jg{constructor(t,e){this.route=t,this.routingService=e,this.filterOptions=[],this.constants=H}ngOnInit(){this.campaign=this.route.snapshot.data.campaign,this.searchString=this.route.snapshot.params.searchString;const t=this.route.snapshot.data.searchResults;this.articles=t.articles,this.emptySearchSubtitle=t.empty_response,this.onAfterArticleLoadFinished(this.campaign.name,t.articles,null)}onAfterArticleLoadFinished(t,e,i){this.homeUrl=this.routingService.getRoutePath("home1",{campaign:t})}sidebarColor(t){return H.articleTypeSidebarColorMapping[t]}filterSearchResults(t){this.filterOptions=t}hasActiveFilter(){return this.filterOptions.length>0}}Jg.\u0275fac=function(t){return new(t||Jg)(w(Fe),w(he))},Jg.\u0275cmp=ie({type:Jg,selectors:[["app-search"]],decls:27,vars:4,consts:[[1,"main"],[1,"container"],[1,"row"],[1,"text-center","col"],[3,"interactable","onFilterOptionSelect"],[4,"ngIf","ngIfElse"],[1,"btn","btn-secondary","col-md-3",3,"routerLink"],["noSearchResults",""],[1,"my-3"],[4,"ngFor","ngForOf"],[3,"routerLink","ngClass"],[1,"col-md-4","text-center"],[1,"mb-0"],[1,"col-md-8","font-size-16"],[1,"my-5","d-flex","align-items-center","flex-column"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n         "),s(4,"\n         "),p(5,"div",2),s(6,"\n            "),p(7,"h1",3),s(8,"Search Results"),m(),s(9,"\n         "),m(),s(10,"\n\n         "),p(11,"app-colored-sidebar-legend",4),A("onFilterOptionSelect",function(r){return e.filterOptions=r}),m(),s(12,"\n         \n        "),s(13,"\n        "),S(14,Noe,7,1,"ng-container",5),s(15,"\n\n\n        "),s(16,"\n        "),p(17,"div",2),s(18,"\n            "),p(19,"div",6),s(20,"\n                Back To Frontpage\n            "),m(),s(21,"\n        "),m(),s(22,"\n    "),m(),s(23,"\n"),m(),s(24,"\n\n"),S(25,Roe,10,2,"ng-template",null,7,ae)),2&t){const i=re(26);_(11),v("interactable",!0),_(3),v("ngIf",e.articles.length>0)("ngIfElse",i),_(5),v("routerLink",e.homeUrl)}},dependencies:[rn,Ye,me,Ht,Yg],styles:["h5[_ngcontent-%COMP%]{font-size:18px}.font-size-16[_ngcontent-%COMP%]{font-size:16px}.card[_ngcontent-%COMP%]{background-color:#1f1e1f!important}.card[_ngcontent-%COMP%]:hover{background-color:#ffffff13!important;border:none}.h-2rem[_ngcontent-%COMP%]{height:2rem}"]});const Foe=["overviewMainCard"];function Loe(n,t){1&n&&(U(0),s(1,"\n            "),p(2,"div",9),s(3,"\n                "),p(4,"a",10),s(5," \n                    "),N(6,"i",11),s(7,"\n                    Add Recording\n                "),m(),s(8,"\n            "),m(),s(9,"\n        "),V())}function $oe(n,t){if(1&n&&(U(0),s(1,"\n                "),p(2,"div",12),s(3,"\n                    "),p(4,"div",13),s(5,"\n                        "),s(6,"\n                        "),p(7,"div",14),s(8,"\n                            "),p(9,"h4",15),s(10),m(),s(11,"\n                        "),m(),s(12,"\n    \n                        "),s(13,"\n                        "),p(14,"div",16),s(15,"\n                            "),p(16,"a",17),s(17," \n                                "),N(18,"span",18),s(19,"\n                                "),p(20,"strong"),s(21," Stream "),m(),s(22,"\n                            "),m(),s(23,"\n    \n                            "),p(24,"a",19),s(25," \n                                "),N(26,"span",20),s(27,"\n                                "),p(28,"strong"),s(29," Download "),m(),s(30,"\n                            "),m(),s(31,"\n                        "),m(),s(32,"\n                    "),m(),s(33,"\n                "),m(),s(34,"\n            "),V()),2&n){const e=t.$implicit,i=t.index,r=C();_(10),We(e.name),_(6),v("routerLink",r.sessionAudioURLs[i]),_(8),v("href",r.constants.wikiUrl+"/"+r.sessionAudioFiles[i].download_url,Yn)}}class Xg extends ni{constructor(t,e,i,r,o){super(r,i),this.overviewService=t,this.routingService=e,this.globalUrlParams=o,this.constants=H}ngOnInit(){this.campaign=this.route.snapshot.data.campaign,this.sessionAudioFiles=this.route.snapshot.data.overviewList,this.updateDynamicVariables(this.campaign,this.sessionAudioFiles)}updateDynamicVariables(t,e){this.homeUrl=this.routingService.getRoutePath("home1",{campaign:t.name}),this.sessionAudioURLs=e.map(i=>this.routingService.getRoutePath("sessionaudio",{campaign:t.name,isMainSession:i.session_details.is_main_session_int,sessionNumber:i.session_details.session_number}))}ngAfterViewInit(){this.articleElement?.nativeElement&&_i(this.articleElement.nativeElement,"fadeIn")}}function Uoe(n,t){if(1&n&&(U(0),s(1,"\n            "),N(2,"app-edit-toggle",5),s(3,"\n\n            "),p(4,"h2",6),s(5),m(),s(6,"\n        "),V()),2&n){const e=C();_(2),v("isInUpdateState",!0)("link",e.updateCancelUrl),_(3),ee("\n                Updating SessionAudio ",e.userModel.session_details.name,"\n            ")}}function Voe(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),s(2,"\n            "),p(3,"app-formly-formcontainer",7),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m(),s(4,"\n        "),V()}if(2&n){const e=C();_(3),v("model",e.userModel)("fields",e.formlyFields)}}function Boe(n,t){if(1&n&&(s(0,"\n    "),N(1,"app-edit-toggle",5),s(2,"\n\n    "),p(3,"h2",6),s(4,"\n        Uploading Session Audio File\n    "),m(),s(5,"\n")),2&n){const e=C();_(1),v("isInUpdateState",!0)("link",e.creationCancelUrl)}}function Hoe(n,t){if(1&n&&(s(0,"\n    "),p(1,"h4",6),s(2,"File Upload Progress"),m(),s(3,"\n    "),p(4,"div",8),s(5,"\n        "),p(6,"div",9),s(7),Vt(8,"number"),m(),s(9,"\n    "),m(),s(10,"\n")),2&n){const e=C();_(6),io("width",e.fileUploadProgress,"%"),Et("aria-valuenow",e.fileUploadProgress),_(1),ee("\n            ",Ia(8,4,e.fileUploadProgress,"1.0-1"),"%\n        ")}}Xg.\u0275fac=function(t){return new(t||Xg)(w(ja),w(he),w(Fe),w(_e),w(Ve))},Xg.\u0275cmp=ie({type:Xg,selectors:[["app-session-audio-overview"]],viewQuery:function(t,e){if(1&t&&dt(Foe,5),2&t){let i;ke(i=Me())&&(e.articleElement=i.first)}},features:[ce],decls:25,vars:3,consts:[[1,"main"],["overviewMainCard",""],[1,"container"],[1,"text-center"],[4,"ngIf"],[1,"row"],[4,"ngFor","ngForOf"],[1,"row","mx-0"],[1,"col-md-3","mt-5","btn","btn-secondary",3,"routerLink"],[1,"mb-3","row","mx-0"],["routerLink","create",1,"btn","btn-primary","col-lg-2","col-sm-3"],[1,"fa","fa-plus"],[1,"col-md-4","col-sm-6"],[1,"card","my-3"],[1,"card-header"],[1,"text-center","card-title","mb-0"],[1,"card-body","d-flex","justify-content-center","flex-column"],[1,"text-center","btn","btn-primary","mb-2",3,"routerLink"],[1,"fas","fa-desktop"],["target","_blank",1,"text-center","btn","btn-dark",3,"href"],[1,"fas","fa-download"]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),p(5,"h1",3),s(6,"Session Audio Files"),m(),s(7,"\n\n        "),S(8,Loe,10,0,"ng-container",4),s(9,"\n\n\n        "),s(10,"\n        "),p(11,"div",5),s(12,"\n            "),s(13,"\n            "),S(14,$oe,35,3,"ng-container",6),s(15,"\n\n        "),m(),s(16,"\n\n        "),s(17,"\n        "),p(18,"div",7),s(19,"\n            "),p(20,"div",8),s(21,"\n                Back To Frontpage\n            "),m(),s(22,"\n        "),m(),s(23,"\n    "),m(),s(24,"\n"),m()),2&t&&(_(8),v("ngIf",e.hasCreatePermission),_(6),v("ngForOf",e.sessionAudioFiles),_(6),v("routerLink",e.homeUrl))},dependencies:[Ye,me,Ht],styles:[".h-82[_ngcontent-%COMP%]{height:82%}.add-icon-card[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{color:gray}"]});class Cp extends vr{constructor(t,e,i,r,o,a,c,u,h){super(i,a,o,e,c,u,r,h),this.formlyService=t,this.audioService=e,this.warnings=o,this.routingService=a,this.userModelClass=Cg,this.formlyFields=[this.formlyService.genericDisableSelect({key:"session",overviewType:Ae.Session,campaign:this.campaign.name,wrappers:["session-update-wrapper"],disabledExpression:f=>f.has_recording&&!(f.pk===this.userModel.session_details?.pk),tooltipMessage:"All sessions that already have a recording are disabled.",warningMessage:"The session you selected already has a recording attached to it! Uploading this file will not work!",showWrapperLabel:!1}),this.formlyService.singleFileField({key:"audio_file",label:"Audio File",required:this.isInCreateState()})],this.isWaitingForResponse=!1}updateRouterLinks(t,e,i){this.creationCancelUrl=this.routingService.getRoutePath("sessionaudio-overview",{campaign:t}),this.updateCancelUrl=this.routingService.getRoutePath("sessionaudio",{campaign:t,sessionNumber:e.session_details?.session_number,isMainSession:e.session_details?.is_main_session_int})}onSubmit(){const t="string"===this.userModel.audio_file.constructor.name.toLowerCase();if((this.isInUpdateState()||this.isInOutdatedUpdateState())&&t)return delete this.userModel.audio_file,void this.articleService.patch(this.userModel.pk,this.userModel).pipe(le()).subscribe(i=>this.routeToSessionAudio(i),i=>this.warnings.showWarning(i));let e;if(this.isInUpdateState())e=this.articleService.update(this.userModel.pk,this.userModel);else{const i=this.userModel.audio_file[0],r=i.name.replaceAll(H.prologueForbiddenCharacters,"");e=this.audioService.uploadFile(r,i)}this.file_subscription=e.subscribe(i=>this.handleFileUpload(i),i=>this.warnings.showWarning(i))}handleFileUpload(t){const i=t.type===ti.Response;t.type===ti.UploadProgress?this.fileUploadProgress=t.loaded/t.total*100:i&&(this.file_subscription.unsubscribe(),this.isInCreateState()?(this.userModel.audio_file=t.body,this.articleService.create(this.userModel).pipe(le()).subscribe(o=>this.routeToSessionAudio(o),o=>this.warnings.showWarning(o))):this.routeToSessionAudio(t.body))}routeToSessionAudio(t){this.routingService.routeToPath("sessionaudio",{isMainSession:t.session_details.is_main_session_int,sessionNumber:t.session_details.session_number,campaign:this.campaign.name})}ngOnDestroy(){this.file_subscription&&this.file_subscription.unsubscribe()}}Cp.\u0275fac=function(t){return new(t||Cp)(w(Yt),w(ys),w(Gt),w(Fe),w(ze),w(he),w(Wn),w(Ve),w(_e))},Cp.\u0275cmp=ie({type:Cp,selectors:[["app-session-audio-update"]],features:[ce],decls:16,vars:4,consts:[[1,"main"],[1,"mb-5"],[4,"ngIf","ngIfElse"],["createState",""],["uploadBar",""],[3,"isInUpdateState","link"],[1,"text-center"],[3,"model","fields","formlySubmit","formlyCancel"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"article",1),s(3,"\n        "),s(4,"\n        "),S(5,Uoe,7,3,"ng-container",2),s(6,"\n        \n        "),S(7,Voe,5,2,"ng-container",2),s(8,"\n    "),m(),s(9,"\n"),m(),s(10,"\n\n"),S(11,Boe,6,2,"ng-template",null,3,ae),s(13,"\n\n"),S(14,Hoe,11,7,"ng-template",null,4,ae)),2&t){const i=re(12),r=re(15);_(5),v("ngIf",(e.isInUpdateState()||e.isInOutdatedUpdateState())&&e.userModel)("ngIfElse",i),_(2),v("ngIf",!e.fileUploadProgress)("ngIfElse",r)}},dependencies:[me,fn,Cn,oP],styles:[".progress[_ngcontent-%COMP%]{font-size:1rem;height:2rem;font-weight:700}"]}),new Wi({"Content-Type":"application/json"});class Hl extends ai{constructor(t){super(t,wg),this.baseUrl=`${H.wikiApiUrl}/timestamp`}getTimestamps(t,e,i){return this.http.get(`${this.baseUrl}/${t}/${e}/${i}/`)}}Hl.\u0275fac=function(t){return new(t||Hl)(R(qt))},Hl.\u0275prov=W({token:Hl,factory:Hl.\u0275fac,providedIn:"root"}),kn([jb(wg)],Hl.prototype,"getTimestamps",null);const joe=["timestampDeleteElement"],zoe=function(n){return{"d-none":n}};function Goe(n,t){if(1&n){const e=Z();U(0),s(1,"\n    "),p(2,"div",2),s(3,"\n        "),s(4,"\n        "),p(5,"a",3),A("click",function(){k(e);const r=C();return x(r.vimePlayer.currentTime=r.timestamp.time)}),s(6),m(),s(7,"    \n    \n        "),s(8,"\n        "),p(9,"div",4),s(10),m(),s(11,"\n    \n        "),s(12,"\n        "),p(13,"div",5),s(14,"\n            "),p(15,"i",6),A("click",function(){return k(e),x(C().toggleDeleteState())}),m(),s(16,"\n        "),m(),s(17,"\n    "),m(),s(18,"\n"),V()}if(2&n){const e=C();_(6),ee(" \n            ",e.timeString," \n        "),_(4),We(e.timestamp.name),_(5),v("ngClass",ot(3,zoe,!e.hasDeletePermission))}}const Woe=function(n){return{animate__slideInRight:n}};function qoe(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"div",7,8),s(3,"\n        "),N(4,"div",9),s(5,"\n        "),p(6,"div",10),s(7,"\n            "),p(8,"span",11),s(9,"Delete Timestamp?"),m(),s(10," \n            "),p(11,"div",12),A("click",function(){return k(e),x(C().deleteTimestamp())}),s(12,"Delete"),m(),s(13,"\n            "),p(14,"div",13),A("click",function(){return k(e),x(C().onCancelClick())}),s(15,"Cancel"),m(),s(16," \n        "),m(),s(17,"\n    "),m(),s(18,"\n")}if(2&n){const e=C();_(1),v("ngClass",ot(1,Woe,e.isInDeleteState))}}class e_ extends ni{constructor(t,e,i){super(i,e),this.timestampService=t,this.timestampDelete=new X,this.isInDeleteState=!1}ngOnInit(){this.timeString=this.timeToString(this.timestamp.time)}timeToString(t){const e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),r=Math.floor(t-3600*e-60*i);return`${e.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}toggleDeleteState(){this.isInDeleteState=!this.isInDeleteState}onCancelClick(){this.isInDeleteState?_i(this.timestampDeleteElementRef.nativeElement,"slideOutRight").then(()=>this.toggleDeleteState()):this.toggleDeleteState()}deleteTimestamp(){this.timestampService.delete(this.timestamp.pk).pipe(le()).subscribe(t=>{this.isInDeleteState=!1,this.timestampDelete.emit(this.timestamp)})}}function Qoe(n,t){if(1&n){const e=Z();U(0),s(1,"\n        "),p(2,"form",3),A("submit",function(){return k(e),x(C().createTimestamp())}),s(3,"\n            "),N(4,"formly-form",4),s(5,"\n\n            "),p(6,"div",5),s(7,"\n                "),p(8,"div",6),s(9,"\n                    "),p(10,"i",7),A("click",function(){return k(e),x(C().cancelTimestampCreateState())}),m(),s(11,"\n                    "),p(12,"button",8),s(13,"\n                        "),N(14,"i",9),s(15,"\n                    "),m(),s(16,"\n                "),m(),s(17,"\n            "),m(),s(18,"\n        "),m(),s(19,"\n    "),V()}if(2&n){const e=C();_(2),v("formGroup",e.timestampForm),_(2),v("form",e.timestampForm)("fields",e.timestampFields)("model",e.timestampModel)}}function Zoe(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"app-timestamp",10),A("timestampDelete",function(r){return k(e),x(C().deleteTimestamp(r))}),m(),s(3,"\n        "),V()}if(2&n){const e=t.$implicit,i=C();_(2),v("timestamp",e)("vimePlayer",i.vimePlayer)}}e_.\u0275fac=function(t){return new(t||e_)(w(Hl),w(Fe),w(_e))},e_.\u0275cmp=ie({type:e_,selectors:[["app-timestamp"]],viewQuery:function(t,e){if(1&t&&dt(joe,5),2&t){let i;ke(i=Me())&&(e.timestampDeleteElementRef=i.first)}},inputs:{timestamp:"timestamp",vimePlayer:"vimePlayer"},outputs:{timestampDelete:"timestampDelete"},features:[ce],decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["deleteRequest",""],[1,"row","ml-auto","mw-85"],[1,"timestamp","pointer","col-lg-2","col-3","px-0",3,"click"],[1,"col-lg-9","col-8","px-0"],[1,"col-1","px-0"],[1,"icon","fa","fa-trash","delete-timestamp",3,"ngClass","click"],[1,"row","animate__animated",3,"ngClass"],["timestampDeleteElement",""],[1,"col-lg-2","col-0"],[1,"col-lg-7","col-12","timestamp-box"],[1,"ml-2"],[1,"btn","btn-danger","btn-sm","mx-3",3,"click"],[1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(t,e){if(1&t&&(S(0,Goe,19,5,"ng-container",0),s(1,"\n\n\n"),S(2,qoe,19,3,"ng-template",null,1,ae)),2&t){const i=re(3);v("ngIf",!e.isInDeleteState)("ngIfElse",i)}},dependencies:[rn,me],styles:[".animate__animated.animate__slideInRight[_ngcontent-%COMP%]{--animate-duration: .2s}.delete-timestamp[_ngcontent-%COMP%]{transition:opacity .2s;opacity:0}.timestamp[_ngcontent-%COMP%]{font-weight:700;color:#1e66b3!important;border-bottom:none}.row[_ngcontent-%COMP%]:hover   .delete-timestamp[_ngcontent-%COMP%]{opacity:1}.timestamp-box[_ngcontent-%COMP%]{background-color:#1b1f22;border-radius:5px;border:1px solid red;padding:.5rem 0rem}.mw-85[_ngcontent-%COMP%]{max-width:85%}@media (max-width: 768px){.row[_ngcontent-%COMP%]{margin-bottom:1rem;line-height:1.2}.mw-85[_ngcontent-%COMP%]{max-width:100%}.row.ml-auto[_ngcontent-%COMP%]{margin-left:0!important}}"]});class t_{constructor(t,e,i){this.timestampService=t,this.formlyService=e,this.warningsService=i,this.timestampClick=new X,this.timestampCreate=new X,this.timestampModel=new wg,this.timestampForm=new Gi({}),this.timestampFields=[this.formlyService.genericInput({key:"time",maxLength:8,minLength:8,className:"timestamp-input black-background px-0 col-lg-2 col-3",validators:["time"],required:!0}),this.formlyService.genericInput({key:"name",label:"Title",className:"timestamp-input black-background px-0 col-lg-10 col-9",required:!0})],this.timestampCreateState=!1}ngOnInit(){this.subject_subscription=this.createTimestampEventSubject.subscribe(t=>{this.timestampCreateState=!this.timestampCreateState,this.timestampCreateState&&(this.timestampModel=new wg,this.timestampModel.time=this.timeToString(t),this.timestampModel.session_audio=this.sessionAudio.pk)})}timeToString(t){const e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),r=Math.floor(t-3600*e-60*i);return`${e.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}stringToTime(t){return 3600*parseInt(t.substr(0,2))+60*parseInt(t.substr(3,2))+parseInt(t.substr(6,2))}createTimestamp(){if("number"==typeof this.timestampModel.time)throw`Error during creation of request to create timestamp. The input ${this.timestampModel.time} is not the expected time-string`;this.timestampModel.time=this.stringToTime(this.timestampModel.time),this.timestampService.create(this.timestampModel).pipe(le()).subscribe(t=>{this.timestamps.unshift(t),this.timestampCreateState=!1,this.timestampCreate.emit()},t=>this.warningsService.showWarning(t))}cancelTimestampCreateState(){this.timestampCreateState=!1}deleteTimestamp(t){const e=this.timestamps.indexOf(t);this.timestamps.splice(e,1)}ngOnDestroy(){this.subject_subscription&&this.subject_subscription.unsubscribe()}}t_.\u0275fac=function(t){return new(t||t_)(w(Hl),w(Yt),w(ze))},t_.\u0275cmp=ie({type:t_,selectors:[["app-timestamp-list"]],inputs:{sessionAudio:"sessionAudio",timestamps:"timestamps",vimePlayer:"vimePlayer",createTimestampEventSubject:"createTimestampEventSubject"},outputs:{timestampClick:"timestampClick",timestampCreate:"timestampCreate"},decls:12,vars:2,consts:[[4,"ngIf"],[1,"timestamp-box","my-1"],[4,"ngFor","ngForOf"],[1,"row","mt-1","mb-4","ml-auto","mw-85","animate__animated","animate__flipInX",3,"formGroup","submit"],[1,"d-flex","col-lg-10","col-10","px-0",3,"form","fields","model"],[1,"col-2","d-flex","align-items-center","px-0"],[1,"d-flex","mt-custom"],[1,"icon","hover-red","fa","fa-1-5x","fa-times","mx-1",3,"click"],["type","submit"],[1,"icon","hover-green","fa","fa-1-5x","fa-check","mx-1"],[3,"timestamp","vimePlayer","timestampDelete"]],template:function(t,e){1&t&&(s(0,"\n"),p(1,"div"),s(2,"\n    "),s(3,"\n    "),S(4,Qoe,20,4,"ng-container",0),s(5,"\n\n\n    "),s(6,"\n    "),p(7,"div",1),s(8,"\n        "),S(9,Zoe,4,2,"ng-container",2),s(10,"\n    "),m(),s(11,"\n"),m()),2&t&&(_(4),v("ngIf",e.timestampCreateState),_(5),v("ngForOf",e.timestamps))},dependencies:[Ye,me,Vr,Ur,Il,ep,e_],styles:[".mh-20rem[_ngcontent-%COMP%]{max-height:20rem}.black-background[_ngcontent-%COMP%]{background-color:#000}.timestamp-input[_ngcontent-%COMP%]{background-color:#1b1f22;font-weight:bolder;color:#fff;border:none}.time-input[_ngcontent-%COMP%]{max-width:6.5rem}.title-input[_ngcontent-%COMP%]{max-width:13rem}.timestamp[_ngcontent-%COMP%]{font-weight:700;color:#1e66b3!important;border-bottom:none}.delete-timestamp[_ngcontent-%COMP%]{transition:opacity .2s;opacity:0}.timestamp-box[_ngcontent-%COMP%]:hover   .delete-timestamp[_ngcontent-%COMP%]{opacity:1}.timestamp-box[_ngcontent-%COMP%]{font-size:1.2rem}.hover-green[_ngcontent-%COMP%]{transition:color .2s}.hover-green[_ngcontent-%COMP%]:hover{color:green}.hover-red[_ngcontent-%COMP%]:hover{color:red}.mt-custom[_ngcontent-%COMP%]{margin-top:2rem}.mw-85[_ngcontent-%COMP%]{max-width:85%}@media (max-width: 768px){.mw-85[_ngcontent-%COMP%]{max-width:100%}.row.ml-auto[_ngcontent-%COMP%]{margin-left:0!important}form[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:red}form[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:green}}"]});const iF=["audioSource"],Koe=["vimePlayer"],Yoe=["playerSection"],Joe=["article"];function Xoe(n,t){1&n&&(U(0),s(1,"\n            "),p(2,"div",4),s(3,"\n                "),p(4,"div",22),s(5,"\n                    "),N(6,"app-edit-toggle",23),s(7,"\n                "),m(),s(8,"\n            "),m(),s(9,"\n        "),V()),2&n&&(_(6),v("isInUpdateState",!1)("link","update"))}function ese(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"a",24),s(3," \n                        "),N(4,"i",25),s(5),m(),s(6,"\n                "),V()),2&n){const e=C();_(2),v("routerLink",e.nextSessionAudioUrl),_(3),ee("\n                        Session ",e.articleData.sessionAudioNeighbours.nextSessionAudio.sessionNumber,"\n                    ")}}function tse(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"a",26),s(3),N(4,"i",27),s(5,"\n                    "),m(),s(6,"\n                "),V()),2&n){const e=C();_(2),v("routerLink",e.priorSessionAudioUrl),_(1),ee(" \n                        Session ",e.articleData.sessionAudioNeighbours.priorSessionAudio.sessionNumber,"\n                        ")}}function nse(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"div",28),A("click",function(){k(e);const r=C(),o=re(28);return x(r.createTimestampEventSubject.next(o.currentTime))}),s(3,"\n                    Add Timestamp "),N(4,"i",29),s(5,"\n                "),m(),s(6,"                \n            "),V()}}class n_ extends co{constructor(t,e,i,r,o,a,c){super(i,t,o,r,a,c),this.router=e,this.constants=H,this.sessionAudioKeyControlMapping={Space:this.togglePlayer,Enter:this.togglePlayer,KeyM:this.toggleSound,ArrowRight:this.seekForwards,ArrowLeft:this.seekBackwards},this.deleteRoute={routeName:"sessionaudio-overview",params:{campaign:null}},this.createTimestampEventSubject=new je,this.isInTimestampCreateState=!1}ngOnInit(){super.ngOnInit(),this.create_timestamp_event_subscription=this.createTimestampEventSubject.subscribe(t=>this.toggleTimestampCreateState()),this.timestamps=this.route.snapshot.data.timestamps}ngAfterViewInit(){this.articleElement?.nativeElement&&_i(this.articleElement.nativeElement,"fadeIn")}updateDynamicVariables(t,e,i){this.sessionAudioOverviewUrl=this.routingService.getRoutePath("sessionaudio-overview",{campaign:t.name}),this.priorSessionAudioUrl=this.createSessionAudioUrl(e.sessionAudioNeighbours.priorSessionAudio),this.nextSessionAudioUrl=this.createSessionAudioUrl(e.sessionAudioNeighbours.nextSessionAudio)}createSessionAudioUrl(t){if(null==t)return null;if(null==t.isMainSessionInt||null==t.sessionNumber)throw new Error(`Invalid URL Building exception. Trying to build a URL with incomplete parameters ${t}`);return this.routingService.getRoutePath("sessionaudio",{campaign:this.campaign.name,isMainSession:t.isMainSessionInt,sessionNumber:t.sessionNumber})}routeToSessionAudio(t){const e=this.createSessionAudioUrl(t);this.router.navigateByUrl(e),this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}playerControls(t){this.keyAffectsPlayer(t)&&((0,this.sessionAudioKeyControlMapping[t.code])(this.vimePlayer.nativeElement),t.preventDefault())}keyAffectsPlayer(t){const e="search"===document.activeElement.id,i=!this.isInTimestampCreateState&&!e,r=this.sessionAudioKeyControlMapping.hasOwnProperty(t.code);return i&&r}toggleTimestampCreateState(){this.isInTimestampCreateState=!this.isInTimestampCreateState}togglePlayer(t){t.playing?t.pause():t.play()}toggleSound(t){t.muted=!t.muted}seekForwards(t){let e=t.currentTime+5;e>t.duration?e=t.duration:e<0&&(e=0),t.currentTime=e}seekBackwards(t){let e=t.currentTime-5;e>t.duration?e=t.duration:e<0&&(e=0),t.currentTime=e}increaseSound(t){const e=t.volume+5;t.volume=e>100?100:e}decreaseSound(t){const e=t.volume-5;t.volume=e<0?0:e}ngOnDestroy(){super.ngOnDestroy(),this.create_timestamp_event_subscription&&this.create_timestamp_event_subscription.unsubscribe()}}n_.\u0275fac=function(t){return new(t||n_)(w(Fe),w(Gt),w(ys),w(ze),w(he),w(Ve),w(_e))},n_.\u0275cmp=ie({type:n_,selectors:[["app-session-audio"]],contentQueries:function(t,e,i){if(1&t&&Rn(i,iF,5),2&t){let r;ke(r=Me())&&(e.audioSourceChild=r.first)}},viewQuery:function(t,e){if(1&t&&(dt(iF,5),dt(Koe,5),dt(Yoe,5),dt(Joe,5)),2&t){let i;ke(i=Me())&&(e.audioSourceChild2=i.first),ke(i=Me())&&(e.vimePlayer=i.first),ke(i=Me())&&(e.playerSection=i.first),ke(i=Me())&&(e.articleElement=i.first)}},hostBindings:function(t,e){1&t&&A("keydown",function(r){return e.playerControls(r)},0,ok)},features:[ce],decls:72,vars:14,consts:[[1,"main"],["article",""],[1,"container"],[4,"ngIf"],[1,"row"],[1,"text-center","col-lg-12"],[1,"fa","fa-volume-up"],[1,"mt-4","mb-1","row","mx-0"],["playerSection",""],[1,"black-background","col-12","px-0",3,"click"],[1,"mw-100",3,"src"],["theme","dark",1,"w-100",2,"--vm-player-theme","var(--primary)"],["vimePlayer",""],["cross-origin",""],["type","audio/mp3","crossorigin","anonymous",3,"src"],["audioSource",""],[1,"mb-3","row","justify-content-between"],[1,"col-lg-3","col-6"],[1,"mb-3","row","justify-content-center","mx-0"],[1,"mb-4"],[3,"timestamps","sessionAudio","vimePlayer","createTimestampEventSubject","timestampCreate"],[3,"link","label","deleteMessage","delete"],[1,"col-12"],[3,"isInUpdateState","link"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-arrow-left","mr-1"],[1,"btn","btn-secondary","float-right",3,"routerLink"],[1,"fa","fa-arrow-right","ml-1"],[1,"btn","btn-primary","col-lg-4",3,"click"],[1,"fa","fa-clock-o","ml-1"]],template:function(t,e){if(1&t){const i=Z();p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),S(5,Xoe,10,2,"ng-container",3),s(6,"\n\n        \n        "),p(7,"div",4),s(8,"\n            "),s(9,"\n            "),p(10,"h1",5),s(11),N(12,"i",6),s(13,"\n            "),m(),s(14,"\n        "),m(),s(15,"\n\n        "),s(16,"\n        "),p(17,"div",7,8),s(19,"\n            "),s(20,"\n            "),p(21,"div",9),A("click",function(){k(i);const o=re(28);return x(e.togglePlayer(o))}),s(22,"\n                "),N(23,"img",10),s(24,"\n            "),m(),s(25,"\n\n            "),s(26,"\n            "),p(27,"vm-player",11,12),s(29,"\n                "),p(30,"vm-audio",13),s(31,"\n                    "),N(32,"source",14,15),s(34,"\n                "),m(),s(35,"\n                \n                "),N(36,"vm-default-ui"),s(37,"\n            "),m(),s(38,"\n        "),m(),s(39,"\n\n        "),s(40,"\n        "),p(41,"div",16),s(42,"\n            "),s(43,"\n            "),p(44,"div",17),s(45,"\n                "),S(46,ese,7,2,"ng-container",3),s(47,"\n            "),m(),s(48,"\n\n            "),s(49,"\n            "),p(50,"div",17),s(51,"\n                "),S(52,tse,7,2,"ng-container",3),s(53,"\n            "),m(),s(54,"\n        "),m(),s(55,"\n\n        "),s(56,"\n        "),p(57,"div",18),s(58,"\n            "),S(59,nse,7,0,"ng-container",3),s(60,"\n        "),m(),s(61,"\n\n        "),s(62,"\n        "),p(63,"div",19),s(64,"\n            "),p(65,"app-timestamp-list",20),A("timestampCreate",function(){return e.toggleTimestampCreateState()}),m(),s(66,"\n        "),m(),s(67,"\n\n\n        "),s(68,"\n        "),p(69,"app-article-footer",21),A("delete",function(){return e.deleteArticle()}),m(),s(70,"\n    "),m(),s(71,"\n"),m()}if(2&t){const i=re(28);_(5),v("ngIf",e.hasUpdatePermission),_(6),ee("\n                ",e.articleData.session_details.name,"\n                "),_(12),v("src",e.constants.audioImageUrl,Yn),_(9),v("src",e.constants.wikiUrl+"/"+e.articleData.audio_file,Yn),_(14),v("ngIf",e.nextSessionAudioUrl),_(6),v("ngIf",e.priorSessionAudioUrl),_(7),v("ngIf",e.hasCreatePermission),_(6),v("timestamps",e.timestamps)("sessionAudio",e.articleData)("vimePlayer",i)("createTimestampEventSubject",e.createTimestampEventSubject),_(4),v("link",e.sessionAudioOverviewUrl)("label","Back to SessionAudio Overview")("deleteMessage","Delete recording?")}},dependencies:[me,Ht,fn,t_,Gr],styles:[".mh-20rem[_ngcontent-%COMP%]{max-height:20rem}.black-background[_ngcontent-%COMP%]{background-color:#000}.timestamp-input[_ngcontent-%COMP%]{background-color:#1b1f22;font-weight:bolder;color:#fff;border:none}.time-input[_ngcontent-%COMP%]{max-width:6.5rem}.title-input[_ngcontent-%COMP%]{max-width:13rem}.timestamp[_ngcontent-%COMP%]{font-weight:700;color:#1e66b3!important;border-bottom:none}.delete-timestamp[_ngcontent-%COMP%]{transition:opacity .2s;opacity:0}.timestamp-box[_ngcontent-%COMP%]:hover   .delete-timestamp[_ngcontent-%COMP%]{opacity:1}.timestamp-box[_ngcontent-%COMP%]{font-size:1.2rem}.hover-green[_ngcontent-%COMP%]{transition:color .2s}.hover-green[_ngcontent-%COMP%]:hover{color:green}.hover-red[_ngcontent-%COMP%]:hover{color:red}"]});const ise=["card"],rse=function(n,t){return{"fa-chevron-down":n,"fa-chevron-up":t}};function ose(n,t){if(1&n){const e=Z();U(0),s(1,"\n        "),p(2,"h5",9),A("click",function(){return k(e),x(C().toggleCard())}),s(3," \n            "),p(4,"div"),s(5),p(6,"span",10),s(7),Vt(8,"date"),m(),s(9,"\n                "),p(10,"span",11),s(11),m(),s(12,"\n            "),m(),s(13,"\n    \n            "),N(14,"i",12),s(15,"\n        "),m(),s(16,"\n    "),V()}if(2&n){const e=C();_(5),ee("\n                ",e.cardData.name,"\n                "),_(2),ee(" - ",Tn(8,5,e.cardData.session_date),""),_(4),gc("\n                    - Day ",e.cardData.start_day," to ",e.cardData.end_day,"\n                "),_(3),v("ngClass",Pn(7,rse,!e.isOpen,e.isOpen))}}function sse(n,t){1&n&&(U(0),s(1,"\n                "),N(2,"hr",13),s(3,"\n            "),V())}const ase=function(n,t){return{"fa-pencil":n,"fa-times":t}};function lse(n,t){if(1&n){const e=Z();U(0),s(1,"\n                    "),p(2,"div",14),A("click",function(){return k(e),x(C().toggleFormState())}),s(3,"\n                        "),N(4,"i",15),s(5,"\n                    "),m(),s(6,"\n                "),V()}if(2&n){const e=C();_(4),v("ngClass",Pn(1,ase,e.isInDisplayState(),!e.isInDisplayState()))}}function cse(n,t){if(1&n&&(U(0),s(1,"\n                            "),p(2,"a",23),s(3),m(),s(4,"\n                        "),V()),2&n){const e=t.$implicit,i=t.index,r=C(2);_(2),v("routerLink",r.diaryentryUrls[i]),_(1),gc("\n                                ",e.author_name," - ",e.name,"\n                            ")}}function use(n,t){if(1&n&&(U(0),s(1,"\n                    "),p(2,"h5"),s(3,"\n                        "),p(4,"a",24),s(5,"\n                            "),N(6,"span",25),s(7," \n                            Recording \n                        "),m(),s(8,"\n                    "),m(),s(9,"\n                "),V()),2&n){const e=C(2);_(4),v("routerLink",e.sessionAudioUrl)}}function dse(n,t){if(1&n&&(U(0),s(1,"\n                "),p(2,"div",5),s(3,"\n                    "),p(4,"h5",16),s(5,"\n                        "),p(6,"span",17),s(7,"In-Game Days"),m(),s(8,"    \n                    "),m(),s(9,"\n                    "),p(10,"span"),s(11),m(),s(12,"\n                "),m(),s(13,"\n\n\n                "),p(14,"div",18),s(15,"\n                    "),p(16,"h5",19),s(17," "),N(18,"span",20),s(19," Diaryentries "),m(),s(20,"\n                    "),p(21,"div",21),s(22,"\n                        "),S(23,cse,5,3,"ng-container",22),s(24,"\n                    "),m(),s(25,"\n                "),m(),s(26,"\n\n                "),S(27,use,10,1,"ng-container",2),s(28,"\n            "),V()),2&n){const e=C();_(11),gc(" ",e.cardData.start_day," to ",e.cardData.end_day,""),_(12),v("ngForOf",e.cardData.diaryentries),_(4),v("ngIf",e.cardData.has_recording)}}function hse(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"app-formly-formcontainer",26),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m(),s(3,"\n            "),V()}if(2&n){const e=C();_(2),v("model",e.userModel)("fields",e.formlyFields)}}function pse(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"app-compare-form-container",27),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m(),s(3,"    \n            "),V()}if(2&n){const e=C();_(2),v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)("displayVertically",!0)}}function fse(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"div",28),s(2,"\n        "),s(3,"\n        "),p(4,"app-formly-formcontainer",26),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m(),s(5,"\n    "),m(),s(6,"\n")}if(2&n){const e=C();_(4),v("model",e.userModel)("fields",e.formlyFields)}}const mse=function(n){return{"animate__animated animate__fadeInUp":n}};class i_ extends Zu{constructor(t,e,i,r,o,a,c){super(i,t,c,o),this.formlyService=e,this.routingService=r,this.element=a,this.userModelClass=Bu,this.cardDelete=new X,this.formlyFields=[this.formlyService.genericCheckbox({key:"is_main_session",defaultValue:!0,label:"Main Session?"}),this.formlyService.genericInput({key:"session_number",label:"Session Number",required:!0,isNumberInput:!0}),this.formlyService.genericDatepicker({key:"session_date",label:"Date of the Session (YYYY/MM/DD)",required:!0}),this.formlyService.genericInput({key:"start_day",label:"Start Day",required:!1}),this.formlyService.genericInput({key:"end_day",label:"End Day",required:!1})]}createUserModel(){this.userModel=JSON.parse(JSON.stringify(this.cardData))}articleUpdate(t){t.end_day=parseInt(t.end_day),t.start_day=parseInt(t.start_day),super.articleUpdate(t)}updateDynamicVariables(t,e,i){const r=e.diaryentries;null!=r&&(this.diaryentryUrls=r.map(o=>this.routingService.getRoutePath("diaryentry",{authorName:o.author_name,campaign:t.name,sessionNumber:this.cardData.session_number,isMainSession:this.cardData.is_main_session_int})),this.sessionAudioUrl=this.routingService.getRoutePath("sessionaudio",{campaign:t.name,isMainSession:this.cardData.is_main_session_int,sessionNumber:this.cardData.session_number}))}}i_.\u0275fac=function(t){return new(t||i_)(w(vs),w(Yt),w(ze),w(he),w(_e),w(Pt),w(Fe))},i_.\u0275cmp=ie({type:i_,selectors:[["app-session"]],viewQuery:function(t,e){if(1&t&&dt(ise,5),2&t){let i;ke(i=Me())&&(e.card=i.first)}},features:[ce],decls:39,vars:12,consts:[[1,"card","row","mb-3","px-4","pt-3","pb-1",3,"ngClass"],["card",""],[4,"ngIf"],[1,"mb-3","w-100",3,"ngbCollapse"],[1,"col-12"],[1,"mb-3"],[1,"d-inline"],[3,"deleteMessage","deleteEvent"],["formField",""],[1,"pointer","col-12","justify-content-between","d-flex","align-items-center",3,"click"],[1,"text-muted","no-transform"],[1,"text-muted","no-transform","hide-on-mobile"],[1,"fa","icon",3,"ngClass"],[1,"white-separator","mb-2"],[1,"btn","btn-secondary","float-right",3,"click"],[1,"fa","fa-pencil",3,"ngClass"],[1,"row","mb-0"],[1,"col"],[1,"mb-5"],[1,"mb-1"],[1,"fas","fa-book-open"],[1,"d-flex","flex-column"],[4,"ngFor","ngForOf"],[1,"ml-4","max-content-width",3,"routerLink"],[3,"routerLink"],[1,"fa","fa-file-audio-o"],[3,"model","fields","formlySubmit","formlyCancel"],[1,"d-flex","justify-content-center",3,"formlyFields","modelFromUser","modelFromServer","displayVertically","updateSubmit","cancel"],["id","edit-section"]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n    "),s(3,"\n    "),S(4,ose,17,10,"ng-container",2),s(5,"\n\n\n    "),s(6,"\n    "),p(7,"div",3),s(8,"\n        "),p(9,"div",4),s(10,"\n            "),s(11,"\n            "),S(12,sse,4,0,"ng-container",2),s(13,"\n\n            "),s(14,"\n            "),p(15,"div",5),s(16,"\n                "),p(17,"h4",6),s(18),m(),s(19,"\n        \n                "),s(20,"\n                "),S(21,lse,7,4,"ng-container",2),s(22,"\n\n            "),m(),s(23,"\n\n\n            "),s(24,"\n            "),S(25,dse,29,4,"ng-container",2),s(26,"\n\n            "),S(27,hse,4,2,"ng-container",2),s(28,"\n\n            "),S(29,pse,4,4,"ng-container",2),s(30,"\n\n            "),s(31,"\n            "),p(32,"app-delete-toggle",7),A("deleteEvent",function(){return e.articleDelete(e.cardData)}),m(),s(33," \n        "),m(),s(34,"\n\n    "),m(),s(35,"\n"),m(),s(36,"\n\n"),S(37,fse,7,2,"ng-template",null,8,ae)),2&t&&(v("ngClass",ot(10,mse,e.isInCreateState())),_(4),v("ngIf",!e.isInOutdatedUpdateState()),_(3),v("ngbCollapse",!e.isOpen),_(5),v("ngIf",!e.isInOutdatedUpdateState()),_(6),ee(" ",e.cardData.name,""),_(3),v("ngIf",e.hasUpdatePermission),_(4),v("ngIf",e.isInDisplayState()),_(2),v("ngIf",e.isInCreateState()||e.isInUpdateState()),_(2),v("ngIf",e.isInOutdatedUpdateState()),_(3),v("deleteMessage","Delete this session ?"))},dependencies:[rn,Ye,me,Ht,SS,bs,Cn,vi,ry],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--wiki-background-2)}.no-transform[_ngcontent-%COMP%]{text-transform:none}.max-content-width[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}"]});const gse=["sessionElements"];function _se(n,t){if(1&n){const e=Z();U(0),s(1,"\n      "),p(2,"app-session",12,13),A("cardDelete",function(){const o=k(e).index;return x(C().onArticleDelete(o))}),m(),s(4,"\n    "),V()}if(2&n){const e=t.$implicit,i=t.index,r=C();_(2),v("cardData",e)("campaign",r.campaign)("index",i)}}class r_ extends Ku{constructor(t,e,i,r,o,a){super(t,e,i,r,o,a),this.articleModelClass=Bu,this.articleStarterTitle="New Session",this.articlesSortProperty="session_date",this.isReverseSort=!0,this.articlesInitialScrollParameter="name"}updateDynamicVariables(t,e,i){this.homeUrl=this.routingService.getRoutePath("home2",{campaign:t.name})}addArticle(){const t=new Bu;t.name=this.articleStarterTitle,t.campaign=this.campaign.pk;const e=Math.max.apply(Math,this.articles.map(r=>r.session_number));t.session_number=e+1,t.session_date=this.getNextSessionDate(this.articles[0]),this.articles.unshift(t)}getNextSessionDate(t){let e;if(null==t)e=new Date;else{const i=new Date(t.session_date);e=this.addDaysToDate(7,i)}return this.dateToYYYMMDDString(e)}addDaysToDate(t,e){const i=864e5*t;return new Date(e.setTime(e.getTime()+i))}dateToYYYMMDDString(t){return t.toISOString().slice(0,10)}}r_.\u0275fac=function(t){return new(t||r_)(w(vs),w(Fe),w(he),w(ze),w(Ve),w(_e))},r_.\u0275cmp=ie({type:r_,selectors:[["app-sessions"]],viewQuery:function(t,e){if(1&t&&dt(gse,5),2&t){let i;ke(i=Me())&&(e.articleElements=i)}},features:[ce],decls:35,vars:3,consts:[[1,"main"],["listArticle",""],[1,"container"],[1,"row"],[1,"text-center","col"],[3,"tooltipMessage"],[1,"mb-3","row"],["title","Add Session",1,"btn","btn-primary","col-lg-2","col-sm-3",3,"click"],[1,"fa","fa-plus"],[4,"ngFor","ngForOf"],[1,"row","mt-5"],[1,"btn","btn-secondary","col-md-3",3,"routerLink"],[3,"cardData","campaign","index","cardDelete"],["ruleElements",""]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n  "),p(3,"article",2),s(4,"\n    "),s(5,"\n    "),p(6,"div",3),s(7,"\n      "),p(8,"h1",4),s(9,"\n        Sessions\n        "),p(10,"app-tooltip-infocircle",5),s(11,"\n        "),m(),s(12,"\n      "),m(),s(13,"\n    "),m(),s(14,"\n\n    "),p(15,"div",6),s(16,"\n      "),p(17,"div",7),A("click",function(){return e.addArticle()}),s(18,"\n        "),N(19,"i",8),s(20,"\n        Add Session\n      "),m(),s(21,"\n    "),m(),s(22,"\n\n    "),s(23,"\n    "),S(24,_se,5,3,"ng-container",9),s(25,"\n\n    "),s(26,"\n    "),p(27,"div",10),s(28,"\n      "),p(29,"a",11),s(30,"\n        Back To Frontpage\n      "),m(),s(31,"\n    "),m(),s(32,"\n  "),m(),s(33,"\n"),m(),s(34,"\n")),2&t&&(_(10),v("tooltipMessage","A list of all sessions that happened this campaign"),_(14),v("ngForOf",e.articles),_(5),v("routerLink",e.homeUrl))},dependencies:[Ye,Ht,i_,qu]});class wp extends Hr{constructor(t){super(t),this.baseUrl=`${H.wikiApiUrl}/spellclassconnection`}}wp.\u0275fac=function(t){return new(t||wp)(R(qt))},wp.\u0275prov=W({token:wp,factory:wp.\u0275fac,providedIn:"root"});const vse=["spellCard"];function yse(n,t){1&n&&(p(0,"span",18),s(1,"(C)"),m())}function bse(n,t){1&n&&(p(0,"span",18),s(1,"(R)"),m())}function Cse(n,t){if(1&n){const e=Z();U(0),s(1,"\n          "),p(2,"span",19),A("click",function(r){const a=k(e).$implicit;return x(C().emitClassSelectEvent(r,a.player_class_details.name))}),s(3),m(),s(4,"\n        "),V()}if(2&n){const e=t.$implicit;_(3),ee("\n            ",e.player_class_details.name,"\n          ")}}const wse=function(n,t){return{"fa-pencil":n,"fa-times":t}};function Sse(n,t){if(1&n){const e=Z();U(0),s(1,"\n          "),p(2,"div",20),A("click",function(){return k(e),x(C().toggleFormState())}),s(3,"\n            "),N(4,"i",21),s(5,"\n          "),m(),s(6,"\n        "),V()}if(2&n){const e=C();_(4),v("ngClass",Pn(1,wse,e.isInDisplayState(),!e.isInDisplayState()))}}function Tse(n,t){if(1&n&&(p(0,"div",31),s(1),m()),2&n){const e=C(2);_(1),ee("\n                ",e.cardData.spell_level,"\n              ")}}function Dse(n,t){1&n&&(p(0,"div",32),s(1,"\n                Placeholder\n              "),m())}function Ese(n,t){if(1&n&&(p(0,"div",31),s(1),m()),2&n){const e=C(2);_(1),ee("\n                ",e.cardData.casting_time,"\n              ")}}function kse(n,t){1&n&&(p(0,"div",32),s(1,"\n                Placeholder\n              "),m())}function Mse(n,t){if(1&n&&(p(0,"div",31),s(1),m()),2&n){const e=C(2);_(1),ee("\n                ",e.cardData.range,"\n              ")}}function xse(n,t){if(1&n&&(p(0,"div",31),s(1),m()),2&n){const e=C(2);_(1),ee("\n                ",e.cardData.components,"\n              ")}}function Ise(n,t){if(1&n&&(p(0,"div",31),s(1),m()),2&n){const e=C(2);_(1),ee("\n                ",e.cardData.duration,"\n              ")}}function Pse(n,t){if(1&n&&(p(0,"div",31),s(1),m()),2&n){const e=C(2);_(1),ee("\n                ",e.cardData.school,"\n              ")}}function Ose(n,t){if(1&n&&(p(0,"div",31),s(1),m()),2&n){const e=C(2);_(1),ee("\n                ",e.cardData.saving_throw,"\n              ")}}function Ase(n,t){if(1&n&&(p(0,"div",31),s(1),m()),2&n){const e=C(2);_(1),ee("\n                ",e.cardData.damage,"\n              ")}}function Nse(n,t){if(1&n&&(U(0),s(1,"\n        "),p(2,"div",22),s(3,"\n          "),p(4,"div",23),s(5,"\n            "),s(6,"\n            "),p(7,"div",24),s(8,"\n              "),p(9,"strong",25),s(10,"SPELL LEVEL"),m(),s(11,"\n              "),S(12,Tse,2,1,"div",26),s(13,"\n              "),S(14,Dse,2,0,"div",27),s(15,"\n            "),m(),s(16,"\n  \n            "),s(17,"\n            "),p(18,"div",24),s(19,"\n              "),p(20,"strong",25),s(21,"CASTING TIME"),m(),s(22,"\n              "),S(23,Ese,2,1,"div",26),s(24,"\n              "),S(25,kse,2,0,"div",27),s(26,"\n            "),m(),s(27,"\n  \n            "),s(28,"\n            "),p(29,"div",24),s(30,"\n              "),p(31,"strong",25),s(32,"RANGE/AREA"),m(),s(33,"\n              "),S(34,Mse,2,1,"div",28),s(35,"\n            "),m(),s(36,"\n  \n            "),s(37,"\n            "),p(38,"div",24),s(39,"\n              "),p(40,"strong",25),s(41,"COMPONENTS"),m(),s(42,"\n              "),S(43,xse,2,1,"div",28),s(44,"\n            "),m(),s(45,"\n  \n            "),s(46,"\n            "),p(47,"div",24),s(48,"\n              "),p(49,"strong",25),s(50,"DURATION"),m(),s(51,"\n              "),S(52,Ise,2,1,"div",28),s(53,"\n            "),m(),s(54,"\n  \n            "),s(55,"\n            "),p(56,"div",24),s(57,"\n              "),p(58,"strong",25),s(59,"SCHOOL"),m(),s(60,"\n              "),S(61,Pse,2,1,"div",28),s(62,"\n            "),m(),s(63,"\n  \n            "),s(64,"\n            "),p(65,"div",24),s(66,"\n              "),p(67,"strong",25),s(68,"ATTACK/SAVE"),m(),s(69,"\n              "),S(70,Ose,2,1,"div",28),s(71,"\n            "),m(),s(72,"\n  \n            "),s(73,"\n            "),p(74,"div",24),s(75,"\n              "),p(76,"strong",25),s(77,"EFFECT"),m(),s(78,"\n              "),S(79,Ase,2,1,"div",28),s(80,"\n            "),m(),s(81,"\n  \n            "),s(82,"\n            "),p(83,"div",29),s(84,"\n              "),p(85,"strong",25),s(86,"DESCRIPTION"),m(),s(87,"\n              "),N(88,"div",30),s(89,"\n            "),m(),s(90,"\n          "),m(),s(91,"\n        "),m(),s(92,"\n      "),V()),2&n){const e=C(),i=re(66);_(12),v("ngIf",e.cardData.spell_level),_(2),v("ngIf",!e.cardData.spell_level),_(9),v("ngIf",e.cardData.casting_time),_(2),v("ngIf",!e.cardData.casting_time),_(9),v("ngIf",e.cardData.range)("ngIfElse",i),_(9),v("ngIf",e.cardData.components)("ngIfElse",i),_(9),v("ngIf",e.cardData.duration)("ngIfElse",i),_(9),v("ngIf",e.cardData.school)("ngIfElse",i),_(9),v("ngIf",e.cardData.saving_throw)("ngIfElse",i),_(9),v("ngIf",e.cardData.damage)("ngIfElse",i),_(9),v("innerHTML",e.cardData.description,Nr)}}function Rse(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"span",34),A("click",function(){k(e);const r=C().$implicit;return x(C(2).deleteSpellPlayerClassConnection(r))}),m(),s(3,"\n              "),V()}}function Fse(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"span",33),A("click",function(r){const a=k(e).$implicit;return x(C(2).emitClassSelectEvent(r,a.player_class_details.name))}),s(3),S(4,Rse,4,0,"ng-container",11),s(5,"\n            "),m(),s(6,"\n          "),V()}if(2&n){const e=t.$implicit,i=C(2);_(3),ee("\n              ",e.player_class_details.name,"\n  \n              "),_(1),v("ngIf",i.tokenService.isAdmin())}}function Lse(n,t){if(1&n){const e=Z();p(0,"app-inline-create-button",36),A("click",function(){return k(e),x(C(3).toggleConnectionCreateState())}),s(1,"     \n            "),m()}2&n&&v("labelText","Add Class")}function $se(n,t){if(1&n&&(U(0),s(1,"\n            "),oi(2),s(3,"\n            "),S(4,Lse,2,1,"app-inline-create-button",35),s(5,"\n          "),V()),2&n){const e=C(2),i=re(63);_(4),v("ngIf",!e.isSpellConnectionCreateState)("ngIfElse",i)}}function Use(n,t){if(1&n&&(U(0),s(1,"\n        "),s(2,"\n        "),p(3,"div"),s(4,"\n          Classes:\n          "),S(5,Fse,7,2,"ng-container",5),s(6,"\n  \n  \n          "),S(7,$se,6,2,"ng-container",11),s(8,"\n        "),m(),s(9,"\n      "),V()),2&n){const e=C();_(5),v("ngForOf",e.cardData.player_class_connections),_(2),v("ngIf",e.tokenService.isAdmin())}}function Vse(n,t){if(1&n){const e=Z();p(0,"app-formly-formcontainer",37),A("formlySubmit",function(){return k(e),x(C().onSubmit())})("formlyCancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("model",e.userModel)("fields",e.formlyFields)}}function Bse(n,t){if(1&n){const e=Z();p(0,"app-compare-form-container",38),A("updateSubmit",function(){return k(e),x(C().onSubmit())})("cancel",function(){return k(e),x(C().onCancel())}),m()}if(2&n){const e=C();v("formlyFields",e.formlyFields)("modelFromUser",e.userModel)("modelFromServer",e.serverModel)("displayVertically",!0)}}function Hse(n,t){1&n&&(s(0,"\n  "),N(1,"div",39),s(2,"\n"))}function jse(n,t){if(1&n&&(U(0),s(1,"\n        "),p(2,"option",45),s(3),m(),s(4,"\n      "),V()),2&n){const e=t.$implicit,i=C(2);_(2),v("value",e.pk),Et("disabled",!!i.hasConnection(e)||null),_(1),ee("\n          ",e.name,"\n        ")}}function zse(n,t){if(1&n){const e=Z();s(0,"\n  "),s(1,"\n  "),p(2,"form",40),A("submit",function(){k(e);const r=C();return x(r.createSpellPlayerClassConnection(r.connectionModel))}),s(3,"\n    "),p(4,"select",41),A("ngModelChange",function(r){return k(e),x(C().connectionModel.player_class=r)}),s(5,"\n      "),S(6,jse,5,3,"ng-container",5),s(7,"\n    "),m(),s(8,"\n\n    "),p(9,"i",42),A("click",function(){return k(e),x(C().toggleConnectionCreateState())}),m(),s(10,"\n    "),p(11,"button",43),s(12,"\n      "),N(13,"i",44),s(14,"\n    "),m(),s(15,"\n  "),m(),s(16,"\n")}if(2&n){const e=C();_(4),v("ngModel",e.connectionModel.player_class),_(2),v("ngForOf",e.playerClasses)}}function Gse(n,t){1&n&&(s(0,"\n  "),p(1,"div",32),s(2,"\n    Placeholder\n  "),m(),s(3,"\n"))}const Wse=function(n){return{"animate__animated animate__fadeInUp":n}},qse=function(n,t){return{"fa-chevron-down":n,"fa-chevron-up":t}};class o_ extends Zu{constructor(t,e,i,r,o,a,c,u,h){super(i,t,h,c),this.formlyService=e,this.warnings=i,this.routingService=r,this.spellConnectionService=o,this.playerClassService=a,this.element=u,this.userModelClass=Bb,this.classSelect=new X,this.cardDelete=new X,this.isSpellConnectionCreateState=!1,this.formlyFields=[this.formlyService.genericCheckbox({key:"concentration",label:"Concentration",defaultValue:!1}),this.formlyService.genericCheckbox({key:"ritual",defaultValue:!1}),this.formlyService.genericInput({key:"name",isNameInput:!0}),this.formlyService.customSelect({key:"spell_level",label:"Spell Level",options:H.spellLevelOptions}),this.formlyService.customSelect({key:"casting_time",label:"Casting Time",options:H.castingTimeOptions}),this.formlyService.customSelect({key:"duration",options:H.durationOptions}),this.formlyService.customSelect({key:"range",options:H.rangeOptions}),this.formlyService.customSelect({key:"components",options:H.componentOptions}),this.formlyService.customSelect({key:"school",options:H.schoolOptions}),this.formlyService.customSelect({key:"saving_throw",label:"Saving Throw",options:H.savingThrowOptions,required:!1}),this.formlyService.genericInput({key:"damage",label:"Effect",maxLength:40,required:!1}),this.formlyService.genericTextField({key:"description"})]}toggleSpellCard(t){t.target.classList.contains("badge")||"FORM"===t.target.tagName||"FORM"===t.target.parentElement?.tagName||"FORM"===t.target.parentElement?.parentElement?.tagName||this.toggleCard()}emitClassSelectEvent(t,e){t.target.classList.contains("icon")||this.classSelect.emit(e)}toggleConnectionCreateState(){this.playerClasses||this.playerClassService.list().pipe(le()).subscribe(t=>this.playerClasses=t,t=>this.warnings.showWarning(t)),this.isSpellConnectionCreateState=!this.isSpellConnectionCreateState,this.resetConnectionModel()}deleteSpellPlayerClassConnection(t){this.spellConnectionService.delete(t.pk).pipe(le()).subscribe(e=>{const i=this.cardData.player_class_connections.indexOf(t);this.cardData.player_class_connections.splice(i,1)},e=>this.warnings.showWarning(e))}createSpellPlayerClassConnection(t){t.player_class=parseInt(`${t.player_class}`),this.spellConnectionService.create(t).pipe(le()).subscribe(e=>{this.cardData.player_class_connections.push(e),this.toggleConnectionCreateState()},e=>this.warnings.showWarning(e))}resetConnectionModel(){this.connectionModel={player_class:null,spell:this.cardData.pk}}hasConnection(t){return this.cardData.player_class_connections.some(e=>e.player_class===t.pk)}}o_.\u0275fac=function(t){return new(t||o_)(w(Fl),w(Yt),w(ze),w(he),w(wp),w(Nc),w(_e),w(Pt),w(Fe))},o_.\u0275cmp=ie({type:o_,selectors:[["app-spell"]],viewQuery:function(t,e){if(1&t&&dt(vse,5),2&t){let i;ke(i=Me())&&(e.card=i.first)}},inputs:{cardData:"cardData"},outputs:{classSelect:"classSelect"},features:[ce],decls:67,vars:19,consts:[[1,"card","mb-3","px-4","pt-3","pb-1",3,"ngClass"],["spellCard",""],[1,"pointer","col-12","justify-content-between","d-flex","align-items-center","spell-title",3,"click"],["class","ml-2",4,"ngIf"],[1,"d-inline-flex","flex-wrap","align-items-center","ml-3"],[4,"ngFor","ngForOf"],[1,"fa","icon",3,"ngClass"],[1,"mb-3",3,"ngbCollapse"],[1,"col-12"],[1,"white-separator","mb-2"],[1,"w-100","mb-4","d-flex","justify-content-between"],[4,"ngIf"],[3,"model","fields","formlySubmit","formlyCancel",4,"ngIf"],["class","d-flex justify-content-center",3,"formlyFields","modelFromUser","modelFromServer","displayVertically","updateSubmit","cancel",4,"ngIf"],[3,"deleteMessage","deleteEvent"],["formField",""],["connectionForm",""],["inputPlaceholder",""],[1,"ml-2"],[1,"badge","badge-secondary","badge-sm","mr-3",3,"click"],[1,"btn","btn-secondary","max-content",3,"click"],[1,"fa",3,"ngClass"],[1,"container"],[1,"row"],[1,"col-md-3","col-6","d-flex","flex-column","spell"],[1,"border-bottom-grey","column-heading"],["class","column-body",4,"ngIf"],["class","column-body placeholder",4,"ngIf"],["class","column-body",4,"ngIf","ngIfElse"],[1,"col-12","d-flex","flex-column","spell"],[1,"column-body",3,"innerHTML"],[1,"column-body"],[1,"column-body","placeholder"],[1,"badge","badge-secondary","badge-lg","p-2","mr-3","pointer",3,"click"],[1,"fa","fa-trash","ml-2",3,"click"],[3,"labelText","click",4,"ngIf","ngIfElse"],[3,"labelText","click"],[3,"model","fields","formlySubmit","formlyCancel"],[1,"d-flex","justify-content-center",3,"formlyFields","modelFromUser","modelFromServer","displayVertically","updateSubmit","cancel"],["id","edit-section"],[1,"d-inline-flex","align-items-center",3,"submit"],["name","connection","id","connection",1,"form-control","d-inline-block",3,"ngModel","ngModelChange"],[1,"fa","fa-times","icon","mx-2","fa-1-5x",3,"click"],["type","submit",1,"mx-2"],[1,"fa","fa-check","icon","fa-1-5x"],[3,"value"]],template:function(t,e){1&t&&(s(0,"\n"),p(1,"div",0,1),s(3,"\n  "),s(4,"\n  "),p(5,"h5",2),A("click",function(r){return e.toggleSpellCard(r)}),s(6,"\n    "),s(7,"\n    "),p(8,"strong"),s(9,"\n      "),p(10,"span"),s(11),m(),s(12,"\n      "),S(13,yse,2,0,"span",3),s(14,"\n      "),S(15,bse,2,0,"span",3),s(16,"\n      "),p(17,"span",4),s(18,"\n        \n        "),S(19,Cse,5,1,"ng-container",5),s(20,"\n\n      "),m(),s(21,"\n    "),m(),s(22,"\n\n    "),N(23,"i",6),s(24,"\n  "),m(),s(25,"\n\n  "),s(26,"\n  "),p(27,"div",7),s(28,"\n    "),p(29,"div",8),s(30,"\n      "),s(31,"\n      "),N(32,"hr",9),s(33,"\n\n      "),s(34,"\n      "),p(35,"div",10),s(36,"\n        "),p(37,"h4"),s(38),m(),s(39,"\n\n        "),s(40,"\n        "),S(41,Sse,7,4,"ng-container",11),s(42,"\n\n      "),m(),s(43,"\n\n      "),s(44,"\n      "),S(45,Nse,93,17,"ng-container",11),s(46,"\n\n      "),S(47,Use,10,2,"ng-container",11),s(48,"\n\n\n      "),S(49,Vse,1,2,"app-formly-formcontainer",12),s(50,"\n\n      "),S(51,Bse,1,4,"app-compare-form-container",13),s(52,"\n\n      "),s(53,"\n      "),p(54,"app-delete-toggle",14),A("deleteEvent",function(){return e.articleDelete(e.cardData)}),m(),s(55,"\n    "),m(),s(56,"\n  "),m(),s(57,"\n"),m(),s(58,"\n\n"),S(59,Hse,3,0,"ng-template",null,15,ae),s(61,"\n\n"),S(62,zse,17,2,"ng-template",null,16,ae),s(64,"\n\n\n"),S(65,Gse,4,0,"ng-template",null,17,ae)),2&t&&(_(1),v("ngClass",ot(14,Wse,e.isInCreateState())),_(10),We(e.cardData.name),_(2),v("ngIf",e.cardData.concentration),_(2),v("ngIf",e.cardData.ritual),_(4),v("ngForOf",e.cardData.player_class_connections),_(4),v("ngClass",Pn(16,qse,!e.isOpen,e.isOpen)),_(4),v("ngbCollapse",!e.isOpen),_(11),We(e.cardData.name),_(3),v("ngIf",e.hasUpdatePermission),_(4),v("ngIf",e.isInDisplayState()),_(2),v("ngIf",!e.isInCreateState()),_(2),v("ngIf",e.isInCreateState()||e.isInUpdateState()),_(2),v("ngIf",e.isInOutdatedUpdateState()),_(3),v("deleteMessage","Delete this Spell ?"))},dependencies:[rn,Ye,me,Vr,js,zs,Vo,ki,Ur,Bs,Uo,SS,bs,Cn,vi,Vl],styles:["button.btn.btn-link[_ngcontent-%COMP%]:hover{text-decoration:none!important}button.btn.btn-link[_ngcontent-%COMP%]:focus{text-decoration:none!important;box-shadow:none!important}.card[_ngcontent-%COMP%]   button.btn.btn-link[_ngcontent-%COMP%]{width:100%;text-align:left}.form-control[_ngcontent-%COMP%]{height:2.75rem;font-size:1.2rem}input.form-control[_ngcontent-%COMP%]{background-color:transparent!important;color:#fff!important;border:solid white 1px!important}input.form-control[_ngcontent-%COMP%]:focus{box-shadow:3px #00f;color:#fff}select.form-control[_ngcontent-%COMP%]{color:#fff!important;background-color:#4c4c4c!important}select[_ngcontent-%COMP%]:focus{background-color:#4c4c4c;box-shadow:3px #00f;color:#fff}option[_ngcontent-%COMP%]{background-color:#1b1f22;color:#fff;font-size:18px}.custom-control.custom-checkbox[_ngcontent-%COMP%]{transform:scale(1.2);transform-origin:0}.visually-hidden[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{background-color:transparent}.card[_ngcontent-%COMP%]{background-color:#1b1f22f2!important;border-color:gray}.card-title[_ngcontent-%COMP%]{font-size:1.3rem}.column-heading[_ngcontent-%COMP%]{background-color:#ffffff0d;padding:.75rem}.column-body[_ngcontent-%COMP%]{background-color:#1b1f22f2;padding:.75rem}.spell[_ngcontent-%COMP%]{padding:0}.placeholder[_ngcontent-%COMP%]{color:transparent}.border-bottom-grey[_ngcontent-%COMP%]{border-bottom:1px grey solid}.badge-secondary[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%]:hover{color:#bf4044}.badge[_ngcontent-%COMP%]{height:min-content}.badge-lg[_ngcontent-%COMP%]{padding:.4em .8em}.badge-secondary[_ngcontent-%COMP%]:hover{background-color:var(--dark);color:var(--link-blue)}@media (max-width: 768px){.column-heading[_ngcontent-%COMP%]{font-size:medium}}#edit-section[_ngcontent-%COMP%]{margin-bottom:1rem}"]});const Qse=["spellElements"];function Zse(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"span",8),A("click",function(){const o=k(e).index;return x(C().selectedClasses.splice(o,1))}),s(3),N(4,"i",9),s(5,"\n                "),m(),s(6,"\n            "),V()}if(2&n){const e=t.$implicit;_(3),ee("\n                    ",e," ")}}function Kse(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"div",10),s(3,"\n                "),p(4,"a",11),A("click",function(){return k(e),x(C().addArticle())}),s(5," \n                    "),N(6,"i",12),s(7,"\n                    Add Spell\n                "),m(),s(8,"\n            "),m(),s(9,"\n        "),V()}}function Yse(n,t){if(1&n){const e=Z();p(0,"app-spell",14,15),A("cardDelete",function(){k(e);const r=C().index;return x(C().onArticleDelete(r))})("classSelect",function(r){return k(e),x(C(2).selectClass(r))}),m()}if(2&n){const e=C(),i=e.$implicit,r=e.index,o=C();v("id",i.name.replaceAll(" ","-").replaceAll("'",""))("index",r)("cardData",i)("campaign",o.campaign)}}function Jse(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"div",6),s(3,"\n                "),S(4,Yse,2,4,"app-spell",13),s(5,"\n            "),m(),s(6,"\n        "),V()),2&n){const e=t.$implicit,i=C();_(4),v("ngIf",i.hasSelectedClasses(e))}}class Sp extends Ku{constructor(t,e,i,r,o,a){super(t,r,e,o,a,i),this.articleModelClass=Bb,this.articleStarterTitle="New Spell",this.selectedClasses=[],this.articlesInitialScrollParameter="name"}getArticleTitle(t){return t.cardData.name}selectClass(t){this.selectedClasses.includes(t)||this.selectedClasses.push(t)}hasSelectedClasses(t){if(0===this.selectedClasses.length)return!0;const e=t.player_class_connections;return null!=e&&e.some(o=>this.selectedClasses.includes(o.player_class_details.name))}updateDynamicVariables(t,e,i){this.homePageUrl=this.routingService.getRoutePath("home1",{campaign:t.name})}}function Xse(n,t){1&n&&oi(0)}function eae(n,t){if(1&n&&(s(0,"\n    "),p(1,"a",8),s(2,"\n        Retry\n        "),N(3,"span",9),s(4,"\n    "),m(),s(5," \n")),2&n){const e=C();_(1),v("href",e.campaign?e.campaignHomeUrl:e.campaignOverviewUrl,Yn)}}function tae(n,t){if(1&n&&(s(0,"\n    "),p(1,"a",8),s(2,"\n        Log in again\n        "),N(3,"span",9),s(4,"\n    "),m(),s(5," \n")),2&n){const e=C();_(1),v("href",e.loginUrl,Yn)}}Sp.\u0275fac=function(t){return new(t||Sp)(w(Fl),w(he),w(_e),w(Fe),w(ze),w(Ve))},Sp.\u0275cmp=ie({type:Sp,selectors:[["app-spells"]],viewQuery:function(t,e){if(1&t&&dt(Qse,5),2&t){let i;ke(i=Me())&&(e.articleElements=i)}},features:[ce],decls:23,vars:4,consts:[[1,"main"],["listArticle",""],[1,"container"],[1,"text-center","mb-3"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-lg-2","col-md-3","btn","btn-secondary",3,"routerLink"],[1,"badge","badge-secondary","pointer",3,"click"],[1,"fa","fa-times"],[1,"mb-3","row"],[1,"btn","btn-primary","col-lg-2","col-sm-3",3,"click"],[1,"fa","fa-plus"],["class","flex-1",3,"id","index","cardData","campaign","cardDelete","classSelect",4,"ngIf"],[1,"flex-1",3,"id","index","cardData","campaign","cardDelete","classSelect"],["spellElements",""]],template:function(t,e){1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),p(5,"h1",3),s(6,"\n            Spells\n            "),S(7,Zse,7,1,"ng-container",4),s(8,"\n        "),m(),s(9,"\n\n        "),S(10,Kse,10,0,"ng-container",5),s(11,"\n\n        "),s(12,"\n        "),S(13,Jse,7,1,"ng-container",4),s(14,"\n\n        "),p(15,"div",6),s(16,"\n            "),p(17,"a",7),s(18,"\n                Back To Frontpage\n            "),m(),s(19,"\n        "),m(),s(20,"\n\n    "),m(),s(21,"\n"),m(),s(22,"\n")),2&t&&(_(7),v("ngForOf",e.selectedClasses),_(3),v("ngIf",e.hasCreatePermission),_(3),v("ngForOf",e.articles),_(4),v("routerLink",e.homePageUrl))},dependencies:[Ye,me,Ht,o_],styles:["table[_ngcontent-%COMP%]{background-color:transparent}.card-title[_ngcontent-%COMP%]{font-size:1.3rem}.whiteline[_ngcontent-%COMP%]{background-color:#fff;margin:0 0 1rem}.column-heading[_ngcontent-%COMP%]{background-color:#ffffff0d;padding:.75rem}.column-body[_ngcontent-%COMP%]{background-color:#1b1f22f2;padding:.75rem}.spell[_ngcontent-%COMP%]{padding:0}.placeholder[_ngcontent-%COMP%]{color:transparent}.border-bottom-grey[_ngcontent-%COMP%]{border-bottom:1px grey solid}@media (max-width: 768px){.column-heading[_ngcontent-%COMP%]{font-size:medium}}.badge-secondary[_ngcontent-%COMP%]:hover{background-color:var(--dark);color:var(--link-blue)}"]});class Tp{constructor(t,e,i,r){this.routingService=t,this.route=e,this.globalUrlParams=i,this.tokenService=r,this.constants=H,this.errorContents={400:{htmlBody:"It appears you supplied some invalid inputs!",title:"400 Bad Request",image:H.badInputImageUrl},401:{htmlBody:"Sorry man, this is an invite-only club. Got to be logged in to get anything.",title:"401 Unauthorized",image:H.pageNotFoundImageUrl},403:{htmlBody:"Naughty naughty! You're not allowed to do what you just did!",title:"403 Forbidden",image:H.pageNotFoundImageUrl},404:{htmlBody:"We couldn't find the site you are looking for. <br> But a dragon found you !",title:"404 Not Found",image:H.pageNotFoundImageUrl},500:{htmlBody:"Something went seriously wrong on the server. <br> We'll be doing our best to force our Beholders to do better work!",title:"500 Server Error",image:H.serverErrorImageUrl},504:{htmlBody:"Your connection seems to be taking a short rest. <br>  Sadly, we need internet to show you a page you haven't recently visited and thus cached. <br> Please connect to the internet and try again.",title:"504 Gateway Timeout",image:H.timeoutImageUrl},0:{htmlBody:"Your connection seems to be taking a short rest. <br>  Sadly, we need internet to show you a page you haven't recently visited and thus cached. <br> Please connect to the internet and try again.",title:"504 Gateway Timeout",image:H.timeoutImageUrl}}}ngOnInit(){this.parameterSubscription=this.route.params.subscribe(t=>{const e=parseInt(t.errorStatus),i=this.errorContents.hasOwnProperty(e);this.errorStatus=i?e:404,this.hasTokenError=[401].includes(this.errorStatus),this.hasTokenError&&this.tokenService.removeJWTTokenFromLocalStorage()}),this.globalUrlParams.getCurrentCampaign().then(t=>{this.campaign=t,this.campaignHomeUrl=this.routingService.getRoutePath("home1",{campaign:this.campaign.name})}),this.loginUrl=this.routingService.getRoutePath("login"),this.campaignOverviewUrl=this.routingService.getRoutePath("campaign-overview")}ngOnDestroy(){this.parameterSubscription&&this.parameterSubscription.unsubscribe(),this.campaignSubscription&&this.campaignSubscription.unsubscribe()}}Tp.\u0275fac=function(t){return new(t||Tp)(w(he),w(Fe),w(Ve),w(_e))},Tp.\u0275cmp=ie({type:Tp,selectors:[["app-error"]],decls:22,vars:8,consts:[[1,"main","d-flex","flex-column"],[1,"text-center","mb-5"],["alt","",1,"center","mb-3",3,"src"],[1,"text-center",3,"innerHTML"],[1,"d-flex","justify-content-center"],[4,"ngIf","ngIfThen","ngIfElse"],["campaignLink",""],["loginLink",""],[1,"btn","btn-primary",3,"href"],[1,"ml-2","fas","fa-redo-alt"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"h1",1),s(3),m(),s(4,"\n    "),N(5,"img",2),s(6,"\n\n    "),p(7,"p",3),Vt(8,"safeHtml"),s(9," "),m(),s(10,"\n    \n    "),p(11,"div",4),s(12,"\n        "),S(13,Xse,1,0,"ng-container",5),s(14,"\n    "),m(),s(15,"\n"),m(),s(16,"\n\n"),S(17,eae,6,1,"ng-template",null,6,ae),s(19,"\n\n"),S(20,tae,6,1,"ng-template",null,7,ae)),2&t){const i=re(18),r=re(21);_(3),ee(" ",e.errorContents[e.errorStatus].title," "),_(2),v("src",e.errorContents[e.errorStatus].image,Yn),_(2),v("innerHTML",Tn(8,6,e.errorContents[e.errorStatus].htmlBody),Nr),_(6),v("ngIf",e.hasTokenError)("ngIfThen",r)("ngIfElse",i)}},dependencies:[me,ip],styles:["img[_ngcontent-%COMP%]{object-fit:cover;max-height:25rem}"]});class nae{constructor(t){t&&Object.assign(this,t)}getAbsoluteRouterUrl(){const t=this.article_type.toLowerCase();return new(0,VR[t])(this).getAbsoluteRouterUrl()}}class Xu{constructor(t){this.http=t,this.recentlyUpdatedUrl=`${H.wikiApiUrl}/recentupdates`,this.searchUrl=`${H.wikiApiUrl}/search`}getRecentlyUpdatedArticle(t,e){return null==e&&(e=0),Zs(this.http.get(`${this.recentlyUpdatedUrl}/${t}/${e}`),nae)}getGlobalSearchArticle(t){return this.http.get(`${this.searchUrl}/${t}`).pipe(pe(r=>{const a=r.articles.map(c=>new ju(c));return r.articles=a,r}))}getCampaignSearchArticle(t,e){return this.http.get(`${this.searchUrl}/${t}/${e}`).pipe(pe(o=>{const c=o.articles.map(u=>new ju(u));return o.articles=c,o}))}}function iae(n,t){1&n&&(U(0),s(1,"\n            "),N(2,"app-spinner",8),s(3,"\n        "),V())}function rae(n,t){1&n&&oi(0)}function oae(n,t){if(1&n&&(U(0),s(1),V()),2&n){const e=C().$implicit;_(1),ee(" \n                                    ",null==e.author_details?null:e.author_details.name,"'s \n                                ")}}Xu.\u0275fac=function(t){return new(t||Xu)(R(qt))},Xu.\u0275prov=W({token:Xu,factory:Xu.\u0275fac,providedIn:"root"});const sae=function(n){return{article:n}},aae=function(n){return{$implicit:n}};function lae(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"div",9),s(3,"\n                "),p(4,"a",10),Vt(5,"titlecase"),s(6,"\n\n                    "),s(7,"\n                    "),p(8,"header",11),s(9,"\n                        "),S(10,rae,1,0,"ng-container",12),s(11," \n                    "),m(),s(12,"\n    \n                    "),s(13,"\n                    "),p(14,"div",13),s(15,"\n                        "),p(16,"div",14),s(17,"\n                            "),p(18,"strong"),s(19),m(),s(20,"\n                        "),m(),s(21,"\n    \n                        "),p(22,"div",15),s(23),Vt(24,"date"),p(25,"div",16),s(26," \n                                "),S(27,oae,2,1,"ng-container",3),s(28),m(),s(29,"\n                        "),m(),s(30,"\n                        \n                        "),p(31,"div",17),s(32),m(),s(33,"\n                    "),m(),s(34,"\n                "),m(),s(35,"\n                \n            "),m(),s(36,"\n            \n        "),V()),2&n){const e=t.$implicit,i=C(),r=re(20),o=re(23);_(4),v("routerLink",e.getAbsoluteRouterUrl())("title",Tn(5,9,e.article_type)),_(6),v("ngTemplateOutlet",e.image_url?r:o)("ngTemplateOutletContext",ot(15,aae,ot(13,sae,e))),_(9),ee(" ",i.getArticleName(e)," "),_(4),ee(" \n                            \n                            ",Tn(24,11,e.update_datetime)," \n                            "),_(4),v("ngIf",i.isDiaryEntry(e)),_(1),ee("\n                                ",e.article_type,"\n                            "),_(4),ee("\n                            ",e.description,"\n                        ")}}function cae(n,t){1&n&&(U(0),s(1,"\n    "),p(2,"div",18),s(3,"\n        "),N(4,"app-spinner"),s(5," \n    "),m(),s(6,"\n"),V())}function uae(n,t){if(1&n&&(s(0,"\n    "),N(1,"img",19),s(2,"\n")),2&n){const e=t.$implicit,i=C();_(1),v("src",i.constants.wikiUrl+e.article.image_url,Yn)}}function dae(n,t){if(1&n&&(s(0,"\n    "),N(1,"i"),s(2,"\n")),2&n){const e=t.$implicit,i=C();_(1),ji("fa-4x "+i.getArticleTypeMetaData(e.article.article_type).iconClass)}}class s_{constructor(t,e,i){this.recentUpdatesServices=t,this.routingService=e,this.warnings=i,this.constants=H,this.pageNumber=0,this.isLoadingNextPage=!1,this.hasLoadedAllArticles=!1}ngOnInit(){this.recentUpdatesServices.getRecentlyUpdatedArticle(this.campaign,this.pageNumber).pipe(le()).subscribe(t=>this.articles=t,t=>this.routingService.routeToErrorPage(t))}getArticleTypeMetaData(t){const i=H.articleTypeMetaData.filter(o=>o.article_types?.includes(t));if(i.length>1)throw`ArticleTypeCollisionException. The article type ${t} is being used multiple times. Please fix this`;return i[0]}getArticleName(t){return this.isDiaryEntry(t)?`#${t.session_details.session_number} - ${t.name}`:"location"===t.article_type?t.name:t.name_full}isDiaryEntry(t){return"diaryentry"===t.article_type}onWindowScroll(t){this.isNearPageEnd()&&this.loadNextPage()}isNearPageEnd(){return document.documentElement.scrollHeight-document.documentElement.clientHeight-window.pageYOffset<H.maxDistanceToPageBottomForPaginationLoad}loadNextPage(){this.isLoadingNextPage||null==this.articles||this.hasLoadedAllArticles||(this.pageNumber+=1,this.isLoadingNextPage=!0,this.recentUpdatesServices.getRecentlyUpdatedArticle(this.campaign,this.pageNumber).pipe(le()).subscribe(t=>{this.articles=this.articles.concat(t),this.isLoadingNextPage=!1,0===t.length&&(this.hasLoadedAllArticles=!0)},t=>this.warnings.showWarning(t)))}}s_.\u0275fac=function(t){return new(t||s_)(w(Xu),w(he),w(ze))},s_.\u0275cmp=ie({type:s_,selectors:[["app-recently-updated-articles-list"]],hostBindings:function(t,e){1&t&&A("scroll",function(r){return e.onWindowScroll(r)},0,rk)},inputs:{campaign:"campaign"},decls:25,vars:3,consts:[["id","news",1,"container"],[1,"row","justify-content-center","align-items-center"],[1,""],[4,"ngIf"],[1,"row"],[4,"ngFor","ngForOf"],["articleIconTemplate",""],["defaultIconTemplate",""],[1,"ml-3"],[1,"mycolpadding","col-6","col-md-4","col-lg-3","mb-4"],[1,"card",3,"routerLink","title"],[1,"card-img-top","d-flex","align-items-center","justify-content-center"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2"],[1,"text-muted"],[1,"card-text"],[1,"w-100","d-flex","justify-content-center"],["alt","article image",3,"src"]],template:function(t,e){1&t&&(p(0,"div",0),s(1,"\n    "),s(2,"\n    "),p(3,"h3",1),s(4,"\n        "),p(5,"span",2),s(6,"Recent Updates"),m(),s(7,"\n        "),S(8,iae,4,0,"ng-container",3),s(9,"\n    "),m(),s(10,"\n\n    "),p(11,"div",4),s(12,"\n        "),S(13,lae,37,17,"ng-container",5),s(14,"\n\n        \n    "),m(),s(15,"\n    \n"),m(),s(16,"\n\n"),S(17,cae,7,0,"ng-container",3),s(18,"\n\n"),S(19,uae,3,1,"ng-template",null,6,ae),s(21,"\n\n"),S(22,dae,3,2,"ng-template",null,7,ae),s(24,"   \n")),2&t&&(_(8),v("ngIf",!e.articles),_(5),v("ngForOf",e.articles),_(4),v("ngIf",!0))},dependencies:[Ye,me,Ro,Ht,Cs,gm,ry],styles:[".card[_ngcontent-%COMP%]{line-height:1.25;height:18rem}.card-img-top[_ngcontent-%COMP%]{height:6rem}.card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;object-fit:cover;width:100%}.card-body[_ngcontent-%COMP%]{overflow:auto;padding:1rem}a[_ngcontent-%COMP%]:hover   .card-body[_ngcontent-%COMP%]{color:var(--link-blue)!important}.card-title[_ngcontent-%COMP%]{height:4rem;overflow:hidden;text-overflow:ellipsis}.card-subtitle[_ngcontent-%COMP%]{text-transform:capitalize}.card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{display:none}.card[_ngcontent-%COMP%]:hover   .card-text[_ngcontent-%COMP%]{display:block}.card[_ngcontent-%COMP%]:hover   header[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:hover   .card-subtitle[_ngcontent-%COMP%]{display:none!important}.mycolpadding[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}header[_ngcontent-%COMP%]{text-align:center}@media (max-width: 576px){.card-img-top[_ngcontent-%COMP%]{max-height:5rem}.card-title[_ngcontent-%COMP%]{height:6rem}}"]});const hae=["search"],pae=["article"];class Dp{constructor(t,e,i){this.routingService=t,this.globalUrlParams=e,this.route=i,this.constants=H}ngOnInit(){this.campaignData=this.route.snapshot.data.campaign}ngAfterViewInit(){this.animateHomePage()}animateHomePage(){this.articleElement?.nativeElement&&_i(this.articleElement.nativeElement,"fadeIn")}startSearch(){if(null!=this.searchString){const i=this.searchString.replace(/[^a-zA-Z0-9']/g," ").trim().replace(/\s\s+/g," ");this.searchString=i}null==this.searchString||""===this.searchString||this.routingService.routeToPath("campaignSearch",{campaign:this.campaignData.name,searchString:this.searchString})}ngOnDestroy(){this.campaignSubscription&&this.campaignSubscription.unsubscribe()}}Dp.\u0275fac=function(t){return new(t||Dp)(w(he),w(Ve),w(Fe))},Dp.\u0275cmp=ie({type:Dp,selectors:[["app-home2"]],viewQuery:function(t,e){if(1&t&&(dt(hae,5),dt(pae,5)),2&t){let i;ke(i=Me())&&(e.searchField=i.first),ke(i=Me())&&(e.articleElement=i.first)}},decls:39,vars:6,consts:[[1,"main"],["article",""],[1,"mb-1"],[1,"d-flex","flex-column"],[1,"large","align-self-center",3,"src","alt"],[1,"hide-on-mobile",3,"innerHTML"],["id","search-area",1,"mb-4"],[1,"flex-1","p-1",3,"submit"],[1,"d-flex","searchbar"],["type","search","name","search","title","search","id","search","placeholder","Search For Articles...","aria-label","Search",1,"search-input","p-2",3,"ngModel","ngModelChange"],["search",""],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-search","p-2"],[3,"campaign"]],template:function(t,e){1&t&&(s(0,"\n"),p(1,"div",0,1),s(3,"\n    "),s(4,"\n    "),p(5,"header",2),s(6,"\n        "),p(7,"div",3),s(8,"\n            "),N(9,"img",4),s(10,"\n            "),p(11,"h1",2),s(12),m(),s(13,"\n            "),N(14,"strong",5),s(15,"\n        "),m(),s(16,"\n    "),m(),s(17,"\n    \n    "),s(18,"\n    "),p(19,"div",6),s(20,"\n        "),p(21,"form",7),A("submit",function(){return e.startSearch()}),s(22,"\n            "),p(23,"div",8),s(24,"\n                "),p(25,"input",9,10),A("ngModelChange",function(r){return e.searchString=r}),m(),s(27,"\n                "),p(28,"button",11),s(29,"\n                    "),N(30,"i",12),s(31,"\n                "),m(),s(32,"\n            "),m(),s(33,"\n\n        "),m(),s(34,"\n    "),m(),s(35,"\n\n    "),s(36,"\n    "),N(37,"app-recently-updated-articles-list",13),s(38,"\n"),m()),2&t&&(_(9),v("src",e.constants.wikiUrl+(null==e.campaignData?null:e.campaignData.icon),Yn)("alt",e.constants.defaultCampaignIconUrl),_(3),ee(" ",e.campaignData.name," "),_(2),v("innerHTML",e.campaignData.subtitle,Nr),_(11),v("ngModel",e.searchString),_(12),v("campaign",e.campaignData.name))},dependencies:[Vr,Ml,ki,Ur,Bs,Uo,s_],styles:[".main[_ngcontent-%COMP%]{padding-bottom:2.5rem}header[_ngcontent-%COMP%]{text-align:center}.aldrune-icon.large[_ngcontent-%COMP%]{background:url(https://www.aldrune.com/static/aldrune_icon/favicon-128x128.png);width:128px;height:128px}.search-input[_ngcontent-%COMP%]{background-color:#1f1e1f;border:none;outline:none;color:#fff;width:100%}input[type=search][_ngcontent-%COMP%]::-webkit-search-decoration, input[type=search][_ngcontent-%COMP%]::-webkit-search-cancel-button, input[type=search][_ngcontent-%COMP%]::-webkit-search-results-button, input[type=search][_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}.searchbar[_ngcontent-%COMP%]{background-color:#1f1e1f;color:#fff;display:flex;align-items:center;padding-left:.4rem;border-color:#717171;border:solid 1px white}"]});class Ep{constructor(t){this.http=t,this.mailUrl=`${H.wikiApiUrl}/mail`}send_error_notification(t){return this.http.post(`${this.mailUrl}/error`,t)}requestPasswordReset(t){return this.http.post(`${this.mailUrl}/reset`,{username:t})}}Ep.\u0275fac=function(t){return new(t||Ep)(R(qt))},Ep.\u0275prov=W({token:Ep,factory:Ep.\u0275fac,providedIn:"root"});const fae=["loginMainCard"];function mae(n,t){if(1&n){const e=Z();U(0),s(1,"\n        "),p(2,"article"),s(3,"\n            "),p(4,"h1"),s(5,"Log In"),m(),s(6,"\n            "),p(7,"div",4),s(8),m(),s(9,"\n            "),p(10,"form",5),A("submit",function(){return k(e),x(C().onSubmit())}),s(11,"\n                "),N(12,"formly-form",6),s(13,"\n                "),p(14,"div"),s(15,"\n                    "),p(16,"span",7),A("click",function(){return k(e),x(C().togglePasswordResetView())}),s(17," \n                        Forgot your password?\n                    "),m(),s(18,"\n                "),m(),s(19,"\n                "),p(20,"button",8),s(21,"Login"),m(),s(22,"\n            "),m(),s(23,"\n        "),m(),s(24,"\n    "),V()}if(2&n){const e=C();_(8),We(e.extraMessage),_(4),v("model",e.model)("fields",e.fields)("form",e.form)}}function gae(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"h1"),s(2," Password Reset "),m(),s(3,"\n    "),p(4,"p"),s(5," Forgot your account\u2019s password? Enter your account name and we\u2019ll send you a randomized new password to your email address."),m(),s(6,"\n    "),p(7,"form",5),A("submit",function(){return k(e),x(C().requestPasswordReset())}),s(8,"\n        "),N(9,"formly-form",6),s(10,"\n        "),p(11,"div",9),A("click",function(){return k(e),x(C().togglePasswordResetView())}),s(12,"I do have a password !"),m(),s(13,"\n        "),p(14,"button",10),s(15,"Reset Password "),m(),s(16,"\n    "),m(),s(17,"\n")}if(2&n){const e=C();_(9),v("model",e.recoveryModel)("fields",e.recoveryFields)("form",e.recoveryForm)}}class kp{constructor(t,e,i,r,o,a,c){this.formlyService=t,this.tokenService=e,this.route=i,this.warnings=r,this.routingService=o,this.mailService=a,this.globalUrlParams=c,this.form=new Gi({}),this.fields=[this.formlyService.genericInput({key:"username",placeholder:"Username"}),this.formlyService.genericPasswordInput({key:"password",className:"mb-0",fieldGroupClassName:"mb-0"})],this.recoveryForm=new Gi({}),this.recoveryFields=[this.formlyService.genericInput({key:"username",placeholder:"Username"})],this.hasConfirmedLogin=!1,this.isRequestingPasswordReset=!1}ngOnInit(){this.globalUrlParams.unsetCurrentlySelectedCampaign(),this.parameter_subscription=this.route.params.subscribe(t=>{this.campaign=t.campaign,this.state=t.state,this.extraMessage=H.loginMessageForState[this.state]}),this.model={username:null,password:null}}ngAfterViewInit(){_i(this.loginMainCard.nativeElement,"backInUp")}onSubmit(){this.tokenService.login(this.model).pipe(le()).subscribe(t=>this.onLoginSuccess(t),t=>this.onLoginFailure(t))}onLoginSuccess(t){this.tokenService.setUserData(t),this.globalUrlParams.autoUpdateCampaignSet(),_i(this.loginMainCard.nativeElement,"zoomOutDown").then(()=>this.routingService.routeToPath("campaign-overview"))}onLoginFailure(t){401===t.status?this.routingService.routeToPath("login-state",{state:"invalid-login"}):this.warnings.showWarning(t),this.resetModel()}resetModel(){this.model={username:null,password:null}}togglePasswordResetView(){this.isRequestingPasswordReset=!this.isRequestingPasswordReset,this.recoveryModel={username:null},_i(this.loginMainCard.nativeElement,"flip")}requestPasswordReset(){this.mailService.requestPasswordReset(this.recoveryModel.username).pipe(le()).subscribe(t=>this.togglePasswordResetView(),t=>this.warnings.showWarning(t))}ngOnDestroy(){this.parameter_subscription&&this.parameter_subscription.unsubscribe(),this.reset_subscription&&this.reset_subscription.unsubscribe()}}kp.\u0275fac=function(t){return new(t||kp)(w(Yt),w(_e),w(Fe),w(ze),w(he),w(Ep),w(Ve))},kp.\u0275cmp=ie({type:kp,selectors:[["app-login"]],viewQuery:function(t,e){if(1&t&&dt(fae,5),2&t){let i;ke(i=Me())&&(e.loginMainCard=i.first)}},decls:8,vars:2,consts:[[1,"main"],["loginMainCard",""],[4,"ngIf","ngIfElse"],["passwordResetView",""],[1,"mb-3","text-warning"],[1,"d-flex","flex-column",3,"submit"],[3,"model","fields","form"],[1,"pointer","pseudo-link",3,"click"],["type","submit",1,"btn","btn-primary","mt-4"],[1,"btn","btn-secondary","mb-3",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(t,e){if(1&t&&(p(0,"div",0,1),s(2,"\n    "),S(3,mae,25,4,"ng-container",2),s(4,"\n\n"),m(),s(5,"\n\n"),S(6,gae,18,3,"ng-template",null,3,ae)),2&t){const i=re(7);_(3),v("ngIf",!e.isRequestingPasswordReset)("ngIfElse",i)}},dependencies:[me,Vr,Ur,Uo,ep],styles:[".main[_ngcontent-%COMP%]{max-width:30rem}.animate__animated[_ngcontent-%COMP%]{--animate-duration: 1s}.animate__animated.animate__flipInY[_ngcontent-%COMP%], .animate__animated.animate__flipOutY[_ngcontent-%COMP%]{--animate-duration: .75s}.pseudo-link[_ngcontent-%COMP%]{border-bottom:1px dotted grey;font-size:.9rem}.pseudo-link[_ngcontent-%COMP%]:hover{color:#839cff;text-decoration:none!important;border-bottom:2px solid grey}"]});class Lc{constructor(t){this.tokenService=t,this.tokenRefreshInProgress=!1,this.refreshAccessTokenSubject=new yn(null)}refreshUserData(){return this.startWaitForRefreshState(),this.tokenService.refreshUserData().pipe(Fn(t=>{this.tokenService.setUserData(t)}),Fn(t=>{this.endWaitForRefreshState(t.accessToken.token)}))}startWaitForRefreshState(){this.tokenRefreshInProgress=!0,this.refreshAccessTokenSubject.next(null)}endWaitForRefreshState(t){this.tokenRefreshInProgress=!1,this.refreshAccessTokenSubject.next(t)}waitForAccessTokenRefresh(){return this.refreshAccessTokenSubject.pipe(Ot(t=>null!==t),le())}tokenNeedsRefresh(t){return this.tokenService.isTokenExpired(t)&&!this.tokenRefreshInProgress}hasToWaitForRefresh(t){return this.tokenService.isTokenExpired(t)&&this.tokenRefreshInProgress}}Lc.\u0275fac=function(t){return new(t||Lc)(R(_e))},Lc.\u0275prov=W({token:Lc,factory:Lc.\u0275fac,providedIn:"root"});const _ae=["profileCard"];function vae(n,t){1&n&&(p(0,"span"),s(1," Edit Profile "),N(2,"i",17),s(3," "),m())}function yae(n,t){1&n&&(p(0,"span"),s(1," Cancel Profile Edit "),N(2,"i",18),s(3," "),m())}function bae(n,t){1&n&&(p(0,"span"),s(1,"Edit Password "),N(2,"i",17),s(3," "),m())}function Cae(n,t){1&n&&(p(0,"span"),s(1,"Cancel Password Edit "),N(2,"i",18),s(3," "),m())}function wae(n,t){1&n&&(U(0),s(1,"\n                    "),V())}const Sae=function(n,t){return{campaignRole:n,index:t}},Tae=function(n){return{$implicit:n}};function Dae(n,t){if(1&n&&(U(0),s(1,"\n                "),p(2,"div",23),s(3,"\n                    "),S(4,wae,2,0,"ng-container",24),s(5,"\n                "),m(),s(6,"\n            "),V()),2&n){const e=t.$implicit,i=t.index,r=C(2),o=re(64),a=re(61);_(4),v("ngTemplateOutlet",r.leaveCampaignStates[i]?o:a)("ngTemplateOutletContext",ot(5,Tae,Pn(2,Sae,e,i)))}}function Eae(n,t){if(1&n&&(p(0,"div",19),s(1,"\n            "),p(2,"div",20),s(3,"Username"),m(),s(4,"\n            "),p(5,"div",20),s(6),m(),s(7,"\n\n            "),p(8,"div",20),s(9,"Email"),m(),s(10,"\n            "),p(11,"div",20),s(12),m(),s(13,"\n            \n            "),p(14,"h5",21),s(15,"Campaign Memberships"),m(),s(16,"\n            "),S(17,Dae,7,7,"ng-container",22),s(18,"\n        "),m()),2&n){const e=C();_(6),We(e.user.username),_(6),We(e.user.email),_(5),v("ngForOf",e.campaignRolesList)}}function kae(n,t){if(1&n){const e=Z();U(0),s(1,"\n            "),p(2,"div",25),s(3,"\n                "),p(4,"app-formly-formcontainer",26),A("formlyCancel",function(){return k(e),x(C().togglePasswordEditState())})("formlySubmit",function(){return k(e),x(C().updatePassword())}),m(),s(5,"\n            "),m(),s(6,"\n        "),V()}if(2&n){const e=C();_(4),v("model",e.passwordModel)("fields",e.passwordFields)}}function Mae(n,t){if(1&n&&(U(0),s(1),V()),2&n){const e=C();_(1),ee("",null==e.campaign?null:e.campaign.name," ")}}function xae(n,t){1&n&&(U(0),s(1," Campaigns "),V())}function Iae(n,t){if(1&n){const e=Z();U(0),s(1,"\n                "),p(2,"div",27),s(3,"\n                    "),p(4,"app-animated-toggle",28),A("confirmationEvent",function(){return k(e),x(C().deleteThisUser())}),s(5,"\n                        "),p(6,"div",29),s(7,"\n                            "),p(8,"div",30),s(9,"\n                                "),N(10,"i",31),s(11,"\n                            "),m(),s(12," \n                        "),m(),s(13,"\n                    "),m(),s(14,"\n                "),m(),s(15,"\n            "),V()}2&n&&(_(4),v("message","Delete your account?"))}function Pae(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"div",32),s(2,"\n        "),p(3,"app-formly-formcontainer",26),A("formlyCancel",function(){return k(e),x(C().toggleProfileEditState())})("formlySubmit",function(){return k(e),x(C().updateProfile())}),m(),s(4,"\n    "),m(),s(5,"\n")}if(2&n){const e=C();_(3),v("model",e.profileModel)("fields",e.profileFields)}}function Oae(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"div",33),s(2,"\n        "),p(3,"div",34),s(4),Vt(5,"titlecase"),m(),s(6,"\n        "),p(7,"div",35),s(8),Vt(9,"titlecase"),m(),s(10,"\n        "),p(11,"div",36),s(12,"\n            "),p(13,"div",37),A("click",function(){const o=k(e).$implicit;return x(C().toggleLeaveCampaignState(o.index))}),s(14,"\n                "),N(15,"span",38),s(16," \n                "),p(17,"span",39),s(18,"Leave Campaign"),m(),s(19,"\n            "),m(),s(20," \n        "),m(),s(21,"\n    "),m(),s(22,"\n")}if(2&n){const e=t.$implicit;_(4),We(Tn(5,2,e.campaignRole.campaignName)),_(4),We(Tn(9,4,e.campaignRole.role))}}function Aae(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"div",40),s(2,"\n        "),p(3,"div",41),s(4,"\n            "),p(5,"strong"),s(6),Vt(7,"titlecase"),m(),s(8," \n        "),m(),s(9,"\n        "),p(10,"div",42),A("click",function(){const o=k(e).$implicit;return x(C().leaveCampaign(o.campaignRole))}),s(11," Yes "),m(),s(12,"\n        "),p(13,"div",43),A("click",function(){const o=k(e).$implicit;return x(C().toggleLeaveCampaignState(o.index))}),s(14," No "),m(),s(15,"\n    "),m(),s(16,"\n\n")}if(2&n){const e=t.$implicit;_(6),ee("Permanently leave '",Tn(7,1,e.campaignRole.campaignName),"'?")}}class Mp{constructor(t,e,i,r,o,a,c,u){this.userService=t,this.routingService=e,this.formlyService=i,this.warnings=r,this.route=o,this.tokenService=a,this.refreshTokenService=c,this.campaignService=u,this.profileEditState=!1,this.passwordEditState=!1,this.hasProfileDeletePermission=!1,this.passwordFields=[this.formlyService.genericPasswordInput({key:"oldPassword",label:"Your old password"}),this.formlyService.confirmedPasswordInput({label:"New Password"})],this.profileFields=[this.formlyService.genericInput({key:"username"}),this.formlyService.genericInput({key:"email",required:!1})]}ngOnInit(){var t=this;return _t(function*(){t.campaign=t.route.snapshot.data.campaign,t.user=t.route.snapshot.data.userData,t.hasProfileDeletePermission=t.tokenService.getCurrentUserPk()===t.user.pk;const e=t.tokenService.getCampaignMemberships(),i=Object.keys(e).map(r=>({campaignName:r,role:e[r]}));t.campaignRolesList=i,t.leaveCampaignStates=t.campaignRolesList.map(r=>!1),t.updateDynamicVariables(t.campaign)})()}ngAfterViewInit(){_i(this.profileCard.nativeElement,"fadeIn")}updateDynamicVariables(t){if(null!=t){const i=this.routingService.getRoutePath("home1",{campaign:t.name});this.backUrl=i}else{const i=this.routingService.getRoutePath("campaign-overview");this.backUrl=i}}toggleProfileEditState(){this.profileEditState=!this.profileEditState,this.profileEditState&&(this.profileModel={username:this.user.username,email:this.user.email})}togglePasswordEditState(){this.passwordEditState=!this.passwordEditState,this.passwordEditState&&(this.passwordModel={})}toggleLeaveCampaignState(t){this.leaveCampaignStates[t]=!this.leaveCampaignStates[t]}updatePassword(){this.userService.patchUser(this.user.pk,{password:this.passwordModel.password,oldPassword:this.passwordModel.oldPassword}).pipe(le()).subscribe(e=>{this.user=e,this.passwordEditState=!1},e=>this.warnings.showWarning(e))}updateProfile(){this.userService.patchUser(this.user.pk,this.profileModel).pipe(le()).subscribe(t=>{this.user=t,this.profileEditState=!1},t=>this.warnings.showWarning(t))}leaveCampaign(t){var e=this;let i;switch(t.role){case ge.ADMIN:i=this.campaignService.removeAdmin(t.campaignName,this.user);break;case ge.MEMBER:case ge.GLOBALMEMBER:i=this.campaignService.removeMember(t.campaignName,this.user);break;case ge.GUEST:case ge.GLOBALGUEST:i=this.campaignService.removeGuest(t.campaignName,this.user)}i.pipe(le()).subscribe(function(){var r=_t(function*(o){const a=e.campaignRolesList.findIndex(u=>u.campaignName===t.campaignName);e.campaignRolesList.splice(a,1),yield e.refreshTokenService.refreshUserData().toPromise(),t.campaignName===e.campaign.name?e.routingService.routeToPath("direct-profile"):e.ngOnInit()});return function(o){return r.apply(this,arguments)}}())}deleteThisUser(){}}function Nae(n,t){1&n&&(U(0),s(1,"\n            "),p(2,"div",37),s(3,"\n                "),p(4,"div",38),s(5,"\n                    "),N(6,"app-edit-toggle",39),s(7,"\n                "),m(),s(8,"\n            "),m(),s(9,"\n        "),V()),2&n&&(_(6),v("isInUpdateState",!1)("link","update"))}function Rae(n,t){if(1&n){const e=Z();p(0,"div"),s(1),p(2,"app-delete-toggle",40),A("deleteEvent",function(){const o=k(e).$implicit;return x(C().onRemoveAdmin(o))}),m(),s(3,"\n                    "),m()}if(2&n){const e=t.$implicit;_(1),ee("\n                        ",e.username,"\n\n                        "),_(1),v("deleteMessage","Remove "+e.username+" as admin?")}}function Fae(n,t){if(1&n){const e=Z();U(0),s(1,"\n                        "),p(2,"app-formly-formcontainer",41),A("formlySubmit",function(){return k(e),x(C().onAddAdminSubmit())})("formlyCancel",function(){return k(e),x(C().addAdminState=!1)}),m(),s(3,"\n                    "),V()}if(2&n){const e=C();_(2),v("model",e.adminModel)("fields",e.adminFormlyFields)}}function Lae(n,t){if(1&n){const e=Z();p(0,"div"),s(1),p(2,"app-delete-toggle",40),A("deleteEvent",function(){const o=k(e).$implicit;return x(C().onRemoveMember(o))}),m(),s(3,"\n                    "),m()}if(2&n){const e=t.$implicit;_(1),ee("\n                        ",e.username,"\n\n                        "),_(1),v("deleteMessage","Remove "+e.username+" as member?")}}function $ae(n,t){if(1&n){const e=Z();U(0),s(1,"\n                        "),p(2,"app-formly-formcontainer",41),A("formlySubmit",function(){return k(e),x(C().onAddMemberSubmit())})("formlyCancel",function(){return k(e),x(C().addMemberState=!1)}),m(),s(3,"\n                    "),V()}if(2&n){const e=C();_(2),v("model",e.memberModel)("fields",e.memberFormlyFields)}}function Uae(n,t){if(1&n){const e=Z();p(0,"div"),s(1),p(2,"app-delete-toggle",40),A("deleteEvent",function(){const o=k(e).$implicit;return x(C().onRemoveGuest(o))}),m(),s(3,"\n                    "),m()}if(2&n){const e=t.$implicit;_(1),ee("\n                        ",e.username,"\n\n                        "),_(1),v("deleteMessage","Remove "+e.username+" as guest?")}}function Vae(n,t){if(1&n){const e=Z();U(0),s(1,"\n                        "),p(2,"app-formly-formcontainer",41),A("formlySubmit",function(){return k(e),x(C().onAddGuestSubmit())})("formlyCancel",function(){return k(e),x(C().addGuestState=!1)}),m(),s(3,"\n                    "),V()}if(2&n){const e=C();_(2),v("model",e.guestModel)("fields",e.guestFormlyFields)}}function Bae(n,t){if(1&n&&(p(0,"div",37),s(1,"\n                "),p(2,"div",42),s(3),m(),s(4,"\n                "),p(5,"div",42),s(6),m(),s(7,"\n            "),m()),2&n){const e=t.$implicit;_(3),ee(" ",e.key,""),_(3),ee(" ",e.value,"")}}function Hae(n,t){if(1&n){const e=Z();p(0,"div",43),s(1),p(2,"app-delete-toggle",44),A("deleteEvent",function(){const o=k(e).$implicit;return x(C().onRemoveResponse(o))}),m(),s(3,"\n                    "),m()}if(2&n){const e=t.$implicit;_(1),ee("\n                        ",e.text,"\n\n                        "),_(1),v("deleteMessage","Remove response?")}}function jae(n,t){if(1&n){const e=Z();U(0),s(1,"\n                        "),p(2,"app-formly-formcontainer",41),A("formlySubmit",function(){return k(e),x(C().onAddResponseSubmit())})("formlyCancel",function(){return k(e),x(C().addResponseState=!1)}),m(),s(3,"\n                    "),V()}if(2&n){const e=C();_(2),v("model",e.responseModel)("fields",e.responseFormlyFields)}}function zae(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"button",45),A("click",function(){return k(e),x(C().toggleMemberAddState())}),s(2,"\n        "),p(3,"span",46),s(4," "),m(),s(5,"\n        Add Member\n    "),m(),s(6,"\n")}}function Gae(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"button",45),A("click",function(){return k(e),x(C().toggleAdminAddState())}),s(2,"\n        "),p(3,"span",46),s(4," "),m(),s(5,"\n        Add Admin\n    "),m(),s(6,"\n")}}function Wae(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"button",45),A("click",function(){return k(e),x(C().toggleGuestAddState())}),s(2,"\n        "),p(3,"span",46),s(4," "),m(),s(5,"\n        Add Guest\n    "),m(),s(6,"\n")}}function qae(n,t){if(1&n){const e=Z();s(0,"\n    "),p(1,"button",45),A("click",function(){return k(e),x(C().toggleResponseAddState())}),s(2,"\n        "),p(3,"span",47),s(4," "),m(),s(5,"\n        Add EmptySearchResponse\n    "),m(),s(6,"\n")}}function Qae(n,t){1&n&&(s(0,"\n    "),p(1,"div",48),s(2,'\n        Allows adding admins, members and guests to a campaign. Does not add the person to the list of possible "authors" for diaryentries.\n    '),m(),s(3,"\n"))}function Zae(n,t){1&n&&(s(0,"\n    "),p(1,"div",48),s(2,'\n        Allows creating, reading, updating and deleting articles in this campaign. Also makes the person a possible "author" for diaryentries.\n    '),m(),s(3,"\n"))}function Kae(n,t){1&n&&(s(0,"\n    "),p(1,"div",48),s(2,"\n        Allows only reading articles in this campaign.\n    "),m(),s(3,"\n"))}Mp.\u0275fac=function(t){return new(t||Mp)(w(ao),w(he),w(Yt),w(ze),w(Fe),w(_e),w(Lc),w(Wn))},Mp.\u0275cmp=ie({type:Mp,selectors:[["app-profile"]],viewQuery:function(t,e){if(1&t&&dt(_ae,5),2&t){let i;ke(i=Me())&&(e.profileCard=i.first)}},decls:65,vars:11,consts:[[1,"main"],["profileCard",""],[1,"container"],[1,"d-flex","justify-content-between","row"],[1,"mb-0","col-12","col-sm-6"],[1,"fa","fa-user-circle"],[1,"position-relative","top1","col-12","col-sm-6","d-flex","align-self-end","justify-content-end"],[1,"btn","btn-secondary","border-white",3,"click"],[4,"ngIf"],[1,"white-separator"],["class","row","id","profile-data",4,"ngIf","ngIfElse"],[1,"mt-5","row"],[1,"col-md-3"],[1,"btn","btn-secondary","w-100",3,"routerLink"],["profileForm",""],["displayCampaignForm",""],["leaveCampaignForm",""],[1,"fa","fa-pencil"],[1,"fa","fa-times"],["id","profile-data",1,"row"],[1,"col-6"],[1,"col-12","mb-0","mt-4"],[4,"ngFor","ngForOf"],[1,"col-12"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"my-3","card","p-3"],[3,"model","fields","formlyCancel","formlySubmit"],[1,"col-md-9"],[1,"float-right",3,"message","confirmationEvent"],["id","inactiveButton"],[1,"btn","btn-outline-danger"],[1,"fa","fa-trash"],[1,"card","p-3","my-3"],[1,"row"],[1,"col-5"],[1,"col-4"],[1,"col-3","d-flex","justify-content-end"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"hide-on-mobile"],["id","leave-campaign-form",1,"alert","alert-danger","mx-0","w-100","row"],[1,"col-md-8"],[1,"btn","btn-danger","col-md-2",3,"click"],[1,"btn","btn-dark","col-md-2",3,"click"]],template:function(t,e){if(1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),s(5,"\n        "),p(6,"div",3),s(7,"\n            "),p(8,"h3",4),s(9," \n                "),N(10,"span",5),s(11,"\n                Profile\n            "),m(),s(12,"\n\n            "),s(13,"\n            "),p(14,"div",6),s(15,"\n                "),p(16,"div",7),A("click",function(){return e.toggleProfileEditState()}),s(17,"\n                    "),S(18,vae,4,0,"span",8),s(19,"\n                    "),S(20,yae,4,0,"span",8),s(21,"\n                "),m(),s(22,"\n\n                "),p(23,"div",7),A("click",function(){return e.togglePasswordEditState()}),s(24,"\n                    "),S(25,bae,4,0,"span",8),s(26,"\n                    "),S(27,Cae,4,0,"span",8),s(28,"                     \n                "),m(),s(29,"\n            "),m(),s(30,"\n        "),m(),s(31,"\n\n        "),N(32,"hr",9),s(33,"\n\n        "),s(34,"\n        "),S(35,Eae,19,3,"div",10),s(36,"\n\n        "),s(37,"\n        "),S(38,kae,7,2,"ng-container",8),s(39,"\n\n        "),p(40,"div",11),s(41,"\n            "),p(42,"div",12),s(43,"\n                "),p(44,"a",13),s(45,"\n                    Back To\n                    "),S(46,Mae,2,1,"ng-container",8),s(47,"\n                    "),S(48,xae,2,0,"ng-container",8),s(49,"\n                "),m(),s(50,"\n            "),m(),s(51,"\n\n            "),S(52,Iae,16,1,"ng-container",8),s(53,"\n            \n        "),m(),s(54,"\n    "),m(),s(55,"\n"),m(),s(56,"\n\n"),S(57,Pae,6,2,"ng-template",null,14,ae),s(59,"\n\n"),S(60,Oae,23,6,"ng-template",null,15,ae),s(62,"\n\n"),S(63,Aae,17,3,"ng-template",null,16,ae)),2&t){const i=re(58);_(18),v("ngIf",!e.profileEditState),_(2),v("ngIf",e.profileEditState),_(5),v("ngIf",!e.passwordEditState),_(2),v("ngIf",e.passwordEditState),_(8),v("ngIf",!e.profileEditState)("ngIfElse",i),_(3),v("ngIf",e.passwordEditState),_(6),v("routerLink",e.backUrl),_(2),v("ngIf",null!=e.campaign),_(2),v("ngIf",null==e.campaign),_(4),v("ngIf",e.hasProfileDeletePermission)}},dependencies:[Ye,me,Ro,Ht,Cn,rp,gm],styles:[".header-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;position:relative;top:-1px}#profile-data[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{word-break:break-all}#profile-data[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   #leave-campaign-form[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{word-break:initial}@media (max-width: 576px){.header-buttons[_ngcontent-%COMP%]{justify-content:space-evenly}}"]});class a_ extends co{constructor(t,e,i,r,o,a,c,u){super(o,e,i,t,a,c),this.formlyService=r,this.campaignService=o,this.refreshTokenService=u,this.deleteRoute={routeName:"campaign-overview",params:{}},this.queryParameterName="name",this.addMemberState=!1,this.addAdminState=!1,this.addGuestState=!1,this.memberFormlyFields=[this.formlyService.genericDisableSelect({key:"pk",labelProp:"username",sortProp:"username",label:"User",overviewType:Ae.User,disabledExpression:h=>this.isInGroup(h,this.articleData.member_group_name),tooltipMessage:"Members typically represent the individual player characters + the GM(s)",warningMessage:"The user you selected is already member of this campaign"})],this.adminFormlyFields=[this.formlyService.genericDisableSelect({key:"pk",labelProp:"username",sortProp:"username",label:"User",overviewType:Ae.User,disabledExpression:h=>this.isInGroup(h,this.articleData.admin_group_name),tooltipMessage:"Keep in mind that being an admin only represents being the one administering this campaign, not being a member of it!",warningMessage:"The user you selected is already admin of this campaign"})],this.guestFormlyFields=[this.formlyService.genericDisableSelect({key:"pk",labelProp:"username",sortProp:"username",label:"User",overviewType:Ae.User,disabledExpression:h=>{const f=this.isInGroup(h,this.articleData.admin_group_name),y=this.isInGroup(h,this.articleData.member_group_name),T=this.isInGroup(h,this.articleData.guest_group_name);return f||y||T},tooltipMessage:"Keep in mind that there's no point in being a guest when you're already a member or admin.",warningMessage:"The user you selected is already guest of this campaign"})],this.addResponseState=!1,this.responseFormlyFields=[this.formlyService.genericInput({key:"text",placeholder:"Quest Name",maxLength:400})]}ngOnInit(){super.ngOnInit(),this.sortCampaignGroups(),this.campaignStatistics=this.route.snapshot.data.campaignStatistics,this.updateDynamicVariables(this.campaign,this.articleData,null)}sortByUsername(t,e){return t.username.toLowerCase()>e.username.toLowerCase()?1:-1}sortCampaignGroups(){this.articleData.admins=this.articleData.admins.sort(this.sortByUsername),this.articleData.members=this.articleData.members.sort(this.sortByUsername),this.articleData.guests=this.articleData.guests.sort(this.sortByUsername)}updateDynamicVariables(t,e,i){this.homeUrl=this.routingService.getRoutePath("home1",{campaign:e.name})}toggleGuestAddState(){this.addGuestState=!this.addGuestState,this.addGuestState&&(this.guestModel=new Ac)}toggleMemberAddState(){this.addMemberState=!this.addMemberState,this.addMemberState&&(this.memberModel=new Ac)}toggleAdminAddState(){this.addAdminState=!this.addAdminState,this.addAdminState&&(this.adminModel=new Ac)}onAddMemberSubmit(){const t=this.campaignService.addMember(this.articleData.name,this.memberModel);this.updateMembers(t)}onAddAdminSubmit(){const t=this.campaignService.addAdmin(this.articleData.name,this.adminModel);this.updateAdmins(t)}onAddGuestSubmit(){const t=this.campaignService.addGuest(this.articleData.name,this.guestModel);this.updateGuests(t)}onRemoveAdmin(t){const e=this.campaignService.removeAdmin(this.articleData.name,t);this.updateAdmins(e)}onRemoveMember(t){const e=this.campaignService.removeMember(this.articleData.name,t);this.updateMembers(e)}onRemoveGuest(t){const e=this.campaignService.removeGuest(this.articleData.name,t);this.updateGuests(e)}removeUserFromList(t,e){const i=e.indexOf(t);e.splice(i,1)}updateMembers(t){var e=this;t.pipe(le()).subscribe(function(){var i=_t(function*(r){e.articleData.members=r.sort(e.sortByUsername),e.addMemberState=!1,yield e.refreshTokenService.refreshUserData().toPromise()});return function(r){return i.apply(this,arguments)}}(),i=>this.warnings.showWarning(i))}updateAdmins(t){var e=this;t.pipe(le()).subscribe(function(){var i=_t(function*(r){e.articleData.admins=r.sort(e.sortByUsername),e.addAdminState=!1,yield e.refreshTokenService.refreshUserData().toPromise()});return function(r){return i.apply(this,arguments)}}(),i=>this.warnings.showWarning(i))}updateGuests(t){var e=this;t.pipe(le()).subscribe(function(){var i=_t(function*(r){e.articleData.guests=r.sort(e.sortByUsername),e.addGuestState=!1,yield e.refreshTokenService.refreshUserData().toPromise()});return function(r){return i.apply(this,arguments)}}(),i=>this.warnings.showWarning(i))}isInGroup(t,e){return t.group_details.some(o=>o.name.toLowerCase()===e)}deleteArticle(){throw"You can not delete a campaign, please use 'deactivateCampaign' instead"}toggleResponseAddState(){this.addResponseState=!this.addResponseState,this.addResponseState&&(this.responseModel={campaign:this.campaign.pk,text:null})}onAddResponseSubmit(){this.campaignService.addEmptySearchResponse(this.responseModel).pipe(le()).subscribe(t=>{this.articleData.emptySearchResponses.push(t),this.articleData.emptySearchResponses.sort((e,i)=>e>i?1:-1)},t=>this.warnings.showWarning(t))}onRemoveResponse(t){this.campaignService.deleteEmptySearchResponse(t.id).pipe(le()).subscribe(e=>{const i=this.articleData.emptySearchResponses.indexOf(t);this.articleData.emptySearchResponses.splice(i,1)},e=>this.warnings.showWarning(e))}deactivateCampaign(){this.campaignService.deactivate(this.articleData.pk).pipe(le()).subscribe(t=>this.routingService.routeToPath("campaign-overview"),t=>this.warnings.showWarning(t))}}a_.\u0275fac=function(t){return new(t||a_)(w(ze),w(Fe),w(he),w(Yt),w(Wn),w(Ve),w(_e),w(Lc))},a_.\u0275cmp=ie({type:a_,selectors:[["app-campaign"]],features:[ce],decls:169,vars:29,consts:[[1,"main"],["article",""],[1,"container"],[4,"ngIf"],[1,"row","mb-5"],[1,"text-center","col"],[1,"fas","fa-cog"],[1,"card","mb-5","mx-0","py-3","row","flex-row"],[1,"col-md-6","d-flex","flex-column","align-items-center"],[1,"text-center"],["title","Campaign background image","alt","Background image of this campaign",1,"gallery-image",3,"src"],["title","Campaign Icon","alt","Icon of this campaign",1,"gallery-image",3,"src"],[1,"col-12","row","mt-4"],[1,"col-md-3","col-6"],[1,"col-md-9","col-6"],[1,"col-md-9","col-6",3,"innerHtml"],[1,"fas","fa-users-cog"],[1,"mb-3","row"],[1,"col-md-6","col-12","mb-3"],[1,"p-3","card"],[3,"tooltipMessage"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"fas","fa-table"],[1,"container","mb-5"],["class","row",4,"ngFor","ngForOf"],[1,"fas","fa-search"],[1,"col-12","mb-3"],["class","mb-3",4,"ngFor","ngForOf"],[3,"showDelete","link","label","deleteMessage","delete"],["addMemberButton",""],["addAdminButton",""],["addGuestButton",""],["addResponseButton",""],["adminTooltip",""],["memberTooltip",""],["guestTooltip",""],[1,"row"],[1,"col-12"],[3,"isInUpdateState","link"],[1,"float-right","px-0","mt-0",3,"deleteMessage","deleteEvent"],[3,"model","fields","formlySubmit","formlyCancel"],[1,"col-6","col-md-3"],[1,"mb-3"],[1,"float-right","px-0",3,"deleteMessage","deleteEvent"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"fas","user-plus","icon"],[1,"fas","fa-plus","icon"],[1,"alert","alert-info","m-0","p-0"]],template:function(t,e){if(1&t&&(p(0,"div",0,1),s(2,"\n    "),p(3,"article",2),s(4,"\n        "),S(5,Nae,10,2,"ng-container",3),s(6,"\n\n        "),s(7,"\n        "),p(8,"div",4),s(9,"\n            "),p(10,"h1",5),s(11),m(),s(12,"\n        "),m(),s(13,"\n\n        "),s(14,"\n        "),p(15,"h1"),s(16," \n            "),N(17,"span",6),s(18,"\n            Campaign Settings\n        "),m(),s(19,"\n        "),p(20,"div",7),s(21,"\n            "),p(22,"div",8),s(23,"\n                "),p(24,"h3",9),s(25,"Background"),m(),s(26,"\n                "),N(27,"img",10),s(28,"\n            "),m(),s(29,"\n            "),p(30,"div",8),s(31,"\n                "),p(32,"h3",9),s(33,"Icon"),m(),s(34,"\n                "),N(35,"img",11),s(36,"\n            "),m(),s(37,"\n\n            "),p(38,"div",12),s(39,"\n                "),p(40,"strong",13),s(41,"Default Map: "),m(),s(42,"\n                "),p(43,"div",14),s(44),m(),s(45,"\n\n                "),p(46,"strong",13),s(47,"Subtitle: "),m(),s(48,"\n                "),N(49,"div",15),s(50,"\n            "),m(),s(51,"\n        "),m(),s(52,"\n\n\n        "),s(53,"\n        "),p(54,"h1"),s(55," \n            "),N(56,"span",16),s(57," \n            Campaign Members\n        "),m(),s(58,"\n        \n        "),p(59,"div",17),s(60,"\n            "),p(61,"div",18),s(62,"\n                "),p(63,"div",19),s(64,"\n                    "),p(65,"h3",9),s(66,"\n                        Admins\n                        "),N(67,"app-tooltip-infocircle",20),s(68,"\n                    "),m(),s(69,"\n\n                    "),S(70,Rae,4,2,"div",21),s(71,"\n\n                    "),s(72,"\n                    "),S(73,Fae,4,2,"ng-container",22),s(74,"\n\n\n                "),m(),s(75,"\n            "),m(),s(76,"\n\n            "),p(77,"div",18),s(78,"\n                "),p(79,"div",19),s(80,"\n                    "),p(81,"h3",9),s(82,"\n                        Party members\n                        "),N(83,"app-tooltip-infocircle",20),s(84,"\n                    "),m(),s(85,"\n\n                    "),S(86,Lae,4,2,"div",21),s(87,"\n\n                    "),s(88,"\n                    "),S(89,$ae,4,2,"ng-container",22),s(90,"\n                "),m(),s(91,"\n            "),m(),s(92,"\n\n            "),p(93,"div",18),s(94,"\n                "),p(95,"div",19),s(96,"\n                    "),p(97,"h3",9),s(98,"\n                        Guests\n                        "),N(99,"app-tooltip-infocircle",20),s(100,"\n                    "),m(),s(101,"\n\n                    "),S(102,Uae,4,2,"div",21),s(103,"\n\n                    "),s(104,"\n                    "),S(105,Vae,4,2,"ng-container",22),s(106,"\n\n                "),m(),s(107,"\n            "),m(),s(108,"\n        "),m(),s(109,"\n\n        "),s(110,"\n        "),p(111,"h1"),s(112,"\n            "),N(113,"span",23),s(114,"\n            Campaign Statistics\n        "),m(),s(115,"\n\n        "),p(116,"div",24),s(117,"\n            "),S(118,Bae,8,2,"div",25),Vt(119,"keyvalue"),s(120,"\n        "),m(),s(121,"\n\n        "),s(122,"\n        "),p(123,"h1"),s(124,"\n            "),N(125,"span",26),s(126,"\n            Empty Search Responses\n            "),N(127,"app-tooltip-infocircle",20),s(128,"\n        "),m(),s(129,"\n\n        "),p(130,"div",4),s(131,"\n            "),p(132,"div",27),s(133,"\n                "),p(134,"div",19),s(135,"\n                    "),S(136,Hae,4,2,"div",28),s(137,"\n\n                    "),s(138,"\n                    "),S(139,jae,4,2,"ng-container",22),s(140,"\n\n                "),m(),s(141," \n            "),m(),s(142,"\n        "),m(),s(143,"\n\n        "),s(144,"\n        "),p(145,"app-article-footer",29),A("delete",function(){return e.deactivateCampaign()}),m(),s(146,"\n        \n    "),m(),s(147,"\n"),m(),s(148,"\n\n"),S(149,zae,7,0,"ng-template",null,30,ae),s(151,"\n\n"),S(152,Gae,7,0,"ng-template",null,31,ae),s(154,"\n\n"),S(155,Wae,7,0,"ng-template",null,32,ae),s(157,"\n\n"),S(158,qae,7,0,"ng-template",null,33,ae),s(160,"\n\n"),S(161,Qae,4,0,"ng-template",null,34,ae),s(163,"\n\n"),S(164,Zae,4,0,"ng-template",null,35,ae),s(166,"\n\n"),S(167,Kae,4,0,"ng-template",null,36,ae)),2&t){const i=re(150),r=re(153),o=re(156),a=re(159),c=re(162),u=re(165),h=re(168);_(5),v("ngIf",!e.articleData.is_deactivated),_(6),ee(" ",e.articleData.name," "),_(16),v("src",e.constants.wikiUrl+e.articleData.background_image,Yn),_(8),v("src",e.constants.wikiMediaUrl+"/"+e.articleData.icon,Yn),_(9),We(null==e.campaign.default_map_details?null:e.campaign.default_map_details.name),_(5),v("innerHtml",e.campaign.subtitle,Nr),_(18),v("tooltipMessage",c),_(3),v("ngForOf",e.articleData.admins),_(3),v("ngIf",e.addAdminState)("ngIfElse",r),_(10),v("tooltipMessage",u),_(3),v("ngForOf",e.articleData.members),_(3),v("ngIf",e.addMemberState)("ngIfElse",i),_(10),v("tooltipMessage",h),_(3),v("ngForOf",e.articleData.guests),_(3),v("ngIf",e.addGuestState)("ngIfElse",o),_(13),v("ngForOf",Tn(119,27,e.campaignStatistics)),_(9),v("tooltipMessage","Shown when a search came up empty. You can throw in in-jokes or references about things coming up empty."),_(9),v("ngForOf",e.articleData.emptySearchResponses),_(3),v("ngIf",e.addResponseState)("ngIfElse",a),_(6),v("showDelete",!e.articleData.is_deactivated)("link",e.homeUrl)("label","Back to "+e.articleData.name)("deleteMessage","Deactivate Campaign ?")}},dependencies:[Ye,me,bs,fn,Cn,Gr,qu,oy],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--wiki-background-2)}.gallery-image[_ngcontent-%COMP%]{max-height:20rem;max-width:100%;object-fit:contain}"]});const Yae=function(n){return{campaign:n}};class xp{constructor(t){this.routingService=t,this.constants=H}}xp.\u0275fac=function(t){return new(t||xp)(w(he))},xp.\u0275cmp=ie({type:xp,selectors:[["app-wiki1-request"]],decls:20,vars:4,consts:[[1,"main","d-flex","flex-column"],[1,"text-center","mb-5"],["alt","",1,"center","mb-3",3,"src"],[1,"text-center"],[1,"btn","btn-secondary",3,"routerLink"]],template:function(t,e){1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"h1",1),s(3," Wiki1 Request "),m(),s(4,"\n    "),N(5,"img",2),s(6,"\n\n    "),p(7,"p",3),s(8," \n        Sorry, something in your cache went awry. You tried to call /wiki1 but your browser automatically redirected you to this page. "),N(9,"br"),s(10," \n        If you want to visit /wiki1, please clear your cache. "),N(11,"br"),s(12,"\n        If you want the improved experience of /wiki2, please click on the button below.\n    "),m(),s(13,"\n    \n    "),p(14,"div"),s(15,"\n        "),p(16,"a",4),s(17," \n            To Wiki2 Frontpage \n        "),m(),s(18,"\n    "),m(),s(19,"\n"),m()),2&t&&(_(5),v("src",e.constants.timeoutImageUrl,Yn),_(11),v("routerLink",e.routingService.getRoutePath("home1",ot(2,Yae,e.constants.defaultCampaign))))},dependencies:[Ht],styles:["img[_ngcontent-%COMP%]{max-height:24rem;max-width:100%}"]});class jl{constructor(t,e){this.routingService=t,this.tokenService=e}canActivate(){const t=this.isUserLoggedIn();return t||this.routingService.routeToPath("login"),t}isUserLoggedIn(){return this.tokenService.hasValidJWTToken()}}jl.\u0275fac=function(t){return new(t||jl)(R(he),R(_e))},jl.\u0275prov=W({token:jl,factory:jl.\u0275fac,providedIn:"root"});class Wa{constructor(t,e){this.tokenService=t,this.routingService=e}canActivate(t){if(!this.isUserLoggedIn())return this.routingService.routeToPath("login"),!1;const e=this.isGeneralAdmin();return e||this.routingService.routeToPath("campaign-overview"),e}isUserLoggedIn(){return this.tokenService.hasValidJWTToken()}isGeneralAdmin(){return this.tokenService.isSuperUser()||this.tokenService.isAdmin()}}Wa.\u0275fac=function(t){return new(t||Wa)(R(_e),R(he))},Wa.\u0275prov=W({token:Wa,factory:Wa.\u0275fac,providedIn:"root"});class Ne extends Wa{constructor(t,e){super(t,e)}canActivate(t){if(!this.isUserLoggedIn())return this.routingService.routeToPath("login"),!1;if(this.isGeneralAdmin())return!0;const e=t.params.campaign;if(null==e)throw"Invalid Route Exception. The campaign-route you're trying to access has no campaign name parameter";if(null==this.tokenService.getCampaignRole(e))return this.routingService.routeToPath("campaign-overview"),!1;const r=t.data.requiredRole;if(null==r)throw"Invalid Route Exception. The campaign-route you're trying to access has no defined minimum role needed to access it";return this.hasRoleOrBetter(e,r)}hasRoleOrBetter(t,e){const i=this.tokenService.isCampaignAdmin(t),r=this.tokenService.isCampaignMember(t),o=this.tokenService.isCampaignGuest(t);return e===ge.ADMIN?i:e===ge.MEMBER?i||r:e===ge.GUEST?i||r||o:void 0}}Ne.\u0275fac=function(t){return new(t||Ne)(R(_e),R(he))},Ne.\u0275prov=W({token:Ne,factory:Ne.\u0275fac,providedIn:"root"});class zl{constructor(t,e){this.service=t,this.routing=e}resolve(t,e){const i=t.params,r=i.campaign,o=this.getQueryParameter(i);return this.service.readByParam(r,o).pipe(jo(a=>(console.error(a),this.routing.routeToErrorPage(a),Se(null))),le())}getQueryParameter(t){return{name:t.name}}}class rF{constructor(t,e){this.service=t,this.routing=e}resolve(t,e){return this.service.campaignList(t.params.campaign).pipe(jo(o=>(console.error(o),this.routing.routeToErrorPage(o),Se(null))),le())}}class ET{constructor(t,e){this.service=t,this.routing=e}resolve(t,e){return this.service.campaignDetailList(t.params.campaign).pipe(jo(o=>(console.error(o),this.routing.routeToErrorPage(o),Se(null))),le())}}class Js{constructor(t,e,i){this.service=t,this.globalUrlParamsService=e,this.routing=i}resolve(t,e){var i=this;return _t(function*(){const o=i.getQueryParameters(t.params),a=yield i.globalUrlParamsService.getCurrentCampaign();return i.isUpdateRoute(e)?i.fetchData(a,o):i.createData(a,o)})()}isUpdateRoute(t){return t.url.includes("update")}getQueryParameters(t){return{name:t.name}}createData(t,e){var i=this;return _t(function*(){if(null==i.dataModelClass)throw new Error("Undefined dataModelClass in modelData Resolver. You tried to \n        create a model for a create route without telling in the resolver for the modelData which class the model is\n        supposed to have");const r=new i.dataModelClass;return r.campaign=t.pk,r})()}fetchData(t,e){var i=this;return _t(function*(){return i.service.readByParam(t.name,e).pipe(jo(r=>(console.error(r),i.routing.routeToErrorPage(r),Se(null))),le()).toPromise()})()}}class Re{constructor(t){this.globalUrlParams=t}resolve(t,e){var i=this;return _t(function*(){return yield i.globalUrlParams.getCurrentCampaign()})()}}Re.\u0275fac=function(t){return new(t||Re)(R(Ve))},Re.\u0275prov=W({token:Re,factory:Re.\u0275fac,providedIn:"root"});class Ip{constructor(t){this.globalUrlParams=t}resolve(t,e){this.globalUrlParams.autoUpdateCampaignSet()}}Ip.\u0275fac=function(t){return new(t||Ip)(R(Ve))},Ip.\u0275prov=W({token:Ip,factory:Ip.\u0275fac,providedIn:"root"});class Pp{constructor(t){this.campaignService=t}resolve(t,e){return this.campaignService.readByParam(t.params.campaign)}}Pp.\u0275fac=function(t){return new(t||Pp)(R(Wn))},Pp.\u0275prov=W({token:Pp,factory:Pp.\u0275fac,providedIn:"root"});class Op{constructor(t){this.campaignService=t}resolve(t,e){return this.campaignService.statistics(t.params.campaign)}}Op.\u0275fac=function(t){return new(t||Op)(R(Wn))},Op.\u0275prov=W({token:Op,factory:Op.\u0275fac,providedIn:"root"});class Ap extends Js{constructor(t,e,i,r){super(t,i,r),this.campaignService=t,this.dataModelClass=eF}resolve(t,e){var i=()=>super.resolve,r=this;return _t(function*(){const o=yield i().call(r,t,e);return r.isUpdateRoute(e)?r.fetchData(o,null):r.createData(o,null)})()}createData(t,e){var i=this;return _t(function*(){return new i.dataModelClass})()}fetchData(t,e){return this.campaignService.readByParam(t.name).toPromise()}}Ap.\u0275fac=function(t){return new(t||Ap)(R(Wn),R(Gt),R(Ve),R(he))},Ap.\u0275prov=W({token:Ap,factory:Ap.\u0275fac,providedIn:"root"});class ed extends zl{constructor(t,e){super(t,e)}}ed.\u0275fac=function(t){return new(t||ed)(R(or),R(he))},ed.\u0275prov=W({token:ed,factory:ed.\u0275fac,providedIn:"root"});class td extends Js{constructor(t,e,i){super(t,e,i),this.dataModelClass=vg}}td.\u0275fac=function(t){return new(t||td)(R(or),R(Ve),R(he))},td.\u0275prov=W({token:td,factory:td.\u0275fac,providedIn:"root"});class Np extends zl{constructor(t,e){super(t,e)}}Np.\u0275fac=function(t){return new(t||Np)(R(Ba),R(he))},Np.\u0275prov=W({token:Np,factory:Np.\u0275fac,providedIn:"root"});class nd extends Js{constructor(t,e,i){super(t,e,i),this.dataModelClass=$b}}nd.\u0275fac=function(t){return new(t||nd)(R(Ba),R(Ve),R(he))},nd.\u0275prov=W({token:nd,factory:nd.\u0275fac,providedIn:"root"});class id extends zl{constructor(t,e){super(t,e)}getQueryParameter(t){return{isMainSession:parseInt(t.isMainSession),sessionNumber:parseInt(t.sessionNumber),authorName:t.authorName}}}id.\u0275fac=function(t){return new(t||id)(R(Ks),R(he))},id.\u0275prov=W({token:id,factory:id.\u0275fac,providedIn:"root"});class rd extends Js{constructor(t,e,i){super(t,e,i),this.dataModelClass=yg}getQueryParameters(t){return{isMainSession:parseInt(t.isMainSession),sessionNumber:parseInt(t.sessionNumber),authorName:t.authorName}}}rd.\u0275fac=function(t){return new(t||rd)(R(Ks),R(Ve),R(he))},rd.\u0275prov=W({token:rd,factory:rd.\u0275fac,providedIn:"root"});class Rp extends zl{constructor(t,e){super(t,e)}}Rp.\u0275fac=function(t){return new(t||Rp)(R(Ha),R(he))},Rp.\u0275prov=W({token:Rp,factory:Rp.\u0275fac,providedIn:"root"});class od extends Js{constructor(t,e,i){super(t,e,i),this.dataModelClass=bg}}od.\u0275fac=function(t){return new(t||od)(R(Ha),R(Ve),R(he))},od.\u0275prov=W({token:od,factory:od.\u0275fac,providedIn:"root"});class Fp{constructor(t,e){this.characterService=t,this.globalUrlParamsService=e}resolve(t,e){var i=this;return _t(function*(){const r=yield i.globalUrlParamsService.getCurrentCampaign(),o=t.params.character_name,a=yield i.characterService.readByParam(r.name,{name:o}).pipe(le()).toPromise(),c=new bg;return c.campaign=r.pk,c.owner=a.pk,c})()}}Fp.\u0275fac=function(t){return new(t||Fp)(R(or),R(Ve))},Fp.\u0275prov=W({token:Fp,factory:Fp.\u0275fac,providedIn:"root"});class Lp extends zl{constructor(t,e){super(t,e)}getQueryParameter(t){return{locationName:t.name,parentLocationName:t.parent_name?t.parent_name:"None"}}}Lp.\u0275fac=function(t){return new(t||Lp)(R(so),R(he))},Lp.\u0275prov=W({token:Lp,factory:Lp.\u0275fac,providedIn:"root"});class $c extends Js{constructor(t,e,i,r){super(t,e,r),this.routingService=i,this.dataModelClass=Vu}resolve(t,e){var i=this;return _t(function*(){const o=i.getQueryParameters(t.params),a=yield i.globalUrlParamsService.getCurrentCampaign();return i.isUpdateRoute(e)?i.fetchData(a,o):i.createLocationData(e,a,o)})()}getQueryParameters(t){return{locationName:t.name,parentLocationName:t.parent_name?t.parent_name:"None"}}createLocationData(t,e,i){var r=()=>super.createData,o=this;return _t(function*(){const c=yield r().call(o,e,i);if(c.parent_location=null,o.isCreateRouteWithParentLocation(t,i)){const u=yield o.fetchParentLocationData(e.name,i);c.parent_location=u.pk,c.parent_location_details={pk:u.pk,name:u.name,parent_location:u.parent_location_details.name,name_full:u.name_full}}return c})()}fetchParentLocationData(t,e){var i=this;return _t(function*(){try{return yield i.service.readByParam(t,e).toPromise()}catch(r){i.routingService.routeToErrorPage(r)}})()}isCreateRouteWithParentLocation(t,e){return t.url.endsWith("create")&&null!=e.locationName&&null!=e.parentLocationName}}$c.\u0275fac=function(t){return new(t||$c)(R(so),R(Ve),R(he),R(he))},$c.\u0275prov=W({token:$c,factory:$c.\u0275fac,providedIn:"root"});class $p{constructor(t){this.campaignService=t}resolve(t,e){var i=this;return _t(function*(){const r=new Vu,o=yield i.campaignService.getCurrentCampaign();return r.campaign=o.pk,r})()}}$p.\u0275fac=function(t){return new(t||$p)(R(Ve))},$p.\u0275prov=W({token:$p,factory:$p.\u0275fac,providedIn:"root"});class sd{constructor(t,e){this.service=t,this.globalUrlParams=e}resolve(t,e){var i=this;return _t(function*(){const r=t.params,o=yield i.globalUrlParams.getCurrentCampaign(),a=yield i.service.campaignList(o.name).pipe(le()).toPromise(),c=i.getQueryParameter(r,o,a);return null==c?Se({maps:[],mapData:null}).toPromise():i.service.readByParam(o.name,c).pipe(le(),pe(u=>({mapData:u,maps:a}))).toPromise()})()}getQueryParameter(t,e,i){return 0===i.length?null:{name:null!=t.name?t.name:this.getSecondaryMapChoice(e,i)}}getSecondaryMapChoice(t,e){if(0===e.length)return;const i=t.default_map_details?.name;return i??e[0].name}}sd.\u0275fac=function(t){return new(t||sd)(R(jr),R(Ve))},sd.\u0275prov=W({token:sd,factory:sd.\u0275fac,providedIn:"root"});class l_{constructor(t){this.service=t}resolve(t,e){return this.service.campaignList(t.params.campaign)}}l_.\u0275fac=function(t){return new(t||l_)(R(jr))},l_.\u0275prov=W({token:l_,factory:l_.\u0275fac,providedIn:"root"});class ad extends Js{constructor(t,e,i){super(t,e,i),this.dataModelClass=Zh}}ad.\u0275fac=function(t){return new(t||ad)(R(jr),R(Ve),R(he))},ad.\u0275prov=W({token:ad,factory:ad.\u0275fac,providedIn:"root"});class Up extends zl{constructor(t,e){super(t,e)}getQueryParameter(t){return{parentLocationName:t.parent_location_name,locationName:t.location_name,mapName:t.map_name}}}Up.\u0275fac=function(t){return new(t||Up)(R(zo),R(he))},Up.\u0275prov=W({token:Up,factory:Up.\u0275fac,providedIn:"root"});class ld{constructor(t,e){this.mapService=t,this.globalUrlParamsService=e}resolve(t,e){var i=this;return _t(function*(){const r=t.params,o=r.campaign,a=r.map_name,c=yield i.mapService.readByParam(o,{name:a}).pipe(le()).toPromise(),u=new Hu;return u.latitude=parseInt(r.latitude),u.longitude=parseInt(r.longitude),u.map=c.pk,u})()}}ld.\u0275fac=function(t){return new(t||ld)(R(jr),R(Ve))},ld.\u0275prov=W({token:ld,factory:ld.\u0275fac,providedIn:"root"});class cd extends Js{constructor(t,e,i,r){super(t,e,r),this.locationService=i,this.dataModelClass=Hu}getQueryParameters(t){return{parentLocationName:t.parent_location_name,locationName:t.location_name,mapName:t.map_name}}createData(t,e){var i=()=>super.createData,r=this;return _t(function*(){const a=yield i().call(r,t,e),c=yield r.locationService.readByParam(t.name,e).pipe(le()).toPromise();return a.location=c.pk,a.location_details={parent_location_name:c.parent_location_details.name,name:c.name,description:c.description,sublocations:null},a})()}}cd.\u0275fac=function(t){return new(t||cd)(R(zo),R(Ve),R(so),R(he))},cd.\u0275prov=W({token:cd,factory:cd.\u0275fac,providedIn:"root"});class Vp extends zl{constructor(t,e){super(t,e)}}Vp.\u0275fac=function(t){return new(t||Vp)(R(Ys),R(he))},Vp.\u0275prov=W({token:Vp,factory:Vp.\u0275fac,providedIn:"root"});class ud extends Js{constructor(t,e,i){super(t,e,i),this.dataModelClass=Ub}}ud.\u0275fac=function(t){return new(t||ud)(R(Ys),R(Ve),R(he))},ud.\u0275prov=W({token:ud,factory:ud.\u0275fac,providedIn:"root"});class Xs{constructor(t,e){this.overviewService=t,this.router=e}resolve(t,e){const r=t.params.campaign,o=this.getOverviewType(e.url);return this.overviewService.getCampaignOverviewItems(r,o)}getOverviewType(t){const e=t.split("/"),r=this.capitalize(e[e.length-2]);return Ae[r]}capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}}Xs.\u0275fac=function(t){return new(t||Xs)(R(ja),R(Gt))},Xs.\u0275prov=W({token:Xs,factory:Xs.\u0275fac,providedIn:"root"});class Bp extends zl{constructor(t,e){super(t,e)}}Bp.\u0275fac=function(t){return new(t||Bp)(R(_s),R(he))},Bp.\u0275prov=W({token:Bp,factory:Bp.\u0275fac,providedIn:"root"});class Hp extends rF{constructor(t,e){super(t,e)}}Hp.\u0275fac=function(t){return new(t||Hp)(R(_s),R(he))},Hp.\u0275prov=W({token:Hp,factory:Hp.\u0275fac,providedIn:"root"});class dd extends Js{constructor(t,e,i){super(t,e,i),this.dataModelClass=Vb}}dd.\u0275fac=function(t){return new(t||dd)(R(_s),R(Ve),R(he))},dd.\u0275prov=W({token:dd,factory:dd.\u0275fac,providedIn:"root"});class jp{constructor(t){this.quoteService=t}resolve(t,e){const i=t.params;return this.quoteService.getAllCharacterQuotes(i.campaign,i.name)}}jp.\u0275fac=function(t){return new(t||jp)(R(Ll))},jp.\u0275prov=W({token:jp,factory:jp.\u0275fac,providedIn:"root"});class hd extends ET{constructor(t,e){super(t,e)}}hd.\u0275fac=function(t){return new(t||hd)(R(Rl),R(he))},hd.\u0275prov=W({token:hd,factory:hd.\u0275fac,providedIn:"root"});class zp{constructor(t){this.articleService=t}resolve(t,e){const i=t.params;return this.articleService.getCampaignSearchArticle(i.campaign,i.searchString)}}zp.\u0275fac=function(t){return new(t||zp)(R(Xu))},zp.\u0275prov=W({token:zp,factory:zp.\u0275fac,providedIn:"root"});class Gp extends ET{constructor(t,e){super(t,e)}}Gp.\u0275fac=function(t){return new(t||Gp)(R(vs),R(he))},Gp.\u0275prov=W({token:Gp,factory:Gp.\u0275fac,providedIn:"root"});class Wp extends zl{constructor(t,e){super(t,e)}getQueryParameter(t){return{isMainSession:t.isMainSession,sessionNumber:t.sessionNumber}}}Wp.\u0275fac=function(t){return new(t||Wp)(R(ys),R(he))},Wp.\u0275prov=W({token:Wp,factory:Wp.\u0275fac,providedIn:"root"});class qp extends rF{constructor(t,e){super(t,e)}}qp.\u0275fac=function(t){return new(t||qp)(R(ys),R(he))},qp.\u0275prov=W({token:qp,factory:qp.\u0275fac,providedIn:"root"});class Qp{constructor(t){this.timestampService=t}resolve(t,e){const i=t.params;return this.timestampService.getTimestamps(i.campaign,i.isMainSession,i.sessionNumber)}}Qp.\u0275fac=function(t){return new(t||Qp)(R(Hl))},Qp.\u0275prov=W({token:Qp,factory:Qp.\u0275fac,providedIn:"root"});class pd extends Js{constructor(t,e,i){super(t,e,i),this.dataModelClass=Cg}getQueryParameters(t){return{isMainSession:t.isMainSession,sessionNumber:t.sessionNumber}}}pd.\u0275fac=function(t){return new(t||pd)(R(ys),R(Ve),R(he))},pd.\u0275prov=W({token:pd,factory:pd.\u0275fac,providedIn:"root"});class fd extends ET{constructor(t,e){super(t,e)}}fd.\u0275fac=function(t){return new(t||fd)(R(Fl),R(he))},fd.\u0275prov=W({token:fd,factory:fd.\u0275fac,providedIn:"root"});class md{constructor(t){this.userService=t}resolve(t,e){return this.userService.getThisUser()}}md.\u0275fac=function(t){return new(t||md)(R(ao))},md.\u0275prov=W({token:md,factory:md.\u0275fac,providedIn:"root"});const tle=[].concat([{path:"",redirectTo:`${H.wikiUrlFrontendPrefixNoSlash}/campaigns`,pathMatch:"full",data:{name:"start"}},{path:"wiki2",redirectTo:`${H.wikiUrlFrontendPrefixNoSlash}/campaigns`,pathMatch:"full",data:{name:"start"}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/home`,redirectTo:`${H.wikiUrlFrontendPrefixNoSlash}/campaigns`,pathMatch:"full",data:{name:"no-campaigns"}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/login`,component:kp,data:{name:"login"}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/login/:state`,component:kp,data:{name:"login-state"}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/profile/:username`,component:Mp,data:{name:"direct-profile"},canActivate:[jl],resolve:{userData:md}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/campaigns`,component:Hg,data:{name:"campaign-overview"},canActivate:[jl],resolve:{_:Ip}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/profile/:campaign/:username`,component:Mp,data:{name:"direct-campaign-profile"},canActivate:[jl],resolve:{campaign:Re,userData:md}},{path:"wiki1",component:xp,data:{name:"wiki1"},children:[{path:"**",component:xp}]},{path:`${H.wikiUrlFrontendPrefixNoSlash}/error/:errorStatus`,component:Tp,data:{name:"error"}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/**`,component:Tp,data:{name:"404"}}],[{path:`${H.wikiUrlFrontendPrefixNoSlash}/admin`,component:Bg,data:{name:"admin"},canActivate:[Wa]},{path:`${H.wikiUrlFrontendPrefixNoSlash}/configtables`,component:jg,data:{name:"config-tables"},canActivate:[Wa]},{path:`${H.wikiUrlFrontendPrefixNoSlash}/campaign/create`,component:hp,data:{name:"campaign-create"},canActivate:[Wa]}],[{path:`${H.wikiUrlFrontendPrefixNoSlash}/home/:campaign`,component:Dp,data:{name:"home1",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/home/:campaign`,component:Dp,data:{name:"home2",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/campaign/:campaign`,component:a_,data:{name:"campaign-admin",requiredRole:ge.ADMIN},canActivate:[Ne],resolve:{campaign:Re,article:Pp,campaignStatistics:Op}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/campaign/:campaign/update`,component:hp,data:{name:"campaign-update",requiredRole:ge.ADMIN},canActivate:[Ne],resolve:{campaign:Re,modelData:Ap}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/character/:campaign`,component:$a,data:{name:"character-overview",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,overviewList:Xs}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/character/:campaign/create`,component:np,data:{name:"character-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:td}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/character/:campaign/:name`,component:Pg,data:{name:"character",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,article:ed}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/character/:campaign/:name/update`,component:np,data:{name:"character-update",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:td}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/location/:campaign`,component:$a,data:{name:"location-overview",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,overviewList:Xs}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/location/:campaign/create`,component:Ju,data:{name:"location-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:$c}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/location/:campaign/:parent_name/:name`,component:Lg,data:{name:"location",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,article:Lp}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/location/:campaign/:parent_name/:name/create`,component:Ju,data:{name:"location-parentlocation-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:$c}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/location/:campaign/:latitude/:longitude/:map_name/create`,component:zg,data:{name:"location-map-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,locationModelData:$p,markerModelData:ld}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/location/:campaign/:parent_name/:name/update`,component:Ju,data:{name:"location-update",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:$c}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/diaryentry/:campaign`,component:$a,data:{name:"diaryentry-overview",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,overviewList:Xs}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/diaryentry/:campaign/create`,component:fp,data:{name:"diaryentry-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:rd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/diaryentry/:campaign/:sessionNumber/:isMainSession/:authorName`,component:lp,data:{name:"diaryentry",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,article:id}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/diaryentry/:campaign/:sessionNumber/:isMainSession/:authorName/update`,component:fp,data:{name:"diaryentry-update",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:rd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/diaryentry/:campaign/:sessionNumber/:isMainSession/:authorName/:encounterTitle`,component:lp,data:{name:"diaryentry-encounter",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,article:id}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/creature/:campaign`,component:$a,data:{name:"creature-overview",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,overviewList:Xs}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/creature/:campaign/create`,component:pp,data:{name:"creature-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:nd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/creature/:campaign/:name`,component:Og,data:{name:"creature",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,article:Np}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/creature/:campaign/:name/update`,component:pp,data:{name:"creature-update",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:nd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/organization/:campaign`,component:$a,data:{name:"organization-overview",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,overviewList:Xs}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/organization/:campaign/create`,component:vp,data:{name:"organization-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:ud}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/organization/:campaign/:name`,component:$g,data:{name:"organization",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,article:Vp}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/organization/:campaign/:name/update`,component:vp,data:{name:"organization-update",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:ud}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/item/:campaign`,component:$a,data:{name:"item-overview",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,overviewList:Xs}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/item/:campaign/create`,component:Yu,data:{name:"item-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:od}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/item/:campaign/:character_name/create`,component:Yu,data:{name:"item-character-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:Fp}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/item/:campaign/:name`,component:Rg,data:{name:"item",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,article:Rp}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/item/:campaign/:name/update`,component:Yu,data:{name:"item-update",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:od}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/quest/:campaign`,component:Zg,data:{name:"quest-overview",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,overviewList:Hp}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/quest/:campaign/create`,component:yp,data:{name:"quest-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:dd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/quest/:campaign/:name`,component:Qg,data:{name:"quest",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,article:Bp}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/quest/:campaign/:name/update`,component:yp,data:{name:"quest-update",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:dd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/quotes/:campaign/:name`,component:Kg,data:{name:"quote-overview",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,character:ed,articleList:jp}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/sessionaudio/:campaign`,component:Xg,data:{name:"sessionaudio-overview",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,overviewList:qp}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/sessionaudio/:campaign/create`,component:Cp,data:{name:"sessionaudio-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:pd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/sessionaudio/:campaign/:isMainSession/:sessionNumber`,component:n_,data:{name:"sessionaudio",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,article:Wp,timestamps:Qp}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/sessionaudio/:campaign/:isMainSession/:sessionNumber/update`,component:Cp,data:{name:"sessionaudio-update",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:pd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/marker/:campaign/:parent_location_name/:location_name/create`,component:_p,data:{name:"marker-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:cd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/marker/:campaign/:latitude/:longitude/:map_name/create`,component:Wg,data:{name:"marker-map-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:ld}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/marker/:campaign/:parent_location_name/:location_name/:map_name`,component:qg,data:{name:"marker",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,article:Up}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/marker/:campaign/:parent_location_name/:location_name/:map_name/update`,component:_p,data:{name:"marker-update",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:cd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/map/:campaign/create`,component:mp,data:{name:"map-create",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:ad}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/map/:campaign/default`,component:gp,data:{name:"default-map",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,article:sd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/map/:campaign/:name`,component:gp,data:{name:"map",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,article:sd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/map/:campaign/:name/update`,component:mp,data:{name:"map-update",requiredRole:ge.MEMBER},canActivate:[Ne],resolve:{campaign:Re,modelData:ad}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/rules/:campaign`,component:cp,data:{name:"rules",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,articleList:hd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/rules/:campaign/:name`,component:cp,data:{name:"rule",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,articleList:hd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/spells/:campaign`,component:Sp,data:{name:"spells",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,articleList:fd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/spells/:campaign/:name`,component:Sp,data:{name:"spell",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,articleList:fd}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/sessions/:campaign`,component:r_,data:{name:"sessions",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,articleList:Gp}},{path:`${H.wikiUrlFrontendPrefixNoSlash}/search/:campaign/:searchString`,component:Jg,data:{name:"campaignSearch",requiredRole:ge.GUEST},canActivate:[Ne],resolve:{campaign:Re,searchResults:zp}}]);class Zp{}function oF(n,t,e){const i=e.value;return e.value=function(){if(H.isTouchDevice)return i.apply(this,arguments)},e}Zp.\u0275fac=function(t){return new(t||Zp)},Zp.\u0275mod=Ge({type:Zp}),Zp.\u0275inj=Le({imports:[Rb.forRoot(tle,{scrollPositionRestoration:"enabled"}),Rb]});const c_="Service workers are disabled or not supported by this browser";class Qb{constructor(t){if(this.serviceWorker=t,t){const i=zi(t,"controllerchange").pipe(pe(()=>t.controller)),o=xm(fb(()=>Se(t.controller)),i);this.worker=o.pipe(Ot(f=>!!f)),this.registration=this.worker.pipe(zn(()=>t.getRegistration()));const h=zi(t,"message").pipe(pe(f=>f.data)).pipe(Ot(f=>f&&f.type)).pipe(function nle(n){return n?zc(()=>new je,n):zc(new je)}());h.connect(),this.events=h}else this.worker=this.events=this.registration=function ile(n){return fb(()=>Tu(new Error(n)))}(c_)}postMessage(t,e){return this.worker.pipe(bn(1),Fn(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(t,e);return Promise.all([o,r]).then(([,a])=>a)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe(Ot(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(bn(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ot(e=>e.nonce===t),bn(1),pe(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let rle=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new je,!e.isEnabled)return this.messages=kl,this.notificationClicks=kl,void(this.subscription=kl);this.messages=this.sw.eventsOfType("PUSH").pipe(pe(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(pe(r=>r.data)),this.pushManager=this.sw.registration.pipe(pe(r=>r.pushManager));const i=this.pushManager.pipe(zn(r=>r.getSubscription()));this.subscription=Yo(i,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(c_));const i={userVisibleOnly:!0};let r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return i.applicationServerKey=o,this.pushManager.pipe(zn(a=>a.subscribe(i)),bn(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(bn(1),zn(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(c_))}decodeBase64(e){return atob(e)}}return n.\u0275fac=function(e){return new(e||n)(R(Qb))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),sF=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=kl,this.available=kl,this.activated=kl,void(this.unrecoverable=kl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Ot(i=>"VERSION_READY"===i.type),pe(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(c_));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(c_));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return n.\u0275fac=function(e){return new(e||n)(R(Qb))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class kT{}const aF=new Pe("NGSW_REGISTER_SCRIPT");function ole(n,t,e,i){return()=>{if(!_m(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)r=e.registrationStrategy();else{const[a,...c]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":r=Se(null);break;case"registerWithDelay":r=lF(+c[0]||0);break;case"registerWhenStable":r=c[0]?Yo(cF(n),lF(+c[0])):cF(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(bt).runOutsideAngular(()=>r.pipe(bn(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function lF(n){return Se(null).pipe(jw(n))}function cF(n){return n.get(yc).isStable.pipe(Ot(e=>e))}function sle(n,t){return new Qb(_m(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let ale=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[{provide:aF,useValue:e},{provide:kT,useValue:i},{provide:Qb,useFactory:sle,deps:[kT,Pa]},{provide:dm,useFactory:ole,deps:[Hi,aF,kT,Pa],multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({providers:[rle,sF]}),n})();const ule=new class cle extends Dl{}(class lle extends D2{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});class Zb extends at{constructor(t,e,i=0){super(t),this.scheduler=e,this.delay=i}static dispatch(t){const{notification:e,destination:i}=t;e.observe(i),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Zb.dispatch,this.delay,new hle(t,this.destination)))}_next(t){this.scheduleMessage(oo.createNext(t))}_error(t){this.scheduleMessage(oo.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(oo.createComplete()),this.unsubscribe()}}class hle{constructor(t,e){this.notification=t,this.destination=e}}class ple extends je{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new fle(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;let a;if(this.closed)throw new gn;if(this.isStopped||this.hasError?a=ft.EMPTY:(this.observers.push(t),a=new Mn(this,t)),r&&t.add(t=new Zb(t,r)),e)for(let c=0;c<o&&!t.closed;c++)t.next(i[c]);else for(let c=0;c<o&&!t.closed;c++)t.next(i[c].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a}_getNow(){return(this.scheduler||ule).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,r=this._events,o=r.length;let a=0;for(;a<o&&!(t-r[a].time<i);)a++;return o>e&&(a=Math.max(a,o-e)),a>0&&r.splice(0,a),r}}class fle{constructor(t,e){this.time=t,this.value=e}}function _le(n,t){if(1&n&&(p(0,"div",3),N(1,"div",4),m()),2&n){const e=C(2);_(1),io("width",e.diameter)("height",e.diameter)}}function vle(n,t){if(1&n&&N(0,"div",5),2&n){const e=C().ngIf,i=C();io("background",i.color)("height",i.height)("width",e+"%")}}function yle(n,t){if(1&n&&(U(0),S(1,_le,2,4,"div",1),S(2,vle,1,6,"div",2),V()),2&n){const e=C();_(1),v("ngIf",e.includeSpinner),_(1),v("ngIf",e.includeBar)}}class ble{constructor(t={}){this.config=t,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new je,this._value$=null,this.timer$=e=>{let i=Se(e);switch(e.action){case"start":case"increment":case"set":"start"===e.action&&0===this.config.latencyThreshold&&0===e.value&&(e.value=e.initialValue),this.requests>0&&(i=My(this.config.latencyThreshold,250).pipe(pe(r=>Object.assign(Object.assign({},e),{value:0===r?this.state.value||e.initialValue:this._increment()}))));break;case"complete":case"stop":i=0===e.value?Se(Object.assign({},e)):My(0,500).pipe(bn(2),pe(r=>({value:0===r?100:0})))}return i.pipe(pe(r=>Object.assign(Object.assign({},r),{action:"set"})),Fn(r=>this.next(r,!1)))},this.config=Object.assign({latencyThreshold:0},t)}get value$(){return this._value$?this._value$:this._value$=this.stream$.asObservable().pipe(Su(this.state),zn(t=>this.timer$(t)),function mle(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},r=>r.lift(function gle({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let r,a,o=0,c=!1,u=!1;return function(f){let y;o++,!r||c?(c=!1,r=new ple(n,t,i),y=r.subscribe(this),a=f.subscribe({next(T){r.next(T)},error(T){c=!0,r.error(T)},complete(){u=!0,a=void 0,r.complete()}}),u&&(a=void 0)):y=r.subscribe(this),this.add(()=>{o--,y.unsubscribe(),y=void 0,a&&!u&&e&&0===o&&(a.unsubscribe(),a=void 0,r=void 0)})}}(i))}(),pe(t=>t.value))}start(t=2){this.disabled||this.next({action:"start",initialValue:t})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(t){this.next({action:"set",value:t})}increment(t=0){this.next({action:"increment",value:t})}next(t,e=!0){switch(t.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":t.value=this._increment(t.value)}this.state=Object.assign(Object.assign(Object.assign({},this.state),{action:null}),t),e&&this.stream$.next(this.state)}_increment(t=0){const e=this.state.value;return e>=99&&(t=0),0===t&&(t=e>=0&&e<25?3*Math.random()+3:e>=25&&e<65?3*Math.random():e>=65&&e<90?2*Math.random():e>=90&&e<99?.5:0),t+e}}const MT=new Pe("LOADING_BAR_CONFIG");let Kb=(()=>{let n=class{constructor(e,i={},r){this.platformId=e,this.config=i,this.zone=r,this.refs={},this.streams$=new je,this.value$=this.streams$.asObservable().pipe(Su(null),zn(()=>Mm(...Object.keys(this.refs).map(o=>this.refs[o].value$))),function Cle(n){return n?t=>new Mt(e=>t.subscribe(i=>n.run(()=>e.next(i)),i=>n.run(()=>e.error(i)),()=>n.run(()=>e.complete()))):t=>t}(this.zone),pe(o=>Math.max(0,...o)))}get progress$(){return this.value$}start(e=2){this.useRef().start(e)}set(e){this.useRef().set(e)}increment(e){this.useRef().increment(e)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(e="default"){return this.refs[e]||(this.refs[e]=new ble(this.config),this.streams$.next(),_m(this.platformId)||this.refs[e].disable()),this.refs[e]}};return n.\u0275fac=function(e){return new(e||n)(R(Pa),R(MT,8),R(bt,8))},n.\u0275prov=W({factory:function(){return new n(R(Pa),R(MT,8),R(bt,8))},token:n,providedIn:"root"}),n=kn([Fb(0,Vf(Pa)),Fb(1,pc()),Fb(1,Vf(MT)),Fb(2,pc()),Ua("design:paramtypes",[Object,Object,bt])],n),n})(),wle=(()=>{let n=class{constructor(e){this.loader=e,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}};return n.\u0275fac=function(e){return new(e||n)(w(Kb))},n.\u0275cmp=ie({type:n,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(e,i){2&e&&(Et("fixed",i.fixed),io("color",i.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(e,i){1&e&&(S(0,yle,3,2,"ng-container",0),Vt(1,"async")),2&e&&v("ngIf",null!=i.value?i.value:Tn(1,1,i.value$))},dependencies:[me,bc],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:350ms linear;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:2px solid transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;-webkit-animation:.4s linear infinite _ngcontent-%COMP%_loading-bar-spinner;animation:.4s linear infinite _ngcontent-%COMP%_loading-bar-spinner}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width 350ms;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@-webkit-keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}"],changeDetection:0}),kn([_c(),Ua("design:type",Object)],n.prototype,"includeSpinner",void 0),kn([_c(),Ua("design:type",Object)],n.prototype,"includeBar",void 0),kn([_c(),Ua("design:type",Object)],n.prototype,"fixed",void 0),kn([_c(),Ua("design:type",Object)],n.prototype,"color",void 0),kn([_c(),Ua("design:type",Number)],n.prototype,"value",void 0),kn([_c(),Ua("design:type",String)],n.prototype,"ref",void 0),kn([_c(),Ua("design:type",String)],n.prototype,"height",void 0),kn([_c(),Ua("design:type",String)],n.prototype,"diameter",void 0),n=kn([Ua("design:paramtypes",[Kb])],n),n})(),uF=(()=>{let n=class{};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[yu]}),n})();const xT=function(n){return{"disabled-entry":n}};function Sle(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"li",20),s(3,"\n                "),p(4,"a",21),s(5,"\n                    "),N(6,"i",22),s(7,"\n                    "),p(8,"span",17),s(9," Campaign Admin "),m(),s(10,"\n                "),m(),s(11,"\n            "),m(),s(12,"\n        "),V()),2&n){const e=C().ngIf,i=C();_(2),v("ngClass",ot(2,xT,null==e)),_(2),v("routerLink",i.campaignAdminUrl)}}function Tle(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"li",20),s(3,"\n                "),p(4,"a",21),s(5,"\n                    "),N(6,"i"),s(7,"\n                    "),p(8,"span",17),s(9),m(),s(10,"\n                "),m(),s(11,"\n            "),m(),s(12,"\n        "),V()),2&n){const e=t.$implicit,i=C().ngIf;_(2),v("ngClass",ot(5,xT,null==i)),_(2),v("routerLink",e.route),_(2),ji(e.iconClass),_(3),We(e.title)}}const Dle=function(n,t){return{"swiped-right":n,"swiped-left":t}};function Ele(n,t){if(1&n){const e=Z();U(0),s(1,"\n    "),p(2,"nav",2),A("swipeleft",function(){return!0}),s(3,"\n        "),s(4,"\n        "),p(5,"ul",3),s(6,"\n            "),p(7,"li",4),s(8,"\n                "),p(9,"a",5),s(10,"\n                    "),N(11,"span",6),s(12,"\n                "),m(),s(13," \n            "),m(),s(14,"\n    \n            "),p(15,"li",7),s(16,"\n                "),p(17,"a",8),s(18,"\n                    "),p(19,"h3",9),s(20," \n                        "),N(21,"img",10),Vt(22,"async"),s(23,"\n                        "),p(24,"span",11),s(25),m(),s(26,"\n                    "),m(),s(27,"\n                "),m(),s(28,"\n            "),m(),s(29,"\n        "),m(),s(30,"\n    \n    \n        "),s(31,"\n        "),s(32,"\n    \n        "),s(33,"\n        "),S(34,Sle,13,4,"ng-container",0),s(35,"\n    \n        "),s(36,"\n        "),S(37,Tle,13,7,"ng-container",12),s(38,"\n    \n        "),s(39,"\n        "),p(40,"ul",13),s(41,"\n            "),p(42,"li",14),s(43,"\n                "),p(44,"a",15),s(45," \n                    "),N(46,"i",16),s(47,"\n                    "),p(48,"span",17),s(49,"Profile"),m(),s(50," \n                "),m(),s(51,"\n            "),m(),s(52,"\n            "),p(53,"li",14),s(54,"\n                "),p(55,"a",18),A("click",function(){return k(e),x(C().logout())}),s(56," \n                    "),N(57,"i",19),s(58,"\n                    "),p(59,"span",17),s(60,"Logout"),m(),s(61," \n                "),m(),s(62,"\n            "),m(),s(63,"\n        "),m(),s(64,"\n    \n    \n    "),m(),s(65,"\n"),V()}if(2&n){const e=t.ngIf,i=C();_(2),v("ngClass",Pn(12,Dle,i.showSidebar.getValue(),!i.showSidebar.getValue())),_(7),v("routerLink",i.campaignOverviewUrl),_(6),v("title",e.name+"-Home")("ngClass",ot(15,xT,null==e)),_(2),v("routerLink",i.homeUrl),_(4),v("src",Tn(22,10,i.campaignIcon$),Yn),_(4),We(e.name),_(9),v("ngIf",i.showAdminSection),_(3),v("ngForOf",i.sidebarEntries),_(7),v("routerLink",i.profileUrl)}}function kle(n,t){if(1&n&&(s(0,"\n    "),p(1,"ul",3),s(2,"\n        "),p(3,"li",23),s(4,"\n            "),p(5,"a",8),s(6,"\n                "),p(7,"h3",9),s(8," \n                    "),N(9,"span",24),s(10,"\n                    "),p(11,"span",11),s(12," To campaigns"),m(),s(13,"\n                "),m(),s(14,"\n            "),m(),s(15,"\n        "),m(),s(16,"\n    "),m(),s(17,"\n")),2&n){const e=C();_(5),v("routerLink",e.campaignOverviewUrl)}}class u_{constructor(t,e,i,r){this.routingService=t,this.tokenService=e,this.globalUrlParams=i,this.cdRef=r,this.constants=H,this.showUserSection=!1,this.showAdminSection=!1}ngOnInit(){this.sidebarEntries=this.constants.articleTypeMetaData.filter(t=>t.showInSidebar),this.sidebarEntries.sort((t,e)=>t.title>e.title?1:-1),this.currentCampaign$=this.globalUrlParams.currentCampaign,this.campaignRole$=this.currentCampaign$.pipe(pe(t=>this.tokenService.getCampaignRole(t?.name))),this.campaignIcon$=this.currentCampaign$.pipe(pe(t=>null==t?null:`${H.wikiUrl}${t.icon}`)),this.parameterSubscription=this.currentCampaign$.pipe(Ot(t=>null!=t)).subscribe(t=>{this.updateSidebarEntries(t.name),this.cdRef.detectChanges()})}refreshGlobalData(){var t=this;return _t(function*(){yield t.globalUrlParams.autoUpdateCampaignSet(),t.routingService.routeToPath("campaign-overview")})()}updateSidebarEntries(t){this.updateSidebarEntryRoutes(t),this.updateGeneralRouterLinks(t),this.showAdminSection=this.tokenService.isCampaignAdmin(t)||this.tokenService.isAdmin()||this.tokenService.isSuperUser()}updateGeneralRouterLinks(t){this.campaignOverviewUrl=this.routingService.getRoutePath("campaign-overview"),this.homeUrl=this.routingService.getRoutePath("home2",{campaign:t}),this.profileUrl=this.routingService.getRoutePath("direct-campaign-profile",{username:this.tokenService.getCurrentUserName(),campaign:t}),this.campaignAdminUrl=this.routingService.getRoutePath("campaign-admin",{campaign:t})}updateSidebarEntryRoutes(t){this.sidebarEntries.map(e=>{const r=this.routingService.getRoutePath(e.route,{campaign:t});return e.route=r,e})}logout(){this.tokenService.hasTokens()&&(this.tokenService.invalidateJWTToken(),this.tokenService.removeJWTTokenFromLocalStorage()),this.routingService.routeToPath("login-state",{state:"logged-out"})}ngOnDestroy(){this.parameterSubscription&&this.parameterSubscription.unsubscribe()}}u_.\u0275fac=function(t){return new(t||u_)(w(he),w(_e),w(Ve),w(tr))},u_.\u0275cmp=ie({type:u_,selectors:[["app-sidebar"]],inputs:{showSidebar:"showSidebar"},decls:5,vars:3,consts:[[4,"ngIf"],["nonCampaignBrand",""],["id","sidebar",3,"ngClass","swipeleft"],[1,"brand-line","d-flex"],["title","campaign-overview",1,"entry"],[1,"on-hover-show","flex","overview-link",3,"routerLink"],[1,"fas","fa-chevron-left","fa-2x"],[1,"flex-1","entry","brand-entry",3,"title","ngClass"],[1,"pl-0",3,"routerLink"],["id","brand",1,"d-flex","align-items-center","justify-content-center"],["alt","...",1,"campaign-icon",3,"src"],[1,"ml-2","on-hover-show"],[4,"ngFor","ngForOf"],[1,"footer","d-flex","flex-column","mt-auto"],[1,"entry","w-100","align-self-end"],[1,"d-flex","align-items-center","entry","pointer",3,"routerLink"],[1,"fas","fa-user-circle"],[1,"on-hover-show"],[1,"d-flex","align-items-center","entry","pointer",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"entry",3,"ngClass"],[1,"d-flex","align-items-center","entry",3,"routerLink"],[1,"fas","fa-hammer"],[1,"flex-1"],[1,"fas","fa-chevron-left"]],template:function(t,e){1&t&&(S(0,Ele,66,17,"ng-container",0),Vt(1,"async"),s(2,"\n\n\n\n"),S(3,kle,18,1,"ng-template",null,1,ae)),2&t&&v("ngIf",Tn(1,1,e.currentCampaign$))},dependencies:[rn,Ye,me,Ht,bc],styles:["#sidebar[_ngcontent-%COMP%]{height:100vh;width:4rem;transition:width .2s ease-in-out;position:fixed;background-color:var(--dark);z-index:1005;overflow-y:auto;overflow-x:hidden;display:flex;flex-shrink:0;flex-direction:column;border-right-color:#fff;border-right-width:1px;border-right-style:outset}@media (hover: hover) and (pointer: fine){li.entry[_ngcontent-%COMP%]:hover, li.entry[_ngcontent-%COMP%]:focus   a[_ngcontent-%COMP%], li.entry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background-color:var(--secondary);color:var(--link-blue)}#sidebar[_ngcontent-%COMP%]:hover{width:20rem}#sidebar[_ngcontent-%COMP%]:hover   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{justify-content:unset;padding-left:1rem}#sidebar[_ngcontent-%COMP%]:hover   .on-hover-show[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_fadeInFromNone .3s ease-out}#sidebar[_ngcontent-%COMP%]:hover   .on-hover-show.overview-link.flex[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}#sidebar[_ngcontent-%COMP%]:hover   .on-hover-show.flex[_ngcontent-%COMP%]{display:flex;align-items:center}}#sidebar.swiped-right[_ngcontent-%COMP%]{display:block;width:20rem;touch-action:pan-y!important;animation:_ngcontent-%COMP%_slideInLeft .2s ease-out}.swiped-left[_ngcontent-%COMP%]{display:unset;width:4rem;animation:_ngcontent-%COMP%_slideInLeft .2s ease-out;animation-direction:reverse}ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}ul.footer[_ngcontent-%COMP%]{border-top:4px inset}li[_ngcontent-%COMP%]{list-style-type:none;height:3rem;font-weight:700;font-size:large;flex-shrink:0}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;border-bottom:none}li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{text-align:center;width:3rem}li.entry.footer[_ngcontent-%COMP%]{align-self:flex-end}#sidebar.swiped-right[_ngcontent-%COMP%]   #user-section.active[_ngcontent-%COMP%], #sidebar[_ngcontent-%COMP%]:hover   #user-section.active[_ngcontent-%COMP%]{height:auto}#user-section[_ngcontent-%COMP%]   #user-links[_ngcontent-%COMP%]{padding-left:1.5rem;display:none}#user-section.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:3rem}#user-section.active[_ngcontent-%COMP%]   #user-links[_ngcontent-%COMP%]{display:block}#sidebar[_ngcontent-%COMP%]:hover   #user-links[_ngcontent-%COMP%]   .on-hover-show[_ngcontent-%COMP%], #sidebar[_ngcontent-%COMP%]:hover   #user-links.on-hover-show[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInFromNone .2s ease-in}#brand[_ngcontent-%COMP%]{height:3rem;font-size:1.5rem;margin:auto!important}#sidebar[_ngcontent-%COMP%]:hover   #brand[_ngcontent-%COMP%]{margin-left:.5rem!important}#brand[_ngcontent-%COMP%]   .campaign-icon[_ngcontent-%COMP%]{height:32px;width:32px}.brand-entry[_ngcontent-%COMP%]:hover, .brand-entry[_ngcontent-%COMP%]:hover   h3#brand[_ngcontent-%COMP%]{color:var(--link-blue)}#sidebar[_ngcontent-%COMP%]:hover   .brand-entry[_ngcontent-%COMP%]   h3#brand[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], #sidebar[_ngcontent-%COMP%]:hover   .brand-entry[_ngcontent-%COMP%]   h3#brand[_ngcontent-%COMP%], #sidebar[_ngcontent-%COMP%]:hover   .brand-entry[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.brand-line[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-bottom:none!important}.brand-line[_ngcontent-%COMP%]   .overview-link[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;padding-right:1rem;border-right:solid 2px white}.brand-line[_ngcontent-%COMP%]   .overview-link[_ngcontent-%COMP%]:hover{background-color:transparent;color:var(--link-blue)}#sidebar[_ngcontent-%COMP%]   .on-hover-show[_ngcontent-%COMP%]{display:none}#sidebar.swiped-right[_ngcontent-%COMP%]   .on-hover-show[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_fadeInFromNone .3s ease-out}#sidebar.swiped-right[_ngcontent-%COMP%]   .on-hover-show.overview-link.flex[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.disabled-entry[_ngcontent-%COMP%]{pointer-events:none;opacity:.3;color:unset;background-color:unset}@media (max-width: 576px){#brand[_ngcontent-%COMP%]{padding-left:.5rem}#sidebar[_ngcontent-%COMP%]{display:none;width:0vw}#sidebar.swiped-right[_ngcontent-%COMP%]{display:flex;width:75vw;animation:_ngcontent-%COMP%_slideInLeft-mobile .2s ease-out}#sidebar.swiped-left[_ngcontent-%COMP%]{display:none;width:0vw;animation:_ngcontent-%COMP%_slideInLeft-mobile .2s ease-out;animation-direction:reverse}}@media (max-width: 326px){#brand[_ngcontent-%COMP%]{font-size:1.5rem}}@keyframes _ngcontent-%COMP%_fadeInFromNone{0%{display:none;opacity:0}60%{display:block;opacity:0}to{display:block;opacity:1}}@keyframes _ngcontent-%COMP%_slideInLeft-mobile{0%{display:none;width:0rem}1%{display:block;width:0rem}to{display:block;width:75vw}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{display:none;width:0rem}1%{display:block;width:0rem}to{display:block;width:20rem}}"]});const Mle=["backgroundImage"];function xle(n,t){if(1&n&&(U(0),s(1,"\n  "),N(2,"div",2,3),s(4,"\n"),V()),2&n){const e=t.ngIf;_(2),io("background-image","linear-gradient(0deg,rgba(19,21,25,.5), rgba(19,21,25,.5)), url("+e+")")}}function Ile(n,t){if(1&n&&(s(0,"\n  "),N(1,"div",2,3),s(3,"\n")),2&n){const e=C();_(1),io("background-image","linear-gradient(0deg,rgba(19,21,25,.5), rgba(19,21,25,.5)), url("+e.constants.defaultBackgroundImageUrl+")")}}class d_{constructor(t){this.globalURLParamService=t,this.constants=H,this.currentCampaign=new yn(null)}ngOnInit(){this.urlParamSubscription=this.globalURLParamService.currentCampaign.pipe(Ot(t=>!this.isCurrentCampaign(t))).subscribe(t=>this.updateCurrentCampaignBackground(t)),this.backgroundImageUrl$=this.currentCampaign.pipe(pe(t=>null==t?null:`${H.wikiUrl}${t?.background_image}`))}isCurrentCampaign(t){return this.currentCampaign.getValue()?.name===t?.name}updateCurrentCampaignBackground(t){var e=this;return _t(function*(){yield e.animateBackgroundImage("fadeOut"),e.currentCampaign.next(t),yield e.animateBackgroundImage("fadeIn")})()}animateBackgroundImage(t){var e=this;return _t(function*(){if(null!=e.backgroundImage)return _i(e.backgroundImage.nativeElement,t)})()}ngOnDestroy(){this.urlParamSubscription&&this.urlParamSubscription.unsubscribe()}}d_.\u0275fac=function(t){return new(t||d_)(w(Ve))},d_.\u0275cmp=ie({type:d_,selectors:[["app-background-image"]],viewQuery:function(t,e){if(1&t&&dt(Mle,5),2&t){let i;ke(i=Me())&&(e.backgroundImage=i.first)}},decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["defaultBackground",""],["id","bg"],["backgroundImage",""]],template:function(t,e){if(1&t&&(S(0,xle,5,2,"ng-container",0),Vt(1,"async"),s(2,"\n\n"),S(3,Ile,4,2,"ng-template",null,1,ae)),2&t){const i=re(4);v("ngIf",Tn(1,2,e.backgroundImageUrl$))("ngIfElse",i)}},dependencies:[me,bc]});const Ple=["sidebar"];function Ole(n,t){if(1&n){const e=Z();p(0,"div",6),s(1,"\n    "),p(2,"strong",7),s(3,"\n        This project does not support Safari. The application should still work generally, but no tests are performed for it.\n        Given the pain that it is to develop for Apple hardware without owning apple devices, and given that I have no interest in owning\n        said devices and don't see myself paying for emulation services to be able to get it to run either,\n        I ask for your understanding. "),N(4,"br"),s(5,"\n        - Philipp D\xf6rner aka the Developer\n    "),m(),s(6,"\n    "),p(7,"i",8),A("click",function(){return k(e),x(C().showSafariWarning=!1)}),m(),s(8,"\n"),m()}}const Ale=function(n,t){return{"swiped-right":n,"swiped-left":t}};function Nle(n,t){if(1&n&&(p(0,"div",9),s(1,"\n        "),N(2,"app-sidebar",10,11),s(4,"\n    "),m()),2&n){const e=C();v("ngClass",Pn(2,Ale,e.showSidebarSubject.getValue(),!e.showSidebarSubject.getValue())),_(2),v("showSidebar",e.showSidebarSubject)}}class gd{constructor(t,e,i,r,o){this.routingService=t,this.serviceWorkerUpdate=e,this.warnings=i,this.router=r,this.tokenService=o,this.title="AldruneWiki",this.outsideClickSubject=new je,this.allowSidebar=!1,this.showSidebarSubject=new yn(!1),this.constants=H}ngOnInit(){this.tokenService.hasValidJWTToken()||(this.tokenService.removeJWTTokenFromLocalStorage(),this.routingService.routeToPath("login")),this.serviceWorkerSubscription=this.serviceWorkerUpdate.versionUpdates.pipe(Ot(t=>"VERSION_READY"===t.type)).subscribe(t=>{this.warnings.showAlert("There's an update to this webpage, that you've just downloaded in the background! We now need to reload the page to move it into cache..."),location.reload()}),this.routingSubscription=this.router.events.pipe(Ot(this.isPageReroutingEndEvent)).subscribe(t=>this.onPageReroutingEnd(t))}isPageReroutingEndEvent(t){return t instanceof Ol}onPageReroutingEnd(t){this.updateSidebarAllowanceBasedOnRoute(),this.showSidebarSubject.next(!1)}updateSidebarAllowanceBasedOnRoute(){const t=this.router.url===this.routingService.getRoutePath("campaign-overview"),e=this.router.url.includes("/wiki2/login"),i=this.router.url===this.routingService.getRoutePath("admin"),r=this.router.url===this.routingService.getRoutePath("config-tables");this.allowSidebar=!(t||e||i||r)}isUserWithSafariBrowser(){const t=navigator.userAgent.toLowerCase(),e=t.indexOf("safari")>-1,i=t.indexOf("chrome")>-1,r=t.indexOf("firefox")>-1,o=t.indexOf("opera")>-1;return e&&!i&&!r&&!o}isIOSUser(){return"iOS"===this.getOS()}getOS(){var t=window.navigator.userAgent,e=window.navigator.platform,a=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?a="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(e)?a="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)?a="Windows":/Android/.test(t)?a="Android":!a&&/Linux/.test(e)&&(a="Linux"),a}onSwipeLeft(){this.showSidebarSubject.next(!1)}onSwipeRight(){this.showSidebarSubject.next(!0)}ngOnDestroy(){this.routingSubscription&&this.routingSubscription.unsubscribe(),this.routingTransitionSubscription&&this.routingTransitionSubscription.unsubscribe(),this.serviceWorkerSubscription&&this.serviceWorkerSubscription.unsubscribe(),this.parameterSubscription&&this.parameterSubscription.unsubscribe()}}gd.\u0275fac=function(t){return new(t||gd)(w(he),w(sF),w(ze),w(Gt),w(_e))},gd.\u0275cmp=ie({type:gd,selectors:[["app-root"]],viewQuery:function(t,e){if(1&t&&dt(Ple,5),2&t){let i;ke(i=Me())&&(e.sidebarRef=i.first)}},decls:17,vars:4,consts:[["class","alert alert-warning alert-dismissable fade show mb-0 d-flex align-items-center","role","alert",4,"ngIf"],[1,"d-flex","base-page",3,"swipeleft","swiperight"],["class","sidebar-wrapper",3,"ngClass",4,"ngIf"],["id","background-div",1,"d-flex","justify-content-center","w-100"],["routerOutlet",""],[3,"color","includeSpinner"],["role","alert",1,"alert","alert-warning","alert-dismissable","fade","show","mb-0","d-flex","align-items-center"],[1,"flex-1"],[1,"fa","fa-2x","fa-times","pointer","text-color-black",3,"click"],[1,"sidebar-wrapper",3,"ngClass"],[3,"showSidebar"],["sidebar",""]],template:function(t,e){1&t&&(s(0,"\n"),S(1,Ole,9,0,"div",0),s(2,"\n\n"),p(3,"div",1),A("swipeleft",function(){return e.onSwipeLeft()})("swiperight",function(){return e.onSwipeRight()}),s(4,"\n    "),S(5,Nle,5,5,"div",2),s(6,"\n\n    "),p(7,"div",3),s(8,"\n        "),N(9,"router-outlet",null,4),s(11,"\n    "),m(),s(12,"\n    "),N(13,"app-background-image"),s(14,"\n"),m(),s(15,"\n\n"),N(16,"ngx-loading-bar",5)),2&t&&(_(1),v("ngIf",e.showSafariWarning),_(4),v("ngIf",e.allowSidebar),_(11),v("color","hsl(228, 100%, 76%)")("includeSpinner",!1))},dependencies:[rn,me,rT,wle,u_,d_],styles:[".sidebar-wrapper[_ngcontent-%COMP%]{width:4rem;min-width:4rem;height:100vh}router-outlet[_ngcontent-%COMP%] +   *{width:100%;display:flex;justify-content:center}.transition-spinner[_ngcontent-%COMP%]{position:absolute;width:5rem;height:5rem;margin:auto;top:40%;left:50%;background-color:#000;border-radius:3rem;z-index:1006}@media (max-width: 576px){.sidebar-wrapper[_ngcontent-%COMP%]{width:0rem;min-width:0rem;display:none}.sidebar-wrapper.swiped-left[_ngcontent-%COMP%]{width:0rem;display:none}.sidebar-wrapper.swiped-right[_ngcontent-%COMP%]{width:.01rem;display:block}}.base-page[_ngcontent-%COMP%]{touch-action:pan-y!important;-webkit-user-select:unset!important;user-select:unset!important}"]}),kn([oF],gd.prototype,"onSwipeLeft",null),kn([oF],gd.prototype,"onSwipeRight",null);let IT=(()=>{class n{transform(e,i){return e instanceof Mt||(e=Se(e)),e.pipe(pe(r=>this.toOptions(r,i||{})))}toOptions(e,i){const r=[],o={},a=i.templateOptions||{};return a._flatOptions=!0,e.map(c=>{this.getGroupProp(c,a)?(a._flatOptions=!1,o[this.getGroupProp(c,a)]||(o[this.getGroupProp(c,a)]=[],r.push({label:this.getGroupProp(c,a),group:o[this.getGroupProp(c,a)]})),o[this.getGroupProp(c,a)].push(this.toOption(c,a))):r.push(this.toOption(c,a))}),r}toOption(e,i){return{label:this.getLabelProp(e,i),value:this.getValueProp(e,i),disabled:this.getDisabledProp(e,i)||!1}}getLabelProp(e,i){return"function"==typeof i.labelProp?i.labelProp(e):this.shouldUseLegacyOption(e,i)?(console.warn("NgxFormly: legacy select option '{key, value}' is deprecated since v5.5, use '{value, label}' instead."),e.value):e[i.labelProp||"label"]}getValueProp(e,i){return"function"==typeof i.valueProp?i.valueProp(e):this.shouldUseLegacyOption(e,i)?e.key:e[i.valueProp||"value"]}getDisabledProp(e,i){return"function"==typeof i.disabledProp?i.disabledProp(e):e[i.disabledProp||"disabled"]}getGroupProp(e,i){return"function"==typeof i.groupProp?i.groupProp(e):e[i.groupProp||"group"]}shouldUseLegacyOption(e,i){return!i.valueProp&&!i.labelProp&&null!=e&&"object"==typeof e&&"key"in e&&"value"in e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Zn({name:"formlySelectOptions",type:n,pure:!0}),n})(),Rle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({}),n})();function Fle(n,t){1&n&&N(0,"i",8),2&n&&v("ngClass",C(2).to.addonLeft.class)}function Lle(n,t){if(1&n&&(p(0,"span",9),s(1),m()),2&n){const e=C(2);_(1),We(e.to.addonLeft.text)}}const dF=function(n){return{cursor:n}};function $le(n,t){if(1&n){const e=Z();p(0,"div",5),A("click",function(r){return k(e),x(C().addonLeftClick(r))}),s(1,"\n    "),S(2,Fle,1,1,"i",6),s(3,"\n    "),S(4,Lle,2,1,"span",7),s(5,"\n  "),m()}if(2&n){const e=C();v("ngStyle",ot(3,dF,e.to.addonLeft.onClick?"pointer":"inherit")),_(2),v("ngIf",e.to.addonLeft.class),_(2),v("ngIf",e.to.addonLeft.text)}}function Ule(n,t){1&n&&N(0,"i",8),2&n&&v("ngClass",C(2).to.addonRight.class)}function Vle(n,t){if(1&n&&(p(0,"span",9),s(1),m()),2&n){const e=C(2);_(1),We(e.to.addonRight.text)}}function Ble(n,t){if(1&n){const e=Z();p(0,"div",10),A("click",function(r){return k(e),x(C().addonRightClick(r))}),s(1,"\n    "),S(2,Ule,1,1,"i",6),s(3,"\n    "),S(4,Vle,2,1,"span",7),s(5,"\n  "),m()}if(2&n){const e=C();v("ngStyle",ot(3,dF,e.to.addonRight.onClick?"pointer":"inherit")),_(2),v("ngIf",e.to.addonRight.class),_(2),v("ngIf",e.to.addonRight.text)}}let Hle=(()=>{class n extends CT{addonRightClick(e){this.to.addonRight.onClick&&this.to.addonRight.onClick(this.to,this,e)}addonLeftClick(e){this.to.addonLeft.onClick&&this.to.addonLeft.onClick(this.to,this,e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275cmp=ie({type:n,selectors:[["formly-wrapper-addons"]],features:[ce],decls:13,vars:2,consts:[[1,"input-group"],["class","input-group-prepend",3,"ngStyle","click",4,"ngIf"],[1,"input-addons"],["fieldComponent",""],["class","input-group-append",3,"ngStyle","click",4,"ngIf"],[1,"input-group-prepend",3,"ngStyle","click"],["class","input-group-text",3,"ngClass",4,"ngIf"],["class","input-group-text",4,"ngIf"],[1,"input-group-text",3,"ngClass"],[1,"input-group-text"],[1,"input-group-append",3,"ngStyle","click"]],template:function(e,i){1&e&&(p(0,"div",0),s(1,"\n  "),S(2,$le,6,5,"div",1),s(3,"\n  "),p(4,"div",2),s(5,"\n    "),oi(6,null,3),s(8,"\n  "),m(),s(9,"\n  "),S(10,Ble,6,5,"div",4),s(11,"\n"),m(),s(12,"\n")),2&e&&(_(2),v("ngIf",i.to.addonLeft),_(8),v("ngIf",i.to.addonRight))},dependencies:[rn,me,iP],styles:["[_nghost-%COMP%]     .input-group>:not(:first-child) .form-control{border-top-left-radius:0;border-bottom-left-radius:0}[_nghost-%COMP%]     .input-group>:not(:last-child) .form-control{border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]     .input-group>.input-addons{position:relative;flex:1 1 auto;width:1%;margin-bottom:0}"]}),n})();function jle(n){!n.templateOptions||n.wrappers&&-1!==n.wrappers.indexOf("addons")||(n.templateOptions.addonLeft||n.templateOptions.addonRight)&&(n.wrappers=[...n.wrappers||[],"addons"])}let zle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[yu,cS,wT.forChild({wrappers:[{name:"addons",component:Hle}],extensions:[{name:"addons",extension:{postPopulate:jle}}]})]}),n})();function Gle(n,t){1&n&&(p(0,"span",5),s(1,"*"),m())}function Wle(n,t){if(1&n&&(p(0,"label",3),s(1),S(2,Gle,2,0,"span",4),s(3,"\n      "),m()),2&n){const e=C();Be("form-check-label",-1===e.to.formCheck.indexOf("custom"))("custom-control-label",0===e.to.formCheck.indexOf("custom")),v("for",e.id),_(1),ee("\n        ",e.to.label,"\n        "),_(1),v("ngIf",e.to.required&&!0!==e.to.hideRequiredMarker)}}const hF=function(n,t,e,i,r,o){return{"form-check":n,"form-check-inline":t,"custom-control":e,"custom-checkbox":i,"custom-control-inline":r,"custom-switch":o}};function qle(n,t){if(1&n){const e=Z();p(0,"div",1),s(1,"\n        "),p(2,"input",2),A("change",function(r){const a=k(e).$implicit;return x(C().onChange(a.value,r.target.checked))}),m(),s(3,"\n        "),p(4,"label",3),s(5),m(),s(6,"\n      "),m()}if(2&n){const e=t.$implicit,i=t.index,r=C();v("ngClass",uC(15,hF,-1===r.to.formCheck.indexOf("custom"),"inline"===r.to.formCheck,0===r.to.formCheck.indexOf("custom"),"custom"===r.to.formCheck||"custom-inline"===r.to.formCheck,"custom-inline"===r.to.formCheck,"custom-switch"===r.to.formCheck)),_(2),Be("form-check-input",-1===r.to.formCheck.indexOf("custom"))("custom-control-input",0===r.to.formCheck.indexOf("custom")),v("id",r.id+"_"+i)("value",e.value)("checked",r.isChecked(e))("formlyAttributes",r.field),_(2),Be("form-check-label",-1===r.to.formCheck.indexOf("custom"))("custom-control-label",0===r.to.formCheck.indexOf("custom")),v("for",r.id+"_"+i),_(1),ee("\n          ",e.label,"\n        ")}}function Qle(n,t){if(1&n&&N(0,"input",2),2&n){const e=C();Be("is-invalid",e.showError),v("type",e.type)("formControl",e.formControl)("formlyAttributes",e.field)}}function Zle(n,t){if(1&n&&(s(0,"\n      "),N(1,"input",3),s(2,"\n    ")),2&n){const e=C();_(1),Be("is-invalid",e.showError),v("formControl",e.formControl)("formlyAttributes",e.field)}}const Kle=function(n,t,e,i){return{"form-check":n,"form-check-inline":t,"custom-control custom-radio":e,"custom-control-inline":i}};function Yle(n,t){if(1&n&&(p(0,"div",1),s(1,"\n        "),N(2,"input",2),s(3,"\n        "),p(4,"label",3),s(5),m(),s(6,"\n      "),m()),2&n){const e=t.$implicit,i=t.index,r=C();v("ngClass",cC(20,Kle,-1===r.to.formCheck.indexOf("custom"),"inline"===r.to.formCheck,0===r.to.formCheck.indexOf("custom"),"custom-inline"===r.to.formCheck)),_(2),Be("form-check-input",-1===r.to.formCheck.indexOf("custom"))("custom-control-input",0===r.to.formCheck.indexOf("custom"))("is-invalid",r.showError),v("id",r.id+"_"+i)("name",r.field.name||r.id)("value",e.value)("formControl",r.formControl)("formlyAttributes",r.field),Et("value",e.value)("disabled",!(!e.disabled&&!r.formControl.disabled)||null),_(2),Be("form-check-label",-1===r.to.formCheck.indexOf("custom"))("custom-control-label",0===r.to.formCheck.indexOf("custom")),v("for",r.id+"_"+i),_(1),ee("\n          ",e.label,"\n        ")}}function Jle(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"option",7),s(3),m(),s(4,"\n          "),V()),2&n){const e=t.$implicit;_(2),v("ngValue",e.value)("disabled",e.disabled),_(1),We(e.label)}}function Xle(n,t){if(1&n&&(U(0),s(1,"\n          "),S(2,Jle,5,3,"ng-container",6),s(3,"\n        "),V()),2&n){const e=C().ngIf;_(2),v("ngForOf",e)}}function ece(n,t){if(1&n&&(p(0,"option",7),s(1),m()),2&n){const e=C().$implicit;v("ngValue",e.value)("disabled",e.disabled),_(1),We(e.label)}}function tce(n,t){if(1&n&&(p(0,"option",7),s(1),m()),2&n){const e=t.$implicit;v("ngValue",e.value)("disabled",e.disabled),_(1),ee("\n                  ",e.label,"\n                ")}}function nce(n,t){if(1&n&&(s(0,"\n              "),p(1,"optgroup",10),s(2,"\n                "),S(3,tce,2,3,"option",11),s(4,"\n              "),m(),s(5,"\n            ")),2&n){const e=C().$implicit;_(1),v("label",e.label),_(2),v("ngForOf",e.group)}}function ice(n,t){if(1&n&&(U(0),s(1,"\n            "),S(2,ece,2,3,"option",8),s(3,"\n            "),S(4,nce,6,2,"ng-template",null,9,ae),s(6,"\n          "),V()),2&n){const e=t.$implicit,i=re(5);_(2),v("ngIf",!e.group)("ngIfElse",i)}}function rce(n,t){if(1&n&&(s(0,"\n          "),S(1,ice,7,2,"ng-container",6),s(2,"\n        ")),2&n){const e=C().ngIf;_(1),v("ngForOf",e)}}function oce(n,t){if(1&n&&(U(0),s(1,"\n        "),S(2,Xle,4,1,"ng-container",4),s(3,"\n\n        "),S(4,rce,3,1,"ng-template",null,5,ae),s(6,"\n      "),V()),2&n){const e=re(5),i=C(2);_(2),v("ngIf",i.to._flatOptions)("ngIfElse",e)}}function sce(n,t){if(1&n&&(p(0,"select",2),s(1,"\n      "),S(2,oce,7,2,"ng-container",3),Vt(3,"async"),Vt(4,"formlySelectOptions"),s(5,"\n    "),m()),2&n){const e=C();Be("custom-select",e.to.customSelect)("is-invalid",e.showError),v("formControl",e.formControl)("compareWith",e.to.compareWith)("formlyAttributes",e.field),_(2),v("ngIf",Tn(3,8,Ia(4,10,e.to.options,e.field)))}}function ace(n,t){if(1&n&&(p(0,"option",14),s(1),m()),2&n){const e=C(2);v("ngValue",null),_(1),We(e.to.placeholder)}}function lce(n,t){if(1&n&&(U(0),s(1,"\n              "),p(2,"option",7),s(3),m(),s(4,"\n            "),V()),2&n){const e=t.$implicit;_(2),v("ngValue",e.value)("disabled",e.disabled),_(1),We(e.label)}}function cce(n,t){if(1&n&&(U(0),s(1,"\n            "),S(2,lce,5,3,"ng-container",6),s(3,"\n          "),V()),2&n){const e=C().ngIf;_(2),v("ngForOf",e)}}function uce(n,t){if(1&n&&(p(0,"option",7),s(1),m()),2&n){const e=C().$implicit;v("ngValue",e.value)("disabled",e.disabled),_(1),We(e.label)}}function dce(n,t){if(1&n&&(p(0,"option",7),s(1),m()),2&n){const e=t.$implicit;v("ngValue",e.value)("disabled",e.disabled),_(1),ee("\n                    ",e.label,"\n                  ")}}function hce(n,t){if(1&n&&(s(0,"\n                "),p(1,"optgroup",10),s(2,"\n                  "),S(3,dce,2,3,"option",11),s(4,"\n                "),m(),s(5,"\n              ")),2&n){const e=C().$implicit;_(1),v("label",e.label),_(2),v("ngForOf",e.group)}}function pce(n,t){if(1&n&&(U(0),s(1,"\n              "),S(2,uce,2,3,"option",8),s(3,"\n              "),S(4,hce,6,2,"ng-template",null,9,ae),s(6,"\n            "),V()),2&n){const e=t.$implicit,i=re(5);_(2),v("ngIf",!e.group)("ngIfElse",i)}}function fce(n,t){if(1&n&&(s(0,"\n            "),S(1,pce,7,2,"ng-container",6),s(2,"\n          ")),2&n){const e=C().ngIf;_(1),v("ngForOf",e)}}function mce(n,t){if(1&n&&(U(0),s(1,"\n          "),S(2,cce,4,1,"ng-container",4),s(3,"\n\n          "),S(4,fce,3,1,"ng-template",null,5,ae),s(6,"\n        "),V()),2&n){const e=re(5),i=C(2);_(2),v("ngIf",i.to._flatOptions)("ngIfElse",e)}}function gce(n,t){if(1&n&&(s(0,"\n      "),p(1,"select",12),s(2,"\n        "),S(3,ace,2,2,"option",13),s(4,"\n        "),S(5,mce,7,2,"ng-container",3),Vt(6,"async"),Vt(7,"formlySelectOptions"),s(8,"\n      "),m(),s(9,"\n    ")),2&n){const e=C();_(1),Be("custom-select",e.to.customSelect)("is-invalid",e.showError),v("formControl",e.formControl)("compareWith",e.to.compareWith)("formlyAttributes",e.field),_(2),v("ngIf",e.to.placeholder),_(2),v("ngIf",Tn(6,9,Ia(7,11,e.to.options,e.field)))}}function _ce(n,t){1&n&&(p(0,"span",6),s(1,"*"),m())}function vce(n,t){if(1&n&&(p(0,"label"),s(1),S(2,_ce,2,0,"span",5),s(3,"\n      "),m()),2&n){const e=C();Et("for",e.id),_(1),ee("\n        ",e.to.label,"\n        "),_(1),v("ngIf",e.to.required&&!0!==e.to.hideRequiredMarker)}}function yce(n,t){}function bce(n,t){if(1&n&&(p(0,"div",7),s(1,"\n        "),N(2,"formly-validation-message",8),s(3,"\n      "),m()),2&n){const e=C();io("display","block"),_(2),v("field",e.field)}}function Cce(n,t){if(1&n&&(p(0,"small",9),s(1),m()),2&n){const e=C();_(1),We(e.to.description)}}let pF=(()=>{class n extends lo{constructor(){super(...arguments),this.defaultOptions={templateOptions:{indeterminate:!0,hideLabel:!0,formCheck:"custom"}}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275cmp=ie({type:n,selectors:[["formly-field-checkbox"]],features:[ce],decls:8,vars:20,consts:[[3,"ngClass"],["type","checkbox",3,"indeterminate","formControl","formlyAttributes"],[3,"for","form-check-label","custom-control-label",4,"ngIf"],[3,"for"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"]],template:function(e,i){1&e&&(s(0,"\n    "),p(1,"div",0),s(2,"\n      "),N(3,"input",1),s(4,"\n      "),S(5,Wle,4,7,"label",2),s(6,"\n    "),m(),s(7,"\n  ")),2&e&&(_(1),v("ngClass",uC(13,hF,-1===i.to.formCheck.indexOf("custom"),"inline"===i.to.formCheck,0===i.to.formCheck.indexOf("custom"),"custom"===i.to.formCheck||"custom-inline"===i.to.formCheck,"custom-inline"===i.to.formCheck,"custom-switch"===i.to.formCheck)),_(2),Be("is-invalid",i.showError)("form-check-input",-1===i.to.formCheck.indexOf("custom"))("position-static","nolabel"===i.to.formCheck)("custom-control-input",0===i.to.formCheck.indexOf("custom")),v("indeterminate",i.to.indeterminate&&null===i.formControl.value)("formControl",i.formControl)("formlyAttributes",i.field),_(2),v("ngIf","nolabel"!==i.to.formCheck))},dependencies:[rn,me,Gw,ki,Hs,Ul],encapsulation:2}),n})(),fF=(()=>{class n extends lo{constructor(){super(...arguments),this.defaultOptions={templateOptions:{options:[],formCheck:"custom"}}}onChange(e,i){this.formControl.patchValue("array"===this.to.type?i?[...this.formControl.value||[],e]:[...this.formControl.value||[]].filter(r=>r!==e):Object.assign({},this.formControl.value,{[e]:i})),this.formControl.markAsTouched()}isChecked(e){const i=this.formControl.value;return i&&("array"===this.to.type?-1!==i.indexOf(e.value):i[e.value])}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275cmp=ie({type:n,selectors:[["formly-field-multicheckbox"]],features:[ce],decls:8,vars:6,consts:[[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["type","checkbox",3,"id","value","checked","formlyAttributes","change"],[3,"for"]],template:function(e,i){1&e&&(s(0,"\n    "),p(1,"div"),s(2,"\n      "),S(3,qle,7,22,"div",0),Vt(4,"async"),Vt(5,"formlySelectOptions"),s(6,"\n    "),m(),s(7,"\n  ")),2&e&&(_(3),v("ngForOf",Tn(4,1,Ia(5,3,i.to.options,i.field))))},dependencies:[rn,Ye,Ul,bc,IT],encapsulation:2}),n})(),mF=(()=>{class n extends lo{get type(){return this.to.type||"text"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275cmp=ie({type:n,selectors:[["formly-field-input"]],features:[ce],decls:6,vars:2,consts:[["class","form-control",3,"type","formControl","formlyAttributes","is-invalid",4,"ngIf","ngIfElse"],["numberTmp",""],[1,"form-control",3,"type","formControl","formlyAttributes"],["type","number",1,"form-control",3,"formControl","formlyAttributes"]],template:function(e,i){if(1&e&&(s(0,"\n    "),S(1,Qle,1,5,"input",0),s(2,"\n    "),S(3,Zle,3,4,"ng-template",null,1,ae),s(5,"\n  ")),2&e){const r=re(4);_(1),v("ngIf","number"!==i.type)("ngIfElse",r)}},dependencies:[me,Ml,rS,ki,Hs,Ul],encapsulation:2}),n})(),gF=(()=>{class n extends lo{constructor(){super(...arguments),this.defaultOptions={templateOptions:{options:[],formCheck:"custom"}}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275cmp=ie({type:n,selectors:[["formly-field-radio"]],features:[ce],decls:8,vars:6,consts:[[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["type","radio",3,"id","name","value","formControl","formlyAttributes"],[3,"for"]],template:function(e,i){1&e&&(s(0,"\n    "),p(1,"div"),s(2,"\n      "),S(3,Yle,7,25,"div",0),Vt(4,"async"),Vt(5,"formlySelectOptions"),s(6,"\n    "),m(),s(7,"\n  ")),2&e&&(_(3),v("ngForOf",Tn(4,1,Ia(5,3,i.to.options,i.field))))},dependencies:[rn,Ye,Ml,oS,ki,Hs,Ul,bc,IT],encapsulation:2}),n})(),_F=(()=>{class n extends lo{constructor(){super(...arguments),this.defaultOptions={templateOptions:{cols:1,rows:1}}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275cmp=ie({type:n,selectors:[["formly-field-textarea"]],features:[ce],decls:4,vars:6,consts:[[1,"form-control",3,"formControl","cols","rows","formlyAttributes"]],template:function(e,i){1&e&&(s(0,"\n    "),p(1,"textarea",0),s(2,"    "),m(),s(3,"\n  ")),2&e&&(_(1),Be("is-invalid",i.showError),v("formControl",i.formControl)("cols",i.to.cols)("rows",i.to.rows)("formlyAttributes",i.field))},dependencies:[Ml,ki,Hs,Ul],encapsulation:2}),n})(),vF=(()=>{class n extends lo{constructor(e){super(),this.ngZone=e,this.defaultOptions={templateOptions:{options:[],compareWith:(i,r)=>i===r}}}set selectAccessor(e){if(!e)return;const i=e.writeValue.bind(e);null===e._getOptionId(e.value)&&i(e.value),e.writeValue=r=>{const o=e._idCounter;i(r),null===r&&this.ngZone.onStable.asObservable().pipe(bn(1)).subscribe(()=>{o!==e._idCounter&&null===e._getOptionId(r)&&-1!==e._elementRef.nativeElement.selectedIndex&&i(r)})}}}return n.\u0275fac=function(e){return new(e||n)(w(bt))},n.\u0275cmp=ie({type:n,selectors:[["formly-field-select"]],viewQuery:function(e,i){if(1&e&&dt(Vo,5),2&e){let r;ke(r=Me())&&(i.selectAccessor=r.first)}},features:[ce],decls:6,vars:2,consts:[["class","form-control","multiple","",3,"custom-select","formControl","compareWith","is-invalid","formlyAttributes",4,"ngIf","ngIfElse"],["singleSelect",""],["multiple","",1,"form-control",3,"formControl","compareWith","formlyAttributes"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["grouplist",""],[4,"ngFor","ngForOf"],[3,"ngValue","disabled"],[3,"ngValue","disabled",4,"ngIf","ngIfElse"],["optgroup",""],[3,"label"],[3,"ngValue","disabled",4,"ngFor","ngForOf"],[1,"form-control",3,"formControl","compareWith","formlyAttributes"],[3,"ngValue",4,"ngIf"],[3,"ngValue"]],template:function(e,i){if(1&e&&(s(0,"\n    "),S(1,sce,6,13,"select",0),s(2,"\n\n    "),S(3,gce,10,14,"ng-template",null,1,ae),s(5,"\n  ")),2&e){const r=re(4);_(1),v("ngIf",i.to.multiple)("ngIfElse",r)}},dependencies:[Ye,me,js,zs,Vo,jy,ki,Hs,Ul,bc,IT],encapsulation:2}),n})(),yF=(()=>{class n extends CT{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ut(n)))(i||n)}}(),n.\u0275cmp=ie({type:n,selectors:[["formly-wrapper-form-field"]],features:[ce],decls:13,vars:5,consts:[[1,"form-group"],[4,"ngIf"],["fieldComponent",""],["class","invalid-feedback",3,"display",4,"ngIf"],["class","form-text text-muted",4,"ngIf"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],[1,"invalid-feedback"],[3,"field"],[1,"form-text","text-muted"]],template:function(e,i){1&e&&(s(0,"\n    "),p(1,"div",0),s(2,"\n      "),S(3,vce,4,3,"label",1),s(4,"\n\n      "),S(5,yce,0,0,"ng-template",null,2,ae),s(7,"\n\n      "),S(8,bce,4,3,"div",3),s(9,"\n\n      "),S(10,Cce,2,1,"small",4),s(11,"\n    "),m(),s(12,"\n  ")),2&e&&(_(1),Be("has-error",i.showError),_(2),v("ngIf",i.to.label&&!0!==i.to.hideLabel),_(5),v("ngIf",i.showError),_(2),v("ngIf",i.to.description))},dependencies:[me,TX],encapsulation:2}),n})();const wce={types:[{name:"input",component:mF,wrappers:["form-field"]},{name:"checkbox",component:pF,wrappers:["form-field"]},{name:"radio",component:gF,wrappers:["form-field"]},{name:"select",component:vF,wrappers:["form-field"]},{name:"textarea",component:_F,wrappers:["form-field"]},{name:"multicheckbox",component:fF,wrappers:["form-field"]}],wrappers:[{name:"form-field",component:yF}]};let Sce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[yu,cS,Rle,wT.forChild(wce),zle]}),n})();class Kp{constructor(){this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}}Kp.\u0275fac=function(t){return new(t||Kp)},Kp.\u0275dir=de({type:Kp,selectors:[["input","type","file"]],hostBindings:function(t,e){1&t&&A("change",function(r){return e.onChange(r.target.files)})("blur",function(){return e.onTouched()})},features:[Wt([{provide:_r,useExisting:Kp,multi:!0}])]});class Yp extends lo{}Yp.\u0275fac=function(){let n;return function(e){return(n||(n=Ut(Yp)))(e||Yp)}}(),Yp.\u0275cmp=ie({type:Yp,selectors:[["formly-field-file"]],features:[ce],decls:4,vars:2,consts:[[1,"form-group"],["type","file",3,"formControl","formlyAttributes"]],template:function(t,e){1&t&&(p(0,"div",0),s(1," \n    "),N(2,"input",1),s(3,"\n"),m()),2&t&&(_(2),v("formControl",e.formControl)("formlyAttributes",e.field))},dependencies:[Ml,ki,Hs,Ul,Kp],encapsulation:2});class Jp extends lo{constructor(){super(...arguments),this.constants=H}}Jp.\u0275fac=function(){let n;return function(e){return(n||(n=Ut(Jp)))(e||Jp)}}(),Jp.\u0275cmp=ie({type:Jp,selectors:[["formly-field-tinymce"]],features:[ce],decls:7,vars:5,consts:[[1,"form-group","mb-4"],[3,"for"],[3,"init","id","formControl"]],template:function(t,e){1&t&&(p(0,"div",0),s(1,"\n    "),p(2,"label",1),s(3),m(),s(4,"\n    "),N(5,"editor",2),s(6,"\n"),m()),2&t&&(_(2),v("for",e.to.name),_(1),We(e.to.label),_(2),v("init",e.constants.tinyMCESettings)("id",e.to.name)("formControl",e.formControl))},dependencies:[LS,ki,Hs]});class Xp{constructor(t,e,i){this.refreshTokenService=t,this.tokenService=e,this.routingService=i,this.apiNonTokenURLEndings=["/token","/token/refresh","/mail/reset"]}intercept(t,e){if(this.isApiUrlRequiringJWTToken(t.url)){if(!this.tokenService.hasValidJWTToken())return this.handleByRoutingToLogin(t,e);const i=_e.getAccessToken();return this.refreshTokenService.tokenNeedsRefresh(i)?this.handleByRefreshingAccessToken(t,e):this.refreshTokenService.hasToWaitForRefresh(i)?this.handleByWaitingForRefresh(t,e):(t=this.addTokenToRequest(i.token,t),e.handle(t))}return e.handle(t)}handleByRefreshingAccessToken(t,e){return this.refreshTokenService.refreshUserData().pipe(zn(i=>(t=this.addTokenToRequest(i.accessToken.token,t),e.handle(t))),jo(i=>401===i.status?(console.log("Error while refreshing access token"),console.log(i),this.routingService.routeToPath("login-state",{state:"token-expired"}),$o):(this.routingService.routeToErrorPage(i),$o)))}handleByWaitingForRefresh(t,e){return this.refreshTokenService.waitForAccessTokenRefresh().pipe(zn(i=>(t=this.addTokenToRequest(i,t),e.handle(t))),jo(i=>401===i.status?(console.log("Error while waiting for access token refresh"),console.log(i),this.routingService.routeToPath("login-state",{state:"???"}),$o):(console.log("Error during token refresh. Uncertain what error, but status "+i.status),console.log(i),this.routingService.routeToErrorPage(i.status),$o)))}handleByRoutingToLogin(t,e){return this.routingService.routeToPath("login-state",{state:"no-token"}),$o}isApiUrlRequiringJWTToken(t){const e=t.startsWith(H.wikiApiUrl);let i=!0;for(let r of this.apiNonTokenURLEndings)if(t.endsWith(r)){i=!1;break}return e&&i}addTokenToRequest(t,e){const i=(new Wi).set("Authorization",`Bearer ${t}`);return e.clone({headers:i})}}Xp.\u0275fac=function(t){return new(t||Xp)(R(Lc),R(_e),R(he))},Xp.\u0275prov=W({token:Xp,factory:Xp.\u0275fac,providedIn:"root"});const Tce=[{provide:gN,useClass:Xp,multi:!0}];function Dce(n,t){1&n&&(U(0),s(1,"*"),V())}function Ece(n,t){if(1&n&&(s(0,"\n    "),p(1,"div",9),s(2),m(),s(3,"\n")),2&n){const e=t.$implicit;_(2),ee("\n        ",e.day,"\n    ")}}const kce=function(n){return{"d-none":n}};class _d extends Rh{constructor(){super(...arguments),this.DELIMITER="-"}fromModel(t){if(t){let e=t.split(this.DELIMITER);return{day:parseInt(e[2],10),month:parseInt(e[1],10),year:parseInt(e[0],10)}}return null}toModel(t){if(null==t)return"";const e=`${t.day}`.padStart(2,"0"),i=`${t.month}`.padStart(2,"0");return`${`${t.year}`.padStart(4,"0")}${this.DELIMITER}${i}${this.DELIMITER}${e}`}}_d.\u0275fac=function(){let n;return function(e){return(n||(n=Ut(_d)))(e||_d)}}(),_d.\u0275prov=W({token:_d,factory:_d.\u0275fac});class vd extends ib{constructor(){super(...arguments),this.DELIMITER="/"}parse(t){if(null==t)return null;let e=t.split(this.DELIMITER);return{day:parseInt(e[2],10),month:parseInt(e[1],10),year:parseInt(e[0],10)}}format(t){if(null==t)return"";const e=`${t.day}`.padStart(2,"0"),i=`${t.month}`.padStart(2,"0");return`${`${t.year}`.padStart(4,"0")}${this.DELIMITER}${i}${this.DELIMITER}${e}`}}vd.\u0275fac=function(){let n;return function(e){return(n||(n=Ut(vd)))(e||vd)}}(),vd.\u0275prov=W({token:vd,factory:vd.\u0275fac});class h_ extends lo{constructor(t,e){super(),this.ngbCalendar=t,this.dateAdapter=e}get today(){return this.dateAdapter.toModel(this.ngbCalendar.getToday())}}function Mce(n,t){1&n&&(U(0),s(1,"\n                Create Session \n            "),V())}function xce(n,t){if(1&n&&(U(0),s(1),V()),2&n){const e=C(2);_(1),ee("\n                Update ",e.model.name," \n            ")}}function Ice(n,t){if(1&n){const e=Z();p(0,"div",10),s(1,"        \n            "),s(2,"\n            "),p(3,"form",11),A("submit",function(){k(e);const r=C().$implicit;return x(C().onSubmit(r))}),s(4,"\n                "),N(5,"formly-form",12),s(6,"\n                "),p(7,"div",13),A("click",function(){return k(e),x(C().$implicit.close())}),s(8,"Cancel"),m(),s(9,"\n                "),p(10,"button",14),s(11,"Submit"),m(),s(12,"\n            "),m(),s(13,"\n        "),m()}if(2&n){const e=C(2);_(3),v("formGroup",e.form),_(2),v("form",e.form)("fields",e.fields)("model",e.model)}}function Pce(n,t){if(1&n){const e=Z();s(0,"\n    "),s(1,"\n    "),p(2,"div",4),s(3,"\n        "),p(4,"h4",5),s(5,"\n            "),S(6,Mce,2,0,"ng-container",2),s(7,"\n            "),S(8,xce,2,1,"ng-container",2),s(9,"\n        "),m(),s(10,"\n        "),p(11,"div",6),A("click",function(){return x(k(e).$implicit.dismiss())}),s(12,"\n            "),N(13,"span",7),s(14,"\n        "),m(),s(15,"\n    "),m(),s(16,"\n\n    "),s(17,"\n    "),p(18,"div",8),s(19,"\n        "),S(20,Ice,14,4,"div",9),s(21,"\n    "),m(),s(22,"\n\n")}if(2&n){const e=C(),i=re(14);_(6),v("ngIf",e.formState===e.constants.createState),_(2),v("ngIf",e.formState===e.constants.updateState),_(12),v("ngIf",e.model)("ngIfElse",i)}}function Oce(n,t){if(1&n){const e=Z();U(0),s(1,"\n        "),p(2,"div",15),A("click",function(){k(e);const r=C(),o=re(1);return x(r.open(o))}),m(),s(3,"   \n    "),V()}if(2&n){const e=C();_(2),ji("btn btn-outline-info fa "+e.icon)}}h_.\u0275fac=function(t){return new(t||h_)(w(qm),w(Rh))},h_.\u0275cmp=ie({type:h_,selectors:[["app-formly-datepicker"]],features:[Wt([{provide:Rh,useClass:_d},{provide:ib,useClass:vd}]),ce],decls:27,vars:7,consts:[[1,"form-group",3,"ngClass"],["for","datepicker"],[4,"ngIf"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","datepicker","ngbDatepicker","","type","text",1,"form-control",3,"formControl","formlyAttributes"],["datepickerInput","ngbDatepicker"],[1,"input-group-append"],[1,"btn","btn-outline-light","fa","fa-calendar",3,"click"],["customDay",""],[1,"datepicker-day","btn-light"]],template:function(t,e){if(1&t){const i=Z();p(0,"div",0),s(1,"\n    "),s(2," \n    "),s(3,"\n    "),p(4,"label",1),s(5,"\n        "),p(6,"strong"),s(7),S(8,Dce,2,0,"ng-container",2),s(9,"\n        "),m(),s(10,"\n    "),m(),s(11,"\n\n    "),s(12,"\n    "),p(13,"div",3),s(14,"\n        "),N(15,"input",4,5),s(17,"\n        "),p(18,"div",6),s(19,"\n            "),p(20,"div",7),A("click",function(){return k(i),x(re(16).toggle())}),m(),s(21,"\n        "),m(),s(22,"\n    "),m(),s(23,"\n"),m(),s(24,"\n\n\n"),S(25,Ece,4,1,"ng-template",null,8,ae)}2&t&&(v("ngClass",ot(5,kce,e.to.hidden)),_(7),ee("\n            ",e.to.label,"\n            "),_(1),v("ngIf",e.to.required),_(7),v("formControl",e.formControl)("formlyAttributes",e.field))},dependencies:[rn,me,Ml,ki,gA,Hs,Ul],styles:[".input-group[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.btn-outline-light[_ngcontent-%COMP%]{border-color:#fff;color:#fff}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#fff;color:gray}div.datepicker-day[_ngcontent-%COMP%]{background-color:var(--wiki-background-2);color:#fff;text-align:center;transition:background-color .2s ease-in-out;transition:color .2s ease-in-out}.datepicker-day[_ngcontent-%COMP%]:hover{color:#000;background-color:gray}"]});const Ace=function(n){return{"d-none":n}};function Nce(n,t){if(1&n){const e=Z();U(0),s(1,"\n        "),p(2,"div",16),A("click",function(){k(e);const r=C(),o=re(1);return x(r.open(o))}),m(),s(3,"\n    "),V()}if(2&n){const e=C();_(2),ji("btn btn-outline-info fa "+e.icon),v("ngClass",ot(3,Ace,!e.model))}}function Rce(n,t){1&n&&N(0,"app-spinner")}class ef{constructor(t,e,i,r){this.modalService=t,this.formlyService=e,this.sessionService=i,this.globalUrlParams=r,this.icon="fa-pencil",this.updateSession=new X,this.createSession=new X,this.form=new Gi({}),this.fields=[this.formlyService.genericCheckbox({key:"is_main_session",defaultValue:!0,label:"Main Session?"}),this.formlyService.genericInput({key:"session_number",label:"Session Number",required:!0}),this.formlyService.genericDatepicker({key:"session_date",label:"Day of the Session",required:!0}),this.formlyService.genericInput({key:"start_day",label:"Start Day",required:!1}),this.formlyService.genericInput({key:"end_day",label:"End Day",required:!1})],this.constants=H}ngOnInit(){var t=this;return _t(function*(){t.formState=t.session_pk_subject?H.updateState:H.createState,t.campaign=yield t.globalUrlParams.getCurrentCampaign(),t.onAfterCampaignLoad(t.campaign)})()}onAfterCampaignLoad(t){this.formState===H.updateState?this.fetchUserModel():this.formState===H.createState&&this.createModel(t)}fetchUserModel(){this.sessionpk_subscription=this.session_pk_subject.pipe(Ot(t=>!!t)).subscribe(t=>{this.sessionService.read(t).pipe(le()).subscribe(e=>this.model=e)})}createModel(t){var e=this;return _t(function*(){null==e.sessionList&&(e.sessionList=yield e.sessionService.campaignList(e.campaign.name).toPromise());const i=e.sessionList[0];e.model=new Bu,e.model.session_date=e.getNextSessionDate(i),e.model.is_main_session=!0,e.model.session_number=i.session_number+1,e.model.campaign=t.pk})()}getNextSessionDate(t){const e=new Date(t.session_date),i=this.addDaysToDate(7,e);return this.dateToYYYMMDDString(i)}addDaysToDate(t,e){const i=864e5*t;return new Date(e.setTime(e.getTime()+i))}dateToYYYMMDDString(t){return t.toISOString().slice(0,10)}onSubmit(t){(this.formState===H.updateState?this.sessionService.update(this.model.pk,this.model):this.sessionService.create(this.model)).pipe(le()).subscribe(r=>{(this.formState===H.updateState?this.updateSession:this.createSession).emit(r),t.close()})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{},e=>{})}ngOnDestroy(){this.sessionpk_subscription&&this.sessionpk_subscription.unsubscribe(),this.parameterSubscription&&this.parameterSubscription.unsubscribe()}}function Fce(n,t){if(1&n){const e=Z();s(0,"\n    "),s(1,"\n    "),p(2,"div",3),s(3,"\n        "),p(4,"h4",4),s(5," Delete Session "),m(),s(6,"\n        "),p(7,"div",5),A("click",function(){return x(k(e).$implicit.dismiss())}),s(8,"\n            "),N(9,"span",6),s(10,"\n        "),m(),s(11,"\n    "),m(),s(12,"\n\n    "),s(13,"\n    "),p(14,"div",7),s(15,"\n        "),p(16,"div",8),s(17,"        \n            "),p(18,"div",9),s(19,"Delete This Session?"),m(),s(20," \n            "),p(21,"div",10),A("click",function(){return x(k(e).$implicit.close())}),s(22,"No"),m(),s(23,"\n            "),p(24,"div",11),A("click",function(){const o=k(e).$implicit;return x(C().onSubmit(o))}),s(25,"Yes"),m(),s(26,"\n        "),m(),s(27,"\n    "),m(),s(28,"\n\n")}}ef.\u0275fac=function(t){return new(t||ef)(w(AS),w(Yt),w(vs),w(Ve))},ef.\u0275cmp=ie({type:ef,selectors:[["app-session-update-modal"]],inputs:{session_pk_subject:"session_pk_subject",icon:"icon"},outputs:{updateSession:"updateSession",createSession:"createSession"},decls:16,vars:2,consts:[["content",""],[1,"form-group","mx-2"],[4,"ngIf"],["loading",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"fa","fa-times","pointer"],[1,"modal-body"],["class","mb-1",4,"ngIf","ngIfElse"],[1,"mb-1"],[3,"formGroup","submit"],[3,"form","fields","model"],[1,"btn","btn-secondary","mr-3",3,"click"],["type","submit",1,"btn","btn-primary"],["title","Create new Session",3,"click"],["title","Edit selected Session",3,"ngClass","click"]],template:function(t,e){1&t&&(S(0,Pce,23,4,"ng-template",null,0,ae),s(2,"\n\n"),p(3,"div",1),s(4,"\n    "),s(5,"\n    "),S(6,Oce,4,2,"ng-container",2),s(7,"\n     \n    "),s(8,"\n    "),S(9,Nce,4,5,"ng-container",2),s(10,"\n\n"),m(),s(11,"\n\n"),s(12,"\n"),S(13,Rce,1,0,"ng-template",null,3,ae),s(15,"\n")),2&t&&(_(6),v("ngIf",e.formState===e.constants.createState),_(3),v("ngIf",e.formState===e.constants.updateState))},dependencies:[rn,me,Vr,Ur,Il,ep,Cs]});const Lce=function(n){return{"d-none":n}};class p_{constructor(t,e){this.modalService=t,this.sessionService=e,this.icon="fa-trash",this.deleteSession=new X}ngOnInit(){this.session_pk_subject_subscription=this.session_pk_subject.subscribe(t=>this.sessionPk=t)}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{},e=>{})}onSubmit(t){this.sessionService.delete(this.sessionPk).pipe(le()).subscribe(e=>{this.deleteSession.emit(),t.close()})}ngOnDestroy(){this.session_pk_subject_subscription&&this.session_pk_subject_subscription.unsubscribe()}}function $ce(n,t){1&n&&(U(0),s(1,"*"),V())}function Uce(n,t){if(1&n&&(U(0),s(1,"\n    "),p(2,"label"),s(3,"\n        "),p(4,"strong"),s(5),S(6,$ce,2,0,"ng-container",0),s(7,"\n        "),m(),s(8,"\n    "),m(),s(9,"\n"),V()),2&n){const e=C();_(5),ee("\n            ",e.to.label,"\n            "),_(1),v("ngIf",e.to.required)}}function Vce(n,t){1&n&&(p(0,"div",7),s(1,"\n        "),oi(2,null,8),s(4,"\n    "),m())}p_.\u0275fac=function(t){return new(t||p_)(w(AS),w(vs))},p_.\u0275cmp=ie({type:p_,selectors:[["app-session-delete-modal"]],inputs:{session_pk_subject:"session_pk_subject",icon:"icon"},outputs:{deleteSession:"deleteSession"},decls:8,vars:6,consts:[["content",""],[1,"form-group","mx-2"],["title","Delete selected Session",3,"ngClass","click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"fa","fa-times","pointer"],[1,"modal-body"],[1,"mb-1"],[1,"mb-2"],[1,"btn","btn-secondary","mr-3",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){if(1&t){const i=Z();S(0,Fce,29,0,"ng-template",null,0,ae),s(2,"\n\n"),p(3,"div",1),s(4,"\n    "),p(5,"div",2),A("click",function(){k(i);const o=re(1);return x(e.open(o))}),m(),s(6,"\n"),m(),s(7,"\n")}2&t&&(_(5),Ov("btn btn-outline-danger fa ",e.icon,""),v("ngClass",ot(4,Lce,!e.sessionPk)))},dependencies:[rn]});class f_ extends CT{constructor(t){super(),this.changeDetector=t,this.showField=!0}reinitializeSessionField(){this.showField=!1,this.changeDetector.detectChanges(),this.showField=!0,this.changeDetector.detectChanges()}}f_.\u0275fac=function(t){return new(t||f_)(w(tr))},f_.\u0275cmp=ie({type:f_,selectors:[["app-session-update-wrapper"]],features:[ce],decls:20,vars:6,consts:[[4,"ngIf"],[1,"d-flex"],["class","flex-1",4,"ngIf"],[1,"ml-2","align-self-end","d-flex"],[3,"session_pk_subject","icon","updateSession","createSession"],[3,"session_pk_subject","createSession","updateSession"],[3,"session_pk_subject","deleteSession"],[1,"flex-1"],["fieldComponent",""]],template:function(t,e){1&t&&(s(0," \n"),S(1,Uce,10,2,"ng-container",0),s(2,"\n\n\n"),s(3,"\n"),p(4,"div",1),s(5,"\n    "),S(6,Vce,5,0,"div",2),s(7,"\n\n    "),p(8,"div",3),s(9,"\n        "),s(10,"\n        "),p(11,"app-session-update-modal",4),A("updateSession",function(){return e.reinitializeSessionField()})("createSession",function(){return e.reinitializeSessionField()}),m(),s(12,"\n        \n        "),s(13,"\n        "),p(14,"app-session-update-modal",5),A("createSession",function(){return e.reinitializeSessionField()})("updateSession",function(){return e.reinitializeSessionField()}),m(),s(15,"\n\n        "),s(16,"\n        "),p(17,"app-session-delete-modal",6),A("deleteSession",function(){return e.reinitializeSessionField()}),m(),s(18,"\n    "),m(),s(19,"\n"),m()),2&t&&(_(1),v("ngIf",null==e.to.additionalProperties?null:e.to.additionalProperties.showWrapperLabel),_(5),v("ngIf",e.showField),_(5),v("session_pk_subject",null)("icon","fa-plus"),_(3),v("session_pk_subject",e.formControl.valueChanges),_(3),v("session_pk_subject",e.formControl.valueChanges))},dependencies:[me,ef,p_]});function Bce(n,t){1&n&&(U(0),s(1,"*"),V())}function Hce(n,t){if(1&n&&(U(0),s(1,"\n            "),p(2,"option",8),s(3),m(),s(4,"\n        "),V()),2&n){const e=t.$implicit,i=t.index,r=C();_(2),v("ngValue",e[r.to.valueProp])("disabled",r.isOptionDisabledArray[i]),_(1),ee("\n                ",e[r.to.labelProp],"\n            ")}}function jce(n,t){if(1&n&&(U(0),s(1,"\n        "),p(2,"div",9),s(3),m(),s(4,"\n    "),V()),2&n){const e=C();_(3),ee("\n            ",e.to.warningMessage,"\n        ")}}function zce(n,t){if(1&n&&(s(0,"\n    "),p(1,"div",10),s(2),m(),s(3,"\n")),2&n){const e=C();_(2),ee("\n        ",e.to.tooltipMessage,"\n    ")}}class m_ extends lo{constructor(t){super(),this.warnings=t,this.isOptionDisabledArray=[]}ngOnInit(){const t=this.to.options;if(!(t instanceof Mt))throw"InvalidSelectOptionsException. You tried to create a FormlySelectDisableComponent - field, but provided an option that wasn't an Observable!";t.pipe(le()).subscribe(i=>{this.allSelectOptions=i,this.determineDisabledStateOfOptions()},i=>this.warnings.showWarning(i))}ngOnChanges(){this.determineDisabledStateOfOptions()}determineDisabledStateOfOptions(){if(null==this.allSelectOptions||null==this.to.disabledExpression)return;const r=this;this.isOptionDisabledArray=this.allSelectOptions.map(o=>r.isDisabledOption(o,r))}isDisabledOption(t,e){if(null==e.allSelectOptions)return;const r=e.to.disabledExpression;return null!=r?r(t,e.to,e.model,e.formControl):void 0}hasInvalidOptionSelected(){if(null==this.allSelectOptions)return!1;const e=this.model.session,i=this.allSelectOptions.find(c=>c.pk===e);return null!=i&&this.isDisabledOption(i,this)}}function Wce(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)}m_.\u0275fac=function(t){return new(t||m_)(w(ze))},m_.\u0275cmp=ie({type:m_,selectors:[["app-formly-select-disable"]],features:[ce,Ft],decls:24,vars:12,consts:[[1,"form-group"],[3,"for"],["placement","top",3,"ngbTooltip","tooltipClass"],[1,"fa","fa-info-circle","mx-1"],[4,"ngIf"],[1,"form-control",3,"id","required","formControl","formlyAttributes"],[4,"ngFor","ngForOf"],["tooltipContent",""],[3,"ngValue","disabled"],[1,"mywarningmessage"],[1,"alert","alert-info","m-0","p-0"]],template:function(t,e){if(1&t&&(p(0,"div",0),s(1,"\n\n    "),p(2,"label",1),s(3,"\n        "),p(4,"strong",2),s(5),N(6,"span",3),s(7,"\n            "),S(8,Bce,2,0,"ng-container",4),s(9,"\n        "),m(),s(10,"\n\n    "),m(),s(11,"\n    \n    "),p(12,"select",5),s(13,"\n        "),S(14,Hce,5,3,"ng-container",6),s(15,"\n    "),m(),s(16,"\n\n    "),S(17,jce,5,1,"ng-container",4),s(18,"\n"),m(),s(19,"\n\n"),S(20,zce,4,1,"ng-template",null,7,ae),s(22,"\n    \n"),s(23)),2&t){const i=re(21);_(2),fu("for","formly_disable_select_",e.to.label,""),_(2),v("ngbTooltip",i)("tooltipClass","my-tooltip"),_(1),ee(" \n            ",e.to.label," \n            "),_(3),v("ngIf",e.to.required),_(4),v("id","formly_disable_select_"+e.to.label)("required",e.to.required)("formControl",e.formControl)("formlyAttributes",e.field),_(2),v("ngForOf",e.allSelectOptions),_(3),v("ngIf",e.hasInvalidOptionSelected()),_(6),ee("\n",e.ngOnChanges(),"\n")}},dependencies:[Ye,me,js,zs,Vo,ki,zy,Ym,Hs,Ul],styles:[".tooltip-inner{width:400px;background-color:#d6eaf8;border-color:#c6e2f5}.mywarningmessage[_ngcontent-%COMP%]{color:var(--lightest-red);font-size:80%}"]});let Qce=(()=>{let n=class{constructor(e,i){const r=i.useRef("router");e.events.subscribe(o=>{const a=this.getCurrentNavigationState(e);a&&a.ignoreLoadingBar||(o instanceof Sb&&r.start(),(o instanceof YS||o instanceof Ol||o instanceof ag)&&r.complete())})}getCurrentNavigationState(e){const i=e.getCurrentNavigation&&e.getCurrentNavigation();return i&&i.extras?i.extras.state:{}}};return n.\u0275fac=function(e){return new(e||n)(R(Gt),R(Kb))},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[Rb,uF,Rb,uF]}),n=function Gce(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var c=n.length-1;c>=0;c--)(a=n[c])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([Wce("design:paramtypes",[Gt,Kb])],n),n})();class tf{}tf.\u0275fac=function(t){return new(t||tf)},tf.\u0275mod=Ge({type:tf,bootstrap:[gd]}),tf.\u0275inj=Le({providers:[{provide:cN,useValue:"tinymce/tinymce.min.js"},Tce,Ne,Wa,jl,{provide:uy,useClass:AP}],imports:[xP,Zp,CZ,xO,dZ,HZ,cS,wT.forRoot({types:[{name:"file",component:Yp,wrappers:["form-field"]},{name:"tinymce",component:Jp},{name:"datepicker",component:h_},{name:"session-create-edit",component:ef},{name:"formly-select-disable",component:m_}],wrappers:[{name:"session-update-wrapper",component:f_}],validationMessages:[{name:"time",message:"Time must have 'hh:mm:ss' pattern"},{name:"required",message:"YOOOOOOOOO This field is required ma friend!"},{name:"date",message:"This date does not follow the pattern: 'YYYY-MM-DD'. Sorry to be such a Nazi about it. The computer is forcing me."},{name:"requiredIcon",message:"This field requires a fontawesome icon as input. Here is a list of them: https://fontawesome.com/v4.7.0/icons/"},{name:"faPrefix",message:"Icons are stored without the 'fa-' from font-awesome prefix"},{name:"notInteger",message:"Your input is not an integer. This field requires an integer number. No amount of revolution can overcome this."},{name:"hasSpecialCharacters",message:'Your input includes one of the following invalid special characters: [ ] ( ) ? | \\ " % ~ # < > :. If you need to rebel, please dont against this.'},{name:"fieldMatch",message:"Password Not Matching"},tF],validators:[{name:"time",validation:function cre(n){return/\d\d.[0-5]\d.[0-5]\d/.test(n.value)?null:{time:!0}}},dre,{name:"date",validation:function pre(n){return/[1-2]\d{3}-(0\d|1[0-2])-[0-3]\d/.test(n.value)?null:{date:!0}}},hre,{name:"faPrefix",validation:function mre(n){return/fa-/.test(n.value)?{faPrefix:!0}:null}},vre,{name:"hasSpecialCharacters",validation:function yre(n){if("string"==typeof n.value){const e=["[","]","(",")","|","\\",'"',"%","~","#","<",">","?","/",":"];for(const i of e)if(n.value.includes(i))return{hasSpecialCharacters:!0}}return null}},{name:"fieldMatch",validation:function Cre(n){const{password:t,passwordConfirm:e}=n.value;return e&&t&&e!==t?{passwordMatch:{message:"The passwords aren't matching"}}:null}},Tre]}),Sce,yu,ale.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerImmediately"}),B6,j7,Qce]}),ue(386);let nf,SF,rf,DF=!1,Jb=!1,AT=!1,qo=!1,NT=null,Xb=!1;const ea=typeof window<"u"?window:{},An=ea.document||{head:{}},kt={$flags$:0,$resourcesUrl$:"",jmp:n=>n(),raf:n=>requestAnimationFrame(n),ael:(n,t,e,i)=>n.addEventListener(t,e,i),rel:(n,t,e,i)=>n.removeEventListener(t,e,i),ce:(n,t)=>new CustomEvent(n,t)},Kce=(()=>{let n=!1;try{An.addEventListener("e",null,Object.defineProperty({},"passive",{get(){n=!0}}))}catch{}return n})(),Jce=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch{}return!1})(),FT=(n,t,e,i)=>{e&&e.map(([r,o,a])=>{const c=eue(n,r),u=Xce(t,a),h=tue(r);kt.ael(c,o,u,h),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>kt.rel(c,o,u,h))})},Xce=(n,t)=>e=>{try{n.$hostElement$[t](e)}catch(i){Wl(i)}},eue=(n,t)=>4&t?An:8&t?ea:16&t?An.body:n,tue=n=>Kce?{passive:0!=(1&n),capture:0!=(2&n)}:0!=(2&n),IF="http://www.w3.org/1999/xlink",PF=new WeakMap,UT=(n,t,e,i)=>{let r=VT(t,e),o=y_.get(r);if(n=11===n.nodeType?n:An,o)if("string"==typeof o){let c,a=PF.get(n=n.head||n);a||PF.set(n,a=new Set),a.has(r)||(c=An.createElement("style"),c.innerHTML=o,n.insertBefore(c,n.querySelector("link")),a&&a.add(r))}else!n.adoptedStyleSheets.includes(o)&&(n.adoptedStyleSheets=[...n.adoptedStyleSheets,o]);return r},VT=(n,t)=>"sc-"+(t&&32&n.$flags$?n.$tagName$+"-"+t:n.$tagName$),NF={},BT=n=>"object"==(n=typeof n)||"function"===n,q=(n,t,...e)=>{let i=null,r=null,o=null,a=!1,c=!1,u=[];const h=y=>{for(let T=0;T<y.length;T++)i=y[T],Array.isArray(i)?h(i):null!=i&&"boolean"!=typeof i&&((a="function"!=typeof n&&!BT(i))&&(i=String(i)),a&&c?u[u.length-1].$text$+=i:u.push(a?sf(null,i):i),c=a)};if(h(e),t&&(t.key&&(r=t.key),t.name&&(o=t.name),true)){const y=t.className||t.class;y&&(t.class="object"!=typeof y?y:Object.keys(y).filter(T=>y[T]).join(" "))}if("function"==typeof n)return n(null===t?{}:t,u,uue);const f=sf(n,null);return f.$attrs$=t,u.length>0&&(f.$children$=u),f.$key$=r,f.$name$=o,f},sf=(n,t)=>{const e={$flags$:0,$tag$:n,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return e},af={},HT=n=>n&&n.$tag$===af,uue={forEach:(n,t)=>n.map(RF).forEach(t),map:(n,t)=>n.map(RF).map(t).map(due)},RF=n=>({vattrs:n.$attrs$,vchildren:n.$children$,vkey:n.$key$,vname:n.$name$,vtag:n.$tag$,vtext:n.$text$}),due=n=>{if("function"==typeof n.vtag){const e=Object.assign({},n.vattrs);return n.vkey&&(e.key=n.vkey),n.vname&&(e.name=n.vname),q(n.vtag,e,...n.vchildren||[])}const t=sf(n.vtag,n.vtext);return t.$attrs$=n.vattrs,t.$children$=n.vchildren,t.$key$=n.vkey,t.$name$=n.vname,t},FF=(n,t,e,i,r,o)=>{if(e!==i){let a=aL(n,t),c=t.toLowerCase();if("class"===t){const u=n.classList,h=LF(e),f=LF(i);u.remove(...h.filter(y=>y&&!f.includes(y))),u.add(...f.filter(y=>y&&!h.includes(y)))}else if("style"===t){for(const u in e)(!i||null==i[u])&&(u.includes("-")?n.style.removeProperty(u):n.style[u]="");for(const u in i)(!e||i[u]!==e[u])&&(u.includes("-")?n.style.setProperty(u,i[u]):n.style[u]=i[u])}else if("key"!==t)if("ref"===t)i&&i(n);else if(n.__lookupSetter__(t)||"o"!==t[0]||"n"!==t[1]){{const u=BT(i);if((a||u&&null!==i)&&!r)try{if(n.tagName.includes("-"))n[t]=i;else{let f=i??"";"list"===t?a=!1:(null==e||n[t]!=f)&&(n[t]=f)}}catch{}let h=!1;c!==(c=c.replace(/^xlink\:?/,""))&&(t=c,h=!0),null==i||!1===i?(!1!==i||""===n.getAttribute(t))&&(h?n.removeAttributeNS(IF,t):n.removeAttribute(t)):(!a||4&o||r)&&!u&&(i=!0===i?"":i,h?n.setAttributeNS(IF,t,i):n.setAttribute(t,i))}}else t="-"===t[2]?t.slice(3):aL(ea,c)?c.slice(2):c[2]+t.slice(3),e&&kt.rel(n,t,e,!1),i&&kt.ael(n,t,i,!1)}},pue=/\s/,LF=n=>n?n.split(pue):[],$F=(n,t,e,i)=>{const r=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,o=n&&n.$attrs$||NF,a=t.$attrs$||NF;for(i in o)i in a||FF(r,i,o[i],void 0,e,t.$flags$);for(i in a)FF(r,i,o[i],a[i],e,t.$flags$)},n1=(n,t,e,i)=>{let a,c,u,r=t.$children$[e],o=0;if(!DF&&(AT=!0,"slot"===r.$tag$&&(nf&&i.classList.add(nf+"-s"),r.$flags$|=r.$children$?2:1)),null!==r.$text$)a=r.$elm$=An.createTextNode(r.$text$);else if(1&r.$flags$)a=r.$elm$=An.createTextNode("");else{if(!qo&&(qo="svg"===r.$tag$),a=r.$elm$=An.createElementNS(qo?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&r.$flags$?"slot-fb":r.$tag$),qo&&"foreignObject"===r.$tag$&&(qo=!1),$F(null,r,qo),(n=>null!=n)(nf)&&a["s-si"]!==nf&&a.classList.add(a["s-si"]=nf),r.$children$)for(o=0;o<r.$children$.length;++o)c=n1(n,r,o,a),c&&a.appendChild(c);"svg"===r.$tag$?qo=!1:"foreignObject"===a.tagName&&(qo=!0)}return a["s-hn"]=rf,3&r.$flags$&&(a["s-sr"]=!0,a["s-cr"]=SF,a["s-sn"]=r.$name$||"",u=n&&n.$children$&&n.$children$[e],u&&u.$tag$===r.$tag$&&n.$elm$&&__(n.$elm$,!1)),a},__=(n,t)=>{kt.$flags$|=1;const e=n.childNodes;for(let i=e.length-1;i>=0;i--){const r=e[i];r["s-hn"]!==rf&&r["s-ol"]&&(BF(r).insertBefore(r,jT(r)),r["s-ol"].remove(),r["s-ol"]=void 0,AT=!0),t&&__(r,t)}kt.$flags$&=-2},UF=(n,t,e,i,r,o)=>{let c,a=n["s-cr"]&&n["s-cr"].parentNode||n;for(a.shadowRoot&&a.tagName===rf&&(a=a.shadowRoot);r<=o;++r)i[r]&&(c=n1(null,e,r,n),c&&(i[r].$elm$=c,a.insertBefore(c,jT(t))))},VF=(n,t,e,i,r)=>{for(;t<=e;++t)(i=n[t])&&(r=i.$elm$,GF(i),Jb=!0,r["s-ol"]?r["s-ol"].remove():__(r,!0),r.remove())},i1=(n,t)=>n.$tag$===t.$tag$&&("slot"===n.$tag$?n.$name$===t.$name$:n.$key$===t.$key$),jT=n=>n&&n["s-ol"]||n,BF=n=>(n["s-ol"]?n["s-ol"]:n).parentNode,lf=(n,t)=>{const e=t.$elm$=n.$elm$,i=n.$children$,r=t.$children$,o=t.$tag$,a=t.$text$;let c;null!==a?(c=e["s-cr"])?c.parentNode.textContent=a:n.$text$!==a&&(e.data=a):(qo="svg"===o||"foreignObject"!==o&&qo,"slot"===o||$F(n,t,qo),null!==i&&null!==r?((n,t,e,i)=>{let P,$,r=0,o=0,a=0,c=0,u=t.length-1,h=t[0],f=t[u],y=i.length-1,T=i[0],E=i[y];for(;r<=u&&o<=y;)if(null==h)h=t[++r];else if(null==f)f=t[--u];else if(null==T)T=i[++o];else if(null==E)E=i[--y];else if(i1(h,T))lf(h,T),h=t[++r],T=i[++o];else if(i1(f,E))lf(f,E),f=t[--u],E=i[--y];else if(i1(h,E))("slot"===h.$tag$||"slot"===E.$tag$)&&__(h.$elm$.parentNode,!1),lf(h,E),n.insertBefore(h.$elm$,f.$elm$.nextSibling),h=t[++r],E=i[--y];else if(i1(f,T))("slot"===h.$tag$||"slot"===E.$tag$)&&__(f.$elm$.parentNode,!1),lf(f,T),n.insertBefore(f.$elm$,h.$elm$),f=t[--u],T=i[++o];else{for(a=-1,c=r;c<=u;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===T.$key$){a=c;break}a>=0?($=t[a],$.$tag$!==T.$tag$?P=n1(t&&t[o],e,a,n):(lf($,T),t[a]=void 0,P=$.$elm$),T=i[++o]):(P=n1(t&&t[o],e,o,n),T=i[++o]),P&&BF(h.$elm$).insertBefore(P,jT(h.$elm$))}r>u?UF(n,null==i[y+1]?null:i[y+1].$elm$,e,i,o,y):o>y&&VF(t,r,u)})(e,i,t,r):null!==r?(null!==n.$text$&&(e.textContent=""),UF(e,null,t,r,0,r.length-1)):null!==i&&VF(i,0,i.length-1),qo&&"svg"===o&&(qo=!1))},HF=n=>{let e,i,r,o,a,c,t=n.childNodes;for(i=0,r=t.length;i<r;i++)if(e=t[i],1===e.nodeType){if(e["s-sr"])for(a=e["s-sn"],e.hidden=!1,o=0;o<r;o++)if(c=t[o].nodeType,t[o]["s-hn"]!==e["s-hn"]||""!==a){if(1===c&&a===t[o].getAttribute("slot")){e.hidden=!0;break}}else if(1===c||3===c&&""!==t[o].textContent.trim()){e.hidden=!0;break}HF(e)}},ta=[],jF=n=>{let t,e,i,r,o,a,c=0,u=n.childNodes,h=u.length;for(;c<h;c++){if(t=u[c],t["s-sr"]&&(e=t["s-cr"])&&e.parentNode)for(i=e.parentNode.childNodes,r=t["s-sn"],a=i.length-1;a>=0;a--)e=i[a],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==t["s-hn"]&&(zF(e,r)?(o=ta.find(f=>f.$nodeToRelocate$===e),Jb=!0,e["s-sn"]=e["s-sn"]||r,o?o.$slotRefNode$=t:ta.push({$slotRefNode$:t,$nodeToRelocate$:e}),e["s-sr"]&&ta.map(f=>{zF(f.$nodeToRelocate$,e["s-sn"])&&(o=ta.find(y=>y.$nodeToRelocate$===e),o&&!f.$slotRefNode$&&(f.$slotRefNode$=o.$slotRefNode$))})):ta.some(f=>f.$nodeToRelocate$===e)||ta.push({$nodeToRelocate$:e}));1===t.nodeType&&jF(t)}},zF=(n,t)=>1===n.nodeType?null===n.getAttribute("slot")&&""===t||n.getAttribute("slot")===t:n["s-sn"]===t||""===t,GF=n=>{n.$attrs$&&n.$attrs$.ref&&n.$attrs$.ref(null),n.$children$&&n.$children$.map(GF)},WF=(n,t)=>{const e=n.$hostElement$,i=n.$cmpMeta$,r=n.$vnode$||sf(null,null),o=HT(t)?t:q(null,null,t);if(rf=e.tagName,i.$attrsToReflect$&&(o.$attrs$=o.$attrs$||{},i.$attrsToReflect$.map(([a,c])=>o.$attrs$[c]=e[a])),o.$tag$=null,o.$flags$|=4,n.$vnode$=o,o.$elm$=r.$elm$=e.shadowRoot||e,nf=e["s-sc"],SF=e["s-cr"],DF=0!=(1&i.$flags$),Jb=!1,lf(r,o),kt.$flags$|=1,AT){jF(o.$elm$);let a,c,u,h,f,y,T=0;for(;T<ta.length;T++)a=ta[T],c=a.$nodeToRelocate$,c["s-ol"]||(u=An.createTextNode(""),u["s-nr"]=c,c.parentNode.insertBefore(c["s-ol"]=u,c));for(T=0;T<ta.length;T++)if(a=ta[T],c=a.$nodeToRelocate$,a.$slotRefNode$){for(h=a.$slotRefNode$.parentNode,f=a.$slotRefNode$.nextSibling,u=c["s-ol"];u=u.previousSibling;)if(y=u["s-nr"],y&&y["s-sn"]===c["s-sn"]&&h===y.parentNode&&(y=y.nextSibling,!y||!y["s-nr"])){f=y;break}(!f&&h!==c.parentNode||c.nextSibling!==f)&&c!==f&&(!c["s-hn"]&&c["s-ol"]&&(c["s-hn"]=c["s-ol"].parentNode.nodeName),h.insertBefore(c,f))}else 1===c.nodeType&&(c.hidden=!0)}Jb&&HF(o.$elm$),kt.$flags$&=-2,ta.length=0},fe=(n,t,e)=>{const i=n;return{emit:r=>zT(i,t,{bubbles:!!(4&e),composed:!!(2&e),cancelable:!!(1&e),detail:r})}},zT=(n,t,e)=>{const i=kt.ce(t,e);return n.dispatchEvent(i),i},r1=(n,t)=>{n.$flags$|=16;const e=()=>_ue(n,t);return uo(e)},_ue=(n,t)=>{const e=n.$hostElement$,i=()=>{},r=e;let o;return t?(cf(e,"componentWillLoad"),o=Qa(r,"componentWillLoad")):(cf(e,"componentWillUpdate"),o=Qa(r,"componentWillUpdate")),cf(e,"componentWillRender"),o=KF(o,()=>Qa(r,"componentWillRender")),i(),KF(o,()=>vue(n,r,t))},vue=function(){var n=_t(function*(t,e,i){const r=t.$hostElement$,o=()=>{};i&&(n=>{const t=n.$cmpMeta$,e=n.$hostElement$,i=t.$flags$,r=()=>{},o=UT(e.shadowRoot?e.shadowRoot:e.getRootNode(),t,n.$modeName$);10&i&&(e["s-sc"]=o,e.classList.add(o+"-h"),2&i&&e.classList.add(o+"-s")),r()})(t);const c=()=>{};QF(t,e,r),c(),o(),ZF(t)});return function(e,i,r){return n.apply(this,arguments)}}(),QF=(n,t,e)=>{try{NT=t,t=t.render&&t.render(),n.$flags$&=-17,n.$flags$|=2,WF(n,t)}catch(c){Wl(c,n.$hostElement$)}return NT=null,null},ZF=n=>{const e=n.$hostElement$,i=()=>{},r=e;Qa(r,"componentDidRender"),cf(e,"componentDidRender"),64&n.$flags$?(Qa(r,"componentDidUpdate"),cf(e,"componentDidUpdate"),i()):(n.$flags$|=64,Qa(r,"componentDidLoad"),cf(e,"componentDidLoad"),i())},Qa=(n,t,e)=>{if(n&&n[t])try{return n[t](e)}catch(i){Wl(i)}},KF=(n,t)=>n&&n.then?n.then(t):t(),cf=(n,t)=>{},QT=(n,t,e)=>{if(t.$members$){n.watchers&&(t.$watchers$=n.watchers);const i=Object.entries(t.$members$),r=n.prototype;i.map(([o,[a]])=>{(31&a||32&a)&&Object.defineProperty(r,o,{get(){return((n,t)=>Wr(this).$instanceValues$.get(t))(0,o)},set(c){((n,t,e,i)=>{const r=Wr(n),o=n,a=r.$instanceValues$.get(t),c=r.$flags$,u=o;if(e=((n,t)=>null==n||BT(n)?n:4&t?"false"!==n&&(""===n||!!n):2&t?parseFloat(n):1&t?String(n):n)(e,i.$members$[t][0]),e!==a&&(r.$instanceValues$.set(t,e),1)){if(i.$watchers$&&128&c){const h=i.$watchers$[t];h&&h.map(f=>{try{u[f](e,a,t)}catch(y){Wl(y,o)}})}if(2==(18&c)){if(u.componentShouldUpdate&&!1===u.componentShouldUpdate(e,a,t))return;r1(r,!1)}}})(this,o,c,t)},configurable:!0,enumerable:!0})});{const o=new Map;r.attributeChangedCallback=function(a,c,u){kt.jmp(()=>{const h=o.get(a);this[h]=(null!==u||"boolean"!=typeof this[h])&&u})},n.observedAttributes=i.filter(([a,c])=>15&c[0]).map(([a,c])=>{const u=c[1]||a;return o.set(u,a),512&c[0]&&t.$attrsToReflect$.push([a,u]),u})}}return n},ZT=function(){var n=_t(function*(t,e,i,r,o){if(!(32&e.$flags$)&&(o=t.constructor,e.$flags$|=160,o.style)){let u=o.style;"string"!=typeof u&&(u=u[e.$modeName$=(n=>cL.map(t=>t(n)).find(t=>!!t))(t)]);const h=VT(i,e.$modeName$);if(!y_.has(h)){const f=()=>{};((n,t,e)=>{let i=y_.get(n);Jce&&e?(i=i||new CSSStyleSheet,i.replace(t)):i=t,y_.set(n,i)})(h,u,!!(1&i.$flags$)),f()}}const c=()=>r1(e,!0);c()});return function(e,i,r,o,a){return n.apply(this,arguments)}}(),XF=n=>{},Due=n=>{const t=n["s-cr"]=An.createComment("");t["s-cn"]=!0,n.insertBefore(t,n.firstChild)},Ze=(n,t)=>{const e={$flags$:t[0],$tagName$:t[1]};e.$members$=t[2],e.$listeners$=t[3],e.$watchers$=n.$watchers$,e.$attrsToReflect$=[];const i=n.prototype.connectedCallback,r=n.prototype.disconnectedCallback;return Object.assign(n.prototype,{__registerHost(){sL(this,e)},connectedCallback(){(n=>{if(!(1&kt.$flags$)){const t=Wr(n),e=t.$cmpMeta$,i=()=>{};if(1&t.$flags$)FT(n,t,e.$listeners$),XF(t.$lazyInstance$);else{let r;t.$flags$|=1,!r&&12&e.$flags$&&Due(n),ZT(n,t,e)}i()}})(this),i&&i.call(this)},disconnectedCallback(){(n=>{if(!(1&kt.$flags$)){const t=Wr(n);t.$rmListeners$&&(t.$rmListeners$.map(i=>i()),t.$rmListeners$=void 0)}})(this),r&&r.call(this)}}),n.is=e.$tagName$,QT(n,e)},st=n=>{n.attachShadow({mode:"open"})},oL=(n,t)=>t,KT=new WeakMap,Wr=n=>KT.get(n),sL=(n,t)=>{const e={$flags$:0,$hostElement$:n,$cmpMeta$:t,$instanceValues$:new Map};return FT(n,e,t.$listeners$),KT.set(n,e)},aL=(n,t)=>t in n,Wl=(n,t)=>(0,console.error)(n,t),y_=new Map,cL=[],JT=[],yd=[],Rue=(n,t)=>e=>{n.push(e),Xb||(Xb=!0,t&&4&kt.$flags$?b_(s1):kt.raf(s1))},uL=n=>{for(let t=0;t<n.length;t++)try{n[t](performance.now())}catch(e){Wl(e)}n.length=0},s1=()=>{uL(JT),uL(yd),(Xb=JT.length>0)&&kt.raf(s1)},b_=n=>Promise.resolve(void 0).then(n),uo=Rue(yd,!0);function Nn(n,t,e,i){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e,i)}const eD=(n,t,e=0,i=0,r=0,o=0)=>{const a=n.getBoundingClientRect(),c=t.getBoundingClientRect();return a.left+e<c.right+r&&a.right+e>c.left+r&&a.top+i<c.bottom+o&&a.bottom+i>c.top+o},na=(...n)=>{},ql=n=>null===n,be=n=>typeof n>"u",ho=n=>ql(n)||be(n),C_=n=>ho(n)?void 0:n.constructor,a1=n=>C_(n)===Object,Ql=n=>C_(n)===Number&&!Number.isNaN(n),yr=n=>C_(n)===String,tD=n=>C_(n)===Function,l1=n=>Array.isArray(n),c1=(n,t)=>Boolean(n&&t&&n instanceof t),u1=()=>{let n=na,t=na;return{promise:new Promise((i,r)=>{n=i,t=r}),resolve:n,reject:t}};function uf(n,t,e){const i=n[t];n[t]=function(){return e(),i?i.call(n):void 0}}function po(n,t,e){let i=!1;be(t)||(uf(n,"componentWillLoad",()=>{t(),i=!0}),uf(n,"connectedCallback",()=>{i&&t()})),be(e)||uf(n,"disconnectedCallback",()=>{e()})}const hL="vmFindPlayer",Za=(n,t=300,e=10)=>{const i=(c1(n,HTMLElement),n),r=u1();let o;const a=new CustomEvent(hL,{bubbles:!0,composed:!0,detail:c=>{r.resolve(c),o()}});return o=function Lue(n,t,e,i=300,r=10){let o,a=0,c=!1;return function u(){c||(o=setTimeout(()=>{a!==r?(n.dispatchEvent(t),a+=1,u()):e?.()},i))}(),()=>{window.clearTimeout(o),c=!0}}(i,a,()=>{r.reject(`Could not find player for ${i.nodeName}`)},t,e),r.promise};var ws=(()=>(function(n){n.Audio="audio",n.Video="video"}(ws||(ws={})),ws))();const pL="vmStateChange",Zl=n=>(t,e)=>{const i=(c1(n,HTMLElement),n),r=new CustomEvent(pL,{bubbles:!0,composed:!0,detail:{by:i,prop:t,value:e}});i.dispatchEvent(r)},w_={play:"Play",pause:"Pause",playback:"Playback",scrubber:"Scrubber",scrubberLabel:"{currentTime} of {duration}",played:"Played",duration:"Duration",buffered:"Buffered",close:"Close",currentTime:"Current time",live:"LIVE",volume:"Volume",mute:"Mute",unmute:"Unmute",audio:"Audio",default:"Default",captions:"Captions",subtitlesOrCc:"Subtitles/CC",enableCaptions:"Enable subtitles/captions",disableCaptions:"Disable subtitles/captions",auto:"Auto",fullscreen:"Fullscreen",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",settings:"Settings",seekForward:"Seek forward",seekBackward:"Seek backward",seekTotal:"Seek total",normal:"Normal",none:"None",playbackRate:"Playback Rate",playbackQuality:"Playback Quality",loop:"Loop",disabled:"Disabled",off:"Off",enabled:"Enabled",pip:"Picture-in-Picture",enterPiP:"Miniplayer",exitPiP:"Expand"},df={theme:void 0,paused:!0,playing:!1,duration:-1,currentProvider:void 0,mediaTitle:void 0,currentSrc:void 0,currentPoster:void 0,textTracks:[],currentTextTrack:-1,audioTracks:[],currentAudioTrack:-1,isTextTrackVisible:!0,shouldRenderNativeTextTracks:!0,icons:"vime",currentTime:0,autoplay:!1,ready:!1,playbackReady:!1,loop:!1,muted:!1,buffered:0,playbackRate:1,playbackRates:[1],playbackQuality:void 0,playbackQualities:[],seeking:!1,debug:!1,playbackStarted:!1,playbackEnded:!1,buffering:!1,controls:!1,isControlsActive:!1,volume:50,isFullscreenActive:!1,aspectRatio:"16:9",viewType:void 0,isAudioView:!1,isVideoView:!1,mediaType:void 0,isAudio:!1,isVideo:!1,isMobile:!1,isTouch:!1,isSettingsActive:!1,isLive:!1,isPiPActive:!1,autopause:!0,playsinline:!1,language:"en",languages:["en"],translations:{en:w_},i18n:w_},Vue=new Set(["autoplay","autopause","aspectRatio","controls","theme","debug","paused","currentTime","language","loop","translations","playbackQuality","muted","playbackRate","playsinline","volume","isSettingsActive","isControlsActive","shouldRenderNativeTextTracks"]),fL=n=>Vue.has(n),Bue=new Set(["paused","currentTime","duration","buffered","seeking","playing","buffering","playbackReady","textTracks","currentTextTrack","audioTracks","currentAudioTrack","mediaTitle","currentSrc","currentPoster","playbackRate","playbackRates","playbackStarted","playbackEnded","playbackQuality","playbackQualities","mediaType"]),Hue=n=>Bue.has(n);var fo=(()=>(function(n){n.Audio="audio",n.Video="video"}(fo||(fo={})),fo))();class qi{constructor(t=[]){this.dispose=t}add(t){this.dispose.push(t)}empty(){this.dispose.forEach(t=>t()),this.dispose=[]}}const nD=Symbol("vmPlayerKey"),d1=Symbol("vmNameKey"),bd=Symbol("vmRegistryKey"),iD=Symbol("vmRegistrationKey"),mL="vmComponentRegister",gL="vmComponentRegistered",_L="vmComponentDeregistered",hf=n=>(c1(n,HTMLElement),n);function Xe(n,t){const e=Symbol("vmRegistryId"),i=hf(n);i[d1]=t??i.nodeName.toLowerCase(),i[iD]=e;const o=new CustomEvent(mL,{bubbles:!0,composed:!0,detail:i});po(n,()=>{i.dispatchEvent(o)})}function Ka(n){return hf(n)[nD]}function vL(n,t){var e,i;const r=hf(n);return Array.from(null!==(i=null===(e=r[bd])||void 0===e?void 0:e.values())&&void 0!==i?i:[]).filter(o=>o[d1]===t)}function yL(n,t,e){var i;return function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){const r=yield Za(n),o=new qi,a=hf(n)[bd];function c(u){u.detail[d1]===t&&e?.(vL(r,t))}return Array.from(null!==(i=a?.values())&&void 0!==i?i:[]).forEach(u=>c(new CustomEvent("",{detail:u}))),be(r)||(o.add(Nn(r,gL,c)),o.add(Nn(r,_L,c))),po(n,()=>{},()=>{o.empty()}),()=>{o.empty()}})}var S_=new Map,bL=function(n,t){var i=n.updater;n.fields.forEach(function(r){i(r,t[r])})},CL_Provider=function(n,t){var e=n.state,i=NT;if(S_.has(i)){var r=S_.get(i);r.state=e,r.wormholes.forEach(function(o){bL(o,e)})}return t};const Zue=new Set(["isFullscreenActive","isControlsActive","isTextTrackVisible","isPiPActive","isLive","isTouch","isAudio","isVideo","isAudioView","isVideoView"]),Kue=new Set(["ready","playbackStarted","playbackEnded","playbackReady"]);function Yue(n,t,e,i){const r=[];r.push(new CustomEvent((n=>Zue.has(n)?`vm${n.replace("is","").replace("Active","")}Change`:Kue.has(n)?`vm${n.charAt(0).toUpperCase()}${n.slice(1)}`:`vm${n.charAt(0).toUpperCase()}${n.slice(1)}Change`)(t),{detail:e})),"paused"===t&&!e&&r.push(new CustomEvent("vmPlay")),"seeking"===t&&i&&!e&&r.push(new CustomEvent("vmSeeked")),r.forEach(o=>{n.dispatchEvent(o)})}const Jt=(n,t)=>function(n,t,e){void 0===e&&(e=!0);var r="Function"===n.constructor.name?n.prototype:n,o=r.componentWillLoad;r.componentWillLoad=function(){var a=this,c=this,u=function(){var n;return{promise:new Promise(function(e){n=e}),resolve:n}}(),h=new CustomEvent("openWormhole",{bubbles:!0,composed:!0,detail:{consumer:this,fields:t,updater:function(y,T){(y in c?c:a)[y]=T},onOpen:u}});c.dispatchEvent(h);var f=function(){if(o)return o.call(a)};return e?u.promise.then(function(){return f()}):f()}}(n,t);var T_=(()=>(function(n){n.Audio="audio",n.Video="video",n.HLS="hls",n.Dash="dash",n.YouTube="youtube",n.Vimeo="vimeo",n.Dailymotion="dailymotion"}(T_||(T_={})),T_))();const rD=/\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,SL=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i,oD=/\.(m3u8)($|\?)/i,Xue=/^application\/(x-mpegURL|vnd\.apple\.mpegURL)$/i,ede=/\.(mpd)($|\?)/i,TL="vmProviderChange",pf=n=>(t,e)=>{const i=(c1(n,HTMLElement),n),r=new CustomEvent(TL,{bubbles:!0,composed:!0,detail:{by:i,prop:t,value:e}});i.dispatchEvent(r)},tde=new Set(["ready","playing","playbackReady","playbackStarted","playbackEnded","seeking","buffered","buffering","duration","viewType","mediaTitle","mediaType","currentSrc","currentPoster","playbackRates","playbackQualities","textTracks","currentTextTrack","isTextTrackVisible","audioTracks","currentAudioTrack","isPiPActive","isFullscreenActive"]);var DL=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const EL=Symbol("vmProviderCache"),kL="vmMediaProviderConnect";function ML(n,t){return new CustomEvent(n,{bubbles:!0,composed:!0,detail:t})}function Uc(n){const t=ML(kL,n);po(n,()=>{n.dispatchEvent(t)})}var xL=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const ode=class extends HTMLElement{constructor(){super(),this.__registerHost(),this.willAttach=!1,this.preload="metadata",Xe(this),this.willAttach||Uc(this)}getAdapter(){var n,t;return xL(this,void 0,void 0,function*(){const e=null!==(t=yield null===(n=this.fileProvider)||void 0===n?void 0:n.getAdapter())&&void 0!==t?t:{};return e.canPlay=i=>xL(this,void 0,void 0,function*(){return yr(i)&&rD.test(i)}),e})}render(){return q("vm-file",{noConnect:!0,willAttach:this.willAttach,crossOrigin:this.crossOrigin,preload:this.preload,disableRemotePlayback:this.disableRemotePlayback,mediaTitle:this.mediaTitle,viewType:fo.Audio,ref:n=>{this.fileProvider=n}},q("slot",null))}};const lde=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.canToggleCaptionVisibility=!1,this.showIcon="captions-on",this.hideIcon="captions-off",this.tooltipPosition="top",this.hideTooltip=!1,this.keys="c",this.i18n={},this.playbackReady=!1,this.textTracks=[],this.isTextTrackVisible=!1,Xe(this),Jt(this,["i18n","textTracks","isTextTrackVisible","playbackReady"])}onTextTracksChange(){var n;return function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){const t=Ka(this);this.canToggleCaptionVisibility=this.textTracks.length>0&&null!==(n=yield t?.canSetTextTrackVisibility())&&void 0!==n&&n})}componentDidLoad(){this.onTextTracksChange()}onClick(){var n;const t=Ka(this);null===(n=t?.setTextTrackVisibility)||void 0===n||n.call(t,!this.isTextTrackVisible)}render(){const n=this.isTextTrackVisible?this.i18n.disableCaptions:this.i18n.enableCaptions,t=be(this.keys)?n:`${n} (${this.keys})`;return q(af,{hidden:!this.canToggleCaptionVisibility},q("vm-control",{label:this.i18n.captions,keys:this.keys,hidden:!this.canToggleCaptionVisibility,pressed:this.isTextTrackVisible,onClick:this.onClick.bind(this)},q("vm-icon",{name:this.isTextTrackVisible?this.showIcon:this.hideIcon,library:this.icons}),q("vm-tooltip",{hidden:this.hideTooltip,position:this.tooltipPosition,direction:this.tooltipDirection},t)))}static get watchers(){return{textTracks:["onTextTracksChange"],playbackReady:["onTextTracksChange"]}}static get style(){return":host([hidden]){display:none}"}},h1=new Set,p1=new Set,f1=new Map;function D_(){uo(()=>{p1.forEach(n=>{const t=parseFloat(window.getComputedStyle(n).height);h1.forEach(e=>{const i=f1.get(e),r=eD(e,n),o=eD(e,n,0,t)||eD(e,n,0,-t);i.set(n,r||o?t:0)})}),h1.forEach(n=>{const t=f1.get(n);n.style.setProperty("--vm-controls-height",`${Math.max(0,Math.max(...t.values()))}px`)})})}function IL(n){const t=n;po(n,()=>{h1.add(t),f1.set(t,new Map),D_()},()=>{h1.delete(t),f1.delete(t)})}const hde=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.sizeDisposal=new qi,this.textDisposal=new qi,this.isEnabled=!1,this.fontSize="sm",this.hidden=!1,this.isControlsActive=!1,this.isVideoView=!1,this.playbackStarted=!1,this.textTracks=[],this.currentTextTrack=-1,this.isTextTrackVisible=!0,Xe(this),IL(this),Jt(this,["isVideoView","playbackStarted","isControlsActive","textTracks","currentTextTrack","isTextTrackVisible"])}onEnabledChange(){this.isEnabled=this.playbackStarted&&this.isVideoView}onTextTracksChange(){const n=this.textTracks[this.currentTextTrack],t=()=>{var e;const i=Array.from(null!==(e=n.activeCues)&&void 0!==e?e:[]);this.renderCurrentCue(i[0])};this.textDisposal.empty(),ho(n)||(t(),this.textDisposal.add(Nn(n,"cuechange",t)))}connectedCallback(){this.dispatch=Zl(this),this.dispatch("shouldRenderNativeTextTracks",!1),this.onTextTracksChange(),this.onPlayerResize()}disconnectedCallback(){this.textDisposal.empty(),this.sizeDisposal.empty(),this.dispatch("shouldRenderNativeTextTracks",!0)}onPlayerResize(){return function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){const n=yield Za(this);if(be(n))return;const t=yield n.getContainer();new ResizeObserver(i=>{const r=i[0],{width:o}=r.contentRect;this.fontSize=o>=1360?"xl":o>=1024?"lg":o>=768?"md":"sm"}).observe(t)})}renderCurrentCue(n){if(ho(n))return void(this.cue="");const t=document.createElement("div");t.append(n.getCueAsHTML()),this.cue=t.innerHTML.trim()}render(){return q("div",{style:{transform:`translateY(calc(${this.isControlsActive?"var(--vm-controls-height)":"24px"} * -1))`},class:{captions:!0,enabled:this.isEnabled,hidden:this.hidden,fontMd:"md"===this.fontSize,fontLg:"lg"===this.fontSize,fontXl:"xl"===this.fontSize,inactive:!this.isTextTrackVisible}},q("span",{class:"cue"},this.cue))}static get watchers(){return{isVideoView:["onEnabledChange"],playbackStarted:["onEnabledChange"],textTracks:["onTextTracksChange"],currentTextTrack:["onTextTracksChange"]}}static get style(){return":host{position:absolute;left:0;bottom:0;width:100%;pointer-events:none;z-index:var(--vm-captions-z-index)}.captions{width:100%;text-align:center;color:var(--vm-captions-text-color);font-size:var(--vm-captions-font-size);padding:$control-spacing;display:none;pointer-events:none;transition:transform 0.4s ease-in-out, opacity 0.3s ease-in-out}.captions.enabled{display:inline-block}.captions.hidden{display:none !important}.captions.inactive{opacity:0;visibility:hidden}.captions.fontMd{font-size:var(--vm-captions-font-size-medium)}.captions.fontLg{font-size:var(--vm-captions-font-size-large)}.captions.fontXl{font-size:var(--vm-captions-font-size-xlarge)}.cue{display:inline-block;background:var(--vm-captions-cue-bg-color);border-radius:var(--vm-captions-cue-border-radius);box-decoration-break:clone;line-height:185%;padding:var(--vm-captions-cue-padding);white-space:pre-wrap;pointer-events:none}.cue>div{display:inline}.cue:empty{display:none}"}};const mde=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.useOnMobile=!1,this.paused=!0,this.isVideoView=!1,this.isMobile=!1,Xe(this),Jt(this,["paused","isVideoView","isMobile"])}connectedCallback(){this.dispatch=Zl(this)}forceClick(){return function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){this.onClick()})}onClick(){this.dispatch("paused",!this.paused)}render(){return q("div",{class:{clickToPlay:!0,enabled:this.isVideoView&&(!this.isMobile||this.useOnMobile)},onClick:this.onClick.bind(this)})}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-click-to-play-z-index)}.clickToPlay{display:none;width:100%;height:100%;pointer-events:none}.clickToPlay.enabled{display:inline-block;pointer-events:auto}"}};var sD=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const _de=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmInteractionChange=fe(this,"vmInteractionChange",7),this.vmFocus=fe(this,"vmFocus",7),this.vmBlur=fe(this,"vmBlur",7),this.keyboardDisposal=new qi,this.showTapHighlight=!1,this.hidden=!1,this.isTouch=!1,Xe(this),Jt(this,["isTouch"])}onKeysChange(){return sD(this,void 0,void 0,function*(){if(this.keyboardDisposal.empty(),be(this.keys))return;const n=yield Za(this),t=this.keys.split("/");be(n)||this.keyboardDisposal.add(Nn(n,"keydown",e=>{t.includes(e.key)&&this.button.click()}))})}connectedCallback(){this.findTooltip(),this.onKeysChange()}componentWillLoad(){this.findTooltip()}disconnectedCallback(){this.keyboardDisposal.empty()}focusControl(){var n;return sD(this,void 0,void 0,function*(){null===(n=this.button)||void 0===n||n.focus()})}blurControl(){var n;return sD(this,void 0,void 0,function*(){null===(n=this.button)||void 0===n||n.blur()})}onTouchStart(){this.showTapHighlight=!0}onTouchEnd(){setTimeout(()=>{this.showTapHighlight=!1},100)}findTooltip(){const n=this.host.querySelector("vm-tooltip");return ql(n)||(this.describedBy=n.id),n}onShowTooltip(){const n=this.findTooltip();ql(n)||(n.active=!0),this.vmInteractionChange.emit(!0)}onHideTooltip(){const n=this.findTooltip();ql(n)||(n.active=!1),this.button.blur(),this.vmInteractionChange.emit(!1)}onFocus(){this.vmFocus.emit(),this.onShowTooltip()}onBlur(){this.vmBlur.emit(),this.onHideTooltip()}onMouseEnter(){this.onShowTooltip()}onMouseLeave(){this.onHideTooltip()}render(){const n=this.expanded?"true":"false",t=this.pressed?"true":"false";return q("button",{class:{hidden:this.hidden,notTouch:!this.isTouch,tapHighlight:this.showTapHighlight},id:this.identifier,type:"button","aria-label":this.label,"aria-haspopup":be(this.menu)?void 0:"true","aria-controls":this.menu,"aria-expanded":be(this.menu)?void 0:n,"aria-pressed":be(this.pressed)?void 0:t,"aria-hidden":this.hidden?"true":"false","aria-describedby":this.describedBy,onTouchStart:this.onTouchStart.bind(this),onTouchEnd:this.onTouchEnd.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),ref:e=>{this.button=e}},q("slot",null))}get host(){return this}static get watchers(){return{keys:["onKeysChange"]}}static get style(){return"button{display:flex;align-items:center;flex-direction:row;border:var(--vm-control-border);cursor:pointer;flex-shrink:0;font-size:var(--vm-control-icon-size);color:var(--vm-control-color);background:var(--vm-control-bg, transparent);border-radius:var(--vm-control-border-radius);padding:var(--vm-control-padding);position:relative;pointer-events:auto;transition:all 0.3s ease;transform:scale(var(--vm-control-scale, 1));touch-action:manipulation;box-sizing:border-box}button.hidden{display:none}button:focus{outline:0}button.tapHighlight{background:var(--vm-control-tap-highlight)}button.notTouch:focus,button.notTouch:hover,button.notTouch[aria-expanded='true']{background:var(--vm-control-focus-bg);color:var(--vm-control-focus-color);transform:scale(calc(var(--vm-control-scale, 1) + 0.06))}"}},yde=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.space="none",Xe(this)}render(){return q("div",{class:{controlGroup:!0,spaceTop:"none"!==this.space&&"bottom"!==this.space,spaceBottom:"none"!==this.space&&"top"!==this.space}},q("slot",null))}get host(){return this}static get style(){return":host{width:100%}.controlGroup{position:relative;width:100%;display:flex;flex-wrap:wrap;flex-direction:inherit;align-items:inherit;justify-content:inherit;box-sizing:border-box}.controlGroup.spaceTop{margin-top:var(--vm-control-group-spacing)}.controlGroup.spaceBottom{margin-bottom:var(--vm-control-group-spacing)}::slotted(*){margin-left:var(--vm-controls-spacing)}::slotted(*:first-child){margin-left:0}"}},Cde=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),Xe(this)}static get style(){return":host{flex:1}"}},wde=(n,t=1e3,e=!1)=>{let i;return function(...o){const a=this,u=e&&be(i);clearTimeout(i),i=setTimeout(function(){i=void 0,e||n.apply(a,o)},t),u&&n.apply(a,o)}};const ff={},m1={},Dde=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.disposal=new qi,this.isInteracting=!1,this.hidden=!1,this.fullWidth=!1,this.fullHeight=!1,this.direction="row",this.align="center",this.justify="start",this.pin="bottomLeft",this.activeDuration=2750,this.waitForPlaybackStart=!1,this.hideWhenPaused=!1,this.hideOnMouseLeave=!1,this.isAudioView=!1,this.isSettingsActive=!1,this.playbackReady=!1,this.isControlsActive=!1,this.paused=!0,this.playbackStarted=!1,Xe(this),function cde(n){const t=n;function e(){return t.shadowRoot.querySelector(".controls")}po(n,()=>{const i=e();ql(i)||(p1.add(i),D_())},()=>{p1.delete(e()),D_()}),uf(n,"componentDidLoad",()=>{p1.add(e()),D_()}),uf(n,"componentDidRender",D_)}(this),Jt(this,["playbackReady","isAudioView","isControlsActive","isSettingsActive","paused","playbackStarted"])}connectedCallback(){this.dispatch=Zl(this),this.onControlsChange(),this.setupPlayerListeners()}componentWillLoad(){this.onControlsChange()}disconnectedCallback(){this.disposal.empty(),delete m1[ff[this]],delete ff[this]}setupPlayerListeners(){return function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){const n=yield Za(this);be(n)||(["focus","keydown","click","touchstart","mouseleave"].forEach(e=>{this.disposal.add(Nn(n,e,this.onControlsChange.bind(this)))}),this.disposal.add(Nn(n,"mousemove",wde(this.onControlsChange,50,!0).bind(this))),ff[this]=n)})}show(){this.dispatch("isControlsActive",!0)}hide(){this.dispatch("isControlsActive",!1)}hideWithDelay(){clearTimeout(m1[ff[this]]),m1[ff[this]]=setTimeout(()=>{this.hide()},this.activeDuration)}onControlsChange(n){if(clearTimeout(m1[ff[this]]),!this.hidden&&this.playbackReady)if(this.isAudioView)this.show();else if(!this.waitForPlaybackStart||this.playbackStarted)if(this.isInteracting||this.isSettingsActive)this.show();else if(this.hideWhenPaused&&this.paused)this.hideWithDelay();else{if(!this.hideOnMouseLeave||this.paused||"mouseleave"!==n?.type)return this.paused?void this.show():(this.show(),void this.hideWithDelay());this.hide()}else this.hide();else this.hide()}getPosition(){if(this.isAudioView)return{};if("center"===this.pin)return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"};const n=this.pin.split(/(?=[L|R])/).map(t=>t.toLowerCase());return{[n[0]]:0,[n[1]]:0}}onStartInteraction(){this.isInteracting=!0}onEndInteraction(){this.isInteracting=!1}render(){return q(af,{video:!this.isAudioView},q("div",{style:Object.assign(Object.assign({},this.getPosition()),{flexDirection:this.direction,alignItems:"center"===this.align?"center":`flex-${this.align}`,justifyContent:this.justify}),class:{controls:!0,audio:this.isAudioView,hidden:this.hidden,active:this.playbackReady&&this.isControlsActive,fullWidth:this.isAudioView||this.fullWidth,fullHeight:!this.isAudioView&&this.fullHeight},onMouseEnter:this.onStartInteraction.bind(this),onMouseLeave:this.onEndInteraction.bind(this),onTouchStart:this.onStartInteraction.bind(this),onTouchEnd:this.onEndInteraction.bind(this)},q("slot",null)))}static get watchers(){return{paused:["onControlsChange"],hidden:["onControlsChange"],isAudioView:["onControlsChange"],isInteracting:["onControlsChange"],isSettingsActive:["onControlsChange"],hideWhenPaused:["onControlsChange"],hideOnMouseLeave:["onControlsChange"],playbackStarted:["onControlsChange"],waitForPlaybackStart:["onControlsChange"],playbackReady:["onControlsChange"]}}static get style(){return":host{position:relative;width:100%;z-index:var(--vm-controls-z-index)}:host([video]){position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.controls{display:flex;width:100%;position:absolute;flex-wrap:wrap;pointer-events:auto;box-sizing:border-box;background:var(--vm-controls-bg);padding:var(--vm-controls-padding);border-radius:var(--vm-controls-border-radius);opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.controls.audio{position:relative}.controls.hidden{display:none}.controls.active{opacity:1;visibility:visible}.controls.fullWidth{width:100%}.controls.fullHeight{height:100%}::slotted(*:not(vm-control-group)){margin-left:var(--vm-controls-spacing)}::slotted(*:not(vm-control-group):first-child){margin-left:0}"}},kde=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.currentTime=0,this.i18n={},this.alwaysShowHours=!1,Xe(this),Jt(this,["currentTime","i18n"])}render(){return q("vm-time",{label:this.i18n.currentTime,seconds:this.currentTime,alwaysShowHours:this.alwaysShowHours})}static get style(){return":host{display:flex;align-items:center;justify-content:center}"}};var aD,lD;const qr=typeof window<"u",g1=qr?null===(aD=window.navigator)||void 0===aD?void 0:aD.userAgent.toLowerCase():"",mf=/iphone|ipad|ipod|ios|CriOS|FxiOS/.test(g1),Mde=/android/.test(g1),cD=qr&&(mf||Mde),xde=qr&&/(iPhone|iPod)/gi.test(null===(lD=window.navigator)||void 0===lD?void 0:lD.platform);/firefox/.test(g1);const Ide=qr&&window.chrome;qr&&!Ide&&(window.safari||mf||/(apple|safari)/.test(g1));const PL=()=>{if(!qr)return!1;const n=document.createElement("video");return!!document.pictureInPictureEnabled&&!n.disablePictureInPicture},OL=()=>{if(!qr)return!1;const n=document.createElement("video");return tD(n.webkitSupportsPresentationMode)&&tD(n.webkitSetPresentationMode)&&!xde},AL=(n=!0,t=!0)=>{if(!qr)return Promise.resolve(!1);const e=document.createElement("video");return n&&(e.setAttribute("muted",""),e.muted=!0),t&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline","")),e.setAttribute("height","0"),e.setAttribute("width","0"),e.style.position="fixed",e.style.top="0",e.style.width="0",e.style.height="0",e.style.opacity="0",new Promise(i=>i(e.play())).catch(na),Promise.resolve(!e.paused)},uD=(n,t=1)=>new Promise((e,i)=>{const r=new Image,o=()=>{delete r.onload,delete r.onerror,r.naturalWidth>=t?e(r):i(r)};Object.assign(r,{onload:o,onerror:o,src:n})}),$de=(n,t,e=na)=>{var i;const r=document.createElement("script");r.src=n,r.onload=t,r.onerror=e;const o=document.getElementsByTagName("script")[0];null===(i=o.parentNode)||void 0===i||i.insertBefore(r,o)},NL=n=>{if((n=>!ho(n)&&(a1(n)||yr(n)&&n.startsWith("{")))(n))return(n=>a1(n)?n:function Rde(n){if(yr(n))try{return JSON.parse(n)}catch{return}}(n))(n)},RL=(n,t="")=>{if(!qr)return t;try{return window.decodeURIComponent(n)}catch{return t}},Ude=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g,FL=(n,t="preconnect",e)=>{if(!qr)return!1;const i=document.createElement("link");return i.rel=t,i.href=n,be(e)||(i.as=e),i.crossOrigin="true",document.head.append(i),!0},zde=n=>{if(yr(n))return(n=>{const t=Object.create(null);if(be(n))return t;let e;for(;e=Ude.exec(n);){const i=RL(e[1],e[1]).replace("[]",""),r=yr(e[2])?RL(e[2].replace(/\+/g," "),e[2]):"",o=t[i];o&&!l1(o)&&(t[i]=[o]),o?t[i].push(r):t[i]=r}return t})(n)},gf={},LL=(n,t,e,i=(()=>!0),r=$de)=>{const o=c=>be(window[c])?window.exports&&window.exports[c]?window.exports[c]:window.module&&window.module.exports&&window.module.exports[c]?window.module.exports[c]:void 0:window[c],a=o(t);return a&&i(a)?Promise.resolve(a):new Promise((c,u)=>{if(!be(gf[n]))return void gf[n].push({resolve:c,reject:u});gf[n]=[{resolve:c,reject:u}];const h=f=>{gf[n].forEach(y=>y.resolve(f))};if(!be(e)){const f=window[e];window[e]=function(){be(f)||f(),h(o(t))}}r(n,()=>{be(e)&&h(o(t))},f=>{gf[n].forEach(y=>{y.reject(f)}),delete gf[n]})})},_1=(n,t=[])=>Jt(n,["autoplay","controls","language","muted","logger","loop","aspectRatio","playsinline",...t]);var mo=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const dD=new Map,Wde=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmLoadStart=fe(this,"vmLoadStart",7),this.vmError=fe(this,"vmError",7),this.defaultInternalState={},this.internalState={currentTime:0,volume:0,muted:!1,isAdsPlaying:!1,playbackReady:!1},this.embedSrc="",this.mediaTitle="",this.shouldAutoplayQueue=!1,this.showUpNextQueue=!1,this.showShareButtons=!1,this.showDailymotionLogo=!1,this.showVideoInfo=!0,this.language="en",this.autoplay=!1,this.controls=!1,this.loop=!1,this.muted=!1,this.playsinline=!1,Xe(this),Uc(this),_1(this)}onVideoIdChange(){this.internalState=Object.assign({},this.defaultInternalState),this.videoId?(this.embedSrc=`${this.getOrigin()}/embed/video/${this.videoId}?api=1`,this.fetchVideoInfo=this.getVideoInfo(),this.pendingMediaTitleCall=u1()):this.embedSrc=""}onControlsChange(){this.internalState.playbackReady&&this.remoteControl("controls",this.controls)}onCustomPosterChange(){this.dispatch("currentPoster",this.poster)}connectedCallback(){this.dispatch=pf(this),this.dispatch("viewType",fo.Video),this.onVideoIdChange(),this.initialMuted=this.muted,this.internalState.muted=this.muted,this.defaultInternalState=Object.assign({},this.internalState)}getOrigin(){return"https://www.dailymotion.com"}getPreconnections(){return[this.getOrigin(),"https://static1.dmcdn.net"]}remoteControl(n,t){return this.embed.postMessage({command:n,parameters:t?[t]:[]})}buildParams(){return{autoplay:this.autoplay,mute:this.initialMuted,"queue-autoplay-next":this.shouldAutoplayQueue,"queue-enable":this.showUpNextQueue,"sharing-enable":this.showShareButtons,syndication:this.syndication,"ui-highlight":this.color,"ui-logo":this.showDailymotionLogo,"ui-start-screen-info":this.showVideoInfo}}getVideoInfo(){return mo(this,void 0,void 0,function*(){return dD.has(this.videoId)?dD.get(this.videoId):window.fetch(`https://api.dailymotion.com/video/${this.videoId}?fields=duration,thumbnail_1080_url`).then(t=>t.json()).then(t=>{const e=t.thumbnail_1080_url,i=parseFloat(t.duration);return dD.set(this.videoId,{poster:e,duration:i}),{poster:e,duration:i}})})}onEmbedSrcChange(){this.vmLoadStart.emit(),this.dispatch("viewType",fo.Video)}onEmbedMessage(n){var t,e;const i=n.detail;switch(i.event){case"playback_ready":this.onControlsChange(),this.dispatch("currentSrc",this.embedSrc),this.dispatch("mediaType",ws.Video),Promise.all([this.fetchVideoInfo,null===(t=this.pendingMediaTitleCall)||void 0===t?void 0:t.promise]).then(([r,o])=>{var a,c;this.dispatch("duration",null!==(a=r?.duration)&&void 0!==a?a:-1),this.dispatch("currentPoster",null!==(c=this.poster)&&void 0!==c?c:r?.poster),this.dispatch("mediaTitle",o),this.dispatch("playbackReady",!0)});break;case"videochange":null===(e=this.pendingMediaTitleCall)||void 0===e||e.resolve(i.title);break;case"start":this.dispatch("paused",!1),this.dispatch("playbackStarted",!0),this.dispatch("buffering",!0);break;case"video_start":this.remoteControl("muted",this.internalState.muted),this.remoteControl("volume",this.internalState.volume),this.internalState.currentTime>0&&this.remoteControl("seek",this.internalState.currentTime);break;case"play":this.dispatch("paused",!1);break;case"pause":this.dispatch("paused",!0),this.dispatch("playing",!1),this.dispatch("buffering",!1);break;case"playing":this.dispatch("playing",!0),this.dispatch("buffering",!1);break;case"video_end":this.loop?setTimeout(()=>{this.remoteControl("play")},300):this.dispatch("playbackEnded",!0);break;case"timeupdate":this.dispatch("currentTime",parseFloat(i.time));break;case"volumechange":this.dispatch("muted","true"===i.muted),this.dispatch("volume",Math.floor(100*parseFloat(i.volume)));break;case"seeking":this.dispatch("currentTime",parseFloat(i.time)),this.dispatch("seeking",!0);break;case"seeked":this.dispatch("currentTime",parseFloat(i.time)),this.dispatch("seeking",!1);break;case"waiting":this.dispatch("buffering",!0);break;case"progress":this.dispatch("buffered",parseFloat(i.time));break;case"durationchange":this.dispatch("duration",parseFloat(i.duration));break;case"qualitiesavailable":this.dispatch("playbackQualities",i.qualities.map(r=>`${r}p`));break;case"qualitychange":this.dispatch("playbackQuality",`${i.quality}p`);break;case"fullscreenchange":this.dispatch("isFullscreenActive","true"===i.fullscreen);break;case"error":this.vmError.emit(i.error)}}getAdapter(){return mo(this,void 0,void 0,function*(){const n=/(?:dai\.ly|dailymotion|dailymotion\.com)\/(?:video\/|embed\/|)(?:video\/|)((?:\w)+)/;return{getInternalPlayer:()=>mo(this,void 0,void 0,function*(){return this.embed}),play:()=>mo(this,void 0,void 0,function*(){this.remoteControl("play")}),pause:()=>mo(this,void 0,void 0,function*(){this.remoteControl("pause")}),canPlay:t=>mo(this,void 0,void 0,function*(){return yr(t)&&n.test(t)}),setCurrentTime:t=>mo(this,void 0,void 0,function*(){this.internalState.currentTime=t,this.remoteControl("seek",t)}),setMuted:t=>mo(this,void 0,void 0,function*(){this.internalState.muted=t,this.remoteControl("muted",t)}),setVolume:t=>mo(this,void 0,void 0,function*(){this.internalState.volume=t/100,this.dispatch("volume",t),this.remoteControl("volume",t/100)}),canSetPlaybackQuality:()=>mo(this,void 0,void 0,function*(){return!0}),setPlaybackQuality:t=>mo(this,void 0,void 0,function*(){this.remoteControl("quality",t.slice(0,-1))}),canSetFullscreen:()=>mo(this,void 0,void 0,function*(){return!0}),enterFullscreen:()=>mo(this,void 0,void 0,function*(){this.remoteControl("fullscreen",!0)}),exitFullscreen:()=>mo(this,void 0,void 0,function*(){this.remoteControl("fullscreen",!1)})}})}render(){return q("vm-embed",{embedSrc:this.embedSrc,mediaTitle:this.mediaTitle,origin:this.getOrigin(),params:this.buildParams(),decoder:zde,preconnections:this.getPreconnections(),onVmEmbedMessage:this.onEmbedMessage.bind(this),onVmEmbedSrcChange:this.onEmbedSrcChange.bind(this),ref:n=>{this.embed=n}})}static get watchers(){return{videoId:["onVideoIdChange"],controls:["onControlsChange"],poster:["onCustomPosterChange"]}}static get style(){return":host{z-index:var(--vm-media-z-index)}"}};var Ya=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const Qde=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmLoadStart=fe(this,"vmLoadStart",7),this.vmError=fe(this,"vmError",7),this.textTracksDisposal=new qi,this.hasAttached=!1,this.version="latest",this.config={},this.autoplay=!1,this.preload="metadata",this.enableTextTracksByDefault=!0,this.shouldRenderNativeTextTracks=!0,this.isTextTrackVisible=!0,this.currentTextTrack=-1,Xe(this),Uc(this),Jt(this,["autoplay","shouldRenderNativeTextTracks","isTextTrackVisible","currentTextTrack"])}onSrcChange(){var n;this.hasAttached&&(this.vmLoadStart.emit(),null===(n=this.dash)||void 0===n||n.attachSource(this.src))}onShouldRenderNativeTextTracks(){var n;this.shouldRenderNativeTextTracks?this.textTracksDisposal.empty():this.hideCurrentTextTrack(),null===(n=this.dash)||void 0===n||n.enableForcedTextStreaming(!this.shouldRenderNativeTextTracks)}onTextTrackChange(){var n,t;!this.shouldRenderNativeTextTracks||be(this.dash)||(this.dash.setTextTrack(this.isTextTrackVisible?this.currentTextTrack:-1),this.isTextTrackVisible)||"hidden"===Array.from(null!==(t=null===(n=this.mediaEl)||void 0===n?void 0:n.textTracks)&&void 0!==t?t:[])[this.currentTextTrack]?.mode&&this.dispatch("currentTextTrack",-1)}connectedCallback(){this.dispatch=pf(this),this.mediaEl&&this.setupDash()}disconnectedCallback(){this.textTracksDisposal.empty(),this.destroyDash()}setupDash(){return Ya(this,void 0,void 0,function*(){try{const n=this.libSrc||`https://cdn.jsdelivr.net/npm/dashjs@${this.version}/dist/dash.all.min.js`,t=yield LL(n,"dashjs");this.dash=t.MediaPlayer(this.config).create(),this.dash.initialize(this.mediaEl,null,this.autoplay),this.dash.setTextDefaultEnabled(this.enableTextTracksByDefault),this.dash.enableForcedTextStreaming(!this.shouldRenderNativeTextTracks),this.dash.on(t.MediaPlayer.events.PLAYBACK_METADATA_LOADED,()=>{this.dispatch("mediaType",ws.Video),this.dispatch("currentSrc",this.src),this.dispatchLevels(),this.listenToTextTracksForChanges(),this.dispatch("playbackReady",!0)}),this.dash.on(t.MediaPlayer.events.TRACK_CHANGE_RENDERED,()=>{this.shouldRenderNativeTextTracks||this.hideCurrentTextTrack()}),this.dash.on(t.MediaPlayer.events.ERROR,e=>{this.vmError.emit(e)}),this.hasAttached=!0}catch(n){this.vmError.emit(n)}})}destroyDash(){var n;return Ya(this,void 0,void 0,function*(){null===(n=this.dash)||void 0===n||n.reset(),this.hasAttached=!1})}onMediaElChange(n){return Ya(this,void 0,void 0,function*(){this.destroyDash(),!be(n.detail)&&(this.mediaEl=n.detail,yield this.setupDash())})}levelToPlaybackQuality(n){return-1===n?"Auto":`${n.height}p`}findLevelIndexFromQuality(n){return this.dash.getBitrateInfoListFor("video").findIndex(t=>this.levelToPlaybackQuality(t)===n)}dispatchLevels(){try{const n=this.dash.getBitrateInfoListFor("video");n?.length>0&&(this.dispatch("playbackQualities",["Auto",...n.map(this.levelToPlaybackQuality)]),this.dispatch("playbackQuality","Auto"))}catch(n){this.vmError.emit(n)}}listenToTextTracksForChanges(){var n,t,e;if(this.textTracksDisposal.empty(),be(this.mediaEl)||this.shouldRenderNativeTextTracks)return;const i=null!==(e=(null===(t=null===(n=this.dash)||void 0===n?void 0:n.getCurrentTrackFor("text"))||void 0===t?void 0:t.index)-1)&&void 0!==e?e:-1;this.currentTextTrack=i,this.dispatch("currentTextTrack",i),this.textTracksDisposal.add(Nn(this.mediaEl.textTracks,"change",this.onTextTracksChange.bind(this)))}getTextTracks(){var n,t;return Array.from(null!==(t=null===(n=this.mediaEl)||void 0===n?void 0:n.textTracks)&&void 0!==t?t:[])}hideCurrentTextTrack(){const n=this.getTextTracks();n[this.currentTextTrack]&&this.isTextTrackVisible&&(n[this.currentTextTrack].mode="hidden")}onTextTracksChange(){this.hideCurrentTextTrack(),this.dispatch("textTracks",this.getTextTracks()),this.dispatch("isTextTrackVisible",this.isTextTrackVisible),this.dispatch("currentTextTrack",this.currentTextTrack)}getAdapter(){var n,t;return Ya(this,void 0,void 0,function*(){const e=null!==(t=yield null===(n=this.videoProvider)||void 0===n?void 0:n.getAdapter())&&void 0!==t?t:{},i=e.canPlay;return Object.assign(Object.assign({},e),{getInternalPlayer:()=>Ya(this,void 0,void 0,function*(){return this.dash}),canPlay:r=>Ya(this,void 0,void 0,function*(){var o;return yr(r)&&ede.test(r)||null!==(o=i?.(r))&&void 0!==o&&o}),canSetPlaybackQuality:()=>Ya(this,void 0,void 0,function*(){var r,o;try{return(null===(o=null===(r=this.dash)||void 0===r?void 0:r.getBitrateInfoListFor("video"))||void 0===o?void 0:o.length)>0}catch(a){return this.vmError.emit(a),!1}}),setPlaybackQuality:r=>Ya(this,void 0,void 0,function*(){if(!be(this.dash)){const o=this.findLevelIndexFromQuality(r);this.dash.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:-1===o}}}}),o>=0&&this.dash.setQualityFor("video",o),this.dispatch("playbackQuality",r)}}),setCurrentTextTrack:r=>Ya(this,void 0,void 0,function*(){var o;this.shouldRenderNativeTextTracks?e.setCurrentTextTrack(r):(this.currentTextTrack=r,null===(o=this.dash)||void 0===o||o.setTextTrack(r),this.onTextTracksChange())}),setTextTrackVisibility:r=>Ya(this,void 0,void 0,function*(){var o;this.shouldRenderNativeTextTracks?e.setTextTrackVisibility(r):(this.isTextTrackVisible=r,null===(o=this.dash)||void 0===o||o.enableText(r),this.onTextTracksChange())})})})}render(){return q("vm-video",{willAttach:!0,crossOrigin:this.crossOrigin,preload:this.preload,poster:this.poster,controlsList:this.controlsList,autoPiP:this.autoPiP,disablePiP:this.disablePiP,hasCustomTextManager:!this.shouldRenderNativeTextTracks,disableRemotePlayback:this.disableRemotePlayback,mediaTitle:this.mediaTitle,ref:n=>{this.videoProvider=n}})}static get watchers(){return{src:["onSrcChange"],hasAttached:["onSrcChange"],shouldRenderNativeTextTracks:["onShouldRenderNativeTextTracks"],isTextTrackVisible:["onTextTrackChange"],currentTextTrack:["onTextTrackChange"]}}static get style(){return":host{z-index:var(--vm-media-z-index)}"}};var hD=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const Kde=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.canSetFullscreen=!1,this.useOnMobile=!1,this.isFullscreenActive=!0,this.isVideoView=!1,this.playbackReady=!1,this.isMobile=!1,this.clicks=0,Xe(this),Jt(this,["playbackReady","isFullscreenActive","isVideoView","isMobile"])}onPlaybackReadyChange(){return hD(this,void 0,void 0,function*(){const n=yield Za(this);be(n)||(this.canSetFullscreen=yield n.canSetFullscreen())})}onTriggerClickToPlay(){return hD(this,void 0,void 0,function*(){const[n]=vL(this,"vm-click-to-play");yield n?.forceClick()})}onToggleFullscreen(){return hD(this,void 0,void 0,function*(){const n=yield Za(this);be(n)||(this.isFullscreenActive?n.exitFullscreen():n.enterFullscreen())})}onClick(){this.clicks+=1,1===this.clicks&&setTimeout(()=>{1===this.clicks?this.onTriggerClickToPlay():this.onToggleFullscreen(),this.clicks=0},300)}render(){return q("div",{class:{dblClickFullscreen:!0,enabled:this.playbackReady&&this.canSetFullscreen&&this.isVideoView&&(!this.isMobile||this.useOnMobile)},onClick:this.onClick.bind(this)})}static get watchers(){return{playbackReady:["onPlaybackReadyChange"]}}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-dbl-click-fullscreen-z-index)}.dblClickFullscreen{display:none;width:100%;height:100%;pointer-events:none}.dblClickFullscreen.enabled{display:inline-block;pointer-events:auto}"}},Jde=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.activeDuration=2750,this.waitForPlaybackStart=!1,this.hideWhenPaused=!1,this.hideOnMouseLeave=!1,this.isMobile=!1,this.isLive=!1,this.isAudioView=!1,this.isVideoView=!1,Xe(this),Jt(this,["theme","isMobile","isAudioView","isVideoView","isLive"])}buildAudioControls(){return q("vm-controls",{fullWidth:!0},q("vm-playback-control",{tooltipDirection:"right"}),q("vm-volume-control",null),!this.isLive&&q("vm-current-time",null),this.isLive&&q("vm-control-spacer",null),!this.isLive&&q("vm-scrubber-control",null),this.isLive&&q("vm-live-indicator",null),!this.isLive&&q("vm-end-time",null),!this.isLive&&q("vm-settings-control",{tooltipDirection:"left"}),q("div",{style:{marginLeft:"0",paddingRight:"2px"}}))}buildMobileVideoControls(){return q(oL,null,q("vm-scrim",{gradient:"up"}),q("vm-controls",{pin:"topLeft",fullWidth:!0,activeDuration:this.activeDuration,waitForPlaybackStart:this.waitForPlaybackStart,hideWhenPaused:this.hideWhenPaused},q("vm-control-spacer",null),q("vm-volume-control",null),!this.isLive&&q("vm-caption-control",null),!this.isLive&&q("vm-settings-control",null),this.isLive&&q("vm-fullscreen-control",null)),q("vm-controls",{pin:"center",justify:"center",activeDuration:this.activeDuration,waitForPlaybackStart:this.waitForPlaybackStart,hideWhenPaused:this.hideWhenPaused},q("vm-playback-control",{style:{"--vm-control-scale":"1.3"}})),!this.isLive&&q("vm-controls",{pin:"bottomLeft",fullWidth:!0,activeDuration:this.activeDuration,waitForPlaybackStart:this.waitForPlaybackStart,hideWhenPaused:this.hideWhenPaused},q("vm-control-group",null,q("vm-current-time",null),q("vm-control-spacer",null),q("vm-end-time",null),q("vm-fullscreen-control",null)),q("vm-control-group",{space:"top"},q("vm-scrubber-control",null))))}buildDesktopVideoControls(){return q(oL,null,"light"!==this.theme&&q("vm-scrim",{gradient:"up"}),q("vm-controls",{fullWidth:!0,pin:"bottomRight",activeDuration:this.activeDuration,waitForPlaybackStart:this.waitForPlaybackStart,hideWhenPaused:this.hideWhenPaused,hideOnMouseLeave:this.hideOnMouseLeave},!this.isLive&&q("vm-control-group",null,q("vm-scrubber-control",null)),q("vm-control-group",{space:this.isLive?"none":"top"},q("vm-playback-control",{tooltipDirection:"right"}),q("vm-volume-control",null),!this.isLive&&q("vm-time-progress",null),q("vm-control-spacer",null),!this.isLive&&q("vm-caption-control",null),this.isLive&&q("vm-live-indicator",null),q("vm-pip-control",null),!this.isLive&&q("vm-settings-control",null),q("vm-fullscreen-control",{tooltipDirection:"left"}))))}render(){return this.isAudioView?this.buildAudioControls():this.isVideoView&&this.isMobile?this.buildMobileVideoControls():this.isVideoView?this.buildDesktopVideoControls():null}static get style(){return":host{display:contents;pointer-events:none;z-index:var(--vm-controls-z-index)}"}};var pD=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const ehe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.textTracksDisposal=new qi,this.canSetPlaybackRate=!1,this.canSetPlaybackQuality=!1,this.canSetTextTrack=!1,this.canSetAudioTrack=!1,this.pin="bottomRight",this.i18n={},this.playbackReady=!1,this.playbackRate=1,this.playbackRates=[1],this.isVideoView=!1,this.playbackQualities=[],this.textTracks=[],this.currentTextTrack=-1,this.audioTracks=[],this.currentAudioTrack=-1,this.isTextTrackVisible=!0,Xe(this),Jt(this,["i18n","playbackReady","playbackRate","playbackRates","playbackQuality","playbackQualities","isVideoView","textTracks","currentTextTrack","isTextTrackVisible","audioTracks","currentAudioTrack"])}onPlaybackReady(){return pD(this,void 0,void 0,function*(){const n=yield Za(this);be(n)||(this.canSetPlaybackQuality=yield n.canSetPlaybackQuality(),this.canSetPlaybackRate=yield n.canSetPlaybackRate())})}onAudioTracksChange(){var n;return pD(this,void 0,void 0,function*(){const t=Ka(this);this.canSetAudioTrack=null!==(n=yield t?.canSetAudioTrack())&&void 0!==n&&n})}onTextTracksChange(){var n;return pD(this,void 0,void 0,function*(){const t=Ka(this);this.canSetTextTrack=null!==(n=yield t?.canSetTextTrack())&&void 0!==n&&n})}connectedCallback(){this.dispatch=Zl(this)}componentDidLoad(){this.onTextTracksChange()}disconnectedCallback(){this.textTracksDisposal.empty()}onPlaybackRateSelect(n){this.dispatch("playbackRate",parseFloat(n.target.value))}buildPlaybackRateSubmenu(){if(this.playbackRates.length<=1||!this.canSetPlaybackRate)return q("vm-menu-item",{label:this.i18n.playbackRate,hint:this.i18n.normal});const n=t=>1===t?this.i18n.normal:`${t}`;return q("vm-submenu",{label:this.i18n.playbackRate,hint:n(this.playbackRate)},q("vm-menu-radio-group",{value:`${this.playbackRate}`,onVmCheck:this.onPlaybackRateSelect.bind(this)},this.playbackRates.map(t=>q("vm-menu-radio",{label:n(t),value:`${t}`}))))}onPlaybackQualitySelect(n){this.dispatch("playbackQuality",n.target.value)}buildPlaybackQualitySubmenu(){var n;if(this.playbackQualities.length<=1||!this.canSetPlaybackQuality)return q("vm-menu-item",{label:this.i18n.playbackQuality,hint:null!==(n=this.playbackQuality)&&void 0!==n?n:this.i18n.auto});const t=e=>{const i=parseInt(e.slice(0,-1),10);return i>=2160?"UHD":i>=1080?"HD":void 0};return q("vm-submenu",{label:this.i18n.playbackQuality,hint:this.playbackQuality},q("vm-menu-radio-group",{value:this.playbackQuality,onVmCheck:this.onPlaybackQualitySelect.bind(this)},this.playbackQualities.map(e=>q("vm-menu-radio",{label:e,value:e,badge:t(e)}))))}onTextTrackSelect(n){const e=parseInt(n.target.value,10),i=Ka(this);-1!==e?(i?.setTextTrackVisibility(!0),i?.setCurrentTextTrack(e)):i?.setTextTrackVisibility(!1)}buildTextTracksSubmenu(){var n,t,e;return this.textTracks.length<=1||!this.canSetTextTrack?q("vm-menu-item",{label:this.i18n.subtitlesOrCc,hint:null!==(t=null===(n=this.textTracks[this.currentTextTrack])||void 0===n?void 0:n.label)&&void 0!==t?t:this.i18n.none}):q("vm-submenu",{label:this.i18n.subtitlesOrCc,hint:this.isTextTrackVisible?null===(e=this.textTracks[this.currentTextTrack])||void 0===e?void 0:e.label:this.i18n.off},q("vm-menu-radio-group",{value:`${this.isTextTrackVisible?this.currentTextTrack:-1}`,onVmCheck:this.onTextTrackSelect.bind(this)},[q("vm-menu-radio",{label:this.i18n.off,value:"-1"})].concat(this.textTracks.map((i,r)=>q("vm-menu-radio",{label:i.label,value:`${r}`})))))}onAudioTrackSelect(n){const e=parseInt(n.target.value,10);Ka(this)?.setCurrentAudioTrack(e)}buildAudioTracksMenu(){var n,t,e;return this.audioTracks.length<=1||!this.canSetAudioTrack?q("vm-menu-item",{label:this.i18n.audio,hint:null!==(t=null===(n=this.audioTracks[this.currentAudioTrack])||void 0===n?void 0:n.label)&&void 0!==t?t:this.i18n.default}):q("vm-submenu",{label:this.i18n.audio,hint:null===(e=this.audioTracks[this.currentAudioTrack])||void 0===e?void 0:e.label},q("vm-menu-radio-group",{value:`${this.currentAudioTrack}`,onVmCheck:this.onAudioTrackSelect.bind(this)},this.audioTracks.map((i,r)=>q("vm-menu-radio",{label:i.label,value:`${r}`}))))}render(){return q("vm-settings",{pin:this.pin},this.buildAudioTracksMenu(),this.buildPlaybackRateSubmenu(),this.buildPlaybackQualitySubmenu(),this.isVideoView&&this.buildTextTracksSubmenu(),q("slot",null))}static get watchers(){return{playbackReady:["onPlaybackReady","onAudioTracksChange","onTextTracksChange"],audioTracks:["onAudioTracksChange"],textTracks:["onTextTracksChange"]}}static get style(){return":host{z-index:var(--vm-menu-z-index)}"}},nhe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.noClickToPlay=!1,this.noDblClickFullscreen=!1,this.noCaptions=!1,this.noPoster=!1,this.noSpinner=!1,this.noControls=!1,this.noSettings=!1,this.noLoadingScreen=!1,Xe(this)}render(){return q("vm-ui",null,!this.noClickToPlay&&q("vm-click-to-play",null),!this.noDblClickFullscreen&&q("vm-dbl-click-fullscreen",null),!this.noCaptions&&q("vm-captions",null),!this.noPoster&&q("vm-poster",null),!this.noSpinner&&q("vm-spinner",null),!this.noLoadingScreen&&q("vm-loading-screen",null),!this.noControls&&q("vm-default-controls",null),!this.noSettings&&q("vm-default-settings",null),q("slot",null))}static get style(){return":host{display:contents;pointer-events:none}"}};class fD{constructor(t,e,i){var r;this.el=t,this.attributes=e,this.onLoad=i,this.hasLoaded=!1,!ho(this.el)&&(this.intersectionObs=this.canObserveIntersection()?new IntersectionObserver(this.onIntersection.bind(this)):void 0,this.mutationObs=this.canObserveMutations()?new MutationObserver(this.onMutation.bind(this)):void 0,null===(r=this.mutationObs)||void 0===r||r.observe(this.el,{childList:!0,subtree:!0,attributeFilter:this.attributes}),this.lazyLoad())}didLoad(){return this.hasLoaded}destroy(){var t,e;null===(t=this.intersectionObs)||void 0===t||t.disconnect(),null===(e=this.mutationObs)||void 0===e||e.disconnect()}canObserveIntersection(){return qr&&window.IntersectionObserver}canObserveMutations(){return qr&&window.MutationObserver}lazyLoad(){var t;this.canObserveIntersection()?null===(t=this.intersectionObs)||void 0===t||t.observe(this.el):this.load()}onIntersection(t){t.forEach(e=>{(e.intersectionRatio>0||e.isIntersecting)&&(this.load(),this.intersectionObs.unobserve(e.target))})}onMutation(){this.hasLoaded&&this.load()}getLazyElements(){return(ho(this.el.shadowRoot)?this.el:this.el.shadowRoot).querySelectorAll(".lazy")}load(){window.requestAnimationFrame(()=>{this.getLazyElements().forEach(this.loadEl.bind(this))})}loadEl(t){var e,i;null===(e=this.intersectionObs)||void 0===e||e.unobserve(t),this.hasLoaded=!0,null===(i=this.onLoad)||void 0===i||i.call(this,t)}}let $L=0;const v1=new Set,ohe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmEmbedSrcChange=fe(this,"vmEmbedSrcChange",3),this.vmEmbedMessage=fe(this,"vmEmbedMessage",3),this.vmEmbedLoaded=fe(this,"vmEmbedLoaded",3),this.srcWithParams="",this.hasEnteredViewport=!1,this.embedSrc="",this.mediaTitle="",this.params="",this.preconnections=[],Xe(this)}onEmbedSrcChange(){this.srcWithParams=yr(this.embedSrc)&&this.embedSrc.length>0?((n,t)=>((n,t)=>{if(be(t)||0===t.length)return n;const e=n.split("?",2);return e[0]+(be(e[1])?`?${t}`:`?${e[1]}&${t}`)})(n,a1(t)?(n=>{const t=[],e=(i,r)=>{t.push(`${encodeURIComponent(i)}=${encodeURIComponent(r)}`)};return Object.keys(n).forEach(i=>{const r=n[i];ho(r)||(l1(r)?r.forEach(o=>e(i,o)):e(i,r))}),t.join("&")})(t):t))(this.embedSrc,this.params):void 0}srcWithParamsChange(){be(this.srcWithParams)||!this.hasEnteredViewport&&!v1.has(this.embedSrc)&&FL(this.srcWithParams)&&v1.add(this.embedSrc),this.vmEmbedSrcChange.emit(this.srcWithParams)}preconnectionsChange(){this.hasEnteredViewport||this.preconnections.filter(n=>!v1.has(n)).forEach(n=>{FL(n)&&v1.add(n)})}connectedCallback(){this.lazyLoader=new fD(this.host,["data-src"],n=>{const t=n.getAttribute("data-src");n.removeAttribute("src"),ql(t)||n.setAttribute("src",t)}),this.onEmbedSrcChange(),this.genIframeId()}disconnectedCallback(){this.lazyLoader.destroy()}onWindowMessage(n){var t,e,i;if(n.source!==(null===(t=this.iframe)||void 0===t?void 0:t.contentWindow)||yr(this.origin)&&this.origin!==n.origin)return;const o=null!==(i=null===(e=this.decoder)||void 0===e?void 0:e.call(this,n.data))&&void 0!==i?i:n.data;o&&this.vmEmbedMessage.emit(o)}postMessage(n,t){var e,i;return function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){null===(i=null===(e=this.iframe)||void 0===e?void 0:e.contentWindow)||void 0===i||i.postMessage(JSON.stringify(n),t??"*")})}onLoad(){this.vmEmbedLoaded.emit()}genIframeId(){$L+=1,this.id=`vm-iframe-${$L}`}render(){return q("iframe",{id:this.id,class:"lazy",title:this.mediaTitle,"data-src":this.srcWithParams,allowFullScreen:!0,allow:"autoplay; encrypted-media; picture-in-picture;",onLoad:this.onLoad.bind(this),ref:n=>{this.iframe=n}})}get host(){return this}static get watchers(){return{embedSrc:["onEmbedSrcChange"],params:["onEmbedSrcChange"],srcWithParams:["srcWithParamsChange"],preconnections:["preconnectionsChange"]}}static get style(){return":host{z-index:var(--vm-media-z-index)}iframe{position:absolute;top:0;left:0;border:0;width:100%;height:100%;user-select:none}"}},ahe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.duration=-1,this.i18n={},this.alwaysShowHours=!1,Xe(this),Jt(this,["duration","i18n"])}render(){return q("vm-time",{label:this.i18n.duration,seconds:Math.max(0,this.duration),alwaysShowHours:this.alwaysShowHours})}static get style(){return":host{display:flex;align-items:center;justify-content:center}"}};var Qo={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},UL=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],VL=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],BL=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],go=typeof window<"u"&&typeof window.document<"u"?window.document:{},Ss="fullscreenEnabled"in go&&Object.keys(Qo)||UL[0]in go&&UL||VL[0]in go&&VL||BL[0]in go&&BL||[],Cd={requestFullscreen:function(n){return n[Ss[Qo.requestFullscreen]]()},requestFullscreenFunction:function(n){return n[Ss[Qo.requestFullscreen]]},get exitFullscreen(){return go[Ss[Qo.exitFullscreen]].bind(go)},get fullscreenPseudoClass(){return":"+Ss[Qo.fullscreen]},addEventListener:function(n,t,e){return go.addEventListener(Ss[Qo[n]],t,e)},removeEventListener:function(n,t,e){return go.removeEventListener(Ss[Qo[n]],t,e)},get fullscreenEnabled(){return Boolean(go[Ss[Qo.fullscreenEnabled]])},set fullscreenEnabled(n){},get fullscreenElement(){return go[Ss[Qo.fullscreenElement]]},set fullscreenElement(n){},get onfullscreenchange(){return go[("on"+Ss[Qo.fullscreenchange]).toLowerCase()]},set onfullscreenchange(n){return go[("on"+Ss[Qo.fullscreenchange]).toLowerCase()]=n},get onfullscreenerror(){return go[("on"+Ss[Qo.fullscreenerror]).toLowerCase()]},set onfullscreenerror(n){return go[("on"+Ss[Qo.fullscreenerror]).toLowerCase()]=n}};function HL(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(r){r(e)}),(i=n.get("*"))&&i.slice().map(function(r){r(t,e)})}}}var E_=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};class jL{constructor(t){this.host=t,this.disposal=new qi,this.emitter=HL()}get isSupported(){return this.isSupportedNatively}get isSupportedNatively(){return Cd.fullscreenEnabled}get isFullscreen(){return this.isNativeFullscreen}get isNativeFullscreen(){if(Cd.fullscreenElement===this.host)return!0;try{return this.host.matches(Cd.fullscreenPseudoClass)}catch{return!1}}on(t,e){this.emitter.on(t,e)}off(t,e){this.emitter.off(t,e)}destroy(){return E_(this,void 0,void 0,function*(){this.isFullscreen&&(yield this.exitFullscreen()),this.disposal.empty(),this.emitter.all.clear()})}addFullscreenChangeEventListener(t){return this.isSupported?Nn(Cd,"fullscreenchange",t):na}addFullscreenErrorEventListener(t){return this.isSupported?Nn(Cd,"fullscreenerror",t):na}requestFullscreen(){return E_(this,void 0,void 0,function*(){if(!this.isFullscreen)return this.throwIfNoFullscreenSupport(),this.disposal.add(this.addFullscreenChangeEventListener(this.handleFullscreenChange.bind(this))),this.disposal.add(this.addFullscreenErrorEventListener(this.handleFullscreenError.bind(this))),this.makeEnterFullscreenRequest()})}makeEnterFullscreenRequest(){return E_(this,void 0,void 0,function*(){return Cd.requestFullscreen(this.host)})}handleFullscreenChange(){this.isFullscreen||this.disposal.empty(),this.emitter.emit("change",this.isFullscreen)}handleFullscreenError(t){this.emitter.emit("error",t)}exitFullscreen(){return E_(this,void 0,void 0,function*(){if(this.isFullscreen)return this.throwIfNoFullscreenSupport(),this.makeExitFullscreenRequest()})}makeExitFullscreenRequest(){return E_(this,void 0,void 0,function*(){return Cd.exitFullscreen()})}throwIfNoFullscreenSupport(){if(!this.isSupported)throw Error("Fullscreen API is not enabled or supported in this environment.")}}var zL=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};class lhe extends jL{constructor(t,e){super(t),this.host=t,this.presentationController=e}get isFullscreen(){return this.presentationController.isFullscreenMode}get isSupported(){return this.presentationController.isSupported}makeEnterFullscreenRequest(){return zL(this,void 0,void 0,function*(){return this.presentationController.setPresentationMode("fullscreen")})}makeExitFullscreenRequest(){return zL(this,void 0,void 0,function*(){return this.presentationController.setPresentationMode("inline")})}addFullscreenChangeEventListener(){return this.isSupported?(this.presentationController.on("change",this.handlePresentationModeChange.bind(this)),()=>{this.presentationController.off("change",this.handlePresentationModeChange.bind(this))}):na}handlePresentationModeChange(){this.handleFullscreenChange()}addFullscreenErrorEventListener(){return na}}class uhe{constructor(t){this.host=t,this.disposal=new qi,this.emitter=HL();const e=t.disconnectedCallback;t.disconnectedCallback=()=>function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){yield this.destroy(),e?.call(t)})}get videoElement(){var t;if("video"===(null===(t=this.host.mediaEl)||void 0===t?void 0:t.tagName.toLowerCase()))return this.host.mediaEl}get presentationMode(){var t;return null===(t=this.videoElement)||void 0===t?void 0:t.webkitPresentationMode}get isInlineMode(){return"inline"===this.presentationMode}get isPictureInPictureMode(){return"inline"===this.presentationMode}get isFullscreenMode(){return"fullscreen"===this.presentationMode}get isSupported(){var t,e,i;return mf&&tD(null===(t=this.videoElement)||void 0===t?void 0:t.webkitSetPresentationMode)&&null!==(i=null===(e=this.videoElement)||void 0===e?void 0:e.webkitSupportsFullscreen)&&void 0!==i&&i}setPresentationMode(t){var e,i;null===(i=null===(e=this.videoElement)||void 0===e?void 0:e.webkitSetPresentationMode)||void 0===i||i.call(e,t)}on(t,e){this.emitter.on(t,e)}off(t,e){this.emitter.off(t,e)}destroy(){this.setPresentationMode("inline"),this.disposal.empty()}addPresentationModeChangeEventListener(){return!this.isSupported||ho(this.videoElement)?na:Nn(this.videoElement,"webkitpresentationmodechanged",this.handlePresentationModeChange.bind(this))}handlePresentationModeChange(){this.emitter.emit("change",this.presentationMode)}}var Qr=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const hhe=class extends HTMLElement{constructor(){super(),this.__registerHost(),this.vmLoadStart=fe(this,"vmLoadStart",7),this.vmError=fe(this,"vmError",7),this.vmMediaElChange=fe(this,"vmMediaElChange",7),this.vmSrcSetChange=fe(this,"vmSrcSetChange",7),this.textTracksDisposal=new qi,this.wasPausedBeforeSeeking=!0,this.currentSrcSet=[],this.mediaQueryDisposal=new qi,this.willAttach=!1,this.preload="metadata",this.playbackRates=[.25,.5,.75,1,1.25,1.5,2],this.language="en",this.autoplay=!1,this.controls=!1,this.loop=!1,this.muted=!1,this.playsinline=!1,this.noConnect=!1,this.paused=!0,this.currentTime=0,this.volume=0,this.playbackReady=!1,this.playbackStarted=!1,this.presentationController=new uhe(this),this.fullscreenController=new lhe(this,this.presentationController),this.currentTextTrack=-1,this.hasCustomTextManager=!1,this.isTextTrackVisible=!0,this.shouldRenderNativeTextTracks=!0,Xe(this),Uc(this),_1(this,["playbackReady","playbackStarted","currentTime","volume","paused","currentTextTrack","isTextTrackVisible","shouldRenderNativeTextTracks"]),yL(this,"vm-poster",n=>{[this.vmPoster]=n})}onMediaTitleChange(){this.dispatch("mediaTitle",this.mediaTitle)}onPosterChange(){var n;this.playbackStarted||null===(n=this.mediaEl)||void 0===n||n.load()}onViewTypeChange(){this.dispatch("viewType",this.viewType)}connectedCallback(){this.initLazyLoader(),this.dispatch=pf(this),this.onViewTypeChange(),this.onPosterChange(),this.onMediaTitleChange(),this.addPresentationControllerListeners()}componentDidRender(){this.prevMediaEl!==this.mediaEl&&(this.prevMediaEl=this.mediaEl,this.vmMediaElChange.emit(this.mediaEl),this.presentationController.addPresentationModeChangeEventListener())}componentDidLoad(){this.onViewTypeChange()}disconnectedCallback(){var n;this.mediaQueryDisposal.empty(),this.textTracksDisposal.empty(),this.cancelTimeUpdates(),null===(n=this.lazyLoader)||void 0===n||n.destroy(),this.wasPausedBeforeSeeking=!0}initLazyLoader(){this.lazyLoader=new fD(this.host,["data-src","data-poster"],()=>{if(ho(this.mediaEl))return;const n=this.mediaEl.getAttribute("data-poster");ql(n)||this.mediaEl.setAttribute("poster",n),this.refresh(),this.didSrcSetChange()})}refresh(){if(ho(this.mediaEl))return;const{children:n}=this.mediaEl;for(let t=0;t<=n.length-1;t+=1){const e=n[t],i=e.getAttribute("data-src")||e.getAttribute("src")||e.getAttribute("data-vs");e.removeAttribute("src"),!ql(i)&&(e.setAttribute("data-vs",i),e.setAttribute("src",i))}}didSrcSetChange(){if(ho(this.mediaEl))return;const t=Array.from(this.mediaEl.querySelectorAll("source")).map(i=>{var r;return{src:i.getAttribute("data-vs"),media:null!==(r=i.getAttribute("data-media"))&&void 0!==r?r:void 0,ref:i}});(this.currentSrcSet.length!==t.length||t.some((i,r)=>this.currentSrcSet[r].src!==i.src))&&(this.currentSrcSet=t,this.onSrcSetChange())}onSrcSetChange(){var n;this.textTracksDisposal.empty(),this.mediaQueryDisposal.empty(),this.vmLoadStart.emit(),this.vmSrcSetChange.emit(this.currentSrcSet),this.willAttach||null===(n=this.mediaEl)||void 0===n||n.load()}hasCustomPoster(){return!mf&&!be(this.vmPoster)}cancelTimeUpdates(){Ql(this.timeRAF)&&window.cancelAnimationFrame(this.timeRAF),this.timeRAF=void 0}requestTimeUpdates(){var n,t;this.dispatch("currentTime",null!==(t=null===(n=this.mediaEl)||void 0===n?void 0:n.currentTime)&&void 0!==t?t:0),this.timeRAF=window.requestAnimationFrame(()=>{this.requestTimeUpdates()})}getMediaType(){const{currentSrc:n}=this.mediaEl;return rD.test(n)?ws.Audio:SL.test(n)||oD.test(n)?ws.Video:void 0}onLoadedMetadata(){this.mediaEl.volume=this.volume/100,this.listenToTextTracksForChanges(),this.onTextTracksChange(),this.onProgress(),this.dispatch("currentPoster",this.poster),this.dispatch("duration",this.mediaEl.duration),this.dispatch("playbackRates",this.playbackRates),this.willAttach||(this.dispatch("currentSrc",this.mediaEl.currentSrc),this.dispatch("mediaType",this.getMediaType()),this.dispatch("playbackReady",!0))}onProgress(){const{buffered:n,duration:t}=this.mediaEl,e=0===n.length?0:n.end(n.length-1);this.dispatch("buffered",e>t?t:e)}onPlay(){this.requestTimeUpdates(),this.dispatch("paused",!1),this.playbackStarted||this.dispatch("playbackStarted",!0)}onPause(){this.cancelTimeUpdates(),this.dispatch("paused",!0),this.dispatch("buffering",!1)}onPlaying(){this.dispatch("playing",!0),this.dispatch("buffering",!1)}onSeeking(){this.wasPausedBeforeSeeking||(this.wasPausedBeforeSeeking=this.mediaEl.paused),this.dispatch("currentTime",this.mediaEl.currentTime),this.dispatch("seeking",!0)}onSeeked(){0===this.currentTime&&!this.playbackStarted||(this.dispatch("seeking",!1),(!this.playbackStarted||!this.wasPausedBeforeSeeking)&&this.attemptToPlay(),this.wasPausedBeforeSeeking=!0)}onRateChange(){this.dispatch("playbackRate",this.mediaEl.playbackRate)}onVolumeChange(){this.dispatch("muted",this.mediaEl.muted),this.dispatch("volume",100*this.mediaEl.volume)}onDurationChange(){this.dispatch("duration",this.mediaEl.duration)}onWaiting(){this.dispatch("buffering",!0)}onSuspend(){this.dispatch("buffering",!1)}onEnded(){this.loop||this.dispatch("playbackEnded",!0)}onError(){this.vmError.emit(this.mediaEl.error)}attemptToPlay(){var n;try{null===(n=this.mediaEl)||void 0===n||n.play()}catch(t){this.vmError.emit(t)}}togglePiPInChrome(n){var t;return n?null===(t=this.mediaEl)||void 0===t?void 0:t.requestPictureInPicture():document.exitPictureInPicture()}togglePiPInSafari(n){var t,e;const i=n?"picture-in-picture":"inline";if(null===(t=this.mediaEl)||void 0===t||!t.webkitSupportsPresentationMode(i))throw new Error("PiP API is not available.");return null===(e=this.mediaEl)||void 0===e?void 0:e.webkitSetPresentationMode(i)}togglePiP(n){return Qr(this,void 0,void 0,function*(){if(PL())return this.togglePiPInChrome(n);if(OL())return this.togglePiPInSafari(n);throw new Error("PiP API is not available.")})}onEnterPiP(){this.dispatch("isPiPActive",!0)}onLeavePiP(){this.dispatch("isPiPActive",!1)}addPresentationControllerListeners(){this.presentationController.on("change",n=>{this.dispatch("isPiPActive","picture-in-picture"===n),this.dispatch("isFullscreenActive","fullscreen"===n)})}getAdapter(){return Qr(this,void 0,void 0,function*(){return{getInternalPlayer:()=>Qr(this,void 0,void 0,function*(){return this.mediaEl}),play:()=>Qr(this,void 0,void 0,function*(){var n;return null===(n=this.mediaEl)||void 0===n?void 0:n.play()}),pause:()=>Qr(this,void 0,void 0,function*(){var n;return null===(n=this.mediaEl)||void 0===n?void 0:n.pause()}),canPlay:n=>Qr(this,void 0,void 0,function*(){return yr(n)&&(rD.test(n)||SL.test(n))}),setCurrentTime:n=>Qr(this,void 0,void 0,function*(){this.mediaEl&&(this.mediaEl.currentTime=n)}),setMuted:n=>Qr(this,void 0,void 0,function*(){this.mediaEl&&(this.mediaEl.muted=n)}),setVolume:n=>Qr(this,void 0,void 0,function*(){this.mediaEl&&(this.mediaEl.volume=n/100)}),canSetPlaybackRate:()=>Qr(this,void 0,void 0,function*(){return!0}),setPlaybackRate:n=>Qr(this,void 0,void 0,function*(){this.mediaEl&&(this.mediaEl.playbackRate=n)}),canSetPiP:()=>Qr(this,void 0,void 0,function*(){return PL()||OL()}),enterPiP:()=>this.togglePiP(!0),exitPiP:()=>this.togglePiP(!1),canSetFullscreen:()=>Qr(this,void 0,void 0,function*(){return this.fullscreenController.isSupported}),enterFullscreen:()=>this.fullscreenController.requestFullscreen(),exitFullscreen:()=>this.fullscreenController.exitFullscreen(),setCurrentTextTrack:n=>Qr(this,void 0,void 0,function*(){n!==this.currentTextTrack&&this.toggleTextTrackModes(n)}),setTextTrackVisibility:n=>Qr(this,void 0,void 0,function*(){this.isTextTrackVisible=n,this.toggleTextTrackModes(this.currentTextTrack)})}})}onHasCustomTextManagerChange(){this.hasCustomTextManager?this.textTracksDisposal.empty():this.playbackReady&&this.listenToTextTracksForChanges()}onShouldRenderNativeTextTracksChange(){this.hasCustomTextManager||this.toggleTextTrackModes(this.currentTextTrack)}onProviderConnect(n){this.noConnect&&n.stopImmediatePropagation()}onProviderDisconnect(n){this.noConnect&&n.stopImmediatePropagation()}getFilteredTextTracks(){const n=[],t=Array.from(this.mediaEl.textTracks);for(let e=0;e<t.length;e+=1){const i=t[e];("subtitles"===i.kind||"captions"===i.kind)&&i.label&&n.push(t[e])}return n}listenToTextTracksForChanges(){this.hasCustomTextManager||(this.textTracksDisposal.empty(),!be(this.mediaEl)&&this.textTracksDisposal.add(Nn(this.mediaEl.textTracks,"change",this.onTextTracksChange.bind(this))))}onTextTracksChange(){var n;const t=this.getFilteredTextTracks();let e=-1;for(let i=0;i<t.length;i+=1)if("hidden"===t[i].mode)e=i;else if("showing"===t[i].mode){e=i;break}this.shouldRenderNativeTextTracks||"showing"!==(null===(n=t[e])||void 0===n?void 0:n.mode)?(this.shouldRenderNativeTextTracks&&(this.isTextTrackVisible=-1!==e&&"showing"===t[e].mode,this.dispatch("isTextTrackVisible",this.isTextTrackVisible)),this.dispatch("textTracks",t),this.dispatch("currentTextTrack",this.shouldRenderNativeTextTracks&&!this.isTextTrackVisible?-1:e)):t[e].mode="hidden"}toggleTextTrackModes(n){if(ho(this.mediaEl))return;const{textTracks:t}=this.mediaEl;if(-1===n)Array.from(t).forEach(i=>{i.mode="disabled"});else{const i=t[this.currentTextTrack];i&&(i.mode="disabled")}const e=t[n];e&&(e.mode=this.isTextTrackVisible&&this.shouldRenderNativeTextTracks?"showing":"hidden"),this.dispatch("currentTextTrack",this.shouldRenderNativeTextTracks&&!this.isTextTrackVisible?-1:n),this.dispatch("isTextTrackVisible",this.isTextTrackVisible)}render(){const n={autoplay:this.autoplay,muted:this.muted,playsinline:this.playsinline,playsInline:this.playsinline,"x5-playsinline":this.playsinline,"webkit-playsinline":this.playsinline,controls:this.controls,crossorigin:""===this.crossOrigin?"anonymous":this.crossOrigin,controlslist:this.controlsList,"data-poster":this.hasCustomPoster()?void 0:this.poster,loop:this.loop,preload:this.preload,disablePictureInPicture:this.disablePiP,autoPictureInPicture:this.autoPiP,disableRemotePlayback:this.disableRemotePlayback,"x-webkit-airplay":this.disableRemotePlayback?"deny":"allow",ref:i=>{this.mediaEl=i},onLoadedMetadata:this.onLoadedMetadata.bind(this),onProgress:this.onProgress.bind(this),onPlay:this.onPlay.bind(this),onPause:this.onPause.bind(this),onPlaying:this.onPlaying.bind(this),onSeeking:this.onSeeking.bind(this),onSeeked:this.onSeeked.bind(this),onRateChange:this.onRateChange.bind(this),onVolumeChange:this.onVolumeChange.bind(this),onDurationChange:this.onDurationChange.bind(this),onWaiting:this.onWaiting.bind(this),onSuspend:this.onSuspend.bind(this),onEnded:this.onEnded.bind(this),onError:this.onError.bind(this)},t=q("audio",Object.assign({class:"lazy"},n),q("slot",null),"Your browser does not support the",q("code",null,"audio"),"element."),e=q("video",Object.assign({class:"lazy"},n,{onenterpictureinpicture:this.onEnterPiP.bind(this),onleavepictureinpicture:this.onLeavePiP.bind(this)}),q("slot",null),"Your browser does not support the",q("code",null,"video"),"element.");return this.viewType===fo.Audio?t:e}get host(){return this}static get watchers(){return{mediaTitle:["onMediaTitleChange"],poster:["onPosterChange"],viewType:["onViewTypeChange"],hasCustomTextManager:["onHasCustomTextManagerChange"],shouldRenderNativeTextTracks:["onShouldRenderNativeTextTracksChange"]}}static get style(){return"audio.sc-vm-file,video.sc-vm-file{border-radius:inherit;vertical-align:middle;width:100%;outline:0}video.sc-vm-file{position:absolute;top:0;left:0;border:0;height:100%;user-select:none}"}};const mhe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.canSetFullscreen=!1,this.enterIcon="fullscreen-enter",this.exitIcon="fullscreen-exit",this.tooltipPosition="top",this.hideTooltip=!1,this.keys="f",this.isFullscreenActive=!1,this.i18n={},this.playbackReady=!1,Xe(this),Jt(this,["isFullscreenActive","playbackReady","i18n"])}onPlaybackReadyChange(){var n;return function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){const t=Ka(this);this.canSetFullscreen=null!==(n=yield t?.canSetFullscreen())&&void 0!==n&&n})}componentDidLoad(){this.onPlaybackReadyChange()}onClick(){const n=Ka(this);this.isFullscreenActive?n?.exitFullscreen():n?.enterFullscreen()}render(){const n=this.isFullscreenActive?this.i18n.exitFullscreen:this.i18n.enterFullscreen,t=be(this.keys)?n:`${n} (${this.keys})`;return q(af,{hidden:!this.canSetFullscreen},q("vm-control",{label:this.i18n.fullscreen,keys:this.keys,pressed:this.isFullscreenActive,hidden:!this.canSetFullscreen,onClick:this.onClick.bind(this)},q("vm-icon",{name:this.isFullscreenActive?this.exitIcon:this.enterIcon,library:this.icons}),q("vm-tooltip",{hidden:this.hideTooltip,position:this.tooltipPosition,direction:this.tooltipDirection},t)))}static get watchers(){return{playbackReady:["onPlaybackReadyChange"]}}static get style(){return":host([hidden]){display:none}"}};var Ja=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const ghe=class extends HTMLElement{constructor(){super(),this.__registerHost(),this.vmLoadStart=fe(this,"vmLoadStart",7),this.vmError=fe(this,"vmError",7),this.hasAttached=!1,this.version="latest",this.preload="metadata",this.playbackReady=!1,Xe(this),Uc(this),Jt(this,["playbackReady"])}connectedCallback(){this.dispatch=pf(this),this.mediaEl&&this.setupHls()}disconnectedCallback(){this.destroyHls()}get src(){if(ho(this.videoProvider))return;const n=this.videoProvider.querySelectorAll("source");return Array.from(n).find(e=>oD.test(e.src)||Xue.test(e.type))?.src}setupHls(){return Ja(this,void 0,void 0,function*(){if(be(this.hls))try{const n=this.libSrc||`https://cdn.jsdelivr.net/npm/hls.js@${this.version}/dist/hls.min.js`,t=yield LL(n,"Hls");if(!t.isSupported())return void this.vmError.emit("hls.js is not supported");this.hls=new t(this.config),this.hls.on(t.Events.MEDIA_ATTACHED,()=>{this.hasAttached=!0,this.onSrcChange()}),this.hls.on(t.Events.AUDIO_TRACKS_UPDATED,()=>{this.dispatch("audioTracks",this.hls.audioTracks),this.dispatch("currentAudioTrack",this.hls.audioTrack)}),this.hls.on(t.Events.AUDIO_TRACK_SWITCHED,()=>{this.dispatch("currentAudioTrack",this.hls.audioTrack)}),this.hls.on(t.Events.ERROR,(e,i)=>{if(i.fatal)switch(i.type){case t.ErrorTypes.NETWORK_ERROR:this.hls.startLoad();break;case t.ErrorTypes.MEDIA_ERROR:this.hls.recoverMediaError();break;default:this.destroyHls()}this.vmError.emit({event:e,data:i})}),this.hls.on(t.Events.MANIFEST_PARSED,()=>{this.dispatch("mediaType",ws.Video),this.dispatch("currentSrc",this.src),this.dispatchLevels()}),this.hls.on(t.Events.LEVEL_LOADED,(e,i)=>{this.playbackReady||(this.dispatch("duration",i.details.totalduration),this.dispatch("playbackReady",!0))}),this.hls.attachMedia(this.mediaEl)}catch(n){this.vmError.emit(n)}})}dispatchLevels(){!this.hls.levels||0===this.hls.levels.length||(this.dispatch("playbackQualities",["Auto",...this.hls.levels.map(this.levelToPlaybackQuality)]),this.dispatch("playbackQuality","Auto"))}levelToPlaybackQuality(n){return-1===n?"Auto":`${n.height}p`}findLevelIndexFromQuality(n){return this.hls.levels.findIndex(t=>this.levelToPlaybackQuality(t)===n)}destroyHls(){var n;null===(n=this.hls)||void 0===n||n.destroy(),this.hasAttached=!1}onMediaElChange(n){return Ja(this,void 0,void 0,function*(){this.destroyHls(),!be(n.detail)&&(this.mediaEl=n.detail,setTimeout(()=>Ja(this,void 0,void 0,function*(){yield this.setupHls()}),50))})}onSrcChange(){var n;return Ja(this,void 0,void 0,function*(){this.hasAttached&&this.hls.url!==this.src&&(this.vmLoadStart.emit(),null===(n=this.hls)||void 0===n||n.loadSource(this.src))})}getAdapter(){var n,t;return Ja(this,void 0,void 0,function*(){const e=null!==(t=yield null===(n=this.videoProvider)||void 0===n?void 0:n.getAdapter())&&void 0!==t?t:{},i=e.canPlay;return Object.assign(Object.assign({},e),{getInternalPlayer:()=>Ja(this,void 0,void 0,function*(){return this.hls}),canPlay:r=>Ja(this,void 0,void 0,function*(){var o;return yr(r)&&oD.test(r)||null!==(o=i?.(r))&&void 0!==o&&o}),canSetPlaybackQuality:()=>Ja(this,void 0,void 0,function*(){var r,o;return(null===(o=null===(r=this.hls)||void 0===r?void 0:r.levels)||void 0===o?void 0:o.length)>0}),setPlaybackQuality:r=>Ja(this,void 0,void 0,function*(){be(this.hls)||(this.hls.currentLevel=this.findLevelIndexFromQuality(r),this.dispatch("playbackQuality",r))}),setCurrentAudioTrack:r=>Ja(this,void 0,void 0,function*(){be(this.hls)||(this.hls.audioTrack=r)})})})}render(){return q("vm-video",{willAttach:!0,crossOrigin:this.crossOrigin,preload:this.preload,poster:this.poster,controlsList:this.controlsList,autoPiP:this.autoPiP,disablePiP:this.disablePiP,disableRemotePlayback:this.disableRemotePlayback,mediaTitle:this.mediaTitle,ref:n=>{this.videoProvider=n}},q("slot",null))}},GL="https://cdn.jsdelivr.net/npm/@vime/core@latest/icons",mD=new Map(Object.entries({vime:n=>`${GL}/vime/vm-${n}.svg`,material:n=>`${GL}/material/md-${n}.svg`})),gD=new Set;const _D=new Map;var WL=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const The=new DOMParser,Dhe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmLoad=fe(this,"vmLoad",7),this.vmError=fe(this,"vmError",7),this.icons="material",Xe(this),function _he(n){const t=n;po(n,()=>{gD.add(t)},()=>{gD.delete(t)})}(this)}handleChange(){this.setIcon()}connectedCallback(){Jt(this,["icons"])}componentDidLoad(){this.setIcon()}redraw(){return WL(this,void 0,void 0,function*(){this.setIcon()})}getLabel(){let n="";return this.label?n=this.label:this.name?n=this.name.replace(/-/g," "):this.src&&(n=this.src.replace(/.*\//,"").replace(/-/g," ").replace(/\.svg/i,"")),n}setIcon(){var n;return WL(this,void 0,void 0,function*(){const t=(n=>mD.get(n))(null!==(n=this.library)&&void 0!==n?n:this.icons);let e=this.src;if(this.name&&t&&(e=t(this.name)),e)try{const i=yield(n=>{if(_D.has(n))return _D.get(n);const t=fetch(n).then(e=>function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(void 0,void 0,void 0,function*(){if(e.ok){const i=document.createElement("div");i.innerHTML=yield e.text();const r=i.firstElementChild;return{ok:e.ok,status:e.status,svg:r&&"svg"===r.tagName.toLowerCase()?r.outerHTML:""}}return{ok:e.ok,status:e.status}}));return _D.set(n,t),t})(e);if(i.ok){const o=The.parseFromString(i.svg,"text/html").body.querySelector("svg");o?(this.svg=o.outerHTML,this.vmLoad.emit()):(this.svg="",this.vmError.emit({status:i.status}))}}catch{this.vmError.emit()}})}render(){return q("div",{class:"icon",role:"img","aria-label":this.getLabel(),innerHTML:this.svg})}static get watchers(){return{name:["handleChange"],src:["handleChange"],library:["handleChange"],icons:["handleChange"]}}static get style(){return":host{display:inline-block;width:1em;height:1em;contain:strict;box-sizing:content-box !important}.icon,svg{display:block;height:100%;width:100%;transition:var(--vm-icon-transition);transform:var(--vm-icon-transform);fill:var(--vm-icon-fill, currentColor);stroke:var(--vm-icon-stroke)}"}},Ehe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.icons="material",Xe(this),Jt(this,["icons"])}handleUpdate(){this.register()}connectedCallback(){this.register()}disconnectedCallback(){be(this.name)||function bhe(n){mD.delete(n)}(this.name)}register(){var n;!function yhe(n,t){be(t)||mD.set(n,t),gD.forEach(e=>{e.library===n&&e.redraw()})}(null!==(n=this.name)&&void 0!==n?n:this.icons,this.name?this.resolver:void 0)}get host(){return this}static get watchers(){return{name:["handleUpdate"],resolver:["handleUpdate"],icons:["handleUpdate"]}}},Mhe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.isLive=!1,this.i18n={},Xe(this),Jt(this,["isLive","i18n"])}render(){return q("div",{class:{liveIndicator:!0,hidden:!this.isLive}},q("div",{class:"indicator"}),this.i18n.live)}static get style(){return".liveIndicator{display:flex;align-items:center;font-size:13px;font-weight:bold;letter-spacing:0.6px;color:var(--vm-control-color)}.liveIndicator.hidden{display:none}.indicator{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:4px;background-color:var(--vm-live-indicator-color, red)}"}},Ihe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.playbackReady=!1,this.hideDots=!1,Xe(this),Jt(this,["playbackReady"])}render(){return q("div",{class:{loadingScreen:!0,inactive:this.playbackReady}},q("slot",null),!this.hideDots&&q("div",{class:"dotPulse"}))}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-loading-screen-z-index);display:flex;align-items:center;justify-content:center}.loadingScreen{opacity:100;transition:var(--vm-fade-transition)}.loadingScreen.inactive{opacity:0}.dotPulse{position:relative;left:-9999px;width:var(--vm-loading-screen-dot-size);height:var(--vm-loading-screen-dot-size);border-radius:calc(var(--vm-loading-screen-dot-size) / 2);background-color:var(--vm-loading-screen-dot-color);color:var(--vm-loading-screen-dot-color);box-shadow:9999px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n    var(--vm-loading-screen-dot-color);animation:dotPulse var(--vm-loading-screen-pulse-duration) infinite linear;animation-delay:calc(var(--vm-loading-screen-pulse-duration) / 6)}.dotPulse::before,.dotPulse::after{content:'';display:inline-block;position:absolute;top:0;width:var(--vm-loading-screen-dot-size);height:var(--vm-loading-screen-dot-size);border-radius:calc(var(--vm-loading-screen-dot-size) / 2);background-color:var(--vm-loading-screen-dot-color);color:var(--vm-loading-screen-dot-color)}.dotPulse::before{box-shadow:9984px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n    var(--vm-loading-screen-dot-color);animation:dotPulseBefore var(--vm-loading-screen-pulse-duration) infinite\n    linear;animation-delay:0s}.dotPulse::after{box-shadow:10014px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n    var(--vm-loading-screen-dot-color);animation:dotPulseAfter var(--vm-loading-screen-pulse-duration) infinite\n    linear;animation-delay:calc(var(--vm-loading-screen-pulse-duration) / 3)}@keyframes dotPulseBefore{0%{box-shadow:9984px 0 0\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n      var(--vm-loading-screen-dot-color)}30%{box-shadow:9984px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:9984px 0 0\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n      var(--vm-loading-screen-dot-color)}}@keyframes dotPulse{0%{box-shadow:9999px 0 0\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n      var(--vm-loading-screen-dot-color)}30%{box-shadow:9999px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:9999px 0 0\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n      var(--vm-loading-screen-dot-color)}}@keyframes dotPulseAfter{0%{box-shadow:10014px 0 0\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n      var(--vm-loading-screen-dot-color)}30%{box-shadow:10014px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:10014px 0 0\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\n      var(--vm-loading-screen-dot-color)}}"}};var k_=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const Rhe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmOpen=fe(this,"vmOpen",7),this.vmClose=fe(this,"vmClose",7),this.vmFocus=fe(this,"vmFocus",7),this.vmBlur=fe(this,"vmBlur",7),this.vmActiveSubmenuChange=fe(this,"vmActiveSubmenuChange",7),this.vmActiveMenuItemChange=fe(this,"vmActiveMenuItemChange",7),this.vmMenuHeightChange=fe(this,"vmMenuHeightChange",3),this.hasDisconnected=!1,this.active=!1,Xe(this)}onActiveMenuitemChange(){this.vmActiveMenuItemChange.emit(this.activeMenuItem)}onActiveSubmenuChange(){this.vmActiveSubmenuChange.emit(this.activeSubmenu)}onActiveChange(){var n;this.hasDisconnected||(this.active?this.vmOpen.emit(this.host):this.vmClose.emit(this.host),"vm-menu-item"===(null===(n=this.controller)||void 0===n?void 0:n.tagName.toLowerCase())&&(this.controller.expanded=!0))}connectedCallback(){this.hasDisconnected=!1}componentDidRender(){uo(()=>{this.hasDisconnected||this.calculateHeight()})}disconnectedCallback(){this.controller=void 0,this.hasDisconnected=!0}focusMenu(){var n;return k_(this,void 0,void 0,function*(){null===(n=this.menu)||void 0===n||n.focus()})}blurMenu(){var n;return k_(this,void 0,void 0,function*(){null===(n=this.menu)||void 0===n||n.blur()})}getActiveMenuItem(){return k_(this,void 0,void 0,function*(){return this.activeMenuItem})}setActiveMenuItem(n){return k_(this,void 0,void 0,function*(){n?.focusItem(),this.activeMenuItem=n})}calculateHeight(){var n,t;return k_(this,void 0,void 0,function*(){let e=0;if(this.activeSubmenu){const i=yield this.activeSubmenu.getMenu();e=null!==(n=yield i?.calculateHeight())&&void 0!==n?n:0,e+=(yield this.activeSubmenu.getControllerHeight())}else(null===(t=this.container)||void 0===t?void 0:t.firstChild).assignedElements({flatten:!0})?.forEach(r=>{e+=parseFloat(window.getComputedStyle(r).height)});return this.vmMenuHeightChange.emit(e),e})}onOpenSubmenu(n){n.stopPropagation(),be(this.activeSubmenu)||(this.activeSubmenu.active=!1),this.activeSubmenu=n.detail,this.getChildren().forEach(t=>{t!==this.activeSubmenu&&(t.style.opacity="0",t.style.visibility="hidden")}),uo(()=>{this.activeSubmenu.active=!0})}onCloseSubmenu(n){n?.stopPropagation(),be(this.activeSubmenu)||(this.activeSubmenu.active=!1),this.getChildren().forEach(t=>{t!==this.activeSubmenu&&(t.style.opacity="",t.style.visibility="")}),uo(()=>{this.activeSubmenu=void 0})}onWindowClick(){this.onCloseSubmenu(),this.onClose()}onWindowKeyDown(n){this.active&&"Escape"===n.key&&(this.onCloseSubmenu(),this.onClose(),this.focusController())}getChildren(){var n;return(null===(n=this.host.shadowRoot.querySelector("slot"))||void 0===n?void 0:n.assignedElements({flatten:!0}))??[]}getMenuItems(){var n;return function Ahe(n){if(be(n))return[];const t=["vm-menu-item","vm-menu-radio-group","vm-submenu"];return Array.from(n??[]).filter(e=>t.includes(e.tagName.toLowerCase())).map(e=>function Phe(n){return"vm-submenu"!==n.tagName.toLowerCase()?n:n.shadowRoot.querySelector("vm-menu-item")}(e)).map(e=>function Ohe(n){var t;if("vm-menu-radio-group"!==n.tagName.toLowerCase())return n;const i=n.shadowRoot.querySelector("slot");return Array.from(null!==(t=i?.assignedElements())&&void 0!==t?t:[]).filter(o=>"vm-menu-radio"===o.tagName.toLowerCase()).map(o=>o.shadowRoot.querySelector("vm-menu-item"))}(e)).reduce((e,i)=>e.concat(i),[])}(null===(n=this.host.shadowRoot.querySelector("slot"))||void 0===n?void 0:n.assignedElements({flatten:!0}))}focusController(){var n,t,e,i,r;be(null===(n=this.controller)||void 0===n?void 0:n.focusItem)?be(null===(e=this.controller)||void 0===e?void 0:e.focusControl)?null===(r=this.controller)||void 0===r||r.focus():null===(i=this.controller)||void 0===i||i.focusControl():null===(t=this.controller)||void 0===t||t.focusItem()}triggerMenuItem(){var n;be(this.activeMenuItem)||(this.activeMenuItem.click(),null===(n=this.activeMenuItem.menu)||void 0===n||n.focusMenu())}onClose(){this.activeMenuItem=void 0,this.active=!1}onClick(n){n.stopPropagation()}onFocus(){var n;this.active=!0,[this.activeMenuItem]=this.getMenuItems(),null===(n=this.activeMenuItem)||void 0===n||n.focusItem(),this.vmFocus.emit()}onBlur(){this.vmBlur.emit()}foucsMenuItem(n,t){t<0&&(t=n.length-1),t>n.length-1&&(t=0),this.activeMenuItem=n[t],this.activeMenuItem.focusItem()}onKeyDown(n){if(!this.active)return;n.preventDefault(),n.stopPropagation();const t=this.getMenuItems();let e=t.findIndex(i=>i===this.activeMenuItem);switch(n.key){case"Escape":case"ArrowLeft":this.onClose(),this.focusController();break;case"ArrowDown":case"Tab":this.foucsMenuItem(t,e+=1);break;case"ArrowUp":this.foucsMenuItem(t,e-=1);break;case"ArrowRight":case"Enter":case" ":this.triggerMenuItem();break;case"Home":case"PageUp":this.foucsMenuItem(t,0);break;case"End":case"PageDown":this.foucsMenuItem(t,t.length-1)}}render(){var n,t,e;return q("div",{id:this.identifier,class:{menu:!0,slideIn:!be(this.slideInDirection),slideInFromLeft:"left"===this.slideInDirection,slideInFromRight:"right"===this.slideInDirection},role:"menu",tabindex:"-1","aria-labelledby":null!==(t=null===(n=this.controller)||void 0===n?void 0:n.identifier)&&void 0!==t?t:null===(e=this.controller)||void 0===e?void 0:e.id,"aria-hidden":this.active?"false":"true",onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onClick:this.onClick.bind(this),onKeyDown:this.onKeyDown.bind(this),ref:i=>{this.menu=i}},q("div",{class:"container",ref:i=>{this.container=i}},q("slot",null)))}get host(){return this}static get watchers(){return{activeMenuItem:["onActiveMenuitemChange"],activeSubmenu:["onActiveSubmenuChange"],active:["onActiveChange"]}}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:var(--vm-menu-z-index)}:host([active]){pointer-events:auto;z-index:calc(var(--vm-menu-z-index) + 1)}.menu{position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;transition:var(--vm-menu-transition)}.menu.slideIn{transform:translateX(0)}.menu[aria-hidden='true'].slideInFromLeft{transform:translateX(-100%)}.menu[aria-hidden='true'].slideInFromRight{transform:translateX(100%)}.container{display:flex;flex-direction:column;position:relative;text-align:left;width:100%;height:100%;color:var(--vm-menu-color);background:var(--vm-menu-bg);font-size:var(--vm-menu-font-size);font-weight:var(--vm-menu-font-weight)}.menu:focus{outline:0}"}};var vD=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const Lhe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmFocus=fe(this,"vmFocus",7),this.vmBlur=fe(this,"vmBlur",7),this.showTapHighlight=!1,this.hidden=!1,this.checkIcon="check",this.isTouch=!1,Xe(this),Jt(this,["isTouch"])}focusItem(){var n;return vD(this,void 0,void 0,function*(){null===(n=this.menuItem)||void 0===n||n.focus()})}blurItem(){var n;return vD(this,void 0,void 0,function*(){null===(n=this.menuItem)||void 0===n||n.blur()})}getHeight(){return vD(this,void 0,void 0,function*(){return parseFloat(this.menuItem?window.getComputedStyle(this.menuItem).height:"0")})}onClick(){ho(this.menu)||(this.menu.active=!this.expanded)}onFocus(){this.vmFocus.emit()}onBlur(){this.vmBlur.emit()}onTouchStart(){this.showTapHighlight=!0}onTouchEnd(){setTimeout(()=>{this.showTapHighlight=!1},100)}onMouseLeave(){var n;null===(n=this.menuItem)||void 0===n||n.blur()}render(){var n,t,e,i;const r=!be(this.checked),o=!be(this.menu),a=this.expanded?"true":"false",c=this.checked?"true":"false",u=r&&!be(this.checkIcon),h=o&&this.expanded,f=o&&!this.expanded,y=!(be(this.hint)||r||o&&this.expanded),T=!be(this.badge)&&!y&&!f,E=y||f;return q("div",{class:{menuItem:!0,notTouch:!this.isTouch,tapHighlight:this.showTapHighlight,showDivider:o&&null!==(n=this.expanded)&&void 0!==n&&n},id:this.identifier,role:r?"menuitemradio":"menuitem",tabindex:"0","aria-label":this.label,"aria-hidden":this.hidden?"true":"false","aria-haspopup":o?"true":void 0,"aria-controls":null!==(e=null===(t=this.menu)||void 0===t?void 0:t.identifier)&&void 0!==e?e:null===(i=this.menu)||void 0===i?void 0:i.id,"aria-expanded":o?a:void 0,"aria-checked":r?c:void 0,onClick:this.onClick.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onTouchStart:this.onTouchStart.bind(this),onTouchEnd:this.onTouchEnd.bind(this),onMouseLeave:this.onMouseLeave.bind(this),ref:P=>{this.menuItem=P}},u&&q("vm-icon",{name:this.checkIcon,library:this.icons}),h&&q("span",{class:"arrow left"}),this.label,E&&q("span",{class:"spacer"}),y&&q("span",{class:"hint"},this.hint),T&&q("span",{class:"badge"},this.badge),f&&q("span",{class:"arrow right"}))}get host(){return this}static get style(){return":host{display:block}.menuItem{display:flex;position:relative;align-items:center;flex-direction:row;cursor:pointer;color:var(--vm-menu-color);background:var(--vm-menu-bg);font-size:var(--vm-menu-font-size);font-weight:var(--vm-menu-font-weight);padding:var(--vm-menu-item-padding);touch-action:manipulation;box-sizing:border-box}.menuItem:focus{outline:0}.menuItem.hidden{display:none}.menuItem.tapHighlight{background:var(--vm-menu-item-tap-highlight)}.menuItem.showDivider{border-bottom:0.5px solid var(--vm-menu-item-divider-color)}.menuItem.notTouch:hover,.menuItem.notTouch:focus{outline:0;color:var(--vm-menu-item-focus-color);background-color:var(--vm-menu-item-focus-bg)}.menuItem[aria-expanded='true']{position:absolute;z-index:2;top:0;width:100%}.menuItem[aria-hidden='true']{display:none}.menuItem[aria-checked='true'] vm-icon{opacity:1;visibility:visible}vm-icon{display:inline-block}vm-icon{fill:currentColor;pointer-events:none;font-size:var(--vm-menu-item-check-icon-size);margin-right:10px;opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.hint{display:inline-block;margin-left:auto;overflow:hidden;pointer-events:none;margin-right:6px;font-size:var(--vm-menu-item-hint-font-size);opacity:var(--vm-menu-item-hint-opacity);color:var(--vm-menu-item-hint-color)}.badge{display:inline-block;line-height:1;overflow:hidden;pointer-events:none;margin-left:6px;color:var(--vm-menu-item-badge-color);background:var(--vm-menu-item-badge-bg);font-size:var(--vm-menu-item-badge-font-size)}.spacer{flex:1}.arrow{color:var(--vm-menu-item-arrow-color);border:2px solid;padding:2px;display:inline-block;border-width:0 2px 2px 0}.arrow.left{margin-right:6px;transform:rotate(135deg)}.arrow.right{transform:rotate(-45deg);opacity:0.38}"}},$he=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmCheck=fe(this,"vmCheck",7),this.checked=!1,this.checkIcon="check",Xe(this)}onClick(){this.checked=!0,this.vmCheck.emit()}render(){return q("vm-menu-item",{label:this.label,checked:this.checked,badge:this.badge,checkIcon:this.checkIcon,icons:this.icons,onClick:this.onClick.bind(this)})}},Uhe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmCheck=fe(this,"vmCheck",7),Xe(this)}onValueChange(){var n;null===(n=this.findRadios())||void 0===n||n.forEach(t=>{t.checked=t.value===this.value})}connectedCallback(){this.onValueChange()}componentDidLoad(){this.onValueChange()}onSelectionChange(n){this.value=n.target.value}findRadios(){var n;return null===(n=this.host.shadowRoot.querySelector("slot"))||void 0===n?void 0:n.assignedElements()}render(){return q("slot",null)}get host(){return this}static get watchers(){return{value:["onValueChange"]}}},Vhe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmFocus=fe(this,"vmFocus",7),this.vmBlur=fe(this,"vmBlur",7),this.lowVolumeIcon="volume-low",this.highVolumeIcon="volume-high",this.mutedIcon="volume-mute",this.tooltipPosition="top",this.hideTooltip=!1,this.keys="m",this.volume=50,this.muted=!1,this.i18n={},Xe(this),Jt(this,["muted","volume","i18n"])}connectedCallback(){this.dispatch=Zl(this)}getIcon(){return this.muted||0===this.volume?this.mutedIcon:this.volume<50?this.lowVolumeIcon:this.highVolumeIcon}onClick(){this.dispatch("muted",!this.muted)}render(){const n=this.muted?this.i18n.unmute:this.i18n.mute,t=be(this.keys)?n:`${n} (${this.keys})`;return q("vm-control",{label:this.i18n.mute,pressed:this.muted,keys:this.keys,onClick:this.onClick.bind(this)},q("vm-icon",{name:this.getIcon(),library:this.icons}),q("vm-tooltip",{hidden:this.hideTooltip,position:this.tooltipPosition,direction:this.tooltipDirection},t))}};const jhe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.canSetPiP=!1,this.enterIcon="pip-enter",this.exitIcon="pip-exit",this.tooltipPosition="top",this.hideTooltip=!1,this.keys="p",this.isPiPActive=!1,this.i18n={},this.playbackReady=!1,Xe(this),Jt(this,["isPiPActive","playbackReady","i18n"])}onPlaybackReadyChange(){var n;return function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){const t=Ka(this);this.canSetPiP=null!==(n=yield t?.canSetPiP())&&void 0!==n&&n})}componentDidLoad(){this.onPlaybackReadyChange()}onClick(){const n=Ka(this);this.isPiPActive?n?.exitPiP():n?.enterPiP()}render(){const n=this.isPiPActive?this.i18n.exitPiP:this.i18n.enterPiP,t=be(this.keys)?n:`${n} (${this.keys})`;return q(af,{hidden:!this.canSetPiP},q("vm-control",{label:this.i18n.pip,keys:this.keys,pressed:this.isPiPActive,hidden:!this.canSetPiP,onClick:this.onClick.bind(this)},q("vm-icon",{name:this.isPiPActive?this.exitIcon:this.enterIcon,library:this.icons}),q("vm-tooltip",{hidden:this.hideTooltip,position:this.tooltipPosition,direction:this.tooltipDirection},t)))}static get watchers(){return{playbackReady:["onPlaybackReadyChange"]}}static get style(){return":host([hidden]){display:none}"}},zhe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.playIcon="play",this.pauseIcon="pause",this.tooltipPosition="top",this.hideTooltip=!1,this.keys="k",this.paused=!0,this.i18n={},Xe(this),Jt(this,["paused","i18n"])}connectedCallback(){this.dispatch=Zl(this)}onClick(){this.dispatch("paused",!this.paused)}render(){const n=this.paused?this.i18n.play:this.i18n.pause,t=be(this.keys)?n:`${n} (${this.keys})`;return q("vm-control",{label:this.i18n.playback,keys:this.keys,pressed:!this.paused,onClick:this.onClick.bind(this)},q("vm-icon",{name:this.paused?this.playIcon:this.pauseIcon,library:this.icons}),q("vm-tooltip",{hidden:this.hideTooltip,position:this.tooltipPosition,direction:this.tooltipDirection},t))}};class Ghe{constructor(){this.silent=!1}log(...t){!this.silent&&!be(console)&&console.log("[Vime tip]:",...t)}warn(...t){!this.silent&&!be(console)&&console.error("[Vime warn]:",...t)}}const yD=new Set;var M_=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const Zhe=new Set(["currentTime","paused"]);var mn=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};let qL=0;const Jhe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmThemeChange=fe(this,"vmThemeChange",7),this.vmPausedChange=fe(this,"vmPausedChange",7),this.vmPlay=fe(this,"vmPlay",7),this.vmPlayingChange=fe(this,"vmPlayingChange",7),this.vmSeekingChange=fe(this,"vmSeekingChange",7),this.vmSeeked=fe(this,"vmSeeked",7),this.vmBufferingChange=fe(this,"vmBufferingChange",7),this.vmDurationChange=fe(this,"vmDurationChange",7),this.vmCurrentTimeChange=fe(this,"vmCurrentTimeChange",7),this.vmReady=fe(this,"vmReady",7),this.vmPlaybackReady=fe(this,"vmPlaybackReady",7),this.vmPlaybackStarted=fe(this,"vmPlaybackStarted",7),this.vmPlaybackEnded=fe(this,"vmPlaybackEnded",7),this.vmBufferedChange=fe(this,"vmBufferedChange",7),this.vmError=fe(this,"vmError",7),this.vmLoadStart=fe(this,"vmLoadStart",7),this.vmCurrentProviderChange=fe(this,"vmCurrentProviderChange",7),this.vmCurrentSrcChange=fe(this,"vmCurrentSrcChange",7),this.vmCurrentPosterChange=fe(this,"vmCurrentPosterChange",7),this.vmMediaTitleChange=fe(this,"vmMediaTitleChange",7),this.vmControlsChange=fe(this,"vmControlsChange",7),this.vmPlaybackRateChange=fe(this,"vmPlaybackRateChange",7),this.vmPlaybackRatesChange=fe(this,"vmPlaybackRatesChange",7),this.vmPlaybackQualityChange=fe(this,"vmPlaybackQualityChange",7),this.vmPlaybackQualitiesChange=fe(this,"vmPlaybackQualitiesChange",7),this.vmMutedChange=fe(this,"vmMutedChange",7),this.vmVolumeChange=fe(this,"vmVolumeChange",7),this.vmViewTypeChange=fe(this,"vmViewTypeChange",7),this.vmMediaTypeChange=fe(this,"vmMediaTypeChange",7),this.vmLiveChange=fe(this,"vmLiveChange",7),this.vmTouchChange=fe(this,"vmTouchChange",7),this.vmLanguageChange=fe(this,"vmLanguageChange",7),this.vmI18nChange=fe(this,"vmI18nChange",7),this.vmTranslationsChange=fe(this,"vmTranslationsChange",7),this.vmLanguagesChange=fe(this,"vmLanguagesChange",7),this.vmFullscreenChange=fe(this,"vmFullscreenChange",7),this.vmPiPChange=fe(this,"vmPiPChange",7),this.vmTextTracksChange=fe(this,"vmTextTracksChange",7),this.vmCurrentTextTrackChange=fe(this,"vmCurrentTextTrackChange",7),this.vmTextTrackVisibleChange=fe(this,"vmTextTrackVisibleChange",7),this.vmAudioTracksChange=fe(this,"vmAudioTracksChange",7),this.vmCurrentAudioTrackChange=fe(this,"vmCurrentAudioTrackChange",7),this.disposal=new qi,this.logger=new Ghe,this.icons="vime",this.paused=!0,this.playing=!1,this.duration=-1,this.currentTime=0,this.autoplay=!1,this.ready=!1,this.playbackReady=!1,this.loop=!1,this.muted=!1,this.buffered=0,this.playbackRate=1,this.lastRateCheck=1,this.playbackRates=[1],this.playbackQualities=[],this.seeking=!1,this.debug=!1,this.playbackStarted=!1,this.playbackEnded=!1,this.buffering=!1,this.controls=!1,this.isControlsActive=!1,this.isSettingsActive=!1,this.volume=50,this.isFullscreenActive=!1,this.aspectRatio="16:9",this.isAudioView=!1,this.isVideoView=!1,this.isAudio=!1,this.isVideo=!1,this.isLive=!1,this.isMobile=!1,this.isTouch=!1,this.isPiPActive=!1,this.textTracks=[],this.currentTextTrack=-1,this.isTextTrackVisible=!0,this.shouldRenderNativeTextTracks=!0,this.audioTracks=[],this.currentAudioTrack=-1,this.autopause=!0,this.playsinline=!1,this.language="en",this.translations={en:w_},this.languages=["en"],this.i18n=w_,function Uue(n){const t=n;let e;po(n,()=>{e=Nn(t,hL,i=>{i.stopPropagation(),i.detail(t)})},()=>{e?.()})}(this),function zue(n){const t=n,e=new Map,i=new qi;function o(a){const c=a.detail,u=hf(c);u[nD]=t,u[bd]=e,e.set(u[iD],u),t.dispatchEvent(new CustomEvent(gL,{detail:u})),po(c,void 0,()=>function r(a){delete a[nD],delete a[bd],e.delete(a[iD]),t.dispatchEvent(new CustomEvent(_L,{detail:a}))}(u))}t[bd]=e,po(n,()=>{i.add(Nn(t,mL,o))},()=>{e.clear(),i.empty(),delete n[bd]})}(this),function Whe(n){const t=n;po(n,()=>{yD.add(t)},()=>{yD.delete(t)})}(this),function rde(n){const t=n,e=new qi,i=new Map;function a(u){u.stopImmediatePropagation(),function r(){Object.keys(n).forEach(u=>{i.set(u,n[u])})}();const h=u.detail,f=u.detail;if(n.provider===f)return;const y=f?.nodeName.toLowerCase().replace("vm-","");uo(()=>DL(this,void 0,void 0,function*(){n.provider=f,n.currentProvider=Object.values(T_).find(T=>y===T),po(h,void 0,()=>function o(){uo(()=>DL(this,void 0,void 0,function*(){var u;n.ready=!1,n.provider=void 0,i.clear(),null===(u=n.onProviderDisconnect)||void 0===u||u.call(n),t.dispatchEvent(ML("vmMediaProviderDisconnect"))}))}())}))}function c(u){var h;u.stopImmediatePropagation();const{by:f,prop:y,value:T}=u.detail;(n=>fL(n)||tde.has(n))(y)?uo(()=>{i.set(y,T),n[y]=T}):null===(h=n.logger)||void 0===h||h.warn(`${f.nodeName} tried to change \`${y}\` but it is readonly.`)}n[EL]=i,po(n,()=>{e.add(Nn(t,kL,a)),e.add(Nn(t,TL,c))},()=>{e.empty(),i.clear()})}(this),function Qhe(n){const t=n,e=new Map;po(n,()=>{!function i(){Object.keys(df).forEach(o=>{e.set(o,n[o])})}()},()=>{e.clear()});const{componentDidRender:r}=n;n.componentDidRender=function(){r?.();const o=Array.from(e.keys());for(let a=0;a<o.length;a+=1){const c=o[a],u=e.get(c),h=n[c];u!==h&&(Yue(t,c,h,u),e.set(c,h))}}}(this),this.safeAdapterCall=function Khe(n){const t=n,e=new qi,i=new Map;let o=[],c=!1;function u(T){T?.stopImmediatePropagation(),c?(o=[],uo(()=>{Object.keys(df).filter(Hue).forEach(E=>{n[E]=df[E]})})):c=!0}function h(T){var E;return M_(this,void 0,void 0,function*(){T.stopImmediatePropagation();const{by:P,prop:$,value:G}=T.detail;if(fL($)){if(!n.playbackStarted&&Zhe.has($)){const Q=yield n.adapter;"paused"===$&&!G&&Q?.play(),"currentTime"===$&&(Q?.play(),Q?.setCurrentTime(G))}uo(()=>{n[$]=G})}else null===(E=n.logger)||void 0===E||E.warn(`${P.nodeName} tried to change \`${$}\` but it is readonly.`)})}const{onProviderDisconnect:f}=n;return n.onProviderDisconnect=function(){u(),f&&f.call(n)},po(n,()=>{(function r(){Object.keys(df).forEach(T=>{i.set(T,n[T])})})(),e.add(Nn(t,"vmLoadStart",u)),e.add(Nn(t,pL,h))},()=>{i.clear(),e.empty()}),uf(n,"componentWillRender",()=>M_(this,void 0,void 0,function*(){n.playbackReady&&o.length>0&&(yield function a(){return M_(this,void 0,void 0,function*(){const T=yield n.adapter;if(!be(T)){for(let E=0;E<o.length;E+=1)yield o[E](T);o=[]}})}())})),function(E,P){return M_(this,void 0,void 0,function*(){if(!function y(T,E){var P;return E!==(null===(P=n[EL])||void 0===P?void 0:P.get(T))}(E,n[E]))return;const $=n[E],G=Q=>M_(this,void 0,void 0,function*(){var te;try{yield null===(te=Q?.[P])||void 0===te?void 0:te.call(Q,$)}catch(Y){t.dispatchEvent(new CustomEvent("vmError",{detail:Y}))}});n.playbackReady?yield G(yield n.adapter):o.push(G)})}}(this)}get adapter(){var n;return null===(n=this.provider)||void 0===n?void 0:n.getAdapter()}onContainerChange(){var n;null===(n=this.fullscreenController)||void 0===n||n.destroy(),!be(this.container)&&(this.fullscreenController=new jL(this.container),this.fullscreenController.on("change",t=>{this.isFullscreenActive=t,t&&this.rotateDevice()}),this.fullscreenController.on("error",t=>{this.vmError.emit(t)}))}onPausedChange(){this.paused?this.playing=!1:function qhe(n){const t=n;yD.forEach(e=>{e!==t&&e.autopause&&(e.paused=!0)})}(this),this.safeAdapterCall("paused",this.paused?"pause":"play")}onDurationChange(){this.isLive=this.duration===1/0}onCurrentTimeChange(){this.currentTime=Math.max(0,Math.min(this.currentTime,this.playbackReady?this.duration:1/0)),this.safeAdapterCall("currentTime","setCurrentTime")}onPlaybackReadyChange(){this.ready||(this.ready=!0)}onMutedChange(){this.safeAdapterCall("muted","setMuted")}onPlaybackRateChange(n,t){var e,i;return mn(this,void 0,void 0,function*(){if(n!==this.lastRateCheck){if(!(yield null===(i=null===(e=yield this.adapter)||void 0===e?void 0:e.canSetPlaybackRate)||void 0===i?void 0:i.call(e)))return this.logger.log("provider cannot change `playbackRate`."),this.lastRateCheck=t,void(this.playbackRate=t);if(!this.playbackRates.includes(n))return this.logger.log(`invalid \`playbackRate\` of ${n}, valid values are [${this.playbackRates.join(", ")}]`),this.lastRateCheck=t,void(this.playbackRate=t);this.lastRateCheck=n,this.safeAdapterCall("playbackRate","setPlaybackRate")}})}onPlaybackQualityChange(n,t){var e,i;return mn(this,void 0,void 0,function*(){if(!be(n)&&n!==this.lastQualityCheck){if(!(yield null===(i=null===(e=yield this.adapter)||void 0===e?void 0:e.canSetPlaybackQuality)||void 0===i?void 0:i.call(e)))return this.logger.log("provider cannot change `playbackQuality`."),this.lastQualityCheck=t,void(this.playbackQuality=t);if(!this.playbackQualities.includes(n))return this.logger.log(`invalid \`playbackQuality\` of ${n}, valid values are [${this.playbackQualities.join(", ")}]`),this.lastQualityCheck=t,void(this.playbackQuality=t);this.lastQualityCheck=n,this.safeAdapterCall("playbackQuality","setPlaybackQuality")}})}onDebugChange(){this.logger.silent=!this.debug}onVolumeChange(){return mn(this,void 0,void 0,function*(){this.volume=Math.max(0,Math.min(this.volume,100)),this.safeAdapterCall("volume","setVolume")})}onViewTypeChange(){this.isAudioView=this.viewType===fo.Audio,this.isVideoView=this.viewType===fo.Video}onMediaTypeChange(){this.isAudio=this.mediaType===ws.Audio,this.isVideo=this.mediaType===ws.Video}onLanguageChange(n,t){if(!this.languages.includes(this.language))return this.logger.log(`invalid \`language\` of ${this.language}, valid values are [${this.languages.join(", ")}]`),void(this.language=t);this.i18n=this.translations[this.language]}onTranslationsChange(){Object.assign(this.translations,{en:w_}),this.languages=Object.keys(this.translations),this.i18n=this.translations[this.language]}onError(n){this.logger.warn(n.detail)}getProvider(){return mn(this,void 0,void 0,function*(){return this.provider})}getAdapter(){return mn(this,void 0,void 0,function*(){return this.adapter})}play(){var n;return mn(this,void 0,void 0,function*(){return null===(n=yield this.adapter)||void 0===n?void 0:n.play()})}pause(){var n;return mn(this,void 0,void 0,function*(){return null===(n=yield this.adapter)||void 0===n?void 0:n.pause()})}canPlay(n){var t,e;return mn(this,void 0,void 0,function*(){return null!==(e=null===(t=yield this.adapter)||void 0===t?void 0:t.canPlay(n))&&void 0!==e&&e})}canAutoplay(){return mn(this,void 0,void 0,function*(){return AL()})}canMutedAutoplay(){return mn(this,void 0,void 0,function*(){return AL(!0)})}canSetPlaybackRate(){var n,t,e;return mn(this,void 0,void 0,function*(){return null!==(e=null===(t=null===(n=yield this.adapter)||void 0===n?void 0:n.canSetPlaybackRate)||void 0===t?void 0:t.call(n))&&void 0!==e&&e})}canSetPlaybackQuality(){var n,t,e;return mn(this,void 0,void 0,function*(){return null!==(e=null===(t=null===(n=yield this.adapter)||void 0===n?void 0:n.canSetPlaybackQuality)||void 0===t?void 0:t.call(n))&&void 0!==e&&e})}canSetFullscreen(){var n,t,e;return mn(this,void 0,void 0,function*(){return this.fullscreenController.isSupported||null!==(e=null===(t=null===(n=yield this.adapter)||void 0===n?void 0:n.canSetFullscreen)||void 0===t?void 0:t.call(n))&&void 0!==e&&e})}enterFullscreen(n){var t,e,i;return mn(this,void 0,void 0,function*(){if(!this.isVideoView)throw Error("Cannot enter fullscreen on an audio player view.");if(this.fullscreenController.isSupported)return this.fullscreenController.requestFullscreen();const r=yield this.adapter;if(null!==(e=yield null===(t=r?.canSetFullscreen)||void 0===t?void 0:t.call(r))&&void 0!==e&&e)return null===(i=r?.enterFullscreen)||void 0===i?void 0:i.call(r,n);throw Error("Fullscreen API is not available.")})}exitFullscreen(){var n,t;return mn(this,void 0,void 0,function*(){return this.fullscreenController.isSupported?this.fullscreenController.exitFullscreen():null===(t=null===(n=yield this.adapter)||void 0===n?void 0:n.exitFullscreen)||void 0===t?void 0:t.call(n)})}canSetPiP(){var n,t,e;return mn(this,void 0,void 0,function*(){return null!==(e=null===(t=null===(n=yield this.adapter)||void 0===n?void 0:n.canSetPiP)||void 0===t?void 0:t.call(n))&&void 0!==e&&e})}enterPiP(){var n,t;return mn(this,void 0,void 0,function*(){if(!this.isVideoView)throw Error("Cannot enter PiP mode on an audio player view.");if(!(yield this.canSetPiP()))throw Error("Picture-in-Picture API is not available.");return null===(t=null===(n=yield this.adapter)||void 0===n?void 0:n.enterPiP)||void 0===t?void 0:t.call(n)})}exitPiP(){var n,t;return mn(this,void 0,void 0,function*(){return null===(t=null===(n=yield this.adapter)||void 0===n?void 0:n.exitPiP)||void 0===t?void 0:t.call(n)})}canSetAudioTrack(){var n;return mn(this,void 0,void 0,function*(){return!be(null===(n=yield this.adapter)||void 0===n?void 0:n.setCurrentAudioTrack)})}setCurrentAudioTrack(n){var t,e;return mn(this,void 0,void 0,function*(){null===(e=null===(t=yield this.adapter)||void 0===t?void 0:t.setCurrentAudioTrack)||void 0===e||e.call(t,n)})}canSetTextTrack(){var n;return mn(this,void 0,void 0,function*(){return!be(null===(n=yield this.adapter)||void 0===n?void 0:n.setCurrentTextTrack)})}setCurrentTextTrack(n){var t,e;return mn(this,void 0,void 0,function*(){null===(e=null===(t=yield this.adapter)||void 0===t?void 0:t.setCurrentTextTrack)||void 0===e||e.call(t,n)})}canSetTextTrackVisibility(){var n;return mn(this,void 0,void 0,function*(){return!be(null===(n=yield this.adapter)||void 0===n?void 0:n.setTextTrackVisibility)})}setTextTrackVisibility(n){var t,e;return mn(this,void 0,void 0,function*(){null===(e=null===(t=yield this.adapter)||void 0===t?void 0:t.setTextTrackVisibility)||void 0===e||e.call(t,n)})}extendLanguage(n,t){var e;return mn(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},this.translations),{[n]:Object.assign(Object.assign({},null!==(e=this.translations[n])&&void 0!==e?e:{}),t)});this.translations=i})}connectedCallback(){this.onPausedChange(),this.onCurrentTimeChange(),this.onVolumeChange(),this.onMutedChange(),this.onDebugChange(),this.onContainerChange(),this.onTranslationsChange(),this.onLanguageChange(this.language,df.language),this.disposal.add((n=>!qr||be(window.ResizeObserver)?(n(cD),na):(n(window.innerWidth<=480||cD),Nn(window,"resize",function t(){n(window.innerWidth<=480||cD)})))(n=>{this.isMobile=n})),this.disposal.add((n=>{if(!qr)return na;let t=0;const e=Nn(document,"touchstart",()=>{t=(new Date).getTime(),n(!0)},!0),i=Nn(document,"mousemove",()=>{(new Date).getTime()-t<500||n(!1)},!0);return()=>{e(),i()}})(n=>{this.isTouch=n}))}componentWillLoad(){!function(n,t){var e=n,i=new Map,r={wormholes:i,state:t};S_.set(n,r);var o=n.connectedCallback;n.connectedCallback=function(){S_.set(n,r),o&&o.call(n)};var a=n.disconnectedCallback;n.disconnectedCallback=function(){S_.delete(n),a&&a.call(n)},e.addEventListener("openWormhole",function(c){c.stopPropagation();var u=c.detail,h=u.consumer,f=u.onOpen;if(!i.has(h)){if("symbol"!=typeof h){var y=h.connectedCallback,T=h.disconnectedCallback;h.connectedCallback=function(){i.set(h,c.detail),y&&y.call(h)},h.disconnectedCallback=function(){i.delete(h),T&&T.call(h)}}i.set(h,c.detail),bL(c.detail,r.state),f?.resolve(function(){i.delete(h)})}}),e.addEventListener("closeWormhole",function(c){i.delete(c.detail)})}(this,this.getPlayerState())}disconnectedCallback(){var n;null===(n=this.fullscreenController)||void 0===n||n.destroy(),this.disposal.empty()}rotateDevice(){return mn(this,void 0,void 0,function*(){if(this.isMobile&&qr&&window.screen.orientation&&window.screen.orientation.lock)try{this.isFullscreenActive?yield window.screen.orientation.lock("landscape"):yield window.screen.orientation.unlock()}catch(n){this.vmError.emit(n)}})}getPlayerState(){const n={},t=Object.keys(df);for(let e=0;e<t.length;e+=1)n[t[e]]=this[t[e]];return n}calcAspectRatio(){const[n,t]=/\d{1,2}:\d{1,2}/.test(this.aspectRatio)?this.aspectRatio.split(":"):[16,9];return 100/Number(n)*Number(t)}getContainer(){return mn(this,void 0,void 0,function*(){return this.container})}callAdapter(n,t){return mn(this,void 0,void 0,function*(){return(yield this.adapter)[n](t)})}hasCustomControls(){return function Gue(n,t){var e;const r=hf(n)[bd];return Array.from(null!==(e=r?.values())&&void 0!==e?e:[]).some(o=>o[d1]===t)}(this,"vm-controls")}genId(){var n;const t=null===(n=this.host)||void 0===n?void 0:n.id;return yr(t)&&t.length>0?t:(qL+=1,`vm-player-${qL}`)}render(){const n=`${this.isAudioView?"Audio Player":"Video Player"}${be(this.mediaTitle)?"":` - ${this.mediaTitle}`}`,t=!mf||!this.isVideoView||this.playsinline&&!this.isFullscreenActive;t||(this.controls=!0);const e=t&&this.hasCustomControls()&&this.isVideoView&&!this.paused&&!this.isControlsActive,i=!this.controls&&t&&this.isVideoView;return q(af,{id:this.genId(),idle:e,mobile:this.isMobile,touch:this.isTouch,live:this.isLive,audio:this.isAudioView,video:this.isVideoView,pip:this.isPiPActive,fullscreen:this.isFullscreenActive},q("div",{"aria-label":n,"aria-hidden":this.ready?"false":"true","aria-busy":this.playbackReady?"false":"true",class:{player:!0,idle:e,audio:this.isAudioView,video:this.isVideoView,fullscreen:this.isFullscreenActive},style:{paddingBottom:this.isVideoView?`${this.calcAspectRatio()}%`:void 0},ref:r=>{uo(()=>{this.container=r})}},i&&q("div",{class:"blocker"}),q(CL_Provider,{state:this.getPlayerState()},q("slot",null))))}get host(){return this}static get watchers(){return{container:["onContainerChange"],paused:["onPausedChange"],duration:["onDurationChange"],currentTime:["onCurrentTimeChange"],playbackReady:["onPlaybackReadyChange"],muted:["onMutedChange"],playbackRate:["onPlaybackRateChange"],playbackQuality:["onPlaybackQualityChange"],debug:["onDebugChange"],volume:["onVolumeChange"],viewType:["onViewTypeChange"],isAudioView:["onViewTypeChange"],isVideoView:["onViewTypeChange"],mediaType:["onMediaTypeChange"],language:["onLanguageChange"],translations:["onTranslationsChange"]}}static get style(){return".player{box-sizing:border-box;direction:ltr;font-family:var(--vm-player-font-family);-moz-osx-font-smoothing:auto;-webkit-font-smoothing:subpixel-antialiased;-webkit-tap-highlight-color:transparent;font-variant-numeric:tabular-nums;font-weight:500;line-height:1.7;width:100%;display:block;max-width:100%;min-width:275px;min-height:40px;position:relative;text-shadow:none;outline:0;transition:box-shadow 0.3s ease;box-shadow:var(--vm-player-box-shadow);border-radius:var(--vm-player-border-radius)}.player.idle{cursor:none}.player.audio{background-color:transparent !important}.player.video{height:0;overflow:hidden;background-color:var(--vm-player-bg, #000)}.player.fullscreen{margin:0;border-radius:0;width:100%;height:100%;padding-bottom:0 !important}.blocker{position:absolute;top:0;left:0;width:100%;height:100%;display:inline-block;z-index:var(--vm-blocker-z-index)}"}},epe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmLoaded=fe(this,"vmLoaded",3),this.vmWillShow=fe(this,"vmWillShow",3),this.vmWillHide=fe(this,"vmWillHide",3),this.isHidden=!0,this.isActive=!1,this.hasLoaded=!1,this.fit="cover",this.isVideoView=!1,this.playbackStarted=!1,this.currentTime=0,Xe(this),Jt(this,["mediaTitle","currentPoster","playbackStarted","currentTime","isVideoView"])}onCurrentPosterChange(){var n;this.hasLoaded=!1,null===(n=this.lazyLoader)||void 0===n||n.onMutation()}connectedCallback(){this.lazyLoader=new fD(this.host,["data-src","src"],n=>{const t=n.getAttribute("data-src");n.removeAttribute("src"),ql(t)||n.setAttribute("src",t)}),this.onEnabledChange(),this.onActiveChange()}disconnectedCallback(){this.lazyLoader.destroy()}onVisibilityChange(){!this.isHidden&&this.isActive?this.vmWillShow.emit():this.vmWillHide.emit()}onEnabledChange(){this.isHidden=!this.isVideoView,this.onVisibilityChange()}onActiveChange(){this.isActive=!this.playbackStarted||this.currentTime<=.1,this.onVisibilityChange()}onPosterLoad(){this.vmLoaded.emit(),this.hasLoaded=!0}render(){return q("div",{class:{poster:!0,hidden:this.isHidden,active:this.isActive&&this.hasLoaded}},q("img",{class:"lazy","data-src":this.currentPoster,alt:be(this.mediaTitle)?"Media Poster":`${this.mediaTitle} Poster`,style:{objectFit:this.fit},onLoad:this.onPosterLoad.bind(this)}))}get host(){return this}static get watchers(){return{currentPoster:["onCurrentPosterChange"],isVideoView:["onEnabledChange"],currentTime:["onActiveChange"],playbackStarted:["onActiveChange"]}}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-poster-z-index)}.poster{width:100%;height:100%;background:#000;opacity:0;visibility:hidden;pointer-events:none;transition:var(--vm-fade-transition)}.poster.hidden{display:none}.poster.active{opacity:1;visibility:visible}img{width:100%;height:100%;pointer-events:none}"}},npe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.isVideoView=!1,this.isControlsActive=!1,Xe(this),Jt(this,["isVideoView","isControlsActive"])}render(){return q("div",{class:{scrim:!0,gradient:!be(this.gradient),gradientUp:"up"===this.gradient,gradientDown:"down"===this.gradient,hidden:!this.isVideoView,active:this.isControlsActive}})}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-scrim-z-index)}.scrim{position:absolute;width:100%;background:var(--vm-scrim-bg);display:inline-block;opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.scrim.gradient{height:258px;background:none;background-position:bottom;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAECCAYAAAA/9r2TAAABKklEQVQ4T2XI50cFABiF8dvee++67b33uM17b1MkkSSSSBJJJIkkkkQSSSKJ9Efmeb8cr86HH88JBP4thkfEkiKOFPGkSCCNRE8SKZJJkUIaqZ40UqSTIoMUmaSR5ckmRQ4pckkjz5NPigJSFJKiiDSKPSWkKCVFGWmUeypIUUmKKlJUk0aNJ0iKWlLUkUa9p4EUjaRoIkUzabR4WknRRop20ujwdJKiixTdpOghjV5PHyn6STFAGoOeIVIMk2KEFKOkMeYZJ8UEKUKkMemZIsU0KWZIMUsac54wKSKkiJLGvGeBFIukWCLFMrkCq7AG67ABm7AF27ADu7AH+3AAh3AEx3ACp3AG53ABl3AF13ADt3AH9/AAj/AEz/ACr/AG7/ABn/AF3/ADv39LujSyJPVJ0QAAAABJRU5ErkJggg==')}.scrim.gradientUp{top:unset;bottom:0}.scrim.gradientDown{transform:rotate(180deg)}.scrim.hidden{display:none}.scrim.active{opacity:1;visibility:visible}"}},x_=(n=0,t=!1)=>{const e=a=>`0${a}`.slice(-2),i=(n=>Math.trunc(n/60/60%60))(n),r=(n=>Math.trunc(n/60%60))(n),o=(n=>Math.trunc(n%60))(n);return`${t||i>0?`${i}:`:""}${e(r)}:${e(o)}`};const lpe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.keyboardDisposal=new qi,this.timestamp="",this.endTime=0,this.alwaysShowHours=!1,this.hideTooltip=!1,this.currentTime=0,this.duration=-1,this.noKeyboard=!1,this.buffering=!1,this.buffered=0,this.i18n={},Xe(this),Jt(this,["i18n","currentTime","duration","buffering","buffered"])}onNoKeyboardChange(){return function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){if(this.keyboardDisposal.empty(),this.noKeyboard)return;const n=yield Za(this);be(n)||this.keyboardDisposal.add(Nn(n,"keydown",e=>{if("ArrowLeft"!==e.key&&"ArrowRight"!==e.key)return;e.preventDefault();const r="ArrowLeft"===e.key?Math.max(0,this.currentTime-5):Math.min(this.duration,this.currentTime+5);this.dispatch("currentTime",r)}))})}onDurationChange(){this.endTime=Math.max(0,this.duration)}connectedCallback(){this.dispatch=Zl(this),this.timestamp=x_(this.currentTime,this.alwaysShowHours),this.onNoKeyboardChange()}disconnectedCallback(){this.keyboardDisposal.empty()}setTooltipPosition(n){var t,e;const i=null===(e=null===(t=this.tooltip.shadowRoot)||void 0===t?void 0:t.querySelector(".tooltip"))||void 0===e?void 0:e.getBoundingClientRect(),r=this.slider.getBoundingClientRect(),o=parseFloat(window.getComputedStyle(this.slider).getPropertyValue("--vm-slider-thumb-width")),u=Math.max(i.width/2-o/2,Math.min(n,r.width-i.width/2-o/2));this.tooltip.style=`--vm-tooltip-left: ${u}px`}onSeek(n){this.dispatch("currentTime",n.detail)}onSeeking(n){if(this.duration<0||this.tooltip.hidden)return;if("mouseleave"===n.type)return this.getSliderInput().blur(),void(this.tooltip.active=!1);const t=this.host.getBoundingClientRect(),e=Math.max(0,Math.min(100,100/t.width*(n.pageX-t.left)));this.timestamp=x_(this.duration/100*e,this.alwaysShowHours),this.setTooltipPosition(e/100*t.width),this.tooltip.active||(this.getSliderInput().focus(),this.tooltip.active=!0)}getSliderInput(){var n;return null===(n=this.slider.shadowRoot)||void 0===n?void 0:n.querySelector("input")}render(){const n=this.i18n.scrubberLabel.replace(/{currentTime}/,x_(this.currentTime)).replace(/{duration}/,x_(this.endTime));return q("div",{class:"scrubber",onMouseEnter:this.onSeeking.bind(this),onMouseLeave:this.onSeeking.bind(this),onMouseMove:this.onSeeking.bind(this),onTouchMove:()=>{this.getSliderInput().focus()},onTouchEnd:()=>{this.getSliderInput().blur()}},q("vm-slider",{step:.01,max:this.endTime,value:this.currentTime,label:this.i18n.scrubber,valueText:n,onVmValueChange:this.onSeek.bind(this),ref:t=>{this.slider=t}}),q("progress",{class:{loading:this.buffering},min:0,max:this.endTime,value:this.buffered,"aria-label":this.i18n.buffered,"aria-valuemin":"0","aria-valuemax":this.endTime,"aria-valuenow":this.buffered,"aria-valuetext":`${(this.endTime>0?this.buffered/this.endTime:0).toFixed(0)}%`},"% buffered"),q("vm-tooltip",{hidden:this.hideTooltip,ref:t=>{this.tooltip=t}},this.timestamp))}get host(){return this}static get watchers(){return{noKeyboard:["onNoKeyboardChange"],duration:["onDurationChange"]}}static get style(){return":host{--vm-tooltip-spacing:var(--vm-scrubber-tooltip-spacing);flex:1;position:relative;cursor:pointer;pointer-events:auto;box-sizing:border-box;left:calc(var(--vm-slider-thumb-width) / 2);margin-right:var(--vm-slider-thumb-width);margin-bottom:var(--vm-slider-track-height)}@keyframes progress{to{background-position:var(--vm-scrubber-loading-stripe-size) 0}}.scrubber{position:relative;width:100%}vm-slider,progress{margin-left:calc(calc(var(--vm-slider-thumb-width) / 2) * -1);margin-right:calc(calc(var(--vm-slider-thumb-width) / 2) * -1);width:calc(100% + var(--vm-slider-thumb-width));height:var(--vm-slider-track-height)}vm-slider:hover,progress:hover{cursor:pointer}vm-slider{position:absolute;top:0;left:0;z-index:3}progress{-webkit-appearance:none;background:transparent;border:0;border-radius:100px;position:absolute;left:0;top:50%;padding:0;color:var(--vm-scrubber-buffered-bg);height:var(--vm-slider-track-height)}progress::-webkit-progress-bar{background:transparent}progress::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:var(--vm-slider-track-height);transition:width 0.2s ease}progress::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:var(--vm-slider-track-height);transition:width 0.2s ease}progress::-ms-fill{border-radius:100px;transition:width 0.2s ease}progress.loading{animation:progress 1s linear infinite;background-image:linear-gradient(\n    -45deg,\n    var(--vm-scrubber-loading-stripe-color) 25%,\n    transparent 25%,\n    transparent 50%,\n    var(--vm-scrubber-loading-stripe-color) 50%,\n    var(--vm-scrubber-loading-stripe-color) 75%,\n    transparent 75%,\n    transparent\n  );background-repeat:repeat-x;background-size:var(--vm-scrubber-loading-stripe-size)\n    var(--vm-scrubber-loading-stripe-size);color:transparent;background-color:transparent}"}};let QL=0;const dpe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.disposal=new qi,this.menuHeight=0,this.pin="bottomRight",this.active=!1,this.isMobile=!1,this.isAudioView=!1,Xe(this),IL(this),Jt(this,["isMobile","isAudioView"])}onActiveChange(){this.dispatch("isSettingsActive",this.active),!be(this.controller)&&(this.controller.expanded=this.active)}connectedCallback(){this.dispatch=Zl(this),QL+=1,this.id=`vm-settings-${QL}`}disconnectedCallback(){this.disposal.empty()}setController(n){return function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){this.controller=n,this.controller.menu=this.id,this.disposal.empty(),this.disposal.add(Nn(this.controller,"click",()=>{this.active=!this.active})),this.disposal.add(Nn(this.controller,"keydown",t=>{"Enter"===t.key&&(this.active||this.menu.focusMenu())}))})}getPosition(){if(this.isAudioView)return{right:"0",bottom:"calc(var(--vm-controls-height, 0) + 4px)"};const n=this.pin.split(/(?=[L|R])/).map(t=>t.toLowerCase());return{[n.includes("top")?"top":"bottom"]:"var(--vm-controls-height, 0)",[n.includes("left")?"left":"right"]:"8px"}}onOpen(n){var t;(null===(t=n.detail)||void 0===t?void 0:t.identifier)===this.id&&(this.active=!0)}onClose(n){var t;(null===(t=n.detail)||void 0===t?void 0:t.identifier)===this.id&&(this.active=!1)}onHeightChange(n){this.menuHeight=n.detail}render(){return q("div",{style:Object.assign({},this.getPosition()),class:{settings:!0,active:this.active,mobile:this.isMobile}},q("div",{class:"container",style:{height:`${this.menuHeight}px`}},q("vm-menu",{identifier:this.id,active:this.active,controller:this.controller,onVmOpen:this.onOpen.bind(this),onVmClose:this.onClose.bind(this),onVmMenuHeightChange:this.onHeightChange.bind(this),ref:n=>{this.menu=n}},q("slot",null))))}get host(){return this}static get watchers(){return{active:["onActiveChange"]}}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-menu-z-index)}.settings{position:absolute;opacity:0;pointer-events:none;overflow-x:hidden;overflow-y:auto;background-color:var(--vm-menu-bg);max-height:var(--vm-settings-max-height);border-radius:var(--vm-settings-border-radius);padding:var(--vm-settings-padding);box-shadow:var(--vm-settings-shadow);box-sizing:border-box;scrollbar-width:thin;scroll-behavior:smooth;scrollbar-color:var(--vm-settings-scroll-thumb-color)\n    var(--vm-settings-scroll-track-color);transform:translateY(8px);transition:var(--vm-settings-transition)}.container{display:block;width:var(--vm-settings-width);height:100%;position:relative;transition:width 0.25s ease-in, height 0.25s ease-in}.settings.hydrated{visibility:hidden !important}.settings::-webkit-scrollbar{width:var(--vm-settings-scroll-width)}.settings::-webkit-scrollbar-track{background:var(--vm-settings-scroll-track-color)}.settings::-webkit-scrollbar-thumb{border-radius:var(--vm-settings-scroll-width);background-color:var(--vm-settings-scroll-thumb-color);border:2px solid var(--vm-menu-bg)}.settings.active{transform:translateY(0);opacity:1;pointer-events:auto;visibility:visible !important}.settings.mobile{position:fixed;top:auto !important;left:0 !important;right:0 !important;bottom:0 !important;width:100%;min-height:56px;max-height:50%;border-radius:0;z-index:2147483647;transform:translateY(100%)}.settings.mobile.active{transform:translateY(0)}.settings.mobile>vm-menu{height:100% !important;overflow:auto !important}"}};var ZL=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};let KL=0;const ppe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.icon="settings",this.tooltipPosition="top",this.expanded=!1,this.i18n={},Xe(this),Jt(this,["i18n"])}onComponentsChange(){be(this.vmSettings)||this.vmSettings.setController(this.host)}connectedCallback(){KL+=1,this.id=`vm-settings-control-${KL}`,yL(this,"vm-settings",n=>{[this.vmSettings]=n})}focusControl(){var n;return ZL(this,void 0,void 0,function*(){null===(n=this.control)||void 0===n||n.focusControl()})}blurControl(){var n;return ZL(this,void 0,void 0,function*(){null===(n=this.control)||void 0===n||n.blurControl()})}render(){const n=!be(this.menu);return q("div",{class:{settingsControl:!0,hidden:!n,active:n&&this.expanded}},q("vm-control",{identifier:this.id,menu:this.menu,hidden:!n,expanded:this.expanded,label:this.i18n.settings,ref:t=>{this.control=t}},q("vm-icon",{name:this.icon,library:this.icons}),q("vm-tooltip",{hidden:this.expanded,position:this.tooltipPosition,direction:this.tooltipDirection},this.i18n.settings)))}get host(){return this}static get watchers(){return{vmSettings:["onComponentsChange"]}}static get style(){return".settingsControl.hidden{display:none}.settingsControl{--vm-icon-transition:transform 0.3s ease}.settingsControl.active{--vm-icon-transform:rotate(90deg)}"}},mpe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.hidden=!1,this.effect="sheen",this.ready=!1,Xe(this),Jt(this,["ready"])}onReadyChange(){this.ready?setTimeout(()=>{this.hidden=!0},500):this.hidden=!1}render(){return q("div",{class:{skeleton:!0,hidden:this.hidden,sheen:"sheen"===this.effect}},q("div",{class:"indicator"}))}static get watchers(){return{ready:["onReadyChange"]}}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-skeleton-z-index)}@keyframes sheen{0%{background-position:200% 0}to{background-position:-200% 0}}.skeleton{width:100%;height:100%;display:flex;min-height:1rem;pointer-events:auto}.sheen.hidden{opacity:0;visibility:hidden;transition:var(--vm-fade-transition);pointer-events:none}.indicator{flex:1 1 auto;background:var(--vm-skeleton-color)}.skeleton.sheen .indicator{background:linear-gradient(\n    270deg,\n    var(--vm-skeleton-sheen-color),\n    var(--vm-skeleton-color),\n    var(--vm-skeleton-color),\n    var(--vm-skeleton-sheen-color)\n  );background-size:400% 100%;background-size:400% 100%;animation:sheen 8s ease-in-out infinite}"}},_pe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmValueChange=fe(this,"vmValueChange",7),this.vmFocus=fe(this,"vmFocus",7),this.vmBlur=fe(this,"vmBlur",7),this.step=1,this.min=0,this.max=10,this.value=5,Xe(this)}getPercentage(){return this.value/this.max*100+"%"}onValueChange(n){var t;const e=parseFloat(null===(t=n.target)||void 0===t?void 0:t.value);this.vmValueChange.emit(e)}calcTouchedValue(n){const t=n.target,e=n.changedTouches[0],i=parseFloat(t.getAttribute("min")),r=parseFloat(t.getAttribute("max")),o=parseFloat(t.getAttribute("step")),a=r-i;let c;const u=t.getBoundingClientRect(),h=parseFloat(window.getComputedStyle(this.host).getPropertyValue("--vm-slider-thumb-width")),f=100/u.width*(h/2)/100;c=100/u.width*(e.clientX-u.left),c=Math.max(0,Math.min(c,100)),c<50?c-=(100-2*c)*f:c>50&&(c+=2*(c-50)*f);const y=a*(c/100);return o>=1?i+Math.round(y/o)*o:i+parseFloat(y.toFixed(2))}onTouch(n){const t=n.target;t.disabled||(n.preventDefault(),this.value=this.calcTouchedValue(n),this.vmValueChange.emit(this.value),t.dispatchEvent(new window.Event("touchend"===n.type?"change":"input",{bubbles:!0})))}render(){var n;return q("div",{class:"slider",style:{"--vm-value":this.getPercentage()}},q("input",{type:"range",step:this.step,min:this.min,max:this.max,value:this.value,autocomplete:"off","aria-label":this.label,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.value,"aria-valuetext":null!==(n=this.valueText)&&void 0!==n?n:this.getPercentage(),"aria-orientation":"horizontal",onInput:this.onValueChange.bind(this),onFocus:()=>{this.vmFocus.emit()},onBlur:()=>{this.vmBlur.emit()},onTouchStart:this.onTouch.bind(this),onTouchMove:this.onTouch.bind(this),onTouchEnd:this.onTouch.bind(this)}))}get host(){return this}static get style(){return":host{width:100%}.slider{width:100%}input{width:100%;-webkit-appearance:none;background:transparent;border:0;outline:0;cursor:pointer;box-sizing:border-box;border-radius:calc(var(--vm-slider-thumb-height) * 2);user-select:none;-webkit-user-select:none;touch-action:manipulation;color:var(--vm-slider-value-color);display:block;height:var(--vm-slider-track-height);margin:0;padding:0;transition:box-shadow 0.3s ease}input::-webkit-slider-runnable-track{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background-image:linear-gradient(\n    to right,\n    currentColor var(--vm-value, 0%),\n    transparent var(--vm-value, 0%)\n  );background-color:var(--vm-slider-track-color)}input::-webkit-slider-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow);-webkit-appearance:none;margin-top:calc(\n    0px -\n      calc(\n        calc(var(--vm-slider-thumb-height) - var(--vm-slider-track-height)) / 2\n      )\n  )}input::-moz-range-track{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background-color:var(--vm-slider-track-color)}input::-moz-range-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow)}input::-moz-range-progress{background:currentColor;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height)}input::-ms-track{border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;color:transparent;background-color:var(--vm-slider-track-color)}input::-ms-fill-upper{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none}input::-ms-fill-lower{border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background:currentColor}input::-ms-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow);margin-top:0}input::-ms-tooltip{display:none}input:hover::-webkit-slider-runnable-track{height:var(--vm-slider-track-focused-height)}input:hover::-moz-range-track{height:var(--vm-slider-track-focused-height)}input:hover::-ms-track{height:var(--vm-slider-track-focused-height)}input:hover::-ms-fill-upper{height:var(--vm-slider-track-focused-height)}input:hover::-ms-fill-lower{height:var(--vm-slider-track-focused-height)}input:hover::-webkit-slider-thumb{opacity:1}input:hover::-moz-range-thumb{opacity:1}input:hover::-ms-thumb{opacity:1}input:focus{outline:0}input:focus::-webkit-slider-runnable-track{outline:0;height:var(--vm-slider-track-focused-height)}input:focus::-moz-range-track{outline:0;height:var(--vm-slider-track-focused-height)}input:focus::-ms-track{outline:0;height:var(--vm-slider-track-focused-height)}input::-moz-focus-outer{border:0}"}},ype=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmWillShow=fe(this,"vmWillShow",3),this.vmWillHide=fe(this,"vmWillHide",3),this.blacklist=[T_.YouTube],this.isHidden=!0,this.isActive=!1,this.isVideoView=!1,this.showWhenMediaLoading=!1,this.playbackReady=!1,this.buffering=!1,Xe(this),Jt(this,["isVideoView","buffering","playbackReady","currentProvider"])}onVideoViewChange(){this.isHidden=!this.isVideoView,this.onVisiblityChange()}onActiveChange(){this.isActive=this.buffering||this.showWhenMediaLoading&&!this.playbackReady,this.onVisiblityChange()}onVisiblityChange(){!this.isHidden&&this.isActive?this.vmWillShow.emit():this.vmWillHide.emit()}render(){return q("div",{class:{spinner:!0,hidden:this.isHidden||this.blacklist.includes(this.currentProvider),active:this.isActive}},q("div",{class:{spin:!0,active:this.isActive}},"Loading..."))}static get watchers(){return{isVideoView:["onVideoViewChange"],buffering:["onActiveChange"],playbackReady:["onActiveChange"]}}static get style(){return":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-spinner-z-index)}.spinner{width:100%;height:100%;display:flex;justify-content:center;align-items:center;opacity:0;visibility:hidden;pointer-events:none;transition:var(--vm-fade-transition)}.spinner.hidden{display:none}.spinner.active{opacity:1;visibility:visible}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.spin{background:transparent;margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;pointer-events:none;border-top:var(--vm-spinner-thickness) solid var(--vm-spinner-fill-color);border-left:var(--vm-spinner-thickness) solid var(--vm-spinner-fill-color);border-right:var(--vm-spinner-thickness) solid var(--vm-spinner-track-color);border-bottom:var(--vm-spinner-thickness) solid var(--vm-spinner-track-color);transform:translateZ(0)}.spin.active{animation:spin var(--vm-spinner-spin-duration) infinite\n    var(--vm-spinner-spin-timing-func)}.spin,.spin::after{border-radius:50%;width:var(--vm-spinner-width);height:var(--vm-spinner-height)}"}};var bD=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};let YL=0;const bpe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmOpenSubmenu=fe(this,"vmOpenSubmenu",7),this.vmCloseSubmenu=fe(this,"vmCloseSubmenu",7),this.slideInDirection="right",this.active=!1,Xe(this)}connectedCallback(){this.genId()}getController(){return bD(this,void 0,void 0,function*(){return this.controller})}getMenu(){return bD(this,void 0,void 0,function*(){return this.menu})}getControllerHeight(){var n,t;return bD(this,void 0,void 0,function*(){return null!==(t=null===(n=this.controller)||void 0===n?void 0:n.getHeight())&&void 0!==t?t:0})}getControllerHeightSync(){var n;const t=null===(n=this.controller)||void 0===n?void 0:n.shadowRoot.querySelector("[role='menuitem']");return t?parseFloat(window.getComputedStyle(t).height):0}onMenuOpen(){this.active=!0,this.vmOpenSubmenu.emit(this.host)}onMenuClose(){this.active=!1,this.vmCloseSubmenu.emit(this.host)}genId(){YL+=1,this.id=`vm-submenu-${YL}`}getControllerId(){return`${this.id}-controller`}render(){return q("div",null,q("vm-menu-item",{identifier:this.getControllerId(),menu:this.menu,label:this.label,hint:this.hint,expanded:this.active,ref:n=>{uo(()=>{this.controller=n})}}),q("vm-menu",{identifier:this.id,controller:this.controller,active:this.active,slideInDirection:this.slideInDirection,onVmOpen:this.onMenuOpen.bind(this),onVmClose:this.onMenuClose.bind(this),ref:n=>{uo(()=>{this.menu=n})},style:{top:`${this.getControllerHeightSync()+1}px`}},q("slot",null)))}get host(){return this}},wpe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.seconds=0,this.alwaysShowHours=!1,Xe(this)}render(){return q("div",{class:"time","aria-label":this.label},x_(Math.max(0,this.seconds),this.alwaysShowHours))}static get style(){return".time{display:flex;align-items:center;color:var(--vm-time-color);font-size:var(--vm-time-font-size);font-weight:var(--vm-time-font-weight)}"}},Tpe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.separator="/",this.alwaysShowHours=!1,Xe(this)}render(){return q("div",{class:"timeProgress"},q("vm-current-time",{alwaysShowHours:this.alwaysShowHours}),q("span",{class:"separator"},this.separator),q("vm-end-time",{alwaysShowHours:this.alwaysShowHours}))}static get style(){return".timeProgress{display:flex;width:100%;height:100%;align-items:center;color:var(--vm-time-color)}.separator{margin:0 4px}"}};let JL=0;const Epe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.hasLoaded=!1,this.hidden=!1,this.active=!1,this.position="top",this.isTouch=!1,this.isMobile=!1,Xe(this),Jt(this,["isTouch","isMobile"])}componentDidLoad(){this.hasLoaded=!0}getId(){const n=this.host.id;return yr(n)&&n.length>0?n:(JL+=1,`vm-tooltip-${JL}`)}render(){return q("div",{id:this.getId(),role:"tooltip","aria-hidden":!this.active||this.isTouch||this.isMobile?"true":"false",class:{tooltip:!0,hidden:!this.hasLoaded||this.hidden,onTop:"top"===this.position,onBottom:"bottom"===this.position,growLeft:"left"===this.direction,growRight:"right"===this.direction}},q("slot",null))}get host(){return this}static get style(){return":host{display:contents;z-index:var(--vm-tooltip-z-index)}.tooltip{left:var(--vm-tooltip-left, 50%);transform:translateX(-50%);line-height:1.3;pointer-events:none;position:absolute;opacity:0;white-space:nowrap;visibility:hidden;background:var(--vm-tooltip-bg);border-radius:var(--vm-tooltip-border-radius);box-sizing:border-box;box-shadow:var(--vm-tooltip-box-shadow);color:var(--vm-tooltip-color);font-size:var(--vm-tooltip-font-size);padding:var(--vm-tooltip-padding);transition:opacity var(--vm-tooltip-fade-duration)\n    var(--vm-tooltip-fade-timing-func)}.tooltip[aria-hidden='false']{opacity:1;visibility:visible}.tooltip.hidden{display:none}.tooltip.onTop{bottom:100%;margin-bottom:var(--vm-tooltip-spacing)}.tooltip.onBottom{top:100%;margin-top:var(--vm-tooltip-spacing)}.tooltip.growLeft{left:auto;right:0;transform:none}.tooltip.growRight{left:0;transform:none}"}},Mpe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.isVideoView=!1,this.playsinline=!1,this.isFullscreenActive=!1,Xe(this),Jt(this,["isVideoView","playsinline","isFullscreenActive"])}render(){const n=!mf||!this.isVideoView||this.playsinline&&!this.isFullscreenActive;return q("div",{class:{ui:!0,hidden:!n,video:this.isVideoView}},n&&q("slot",null))}static get style(){return":host{z-index:var(--vm-ui-z-index)}.ui{width:100%;pointer-events:none}.ui.hidden{display:none}.ui.video{position:absolute;top:0;left:0;height:100%}"}};const Ipe=class extends HTMLElement{constructor(){super(),this.__registerHost(),this.willAttach=!1,this.hasCustomTextManager=!1,this.preload="metadata",Xe(this),Uc(this)}onProviderConnect(n){this.willAttach&&n.stopImmediatePropagation()}onProviderDisconnect(n){this.willAttach&&n.stopImmediatePropagation()}getAdapter(){var n;return function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){return null===(n=this.fileProvider)||void 0===n?void 0:n.getAdapter()})}render(){return q("vm-file",{noConnect:!0,willAttach:this.willAttach,crossOrigin:this.crossOrigin,poster:this.poster,preload:this.preload,controlsList:this.controlsList,autoPiP:this.autoPiP,disablePiP:this.disablePiP,disableRemotePlayback:this.disableRemotePlayback,hasCustomTextManager:this.hasCustomTextManager,mediaTitle:this.mediaTitle,viewType:fo.Video,ref:n=>{this.fileProvider=n}},q("slot",null))}};var y1=(()=>(function(n){n.Play="play",n.Pause="pause",n.Seeking="seeking",n.Seeked="seeked",n.TimeUpdate="timeupdate",n.VolumeChange="volumechange",n.DurationChange="durationchange",n.FullscreenChange="fullscreenchange",n.CueChange="cuechange",n.Progress="progress",n.Error="error",n.PlaybackRateChange="playbackratechange",n.Loaded="loaded",n.BufferStart="bufferstart",n.BufferEnd="bufferend",n.TextTrackChange="texttrackchange",n.Waiting="waiting",n.Ended="ended"}(y1||(y1={})),y1))(),ia=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const CD=new Map,Ope=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmLoadStart=fe(this,"vmLoadStart",7),this.vmError=fe(this,"vmError",7),this.defaultInternalState={},this.volume=50,this.hasLoaded=!1,this.internalState={paused:!0,playing:!1,seeking:!1,currentTime:0,buffered:0,playbackStarted:!1,playRequest:!1},this.embedSrc="",this.mediaTitle="",this.byline=!0,this.portrait=!0,this.noAutoAspectRatio=!1,this.cookies=!0,this.language="en",this.aspectRatio="16:9",this.autoplay=!1,this.controls=!1,this.loop=!1,this.muted=!1,this.playsinline=!1,Xe(this),Uc(this),_1(this)}onVideoIdChange(){this.cancelTimeUpdates(),this.videoId?(this.embedSrc=`${this.getOrigin()}/video/${this.videoId}`,this.pendingDurationCall=u1(),this.pendingMediaTitleCall=u1(),this.fetchVideoInfo=this.getVideoInfo()):this.embedSrc=""}onCustomPosterChange(){this.dispatch("currentPoster",this.poster)}connectedCallback(){this.dispatch=pf(this),this.dispatch("viewType",fo.Video),this.onVideoIdChange(),this.initialMuted=this.muted,this.defaultInternalState=Object.assign({},this.internalState)}disconnectedCallback(){this.cancelTimeUpdates(),this.pendingPlayRequest=void 0}getOrigin(){return"https://player.vimeo.com"}getPreconnections(){return[this.getOrigin(),"https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"]}remoteControl(n,t){return this.embed.postMessage({method:n,value:t})}buildParams(){return{byline:this.byline,color:this.color,portrait:this.portrait,autopause:!1,transparent:!1,autoplay:this.autoplay,muted:this.initialMuted,playsinline:this.playsinline,dnt:!this.cookies}}getVideoInfo(){return ia(this,void 0,void 0,function*(){return CD.has(this.videoId)?CD.get(this.videoId):window.fetch(`https://vimeo.com/api/oembed.json?url=${this.embedSrc}`).then(n=>n.json()).then(n=>{var t;const o={poster:`https://i.vimeocdn.com/video/${null===(t=n?.thumbnail_url)||void 0===t?void 0:t.match(/vimeocdn\.com\/video\/([0-9]+)/)[1]}_1920x1080.jpg`,width:n?.width,height:n?.height};return CD.set(this.videoId,o),o})})}onTimeChange(n){this.internalState.currentTime!==n&&(this.dispatch("currentTime",n),Math.abs(this.internalState.currentTime-n)>1.5&&(this.internalState.seeking=!0,this.dispatch("seeking",!0),this.internalState.playing&&this.internalState.buffered<n&&this.dispatch("buffering",!0),window.clearTimeout(this.pendingPlayRequest),this.internalState.paused||(this.internalState.playRequest=!0),this.remoteControl(this.internalState.playbackStarted?"pause":"play")),this.internalState.currentTime=n)}cancelTimeUpdates(){Ql(this.timeRAF)&&window.cancelAnimationFrame(this.timeRAF)}requestTimeUpdates(){this.remoteControl("getCurrentTime"),this.timeRAF=window.requestAnimationFrame(()=>{this.requestTimeUpdates()})}onSeeked(){this.internalState.seeking&&(this.dispatch("seeking",!1),this.internalState.seeking=!1,this.internalState.playRequest&&window.setTimeout(()=>{this.remoteControl("play")},150))}onVimeoMethod(n,t){var e,i;switch(n){case"getCurrentTime":this.internalState.seeking||this.onTimeChange(t);break;case"getDuration":null===(e=this.pendingDurationCall)||void 0===e||e.resolve(t);break;case"getVideoTitle":null===(i=this.pendingMediaTitleCall)||void 0===i||i.resolve(t)}}onLoaded(){var n,t;this.hasLoaded||(this.pendingPlayRequest=void 0,this.internalState=Object.assign({},this.defaultInternalState),this.dispatch("currentSrc",this.embedSrc),this.dispatch("mediaType",ws.Video),this.remoteControl("getDuration"),this.remoteControl("getVideoTitle"),Promise.all([this.fetchVideoInfo,null===(n=this.pendingDurationCall)||void 0===n?void 0:n.promise,null===(t=this.pendingMediaTitleCall)||void 0===t?void 0:t.promise]).then(([e,i,r])=>{var o,a,c;this.requestTimeUpdates(),this.dispatch("aspectRatio",`${null!==(o=e?.width)&&void 0!==o?o:16}:${null!==(a=e?.height)&&void 0!==a?a:9}`),this.dispatch("currentPoster",null!==(c=this.poster)&&void 0!==c?c:e?.poster),this.dispatch("duration",i??-1),this.dispatch("mediaTitle",r),this.dispatch("playbackReady",!0)}),this.hasLoaded=!0)}onVimeoEvent(n,t){switch(n){case"ready":Object.values(y1).forEach(e=>{this.remoteControl("addEventListener",e)});break;case"loaded":this.onLoaded();break;case"play":this.onLoaded(),this.internalState.paused=!1,this.dispatch("paused",!1);break;case"playProgress":this.internalState.playing||(this.dispatch("playing",!0),this.internalState.playing=!0,this.internalState.playbackStarted=!0,this.pendingPlayRequest=window.setTimeout(()=>{this.internalState.playRequest=!1,this.pendingPlayRequest=void 0},1e3)),this.dispatch("buffering",!1),this.onSeeked();break;case"pause":this.internalState.paused=!0,this.internalState.playing=!1,this.dispatch("paused",!0),this.dispatch("buffering",!1);break;case"loadProgress":this.internalState.buffered=t.seconds,this.dispatch("buffered",t.seconds);break;case"bufferstart":this.dispatch("buffering",!0),this.internalState.paused&&(this.internalState.paused=!1,this.dispatch("paused",!1),this.dispatch("playbackStarted",!0));break;case"bufferend":this.dispatch("buffering",!1),this.internalState.paused&&this.onSeeked();break;case"volumechange":if(t.volume>0){const e=Math.floor(100*t.volume);this.dispatch("muted",!1),this.volume!==e&&(this.volume=e,this.dispatch("volume",this.volume))}else this.dispatch("muted",!0);break;case"durationchange":this.dispatch("duration",t.duration);break;case"playbackratechange":this.dispatch("playbackRate",t.playbackRate);break;case"fullscreenchange":this.dispatch("isFullscreenActive",t.fullscreen);break;case"finish":this.loop?(this.remoteControl("setCurrentTime",0),setTimeout(()=>{this.remoteControl("play")},200)):this.dispatch("playbackEnded",!0);break;case"error":this.vmError.emit(t)}}onEmbedSrcChange(){this.hasLoaded=!1,this.vmLoadStart.emit(),this.dispatch("viewType",fo.Video)}onEmbedMessage(n){const t=n.detail;be(t.event)||this.onVimeoEvent(t.event,t.data),be(t.method)||this.onVimeoMethod(t.method,t.value)}adjustPosition(){const[n,t]=this.aspectRatio.split(":").map(o=>parseInt(o,10));return{paddingBottom:"240%",transform:`translateY(-${(240-100/n*t)/4.8+.02}%)`}}getAdapter(){return ia(this,void 0,void 0,function*(){const n=/vimeo(?:\.com|)\/([0-9]{9,})/,t=/vimeo\.com\/external\/[0-9]+\..+/;return{getInternalPlayer:()=>ia(this,void 0,void 0,function*(){return this.embed}),play:()=>ia(this,void 0,void 0,function*(){this.remoteControl("play")}),pause:()=>ia(this,void 0,void 0,function*(){this.remoteControl("pause")}),canPlay:e=>ia(this,void 0,void 0,function*(){return yr(e)&&!t.test(e)&&n.test(e)}),setCurrentTime:e=>ia(this,void 0,void 0,function*(){this.remoteControl("setCurrentTime",e)}),setMuted:e=>ia(this,void 0,void 0,function*(){e||(this.volume=this.volume>0?this.volume:30),this.remoteControl("setVolume",e?0:this.volume/100)}),setVolume:e=>ia(this,void 0,void 0,function*(){this.muted?this.dispatch("volume",e):this.remoteControl("setVolume",e/100)}),canSetPlaybackRate:()=>ia(this,void 0,void 0,function*(){return!1}),setPlaybackRate:e=>ia(this,void 0,void 0,function*(){this.remoteControl("setPlaybackRate",e)})}})}render(){return q("vm-embed",{class:{hideControls:!this.controls},style:this.adjustPosition(),embedSrc:this.embedSrc,mediaTitle:this.mediaTitle,origin:this.getOrigin(),params:this.buildParams(),decoder:NL,preconnections:this.getPreconnections(),onVmEmbedMessage:this.onEmbedMessage.bind(this),onVmEmbedSrcChange:this.onEmbedSrcChange.bind(this),ref:n=>{this.embed=n}})}static get watchers(){return{videoId:["onVideoIdChange"],poster:["onCustomPosterChange"]}}static get style(){return":host{z-index:var(--vm-media-z-index)}vm-embed{position:absolute;top:0;left:0;width:100%;height:100%}vm-embed.hideControls{display:block;width:100%;height:auto;position:relative}"}};const Rpe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.keyboardDisposal=new qi,this.prevMuted=!1,this.currentVolume=50,this.isSliderActive=!1,this.lowVolumeIcon="volume-low",this.highVolumeIcon="volume-high",this.mutedIcon="volume-mute",this.tooltipPosition="top",this.hideTooltip=!1,this.muteKeys="m",this.noKeyboard=!1,this.muted=!1,this.volume=50,this.isMobile=!1,this.i18n={},Xe(this),Jt(this,["volume","muted","isMobile","i18n"])}onNoKeyboardChange(){return function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){if(this.keyboardDisposal.empty(),this.noKeyboard)return;const n=yield Za(this);be(n)||this.keyboardDisposal.add(Nn(n,"keydown",t=>{if("ArrowUp"!==t.key&&"ArrowDown"!==t.key)return;const i="ArrowUp"===t.key?Math.min(100,this.volume+5):Math.max(0,this.volume-5);this.dispatch("volume",parseInt(`${i}`,10))}))})}onPlayerVolumeChange(){this.currentVolume=this.muted?0:this.volume,!this.muted&&this.prevMuted&&0===this.volume&&this.dispatch("volume",30),this.prevMuted=this.muted}connectedCallback(){this.prevMuted=this.muted,this.dispatch=Zl(this),this.onNoKeyboardChange()}disconnectedCallback(){this.keyboardDisposal.empty()}onShowSlider(){clearTimeout(this.hideSliderTimeout),this.isSliderActive=!0}onHideSlider(){this.hideSliderTimeout=setTimeout(()=>{this.isSliderActive=!1},100)}onVolumeChange(n){const t=n.detail;this.currentVolume=t,this.dispatch("volume",t),this.dispatch("muted",0===t)}onKeyDown(n){"ArrowLeft"!==n.key&&"ArrowRight"!==n.key||n.stopPropagation()}render(){return q("div",{class:"volumeControl",onMouseEnter:this.onShowSlider.bind(this),onMouseLeave:this.onHideSlider.bind(this)},q("vm-mute-control",{keys:this.muteKeys,lowVolumeIcon:this.lowVolumeIcon,highVolumeIcon:this.highVolumeIcon,mutedIcon:this.mutedIcon,icons:this.icons,tooltipPosition:this.tooltipPosition,tooltipDirection:this.tooltipDirection,hideTooltip:this.hideTooltip,onVmFocus:this.onShowSlider.bind(this),onVmBlur:this.onHideSlider.bind(this)}),q("vm-slider",{class:{hidden:this.isMobile,active:this.isSliderActive},step:5,max:100,value:this.currentVolume,label:this.i18n.volume,onKeyDown:this.onKeyDown.bind(this),onVmFocus:this.onShowSlider.bind(this),onVmBlur:this.onHideSlider.bind(this),onVmValueChange:this.onVolumeChange.bind(this)}))}static get watchers(){return{noKeyboard:["onNoKeyboardChange"],muted:["onPlayerVolumeChange"],volume:["onPlayerVolumeChange"]}}static get style(){return".volumeControl{align-items:center;display:flex;position:relative;pointer-events:auto;box-sizing:border-box}vm-slider{width:75px;height:100%;margin:0;max-width:0;position:relative;z-index:3;transition:margin 0.2s cubic-bezier(0.4, 0, 1, 1),\n    max-width 0.2s cubic-bezier(0.4, 0, 1, 1);margin-left:calc(var(--vm-control-spacing) / 2) !important;visibility:hidden}vm-slider:hover{cursor:pointer}vm-slider.hidden{display:none}vm-slider.active{max-width:75px;visibility:visible;margin:0 calc(var(--vm-control-spacing) / 2)}"}},XL=n=>{switch(n){case"unknown":default:return;case"tiny":return"144p";case"small":return"240p";case"medium":return"360p";case"large":return"480p";case"hd720":return"720p";case"hd1080":return"1080p";case"highres":return"1440p";case"max":return"2160p"}};var ra=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function c(f){try{h(i.next(f))}catch(y){a(y)}}function u(f){try{h(i.throw(f))}catch(y){a(y)}}function h(f){f.done?o(f.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(f.value).then(c,u)}h((i=i.apply(n,t||[])).next())})};const wD=new Map,Lpe=class extends HTMLElement{constructor(){super(),this.__registerHost(),st(this),this.vmLoadStart=fe(this,"vmLoadStart",7),this.defaultInternalState={},this.internalState={paused:!0,duration:0,seeking:!1,playbackReady:!1,playbackStarted:!1,currentTime:0,lastTimeUpdate:0,playbackRate:1,state:-1},this.embedSrc="",this.mediaTitle="",this.cookies=!1,this.showFullscreenControl=!0,this.language="en",this.autoplay=!1,this.controls=!1,this.loop=!1,this.muted=!1,this.playsinline=!1,Xe(this),Uc(this),_1(this)}onVideoIdChange(){this.videoId?(this.embedSrc=`${this.getOrigin()}/embed/${this.videoId}`,this.fetchPosterURL=this.findPosterURL()):this.embedSrc=""}onCustomPosterChange(){this.dispatch("currentPoster",this.poster)}connectedCallback(){this.dispatch=pf(this),this.dispatch("viewType",fo.Video),this.onVideoIdChange(),this.initialMuted=this.muted,this.defaultInternalState=Object.assign({},this.internalState)}getAdapter(){return ra(this,void 0,void 0,function*(){const n=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/;return{getInternalPlayer:()=>ra(this,void 0,void 0,function*(){return this.embed}),play:()=>ra(this,void 0,void 0,function*(){this.remoteControl("playVideo")}),pause:()=>ra(this,void 0,void 0,function*(){this.remoteControl("pauseVideo")}),canPlay:t=>ra(this,void 0,void 0,function*(){return yr(t)&&n.test(t)}),setCurrentTime:t=>ra(this,void 0,void 0,function*(){this.remoteControl("seekTo",t)}),setMuted:t=>ra(this,void 0,void 0,function*(){this.remoteControl(t?"mute":"unMute")}),setVolume:t=>ra(this,void 0,void 0,function*(){this.remoteControl("setVolume",t)}),canSetPlaybackRate:()=>ra(this,void 0,void 0,function*(){return!0}),setPlaybackRate:t=>ra(this,void 0,void 0,function*(){this.remoteControl("setPlaybackRate",t)})}})}getOrigin(){return this.cookies?"https://www.youtube.com":"https://www.youtube-nocookie.com"}getPreconnections(){return[this.getOrigin(),"https://www.google.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net","https://s.ytimg.com","https://i.ytimg.com"]}remoteControl(n,t){return this.embed.postMessage({event:"command",func:n,args:t?[t]:void 0})}buildParams(){return{enablejsapi:1,cc_lang_pref:this.language,hl:this.language,fs:this.showFullscreenControl?1:0,controls:this.controls?1:0,disablekb:this.controls?0:1,iv_load_policy:this.controls?1:3,mute:this.initialMuted?1:0,playsinline:this.playsinline?1:0,autoplay:this.autoplay?1:0}}onEmbedSrcChange(){this.vmLoadStart.emit(),this.dispatch("viewType",fo.Video)}onEmbedLoaded(){window.setTimeout(()=>this.embed.postMessage({event:"listening"}),100)}findPosterURL(){return ra(this,void 0,void 0,function*(){if(wD.has(this.videoId))return wD.get(this.videoId);const n=t=>`https://i.ytimg.com/vi/${this.videoId}/${t}.jpg`;return uD(n("maxresdefault"),121).catch(()=>uD(n("sddefault"),121)).catch(()=>uD(n("hqdefault"),121)).then(t=>{const e=t.src;return wD.set(this.videoId,e),e})})}onCued(){this.internalState.playbackReady||(this.internalState=Object.assign({},this.defaultInternalState),this.dispatch("currentSrc",this.embedSrc),this.dispatch("mediaType",ws.Video),this.fetchPosterURL.then(n=>{var t;this.dispatch("currentPoster",null!==(t=this.poster)&&void 0!==t?t:n),this.dispatch("playbackReady",!0)}),this.internalState.playbackReady=!0)}onPlayerStateChange(n){if(this.internalState.playbackReady&&-1===n)return this.internalState.paused=!0,this.internalState.playbackStarted=!1,this.dispatch("buffering",!1),this.dispatch("paused",!0),void this.dispatch("playbackStarted",!1);const t=1===n,e=3===n;switch(this.dispatch("buffering",e),this.internalState.paused&&(e||t)&&(this.internalState.paused=!1,this.dispatch("paused",!1),this.internalState.playbackStarted||(this.dispatch("playbackStarted",!0),this.internalState.playbackStarted=!0)),n){case 5:this.onCued();break;case 1:this.onCued(),this.dispatch("playing",!0);break;case 2:this.internalState.paused=!0,this.dispatch("paused",!0);break;case 0:this.loop?window.setTimeout(()=>{this.remoteControl("playVideo")},150):(this.dispatch("playbackEnded",!0),this.internalState.paused=!0,this.dispatch("paused",!0))}this.internalState.state=n}calcCurrentTime(n){let t=n;if(0===this.internalState.state)return this.internalState.duration;if(1===this.internalState.state){const e=(Date.now()/1e3-this.defaultInternalState.lastTimeUpdate)*this.internalState.playbackRate;e>0&&(t+=Math.min(e,1))}return t}onTimeChange(n){const t=this.calcCurrentTime(n);this.dispatch("currentTime",t),Math.abs(this.internalState.currentTime-t)>1.5&&(this.internalState.seeking=!0,this.dispatch("seeking",!0)),this.internalState.currentTime=t}onBufferedChange(n){this.dispatch("buffered",n),this.internalState.seeking&&n>this.internalState.currentTime&&window.setTimeout(()=>{this.internalState.seeking=!1,this.dispatch("seeking",!1)},this.internalState.paused?100:0)}onEmbedMessage(n){const t=n.detail,{info:e}=t;e&&(a1(e.videoData)&&this.dispatch("mediaTitle",e.videoData.title),Ql(e.duration)&&(this.internalState.duration=e.duration,this.dispatch("duration",e.duration)),l1(e.availablePlaybackRates)&&this.dispatch("playbackRates",e.availablePlaybackRates),Ql(e.playbackRate)&&(this.internalState.playbackRate=e.playbackRate,this.dispatch("playbackRate",e.playbackRate)),Ql(e.currentTime)&&this.onTimeChange(e.currentTime),Ql(e.currentTimeLastUpdated)&&(this.internalState.lastTimeUpdate=e.currentTimeLastUpdated),Ql(e.videoLoadedFraction)&&this.onBufferedChange(e.videoLoadedFraction*this.internalState.duration),Ql(e.volume)&&this.dispatch("volume",e.volume),(n=>C_(n)===Boolean)(e.muted)&&this.dispatch("muted",e.muted),l1(e.availableQualityLevels)&&this.dispatch("playbackQualities",e.availableQualityLevels.map(i=>XL(i))),yr(e.playbackQuality)&&this.dispatch("playbackQuality",XL(e.playbackQuality)),Ql(e.playerState)&&this.onPlayerStateChange(e.playerState))}render(){return q("vm-embed",{embedSrc:this.embedSrc,mediaTitle:this.mediaTitle,origin:this.getOrigin(),params:this.buildParams(),decoder:NL,preconnections:this.getPreconnections(),onVmEmbedLoaded:this.onEmbedLoaded.bind(this),onVmEmbedMessage:this.onEmbedMessage.bind(this),onVmEmbedSrcChange:this.onEmbedSrcChange.bind(this),ref:n=>{this.embed=n}})}static get watchers(){return{cookies:["onVideoIdChange"],videoId:["onVideoIdChange"],poster:["onCustomPosterChange"]}}static get style(){return":host{z-index:var(--vm-media-z-index)}"}},e3=Ze(ode,[4,"vm-audio",{willAttach:[4,"will-attach"],crossOrigin:[1,"cross-origin"],preload:[1],disableRemotePlayback:[4,"disable-remote-playback"],mediaTitle:[1,"media-title"]}]),$pe=Ze(lde,[1,"vm-caption-control",{showIcon:[1,"show-icon"],hideIcon:[1,"hide-icon"],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],hideTooltip:[4,"hide-tooltip"],icons:[1],keys:[1],i18n:[16],playbackReady:[4,"playback-ready"],textTracks:[16],isTextTrackVisible:[4,"is-text-track-visible"],canToggleCaptionVisibility:[32]}]),Upe=Ze(hde,[1,"vm-captions",{hidden:[4],isControlsActive:[4,"is-controls-active"],isVideoView:[4,"is-video-view"],playbackStarted:[4,"playback-started"],textTracks:[16],currentTextTrack:[2,"current-text-track"],isTextTrackVisible:[4,"is-text-track-visible"],isEnabled:[32],cue:[32],fontSize:[32]}]),Vpe=Ze(mde,[1,"vm-click-to-play",{useOnMobile:[4,"use-on-mobile"],paused:[4],isVideoView:[4,"is-video-view"],isMobile:[4,"is-mobile"]}]),Bpe=Ze(_de,[1,"vm-control",{keys:[1],identifier:[1],hidden:[4],label:[1],menu:[1],expanded:[4],pressed:[4],isTouch:[4,"is-touch"],describedBy:[32],showTapHighlight:[32]}]),Hpe=Ze(yde,[1,"vm-control-group",{space:[1]}]),jpe=Ze(Cde,[1,"vm-control-spacer"]),zpe=Ze(Dde,[1,"vm-controls",{hidden:[4],fullWidth:[4,"full-width"],fullHeight:[4,"full-height"],direction:[1],align:[1],justify:[1],pin:[513],activeDuration:[2,"active-duration"],waitForPlaybackStart:[4,"wait-for-playback-start"],hideWhenPaused:[4,"hide-when-paused"],hideOnMouseLeave:[4,"hide-on-mouse-leave"],isAudioView:[4,"is-audio-view"],isSettingsActive:[4,"is-settings-active"],playbackReady:[4,"playback-ready"],isControlsActive:[4,"is-controls-active"],paused:[4],playbackStarted:[4,"playback-started"],isInteracting:[32]}]),Gpe=Ze(kde,[1,"vm-current-time",{currentTime:[2,"current-time"],i18n:[16],alwaysShowHours:[4,"always-show-hours"]}]),Wpe=Ze(Wde,[1,"vm-dailymotion",{videoId:[1,"video-id"],shouldAutoplayQueue:[4,"should-autoplay-queue"],showUpNextQueue:[4,"show-up-next-queue"],showShareButtons:[4,"show-share-buttons"],color:[1],syndication:[1],showDailymotionLogo:[4,"show-dailymotion-logo"],showVideoInfo:[4,"show-video-info"],language:[1],autoplay:[4],controls:[4],poster:[1],logger:[16],loop:[4],muted:[4],playsinline:[4],embedSrc:[32],mediaTitle:[32]}]),qpe=Ze(Qde,[1,"vm-dash",{src:[1],version:[1],libSrc:[1,"lib-src"],config:[16],autoplay:[4],crossOrigin:[1,"cross-origin"],preload:[1],poster:[1],controlsList:[1,"controls-list"],autoPiP:[4,"auto-pip"],disablePiP:[4,"disable-pip"],disableRemotePlayback:[4,"disable-remote-playback"],mediaTitle:[1,"media-title"],enableTextTracksByDefault:[4,"enable-text-tracks-by-default"],shouldRenderNativeTextTracks:[4,"should-render-native-text-tracks"],isTextTrackVisible:[4,"is-text-track-visible"],currentTextTrack:[2,"current-text-track"],hasAttached:[32]},[[0,"vmMediaElChange","onMediaElChange"]]]),Qpe=Ze(Kde,[1,"vm-dbl-click-fullscreen",{useOnMobile:[4,"use-on-mobile"],isFullscreenActive:[4,"is-fullscreen-active"],isVideoView:[4,"is-video-view"],playbackReady:[4,"playback-ready"],isMobile:[4,"is-mobile"],canSetFullscreen:[32]}]),Zpe=Ze(Jde,[1,"vm-default-controls",{activeDuration:[2,"active-duration"],waitForPlaybackStart:[4,"wait-for-playback-start"],hideWhenPaused:[4,"hide-when-paused"],hideOnMouseLeave:[4,"hide-on-mouse-leave"],theme:[1],isMobile:[4,"is-mobile"],isLive:[4,"is-live"],isAudioView:[4,"is-audio-view"],isVideoView:[4,"is-video-view"]}]),Kpe=Ze(ehe,[1,"vm-default-settings",{pin:[513],i18n:[16],playbackReady:[4,"playback-ready"],playbackRate:[2,"playback-rate"],playbackRates:[16],isVideoView:[4,"is-video-view"],playbackQuality:[1,"playback-quality"],playbackQualities:[16],textTracks:[16],currentTextTrack:[2,"current-text-track"],audioTracks:[16],currentAudioTrack:[2,"current-audio-track"],isTextTrackVisible:[4,"is-text-track-visible"],canSetPlaybackRate:[32],canSetPlaybackQuality:[32],canSetTextTrack:[32],canSetAudioTrack:[32]}]),t3=Ze(nhe,[1,"vm-default-ui",{noClickToPlay:[4,"no-click-to-play"],noDblClickFullscreen:[4,"no-dbl-click-fullscreen"],noCaptions:[4,"no-captions"],noPoster:[4,"no-poster"],noSpinner:[4,"no-spinner"],noControls:[4,"no-controls"],noSettings:[4,"no-settings"],noLoadingScreen:[4,"no-loading-screen"]}]),Ype=Ze(ohe,[1,"vm-embed",{embedSrc:[1,"embed-src"],mediaTitle:[1,"media-title"],params:[1],origin:[1],preconnections:[16],decoder:[16],srcWithParams:[32],hasEnteredViewport:[32]},[[8,"message","onWindowMessage"]]]),Jpe=Ze(ahe,[1,"vm-end-time",{duration:[2],i18n:[16],alwaysShowHours:[4,"always-show-hours"]}]),Xpe=Ze(hhe,[6,"vm-file",{willAttach:[4,"will-attach"],crossOrigin:[1,"cross-origin"],preload:[1],poster:[1],mediaTitle:[1,"media-title"],controlsList:[1,"controls-list"],autoPiP:[4,"auto-pip"],disablePiP:[4,"disable-pip"],disableRemotePlayback:[4,"disable-remote-playback"],viewType:[1,"view-type"],playbackRates:[16],language:[1],autoplay:[4],controls:[4],logger:[16],loop:[4],muted:[4],playsinline:[4],noConnect:[4,"no-connect"],paused:[4],currentTime:[2,"current-time"],volume:[2],playbackReady:[4,"playback-ready"],playbackStarted:[4,"playback-started"],currentTextTrack:[2,"current-text-track"],hasCustomTextManager:[4,"has-custom-text-manager"],isTextTrackVisible:[4,"is-text-track-visible"],shouldRenderNativeTextTracks:[4,"should-render-native-text-tracks"],vmPoster:[32]},[[0,"vmMediaProviderConnect","onProviderConnect"],[0,"vmMediaProviderDisconnect","onProviderDisconnect"]]]),efe=Ze(mhe,[1,"vm-fullscreen-control",{enterIcon:[1,"enter-icon"],exitIcon:[1,"exit-icon"],icons:[1],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],hideTooltip:[4,"hide-tooltip"],keys:[1],isFullscreenActive:[4,"is-fullscreen-active"],i18n:[16],playbackReady:[4,"playback-ready"],canSetFullscreen:[32]}]),tfe=Ze(ghe,[4,"vm-hls",{version:[1],libSrc:[1,"lib-src"],config:[8],crossOrigin:[1,"cross-origin"],preload:[1],poster:[1],controlsList:[1,"controls-list"],autoPiP:[4,"auto-pip"],disablePiP:[4,"disable-pip"],disableRemotePlayback:[4,"disable-remote-playback"],playbackReady:[4,"playback-ready"],mediaTitle:[1,"media-title"],hasAttached:[32]},[[0,"vmMediaElChange","onMediaElChange"],[0,"vmSrcSetChange","onSrcChange"]]]),nfe=Ze(Dhe,[1,"vm-icon",{name:[1],src:[1],label:[1],library:[1],icons:[1],svg:[32]}]),ife=Ze(Ehe,[1,"vm-icon-library",{name:[1],resolver:[16],icons:[1]}]),rfe=Ze(Mhe,[1,"vm-live-indicator",{isLive:[4,"is-live"],i18n:[16]}]),ofe=Ze(Ihe,[1,"vm-loading-screen",{playbackReady:[4,"playback-ready"],hideDots:[4,"hide-dots"]}]),sfe=Ze(Rhe,[1,"vm-menu",{active:[1540],identifier:[1],controller:[16],slideInDirection:[1,"slide-in-direction"],activeMenuItem:[32],activeSubmenu:[32]},[[0,"vmOpenSubmenu","onOpenSubmenu"],[0,"vmCloseSubmenu","onCloseSubmenu"],[8,"click","onWindowClick"],[8,"keydown","onWindowKeyDown"]]]),afe=Ze(Lhe,[1,"vm-menu-item",{identifier:[1],hidden:[4],label:[1],menu:[16],expanded:[4],checked:[4],hint:[1],badge:[1],checkIcon:[1,"check-icon"],icons:[1],isTouch:[4,"is-touch"],showTapHighlight:[32]}]),lfe=Ze($he,[1,"vm-menu-radio",{label:[1],value:[1],checked:[1028],badge:[1],checkIcon:[1,"check-icon"],icons:[1]}]),cfe=Ze(Uhe,[1,"vm-menu-radio-group",{value:[1025]},[[0,"vmCheck","onSelectionChange"]]]),ufe=Ze(Vhe,[1,"vm-mute-control",{lowVolumeIcon:[1,"low-volume-icon"],highVolumeIcon:[1,"high-volume-icon"],mutedIcon:[1,"muted-icon"],icons:[1],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],hideTooltip:[4,"hide-tooltip"],keys:[1],volume:[2],muted:[4],i18n:[16]}]),dfe=Ze(jhe,[1,"vm-pip-control",{enterIcon:[1,"enter-icon"],exitIcon:[1,"exit-icon"],icons:[1],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],hideTooltip:[4,"hide-tooltip"],keys:[1],isPiPActive:[4,"is-pi-p-active"],i18n:[16],playbackReady:[4,"playback-ready"],canSetPiP:[32]}]),hfe=Ze(zhe,[1,"vm-playback-control",{playIcon:[1,"play-icon"],pauseIcon:[1,"pause-icon"],icons:[1],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],hideTooltip:[4,"hide-tooltip"],keys:[1],paused:[4],i18n:[16]}]),n3=Ze(Jhe,[1,"vm-player",{logger:[16],theme:[513],icons:[513],paused:[1028],playing:[1028],duration:[1026],mediaTitle:[1025,"media-title"],currentProvider:[1025,"current-provider"],currentSrc:[1025,"current-src"],currentPoster:[1025,"current-poster"],currentTime:[1026,"current-time"],autoplay:[4],ready:[1540],playbackReady:[1028,"playback-ready"],loop:[4],muted:[1028],buffered:[1026],playbackRate:[1026,"playback-rate"],playbackRates:[1040],playbackQuality:[1025,"playback-quality"],playbackQualities:[1040],seeking:[1028],debug:[4],playbackStarted:[1028,"playback-started"],playbackEnded:[1028,"playback-ended"],buffering:[1028],controls:[4],isControlsActive:[4,"is-controls-active"],isSettingsActive:[1028,"is-settings-active"],volume:[1026],isFullscreenActive:[1028,"is-fullscreen-active"],aspectRatio:[1025,"aspect-ratio"],viewType:[1025,"view-type"],isAudioView:[1028,"is-audio-view"],isVideoView:[1028,"is-video-view"],mediaType:[1025,"media-type"],isAudio:[1028,"is-audio"],isVideo:[1028,"is-video"],isLive:[1028,"is-live"],isMobile:[1028,"is-mobile"],isTouch:[1028,"is-touch"],isPiPActive:[1028,"is-pi-p-active"],textTracks:[16],currentTextTrack:[2,"current-text-track"],isTextTrackVisible:[4,"is-text-track-visible"],shouldRenderNativeTextTracks:[4,"should-render-native-text-tracks"],audioTracks:[16],currentAudioTrack:[2,"current-audio-track"],autopause:[4],playsinline:[4],language:[1025],translations:[1040],languages:[1040],i18n:[1040],container:[32]},[[0,"vmError","onError"]]]),pfe=Ze(epe,[1,"vm-poster",{fit:[1],isVideoView:[4,"is-video-view"],currentPoster:[1,"current-poster"],mediaTitle:[1,"media-title"],playbackStarted:[4,"playback-started"],currentTime:[2,"current-time"],isHidden:[32],isActive:[32],hasLoaded:[32]}]),ffe=Ze(npe,[1,"vm-scrim",{gradient:[1],isVideoView:[4,"is-video-view"],isControlsActive:[4,"is-controls-active"]}]),mfe=Ze(lpe,[1,"vm-scrubber-control",{alwaysShowHours:[4,"always-show-hours"],hideTooltip:[4,"hide-tooltip"],currentTime:[2,"current-time"],duration:[2],noKeyboard:[4,"no-keyboard"],buffering:[4],buffered:[2],i18n:[16],timestamp:[32],endTime:[32]}]),gfe=Ze(dpe,[1,"vm-settings",{pin:[513],active:[1540],isMobile:[4,"is-mobile"],isAudioView:[4,"is-audio-view"],menuHeight:[32]}]),_fe=Ze(ppe,[1,"vm-settings-control",{icon:[1],icons:[1],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],menu:[1],expanded:[4],i18n:[16],vmSettings:[32]}]),vfe=Ze(mpe,[1,"vm-skeleton",{effect:[1],ready:[4],hidden:[32]}]),yfe=Ze(_pe,[1,"vm-slider",{step:[2],min:[2],max:[2],value:[2],valueText:[1,"value-text"],label:[1]}]),bfe=Ze(ype,[1,"vm-spinner",{isVideoView:[4,"is-video-view"],currentProvider:[1,"current-provider"],showWhenMediaLoading:[4,"show-when-media-loading"],playbackReady:[4,"playback-ready"],buffering:[4],isHidden:[32],isActive:[32]}]),Cfe=Ze(bpe,[1,"vm-submenu",{label:[1],hint:[1],slideInDirection:[1,"slide-in-direction"],active:[1540],menu:[32],controller:[32]}]),wfe=Ze(wpe,[1,"vm-time",{label:[1],seconds:[2],alwaysShowHours:[4,"always-show-hours"]}]),Sfe=Ze(Tpe,[1,"vm-time-progress",{separator:[1],alwaysShowHours:[4,"always-show-hours"]}]),Tfe=Ze(Epe,[1,"vm-tooltip",{hidden:[4],active:[4],position:[1],direction:[1],isTouch:[4,"is-touch"],isMobile:[4,"is-mobile"]}]),Dfe=Ze(Mpe,[1,"vm-ui",{isVideoView:[4,"is-video-view"],playsinline:[4],isFullscreenActive:[4,"is-fullscreen-active"]}]),Efe=Ze(Ipe,[4,"vm-video",{willAttach:[4,"will-attach"],hasCustomTextManager:[4,"has-custom-text-manager"],crossOrigin:[1,"cross-origin"],preload:[1],poster:[1],controlsList:[1,"controls-list"],autoPiP:[4,"auto-pip"],disablePiP:[4,"disable-pip"],disableRemotePlayback:[4,"disable-remote-playback"],mediaTitle:[1,"media-title"]},[[0,"vmMediaProviderConnect","onProviderConnect"],[0,"vmMediaProviderDisconnect","onProviderDisconnect"]]]),kfe=Ze(Ope,[1,"vm-vimeo",{videoId:[1,"video-id"],byline:[4],color:[1],portrait:[4],noAutoAspectRatio:[4,"no-auto-aspect-ratio"],poster:[1],cookies:[4],language:[1],aspectRatio:[1,"aspect-ratio"],autoplay:[4],controls:[4],logger:[16],loop:[4],muted:[4],playsinline:[4],embedSrc:[32],mediaTitle:[32]}]),Mfe=Ze(Rpe,[1,"vm-volume-control",{lowVolumeIcon:[1,"low-volume-icon"],highVolumeIcon:[1,"high-volume-icon"],mutedIcon:[1,"muted-icon"],icons:[1],tooltipPosition:[1,"tooltip-position"],tooltipDirection:[1,"tooltip-direction"],hideTooltip:[4,"hide-tooltip"],muteKeys:[1,"mute-keys"],noKeyboard:[4,"no-keyboard"],muted:[4],volume:[2],isMobile:[4,"is-mobile"],i18n:[16],currentVolume:[32],isSliderActive:[32]}]),xfe=Ze(Lpe,[1,"vm-youtube",{cookies:[4],videoId:[1,"video-id"],showFullscreenControl:[4,"show-fullscreen-control"],poster:[1],language:[1],autoplay:[4],controls:[4],logger:[16],loop:[4],muted:[4],playsinline:[4],embedSrc:[32],mediaTitle:[32]}]);I6().bootstrapModule(tf).catch(n=>console.error(n)),function Pfe(){(function Ofe(){customElements.define("vm-player",n3),customElements.define("vm-audio",e3),customElements.define("vm-default-ui",t3)})(),typeof customElements<"u"&&[e3,$pe,Upe,Vpe,Bpe,Hpe,jpe,zpe,Gpe,Wpe,qpe,Qpe,Zpe,Kpe,t3,Ype,Jpe,Xpe,efe,tfe,nfe,ife,rfe,ofe,sfe,afe,lfe,cfe,ufe,dfe,hfe,n3,pfe,ffe,mfe,gfe,_fe,vfe,yfe,bfe,Cfe,wfe,Sfe,Tfe,Dfe,Efe,kfe,Mfe,xfe].forEach(t=>{customElements.get(t.is)||customElements.define(t.is,t,void 0)})}()},386:(tl,vo,ue)=>{var Oi;!function(tt,yi,jt,Un){"use strict";var wr,pt=["","webkit","Moz","MS","ms","o"],Kl=yi.createElement("div"),Qt=Math.round,ft=Math.abs,sa=Date.now;function Cr(M,O,j){return setTimeout(nl(M,j),O)}function Xt(M,O,j){return!!Array.isArray(M)&&(at(M,j[O],j),!0)}function at(M,O,j){var J;if(M)if(M.forEach)M.forEach(O,j);else if(M.length!==Un)for(J=0;J<M.length;)O.call(j,M[J],J,M),J++;else for(J in M)M.hasOwnProperty(J)&&O.call(j,M[J],J,M)}function Vc(M,O,j){var J="DEPRECATED METHOD: "+O+"\n"+j+" AT \n";return function(){var oe=new Error("get-stack-trace"),ve=oe&&oe.stack?oe.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ct=tt.console&&(tt.console.warn||tt.console.log);return Ct&&Ct.call(tt.console,J,ve),M.apply(this,arguments)}}wr="function"!=typeof Object.assign?function(O){if(O===Un||null===O)throw new TypeError("Cannot convert undefined or null to object");for(var j=Object(O),J=1;J<arguments.length;J++){var oe=arguments[J];if(oe!==Un&&null!==oe)for(var ve in oe)oe.hasOwnProperty(ve)&&(j[ve]=oe[ve])}return j}:Object.assign;var Sr=Vc(function(O,j,J){for(var oe=Object.keys(j),ve=0;ve<oe.length;)(!J||J&&O[oe[ve]]===Un)&&(O[oe[ve]]=j[oe[ve]]),ve++;return O},"extend","Use `assign`."),aa=Vc(function(O,j){return Sr(O,j,!0)},"merge","Use `assign`.");function Vn(M,O,j){var oe,J=O.prototype;(oe=M.prototype=Object.create(J)).constructor=M,oe._super=J,j&&wr(oe,j)}function nl(M,O){return function(){return M.apply(O,arguments)}}function il(M,O){return"function"==typeof M?M.apply(O&&O[0]||Un,O):M}function Mt(M,O){return M===Un?O:M}function Ts(M,O,j){at(rl(O),function(J){M.addEventListener(J,j,!1)})}function Jl(M,O,j){at(rl(O),function(J){M.removeEventListener(J,j,!1)})}function gn(M,O){for(;M;){if(M==O)return!0;M=M.parentNode}return!1}function Mn(M,O){return M.indexOf(O)>-1}function rl(M){return M.trim().split(/\s+/g)}function je(M,O,j){if(M.indexOf&&!j)return M.indexOf(O);for(var J=0;J<M.length;){if(j&&M[J][j]==O||!j&&M[J]===O)return J;J++}return-1}function ol(M){return Array.prototype.slice.call(M,0)}function Bn(M,O,j){for(var J=[],oe=[],ve=0;ve<M.length;){var Ct=O?M[ve][O]:M[ve];je(oe,Ct)<0&&J.push(M[ve]),oe[ve]=Ct,ve++}return j&&(J=O?J.sort(function(tn,Dt){return tn[O]>Dt[O]}):J.sort()),J}function pe(M,O){for(var j,J,oe=O[0].toUpperCase()+O.slice(1),ve=0;ve<pt.length;){if((J=(j=pt[ve])?j+oe:O)in M)return J;ve++}return Un}var Je=1;function xt(M){var O=M.ownerDocument||M;return O.defaultView||O.parentWindow||tt}var cr="ontouchstart"in tt,xn=pe(tt,"PointerEvent")!==Un,ii=cr&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Lt="touch",ur="mouse",Kr=["x","y"],pn=["clientX","clientY"];function hr(M,O){var j=this;this.manager=M,this.callback=O,this.element=M.element,this.target=M.options.inputTarget,this.domHandler=function(J){il(M.options.enable,[M])&&j.handler(J)},this.init()}function kd(M,O,j){var J=j.pointers.length,oe=j.changedPointers.length,ve=1&O&&J-oe==0,Ct=12&O&&J-oe==0;j.isFirst=!!ve,j.isFinal=!!Ct,ve&&(M.session={}),j.eventType=O,function Ko(M,O){var j=M.session,J=O.pointers,oe=J.length;j.firstInput||(j.firstInput=ua(O)),oe>1&&!j.firstMultiple?j.firstMultiple=ua(O):1===oe&&(j.firstMultiple=!1);var ve=j.firstInput,Ct=j.firstMultiple,$e=Ct?Ct.center:ve.center,tn=O.center=Hc(J);O.timeStamp=sa(),O.deltaTime=O.timeStamp-ve.timeStamp,O.angle=tc($e,tn),O.distance=ha($e,tn),function Ds(M,O){var j=O.center,J=M.offsetDelta||{},oe=M.prevDelta||{},ve=M.prevInput||{};(1===O.eventType||4===ve.eventType)&&(oe=M.prevDelta={x:ve.deltaX||0,y:ve.deltaY||0},J=M.offsetDelta={x:j.x,y:j.y}),O.deltaX=oe.x+(j.x-J.x),O.deltaY=oe.y+(j.y-J.y)}(j,O),O.offsetDirection=da(O.deltaX,O.deltaY);var Dt=jc(O.deltaTime,O.deltaX,O.deltaY);O.overallVelocityX=Dt.x,O.overallVelocityY=Dt.y,O.overallVelocity=ft(Dt.x)>ft(Dt.y)?Dt.x:Dt.y,O.scale=Ct?function pa(M,O){return ha(O[0],O[1],pn)/ha(M[0],M[1],pn)}(Ct.pointers,J):1,O.rotation=Ct?function Tr(M,O){return tc(O[1],O[0],pn)+tc(M[1],M[0],pn)}(Ct.pointers,J):0,O.maxPointers=j.prevInput?O.pointers.length>j.prevInput.maxPointers?O.pointers.length:j.prevInput.maxPointers:O.pointers.length,function Yo(M,O){var oe,ve,Ct,$e,j=M.lastInterval||O,J=O.timeStamp-j.timeStamp;if(8!=O.eventType&&(J>25||j.velocity===Un)){var tn=O.deltaX-j.deltaX,Dt=O.deltaY-j.deltaY,Ci=jc(J,tn,Dt);ve=Ci.x,Ct=Ci.y,oe=ft(Ci.x)>ft(Ci.y)?Ci.x:Ci.y,$e=da(tn,Dt),M.lastInterval=O}else oe=j.velocity,ve=j.velocityX,Ct=j.velocityY,$e=j.direction;O.velocity=oe,O.velocityX=ve,O.velocityY=Ct,O.direction=$e}(j,O);var Ci=M.element;gn(O.srcEvent.target,Ci)&&(Ci=O.srcEvent.target),O.target=Ci}(M,j),M.emit("hammer.input",j),M.recognize(j),M.session.prevInput=j}function ua(M){for(var O=[],j=0;j<M.pointers.length;)O[j]={clientX:Qt(M.pointers[j].clientX),clientY:Qt(M.pointers[j].clientY)},j++;return{timeStamp:sa(),pointers:O,center:Hc(O),deltaX:M.deltaX,deltaY:M.deltaY}}function Hc(M){var O=M.length;if(1===O)return{x:Qt(M[0].clientX),y:Qt(M[0].clientY)};for(var j=0,J=0,oe=0;oe<O;)j+=M[oe].clientX,J+=M[oe].clientY,oe++;return{x:Qt(j/O),y:Qt(J/O)}}function jc(M,O,j){return{x:O/M||0,y:j/M||0}}function da(M,O){return M===O?1:ft(M)>=ft(O)?M<0?2:4:O<0?8:16}function ha(M,O,j){j||(j=Kr);var J=O[j[0]]-M[j[0]],oe=O[j[1]]-M[j[1]];return Math.sqrt(J*J+oe*oe)}function tc(M,O,j){return j||(j=Kr),180*Math.atan2(O[j[1]]-M[j[1]],O[j[0]]-M[j[0]])/Math.PI}hr.prototype={handler:function(){},init:function(){this.evEl&&Ts(this.element,this.evEl,this.domHandler),this.evTarget&&Ts(this.target,this.evTarget,this.domHandler),this.evWin&&Ts(xt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Jl(this.element,this.evEl,this.domHandler),this.evTarget&&Jl(this.target,this.evTarget,this.domHandler),this.evWin&&Jl(xt(this.element),this.evWin,this.domHandler)}};var zc={mousedown:1,mousemove:2,mouseup:4},vf="mousedown",Jo="mousemove mouseup";function Ri(){this.evEl=vf,this.evWin=Jo,this.pressed=!1,hr.apply(this,arguments)}Vn(Ri,hr,{handler:function(O){var j=zc[O.type];1&j&&0===O.button&&(this.pressed=!0),2&j&&1!==O.which&&(j=4),this.pressed&&(4&j&&(this.pressed=!1),this.callback(this.manager,j,{pointers:[O],changedPointers:[O],pointerType:ur,srcEvent:O}))}});var Tt={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},nc={2:Lt,3:"pen",4:ur,5:"kinect"},en="pointerdown",Dr="pointermove pointerup pointercancel";function Xo(){this.evEl=en,this.evWin=Dr,hr.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}tt.MSPointerEvent&&!tt.PointerEvent&&(en="MSPointerDown",Dr="MSPointerMove MSPointerUp MSPointerCancel"),Vn(Xo,hr,{handler:function(O){var j=this.store,J=!1,oe=O.type.toLowerCase().replace("ms",""),ve=Tt[oe],Ct=nc[O.pointerType]||O.pointerType,$e=Ct==Lt,tn=je(j,O.pointerId,"pointerId");1&ve&&(0===O.button||$e)?tn<0&&(j.push(O),tn=j.length-1):12&ve&&(J=!0),!(tn<0)&&(j[tn]=O,this.callback(this.manager,ve,{pointers:j,changedPointers:[O],pointerType:Ct,srcEvent:O}),J&&j.splice(tn,1))}});var lt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Ue="touchstart",fa="touchstart touchmove touchend touchcancel";function Qi(){this.evTarget=Ue,this.evWin=fa,this.started=!1,hr.apply(this,arguments)}function I_(M,O){var j=ol(M.touches),J=ol(M.changedTouches);return 12&O&&(j=Bn(j.concat(J),"identifier",!0)),[j,J]}Vn(Qi,hr,{handler:function(O){var j=lt[O.type];if(1===j&&(this.started=!0),this.started){var J=I_.call(this,O,j);12&j&&J[0].length-J[1].length==0&&(this.started=!1),this.callback(this.manager,j,{pointers:J[0],changedPointers:J[1],pointerType:Lt,srcEvent:O})}}});var ma={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ne="touchstart touchmove touchend touchcancel";function Co(){this.evTarget=ne,this.targetIds={},hr.apply(this,arguments)}function Qe(M,O){var j=ol(M.touches),J=this.targetIds;if(3&O&&1===j.length)return J[j[0].identifier]=!0,[j,j];var oe,ve,Ct=ol(M.changedTouches),$e=[],tn=this.target;if(ve=j.filter(function(Dt){return gn(Dt.target,tn)}),1===O)for(oe=0;oe<ve.length;)J[ve[oe].identifier]=!0,oe++;for(oe=0;oe<Ct.length;)J[Ct[oe].identifier]&&$e.push(Ct[oe]),12&O&&delete J[Ct[oe].identifier],oe++;return $e.length?[Bn(ve.concat($e),"identifier",!0),$e]:void 0}function Md(){hr.apply(this,arguments);var M=nl(this.handler,this);this.touch=new Co(this.manager,M),this.mouse=new Ri(this.manager,M),this.primaryTouch=null,this.lastTouches=[]}function yf(M,O){1&M?(this.primaryTouch=O.changedPointers[0].identifier,sl.call(this,O)):12&M&&sl.call(this,O)}function sl(M){var O=M.changedPointers[0];if(O.identifier===this.primaryTouch){var j={x:O.clientX,y:O.clientY};this.lastTouches.push(j);var J=this.lastTouches;setTimeout(function(){var ve=J.indexOf(j);ve>-1&&J.splice(ve,1)},2500)}}function Zi(M){for(var O=M.srcEvent.clientX,j=M.srcEvent.clientY,J=0;J<this.lastTouches.length;J++){var oe=this.lastTouches[J],ve=Math.abs(O-oe.x),Ct=Math.abs(j-oe.y);if(ve<=25&&Ct<=25)return!0}return!1}Vn(Co,hr,{handler:function(O){var j=ma[O.type],J=Qe.call(this,O,j);J&&this.callback(this.manager,j,{pointers:J[0],changedPointers:J[1],pointerType:Lt,srcEvent:O})}}),Vn(Md,hr,{handler:function(O,j,J){var ve=J.pointerType==ur;if(!(ve&&J.sourceCapabilities&&J.sourceCapabilities.firesTouchEvents)){if(J.pointerType==Lt)yf.call(this,j,J);else if(ve&&Zi.call(this,J))return;this.callback(O,j,J)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var bf=pe(Kl.style,"touchAction"),Wc=bf!==Un,qc="compute",xd="manipulation",So="none",Es="pan-x",To="pan-y",ic=function rc(){if(!Wc)return!1;var M={},O=tt.CSS&&tt.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(j){M[j]=!O||tt.CSS.supports("touch-action",j)}),M}();function Id(M,O){this.manager=M,this.set(O)}function Le(M){this.options=wr({},this.defaults,M||{}),this.id=function Dd(){return Je++}(),this.manager=null,this.options.enable=Mt(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ks(M){return 16&M?"cancel":8&M?"end":4&M?"move":2&M?"start":""}function it(M){return 16==M?"down":8==M?"up":2==M?"left":4==M?"right":""}function sn(M,O){var j=O.manager;return j?j.get(M):M}function Ki(){Le.apply(this,arguments)}function Ms(){Ki.apply(this,arguments),this.pX=null,this.pY=null}function bi(){Ki.apply(this,arguments)}function ga(){Le.apply(this,arguments),this._timer=null,this._input=null}function es(){Ki.apply(this,arguments)}function Yr(){Ki.apply(this,arguments)}function vn(){Le.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ee(M,O){return(O=O||{}).recognizers=Mt(O.recognizers,Ee.defaults.preset),new hi(M,O)}function hi(M,O){this.options=wr({},Ee.defaults,O||{}),this.options.inputTarget=this.options.inputTarget||M,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=M,this.input=function Ed(M){return new(M.options.inputClass||(xn?Xo:ii?Co:cr?Md:Ri))(M,kd)}(this),this.touchAction=new Id(this,this.options.touchAction),Is(this,!0),at(this.options.recognizers,function(j){var J=this.add(new j[0](j[1]));j[2]&&J.recognizeWith(j[2]),j[3]&&J.requireFailure(j[3])},this)}function Is(M,O){var J,j=M.element;j.style&&(at(M.options.cssProps,function(oe,ve){J=pe(j.style,ve),O?(M.oldCssProps[J]=j.style[J],j.style[J]=oe):j.style[J]=M.oldCssProps[J]||""}),O||(M.oldCssProps={}))}Id.prototype={set:function(M){M==qc&&(M=this.compute()),Wc&&this.manager.element.style&&ic[M]&&(this.manager.element.style[bf]=M),this.actions=M.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var M=[];return at(this.manager.recognizers,function(O){il(O.options.enable,[O])&&(M=M.concat(O.getTouchAction()))}),function Qc(M){if(Mn(M,So))return So;var O=Mn(M,Es),j=Mn(M,To);return O&&j?So:O||j?O?Es:To:Mn(M,xd)?xd:"auto"}(M.join(" "))},preventDefaults:function(M){var O=M.srcEvent,j=M.offsetDirection;if(!this.manager.session.prevented){var J=this.actions,oe=Mn(J,So)&&!ic[So],ve=Mn(J,To)&&!ic[To],Ct=Mn(J,Es)&&!ic[Es];if(oe&&1===M.pointers.length&&M.distance<2&&M.deltaTime<250)return;return Ct&&ve||!(oe||ve&&6&j||Ct&&24&j)?void 0:this.preventSrc(O)}O.preventDefault()},preventSrc:function(M){this.manager.session.prevented=!0,M.preventDefault()}},Le.prototype={defaults:{},set:function(M){return wr(this.options,M),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(M){if(Xt(M,"recognizeWith",this))return this;var O=this.simultaneous;return O[(M=sn(M,this)).id]||(O[M.id]=M,M.recognizeWith(this)),this},dropRecognizeWith:function(M){return Xt(M,"dropRecognizeWith",this)||(M=sn(M,this),delete this.simultaneous[M.id]),this},requireFailure:function(M){if(Xt(M,"requireFailure",this))return this;var O=this.requireFail;return-1===je(O,M=sn(M,this))&&(O.push(M),M.requireFailure(this)),this},dropRequireFailure:function(M){if(Xt(M,"dropRequireFailure",this))return this;M=sn(M,this);var O=je(this.requireFail,M);return O>-1&&this.requireFail.splice(O,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(M){return!!this.simultaneous[M.id]},emit:function(M){var O=this,j=this.state;function J(oe){O.manager.emit(oe,M)}j<8&&J(O.options.event+ks(j)),J(O.options.event),M.additionalEvent&&J(M.additionalEvent),j>=8&&J(O.options.event+ks(j))},tryEmit:function(M){if(this.canEmit())return this.emit(M);this.state=32},canEmit:function(){for(var M=0;M<this.requireFail.length;){if(!(33&this.requireFail[M].state))return!1;M++}return!0},recognize:function(M){var O=wr({},M);if(!il(this.options.enable,[this,O]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(O),30&this.state&&this.tryEmit(O)},process:function(M){},getTouchAction:function(){},reset:function(){}},Vn(Ki,Le,{defaults:{pointers:1},attrTest:function(M){var O=this.options.pointers;return 0===O||M.pointers.length===O},process:function(M){var O=this.state,j=M.eventType,J=6&O,oe=this.attrTest(M);return J&&(8&j||!oe)?16|O:J||oe?4&j?8|O:2&O?4|O:2:32}}),Vn(Ms,Ki,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var M=this.options.direction,O=[];return 6&M&&O.push(To),24&M&&O.push(Es),O},directionTest:function(M){var O=this.options,j=!0,J=M.distance,oe=M.direction,ve=M.deltaX,Ct=M.deltaY;return oe&O.direction||(6&O.direction?(oe=0===ve?1:ve<0?2:4,j=ve!=this.pX,J=Math.abs(M.deltaX)):(oe=0===Ct?1:Ct<0?8:16,j=Ct!=this.pY,J=Math.abs(M.deltaY))),M.direction=oe,j&&J>O.threshold&&oe&O.direction},attrTest:function(M){return Ki.prototype.attrTest.call(this,M)&&(2&this.state||!(2&this.state)&&this.directionTest(M))},emit:function(M){this.pX=M.deltaX,this.pY=M.deltaY;var O=it(M.direction);O&&(M.additionalEvent=this.options.event+O),this._super.emit.call(this,M)}}),Vn(bi,Ki,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[So]},attrTest:function(M){return this._super.attrTest.call(this,M)&&(Math.abs(M.scale-1)>this.options.threshold||2&this.state)},emit:function(M){1!==M.scale&&(M.additionalEvent=this.options.event+(M.scale<1?"in":"out")),this._super.emit.call(this,M)}}),Vn(ga,Le,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(M){var O=this.options,j=M.pointers.length===O.pointers,J=M.distance<O.threshold,oe=M.deltaTime>O.time;if(this._input=M,!J||!j||12&M.eventType&&!oe)this.reset();else if(1&M.eventType)this.reset(),this._timer=Cr(function(){this.state=8,this.tryEmit()},O.time,this);else if(4&M.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(M){8===this.state&&(M&&4&M.eventType?this.manager.emit(this.options.event+"up",M):(this._input.timeStamp=sa(),this.manager.emit(this.options.event,this._input)))}}),Vn(es,Ki,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[So]},attrTest:function(M){return this._super.attrTest.call(this,M)&&(Math.abs(M.rotation)>this.options.threshold||2&this.state)}}),Vn(Yr,Ki,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ms.prototype.getTouchAction.call(this)},attrTest:function(M){var j,O=this.options.direction;return 30&O?j=M.overallVelocity:6&O?j=M.overallVelocityX:24&O&&(j=M.overallVelocityY),this._super.attrTest.call(this,M)&&O&M.offsetDirection&&M.distance>this.options.threshold&&M.maxPointers==this.options.pointers&&ft(j)>this.options.velocity&&4&M.eventType},emit:function(M){var O=it(M.offsetDirection);O&&this.manager.emit(this.options.event+O,M),this.manager.emit(this.options.event,M)}}),Vn(vn,Le,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[xd]},process:function(M){var O=this.options,j=M.pointers.length===O.pointers,J=M.distance<O.threshold,oe=M.deltaTime<O.time;if(this.reset(),1&M.eventType&&0===this.count)return this.failTimeout();if(J&&oe&&j){if(4!=M.eventType)return this.failTimeout();var ve=!this.pTime||M.timeStamp-this.pTime<O.interval,Ct=!this.pCenter||ha(this.pCenter,M.center)<O.posThreshold;if(this.pTime=M.timeStamp,this.pCenter=M.center,Ct&&ve?this.count+=1:this.count=1,this._input=M,0==this.count%O.taps)return this.hasRequireFailures()?(this._timer=Cr(function(){this.state=8,this.tryEmit()},O.interval,this),2):8}return 32},failTimeout:function(){return this._timer=Cr(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ee.VERSION="2.0.7",Ee.defaults={domEvents:!1,touchAction:qc,enable:!0,inputTarget:null,inputClass:null,preset:[[es,{enable:!1}],[bi,{enable:!1},["rotate"]],[Yr,{direction:6}],[Ms,{direction:6},["swipe"]],[vn],[vn,{event:"doubletap",taps:2},["tap"]],[ga]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},hi.prototype={set:function(M){return wr(this.options,M),M.touchAction&&this.touchAction.update(),M.inputTarget&&(this.input.destroy(),this.input.target=M.inputTarget,this.input.init()),this},stop:function(M){this.session.stopped=M?2:1},recognize:function(M){var O=this.session;if(!O.stopped){this.touchAction.preventDefaults(M);var j,J=this.recognizers,oe=O.curRecognizer;(!oe||oe&&8&oe.state)&&(oe=O.curRecognizer=null);for(var ve=0;ve<J.length;)j=J[ve],2===O.stopped||oe&&j!=oe&&!j.canRecognizeWith(oe)?j.reset():j.recognize(M),!oe&&14&j.state&&(oe=O.curRecognizer=j),ve++}},get:function(M){if(M instanceof Le)return M;for(var O=this.recognizers,j=0;j<O.length;j++)if(O[j].options.event==M)return O[j];return null},add:function(M){if(Xt(M,"add",this))return this;var O=this.get(M.options.event);return O&&this.remove(O),this.recognizers.push(M),M.manager=this,this.touchAction.update(),M},remove:function(M){if(Xt(M,"remove",this))return this;if(M=this.get(M)){var O=this.recognizers,j=je(O,M);-1!==j&&(O.splice(j,1),this.touchAction.update())}return this},on:function(M,O){if(M!==Un&&O!==Un){var j=this.handlers;return at(rl(M),function(J){j[J]=j[J]||[],j[J].push(O)}),this}},off:function(M,O){if(M!==Un){var j=this.handlers;return at(rl(M),function(J){O?j[J]&&j[J].splice(je(j[J],O),1):delete j[J]}),this}},emit:function(M,O){this.options.domEvents&&function Pd(M,O){var j=yi.createEvent("Event");j.initEvent(M,!0,!0),j.gesture=O,O.target.dispatchEvent(j)}(M,O);var j=this.handlers[M]&&this.handlers[M].slice();if(j&&j.length){O.type=M,O.preventDefault=function(){O.srcEvent.preventDefault()};for(var J=0;J<j.length;)j[J](O),J++}},destroy:function(){this.element&&Is(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},wr(Ee,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:hi,Input:hr,TouchAction:Id,TouchInput:Co,MouseInput:Ri,PointerEventInput:Xo,TouchMouseInput:Md,SingleTouchInput:Qi,Recognizer:Le,AttrRecognizer:Ki,Tap:vn,Pan:Ms,Swipe:Yr,Pinch:bi,Rotate:es,Press:ga,on:Ts,off:Jl,each:at,merge:aa,extend:Sr,assign:wr,inherit:Vn,bindFn:nl,prefixed:pe}),(typeof tt<"u"?tt:typeof self<"u"?self:{}).Hammer=Ee,(Oi=function(){return Ee}.call(vo,ue,vo,tl))!==Un&&(tl.exports=Oi)}(window,document)},407:function(tl,vo){!function(ue){"use strict";function tt(l){var d,g,b,D;for(g=1,b=arguments.length;g<b;g++)for(d in D=arguments[g])l[d]=D[d];return l}var yi=Object.create||function(){function l(){}return function(d){return l.prototype=d,new l}}();function jt(l,d){var g=Array.prototype.slice;if(l.bind)return l.bind.apply(l,g.call(arguments,1));var b=g.call(arguments,2);return function(){return l.apply(d,b.length?b.concat(g.call(arguments)):arguments)}}var Un=0;function pt(l){return l._leaflet_id=l._leaflet_id||++Un,l._leaflet_id}function Kl(l,d,g){var b,D,I,z;return z=function(){b=!1,D&&(I.apply(g,D),D=!1)},I=function(){b?D=arguments:(l.apply(g,arguments),setTimeout(z,d),b=!0)},I}function Yl(l,d,g){var b=d[1],D=d[0],I=b-D;return l===b&&g?l:((l-D)%I+I)%I+D}function Qt(){return!1}function ft(l,d){var g=Math.pow(10,void 0===d?6:d);return Math.round(l*g)/g}function sa(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function Cr(l){return sa(l).split(/\s+/)}function Xt(l,d){for(var g in Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?yi(l.options):{}),d)l.options[g]=d[g];return l.options}function at(l,d,g){var b=[];for(var D in l)b.push(encodeURIComponent(g?D.toUpperCase():D)+"="+encodeURIComponent(l[D]));return(d&&-1!==d.indexOf("?")?"&":"?")+b.join("&")}var Vc=/\{ *([\w_-]+) *\}/g;function wr(l,d){return l.replace(Vc,function(g,b){var D=d[b];if(void 0===D)throw new Error("No value provided for variable "+g);return"function"==typeof D&&(D=D(d)),D})}var Sr=Array.isArray||function(l){return"[object Array]"===Object.prototype.toString.call(l)};function aa(l,d){for(var g=0;g<l.length;g++)if(l[g]===d)return g;return-1}var Vn="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function nl(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var il=0;function Mt(l){var d=+new Date,g=Math.max(0,16-(d-il));return il=d+g,window.setTimeout(l,g)}var Ts=window.requestAnimationFrame||nl("RequestAnimationFrame")||Mt,Jl=window.cancelAnimationFrame||nl("CancelAnimationFrame")||nl("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function gn(l,d,g){if(!g||Ts!==Mt)return Ts.call(window,jt(l,d));l.call(d)}function Mn(l){l&&Jl.call(window,l)}var rl={extend:tt,create:yi,bind:jt,lastId:Un,stamp:pt,throttle:Kl,wrapNum:Yl,falseFn:Qt,formatNum:ft,trim:sa,splitWords:Cr,setOptions:Xt,getParamString:at,template:wr,isArray:Sr,indexOf:aa,emptyImageUrl:Vn,requestFn:Ts,cancelFn:Jl,requestAnimFrame:gn,cancelAnimFrame:Mn};function je(){}je.extend=function(l){var d=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=d.__super__=this.prototype,b=yi(g);for(var D in b.constructor=d,d.prototype=b,this)Object.prototype.hasOwnProperty.call(this,D)&&"prototype"!==D&&"__super__"!==D&&(d[D]=this[D]);return l.statics&&(tt(d,l.statics),delete l.statics),l.includes&&(function ol(l){if(!(typeof L>"u")&&L&&L.Mixin){l=Sr(l)?l:[l];for(var d=0;d<l.length;d++)l[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(l.includes),tt.apply(null,[b].concat(l.includes)),delete l.includes),b.options&&(l.options=tt(yi(b.options),l.options)),tt(b,l),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,z=b._initHooks.length;I<z;I++)b._initHooks[I].call(this)}},d},je.include=function(l){return tt(this.prototype,l),this},je.mergeOptions=function(l){return tt(this.prototype.options,l),this},je.addInitHook=function(l){var d=Array.prototype.slice.call(arguments,1),g="function"==typeof l?l:function(){this[l].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};var Bn={on:function(l,d,g){if("object"==typeof l)for(var b in l)this._on(b,l[b],d);else for(var D=0,I=(l=Cr(l)).length;D<I;D++)this._on(l[D],d,g);return this},off:function(l,d,g){if(l)if("object"==typeof l)for(var b in l)this._off(b,l[b],d);else for(var D=0,I=(l=Cr(l)).length;D<I;D++)this._off(l[D],d,g);else delete this._events;return this},_on:function(l,d,g){this._events=this._events||{};var b=this._events[l];b||(this._events[l]=b=[]),g===this&&(g=void 0);for(var D={fn:d,ctx:g},I=b,z=0,F=I.length;z<F;z++)if(I[z].fn===d&&I[z].ctx===g)return;I.push(D)},_off:function(l,d,g){var b,D,I;if(this._events&&(b=this._events[l])){if(!d){for(D=0,I=b.length;D<I;D++)b[D].fn=Qt;return void delete this._events[l]}if(g===this&&(g=void 0),b)for(D=0,I=b.length;D<I;D++){var z=b[D];if(z.ctx===g&&z.fn===d)return z.fn=Qt,this._firingCount&&(this._events[l]=b=b.slice()),void b.splice(D,1)}}},fire:function(l,d,g){if(!this.listens(l,g))return this;var b=tt({},d,{type:l,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var D=this._events[l];if(D){this._firingCount=this._firingCount+1||1;for(var I=0,z=D.length;I<z;I++){var F=D[I];F.fn.call(F.ctx||this,b)}this._firingCount--}}return g&&this._propagateEvent(b),this},listens:function(l,d){var g=this._events&&this._events[l];if(g&&g.length)return!0;if(d)for(var b in this._eventParents)if(this._eventParents[b].listens(l,d))return!0;return!1},once:function(l,d,g){if("object"==typeof l){for(var b in l)this.once(b,l[b],d);return this}var D=jt(function(){this.off(l,d,g).off(l,D,g)},this);return this.on(l,d,g).on(l,D,g)},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[pt(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[pt(l)],this},_propagateEvent:function(l){for(var d in this._eventParents)this._eventParents[d].fire(l.type,tt({layer:l.target,propagatedFrom:l.target},l),!0)}};Bn.addEventListener=Bn.on,Bn.removeEventListener=Bn.clearAllEventListeners=Bn.off,Bn.addOneTimeEventListener=Bn.once,Bn.fireEvent=Bn.fire,Bn.hasEventListeners=Bn.listens;var pe=je.extend(Bn);function Je(l,d,g){this.x=g?Math.round(l):l,this.y=g?Math.round(d):d}var Dd=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};function xt(l,d,g){return l instanceof Je?l:Sr(l)?new Je(l[0],l[1]):null==l?l:"object"==typeof l&&"x"in l&&"y"in l?new Je(l.x,l.y):new Je(l,d,g)}function _n(l,d){if(l)for(var g=d?[l,d]:l,b=0,D=g.length;b<D;b++)this.extend(g[b])}function cr(l,d){return!l||l instanceof _n?l:new _n(l,d)}function xn(l,d){if(l)for(var g=d?[l,d]:l,b=0,D=g.length;b<D;b++)this.extend(g[b])}function ii(l,d){return l instanceof xn?l:new xn(l,d)}function Lt(l,d,g){if(isNaN(l)||isNaN(d))throw new Error("Invalid LatLng object: ("+l+", "+d+")");this.lat=+l,this.lng=+d,void 0!==g&&(this.alt=+g)}function wn(l,d,g){return l instanceof Lt?l:Sr(l)&&"object"!=typeof l[0]?3===l.length?new Lt(l[0],l[1],l[2]):2===l.length?new Lt(l[0],l[1]):null:null==l?l:"object"==typeof l&&"lat"in l?new Lt(l.lat,"lng"in l?l.lng:l.lon,l.alt):void 0===d?null:new Lt(l,d,g)}Je.prototype={clone:function(){return new Je(this.x,this.y)},add:function(l){return this.clone()._add(xt(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(xt(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new Je(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new Je(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Dd(this.x),this.y=Dd(this.y),this},distanceTo:function(l){var d=(l=xt(l)).x-this.x,g=l.y-this.y;return Math.sqrt(d*d+g*g)},equals:function(l){return(l=xt(l)).x===this.x&&l.y===this.y},contains:function(l){return l=xt(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+ft(this.x)+", "+ft(this.y)+")"}},_n.prototype={extend:function(l){return l=xt(l),this.min||this.max?(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)):(this.min=l.clone(),this.max=l.clone()),this},getCenter:function(l){return new Je((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return new Je(this.min.x,this.max.y)},getTopRight:function(){return new Je(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var d,g;return(l="number"==typeof l[0]||l instanceof Je?xt(l):cr(l))instanceof _n?(d=l.min,g=l.max):d=g=l,d.x>=this.min.x&&g.x<=this.max.x&&d.y>=this.min.y&&g.y<=this.max.y},intersects:function(l){l=cr(l);var d=this.min,g=this.max,b=l.min,D=l.max;return D.x>=d.x&&b.x<=g.x&&D.y>=d.y&&b.y<=g.y},overlaps:function(l){l=cr(l);var d=this.min,g=this.max,b=l.min,D=l.max;return D.x>d.x&&b.x<g.x&&D.y>d.y&&b.y<g.y},isValid:function(){return!(!this.min||!this.max)}},xn.prototype={extend:function(l){var b,D,d=this._southWest,g=this._northEast;if(l instanceof Lt)b=l,D=l;else{if(!(l instanceof xn))return l?this.extend(wn(l)||ii(l)):this;if(D=l._northEast,!(b=l._southWest)||!D)return this}return d||g?(d.lat=Math.min(b.lat,d.lat),d.lng=Math.min(b.lng,d.lng),g.lat=Math.max(D.lat,g.lat),g.lng=Math.max(D.lng,g.lng)):(this._southWest=new Lt(b.lat,b.lng),this._northEast=new Lt(D.lat,D.lng)),this},pad:function(l){var d=this._southWest,g=this._northEast,b=Math.abs(d.lat-g.lat)*l,D=Math.abs(d.lng-g.lng)*l;return new xn(new Lt(d.lat-b,d.lng-D),new Lt(g.lat+b,g.lng+D))},getCenter:function(){return new Lt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Lt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Lt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){l="number"==typeof l[0]||l instanceof Lt||"lat"in l?wn(l):ii(l);var b,D,d=this._southWest,g=this._northEast;return l instanceof xn?(b=l.getSouthWest(),D=l.getNorthEast()):b=D=l,b.lat>=d.lat&&D.lat<=g.lat&&b.lng>=d.lng&&D.lng<=g.lng},intersects:function(l){l=ii(l);var d=this._southWest,g=this._northEast,b=l.getSouthWest(),D=l.getNorthEast();return D.lat>=d.lat&&b.lat<=g.lat&&D.lng>=d.lng&&b.lng<=g.lng},overlaps:function(l){l=ii(l);var d=this._southWest,g=this._northEast,b=l.getSouthWest(),D=l.getNorthEast();return D.lat>d.lat&&b.lat<g.lat&&D.lng>d.lng&&b.lng<g.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,d){return!!l&&(l=ii(l),this._southWest.equals(l.getSouthWest(),d)&&this._northEast.equals(l.getNorthEast(),d))},isValid:function(){return!(!this._southWest||!this._northEast)}},Lt.prototype={equals:function(l,d){return!!l&&(l=wn(l),Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng))<=(void 0===d?1e-9:d))},toString:function(l){return"LatLng("+ft(this.lat,l)+", "+ft(this.lng,l)+")"},distanceTo:function(l){return yo.distance(this,wn(l))},wrap:function(){return yo.wrapLatLng(this)},toBounds:function(l){var d=180*l/40075017,g=d/Math.cos(Math.PI/180*this.lat);return ii([this.lat-d,this.lng-g],[this.lat+d,this.lng+g])},clone:function(){return new Lt(this.lat,this.lng,this.alt)}};var l,ur={latLngToPoint:function(l,d){var g=this.projection.project(l),b=this.scale(d);return this.transformation._transform(g,b)},pointToLatLng:function(l,d){var g=this.scale(d),b=this.transformation.untransform(l,g);return this.projection.unproject(b)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var d=this.projection.bounds,g=this.scale(l);return new _n(this.transformation.transform(d.min,g),this.transformation.transform(d.max,g))},infinite:!1,wrapLatLng:function(l){var d=this.wrapLng?Yl(l.lng,this.wrapLng,!0):l.lng;return new Lt(this.wrapLat?Yl(l.lat,this.wrapLat,!0):l.lat,d,l.alt)},wrapLatLngBounds:function(l){var d=l.getCenter(),g=this.wrapLatLng(d),b=d.lat-g.lat,D=d.lng-g.lng;if(0===b&&0===D)return l;var I=l.getSouthWest(),z=l.getNorthEast();return new xn(new Lt(I.lat-b,I.lng-D),new Lt(z.lat-b,z.lng-D))}},yo=tt({},ur,{wrapLng:[-180,180],R:6371e3,distance:function(l,d){var g=Math.PI/180,b=l.lat*g,D=d.lat*g,I=Math.sin((d.lat-l.lat)*g/2),z=Math.sin((d.lng-l.lng)*g/2),F=I*I+Math.cos(b)*Math.cos(D)*z*z,K=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*K}}),ri={R:6378137,MAX_LATITUDE:85.0511287798,project:function(l){var d=Math.PI/180,g=this.MAX_LATITUDE,b=Math.max(Math.min(g,l.lat),-g),D=Math.sin(b*d);return new Je(this.R*l.lng*d,this.R*Math.log((1+D)/(1-D))/2)},unproject:function(l){var d=180/Math.PI;return new Lt((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*d,l.x*d/this.R)},bounds:(l=6378137*Math.PI,new _n([-l,-l],[l,l]))};function bo(l,d,g,b){if(Sr(l))return this._a=l[0],this._b=l[1],this._c=l[2],void(this._d=l[3]);this._a=l,this._b=d,this._c=g,this._d=b}function on(l,d,g,b){return new bo(l,d,g,b)}bo.prototype={transform:function(l,d){return this._transform(l.clone(),d)},_transform:function(l,d){return l.x=(d=d||1)*(this._a*l.x+this._b),l.y=d*(this._c*l.y+this._d),l},untransform:function(l,d){return new Je((l.x/(d=d||1)-this._b)/this._a,(l.y/d-this._d)/this._c)}};var ci=tt({},yo,{code:"EPSG:3857",projection:ri,transformation:function(){var l=.5/(Math.PI*ri.R);return on(l,.5,-l,.5)}()}),ec=tt({},ci,{code:"EPSG:900913"});function la(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function ca(l,d){var b,D,I,z,F,K,g="";for(b=0,I=l.length;b<I;b++){for(D=0,z=(F=l[b]).length;D<z;D++)g+=(D?"L":"M")+(K=F[D]).x+" "+K.y;g+=d?Ue?"z":"x":""}return g||"M0 0"}var un=document.documentElement.style,dr="ActiveXObject"in window,Ai=dr&&!document.addEventListener,Ni="msLaunchUri"in navigator&&!("documentMode"in document),Bc=Qi("webkit"),Kr=Qi("android"),pn=Qi("android 2")||Qi("android 3"),hr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ed=Kr&&Qi("Google")&&hr<537&&!("AudioNode"in window),kd=!!window.opera,Ko=!Ni&&Qi("chrome"),Ds=Qi("gecko")&&!Bc&&!kd&&!dr,Yo=!Ko&&Qi("safari"),ua=Qi("phantom"),Hc="OTransition"in un,jc=0===navigator.platform.indexOf("Win"),da=dr&&"transition"in un,ha="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!pn,tc="MozPerspective"in un,Tr=!window.L_DISABLE_3D&&(da||ha||tc)&&!Hc&&!ua,pa=typeof orientation<"u"||Qi("mobile"),zc=pa&&Bc,vf=pa&&ha,Jo=!window.PointerEvent&&window.MSPointerEvent,Ri=!(!window.PointerEvent&&!Jo),Tt=!window.L_NO_TOUCH&&(Ri||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),nc=pa&&kd,en=pa&&Ds,Dr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xo=function(){var l=!1;try{var d=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",Qt,d),window.removeEventListener("testPassiveEventSupport",Qt,d)}catch{}return l}(),lt=!!document.createElement("canvas").getContext,Ue=!(!document.createElementNS||!la("svg").createSVGRect),fa=!Ue&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var d=l.firstChild;return d.style.behavior="url(#default#VML)",d&&"object"==typeof d.adj}catch{return!1}}();function Qi(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var I_={ie:dr,ielt9:Ai,edge:Ni,webkit:Bc,android:Kr,android23:pn,androidStock:Ed,opera:kd,chrome:Ko,gecko:Ds,safari:Yo,phantom:ua,opera12:Hc,win:jc,ie3d:da,webkit3d:ha,gecko3d:tc,any3d:Tr,mobile:pa,mobileWebkit:zc,mobileWebkit3d:vf,msPointer:Jo,pointer:Ri,touch:Tt,mobileOpera:nc,mobileGecko:en,retina:Dr,passiveEvents:Xo,canvas:lt,svg:Ue,vml:fa},ma=Jo?"MSPointerDown":"pointerdown",ne=Jo?"MSPointerMove":"pointermove",Co=Jo?"MSPointerUp":"pointerup",Qe=Jo?"MSPointerCancel":"pointercancel",It={},Gc=!1;function Md(l,d,g,b){return"touchstart"===d?function sl(l,d,g){var b=jt(function(D){D.MSPOINTER_TYPE_TOUCH&&D.pointerType===D.MSPOINTER_TYPE_TOUCH&&pr(D),qc(D,d)});l["_leaflet_touchstart"+g]=b,l.addEventListener(ma,b,!1),Gc||(document.addEventListener(ma,Zi,!0),document.addEventListener(ne,bf,!0),document.addEventListener(Co,Wc,!0),document.addEventListener(Qe,Wc,!0),Gc=!0)}(l,g,b):"touchmove"===d?function wo(l,d,g){var b=function(D){D.pointerType===(D.MSPOINTER_TYPE_MOUSE||"mouse")&&0===D.buttons||qc(D,d)};l["_leaflet_touchmove"+g]=b,l.addEventListener(ne,b,!1)}(l,g,b):"touchend"===d&&function xd(l,d,g){var b=function(D){qc(D,d)};l["_leaflet_touchend"+g]=b,l.addEventListener(Co,b,!1),l.addEventListener(Qe,b,!1)}(l,g,b),this}function Zi(l){It[l.pointerId]=l}function bf(l){It[l.pointerId]&&(It[l.pointerId]=l)}function Wc(l){delete It[l.pointerId]}function qc(l,d){for(var g in l.touches=[],It)l.touches.push(It[g]);l.changedTouches=[l],d(l)}var So=Jo?"MSPointerDown":Ri?"pointerdown":"touchstart",Es=Jo?"MSPointerUp":Ri?"pointerup":"touchend",To="_leaflet_";var xs,_a,hi,M,O,Qc=es(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rc=es(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ui="webkitTransition"===rc||"OTransition"===rc?rc+"End":"transitionend";function nt(l){return"string"==typeof l?document.getElementById(l):l}function Do(l,d){var g=l.style[d]||l.currentStyle&&l.currentStyle[d];if((!g||"auto"===g)&&document.defaultView){var b=document.defaultView.getComputedStyle(l,null);g=b?b[d]:null}return"auto"===g?null:g}function yt(l,d,g){var b=document.createElement(l);return b.className=d||"",g&&g.appendChild(b),b}function zt(l){var d=l.parentNode;d&&d.removeChild(l)}function W(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function di(l){var d=l.parentNode;d&&d.lastChild!==l&&d.appendChild(l)}function Le(l){var d=l.parentNode;d&&d.firstChild!==l&&d.insertBefore(l,d.firstChild)}function ks(l,d){if(void 0!==l.classList)return l.classList.contains(d);var g=Ms(l);return g.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(g)}function it(l,d){if(void 0!==l.classList)for(var g=Cr(d),b=0,D=g.length;b<D;b++)l.classList.add(g[b]);else if(!ks(l,d)){var I=Ms(l);Ki(l,(I?I+" ":"")+d)}}function sn(l,d){void 0!==l.classList?l.classList.remove(d):Ki(l,sa((" "+Ms(l)+" ").replace(" "+d+" "," ")))}function Ki(l,d){void 0===l.className.baseVal?l.className=d:l.className.baseVal=d}function Ms(l){return l.correspondingElement&&(l=l.correspondingElement),void 0===l.className.baseVal?l.className:l.className.baseVal}function bi(l,d){"opacity"in l.style?l.style.opacity=d:"filter"in l.style&&function ga(l,d){var g=!1,b="DXImageTransform.Microsoft.Alpha";try{g=l.filters.item(b)}catch{if(1===d)return}d=Math.round(100*d),g?(g.Enabled=100!==d,g.Opacity=d):l.style.filter+=" progid:"+b+"(opacity="+d+")"}(l,d)}function es(l){for(var d=document.documentElement.style,g=0;g<l.length;g++)if(l[g]in d)return l[g];return!1}function Yr(l,d,g){var b=d||new Je(0,0);l.style[Qc]=(da?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(g?" scale("+g+")":"")}function vn(l,d){l._leaflet_pos=d,Tr?Yr(l,d):(l.style.left=d.x+"px",l.style.top=d.y+"px")}function Ee(l){return l._leaflet_pos||new Je(0,0)}if("onselectstart"in document)xs=function(){$e(window,"selectstart",pr)},_a=function(){Dt(window,"selectstart",pr)};else{var Is=es(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xs=function(){if(Is){var l=document.documentElement.style;hi=l[Is],l[Is]="none"}},_a=function(){Is&&(document.documentElement.style[Is]=hi,hi=void 0)}}function Pd(){$e(window,"dragstart",pr)}function Zt(){Dt(window,"dragstart",pr)}function j(l){for(;-1===l.tabIndex;)l=l.parentNode;l.style&&(J(),M=l,O=l.style.outline,l.style.outline="none",$e(window,"keydown",J))}function J(){M&&(M.style.outline=O,M=void 0,O=void 0,Dt(window,"keydown",J))}function oe(l){do{l=l.parentNode}while(!(l.offsetWidth&&l.offsetHeight||l===document.body));return l}function ve(l){var d=l.getBoundingClientRect();return{x:d.width/l.offsetWidth||1,y:d.height/l.offsetHeight||1,boundingClientRect:d}}var Ct={TRANSFORM:Qc,TRANSITION:rc,TRANSITION_END:ui,get:nt,getStyle:Do,create:yt,remove:zt,empty:W,toFront:di,toBack:Le,hasClass:ks,addClass:it,removeClass:sn,setClass:Ki,getClass:Ms,setOpacity:bi,testProp:es,setTransform:Yr,setPosition:vn,getPosition:Ee,disableTextSelection:xs,enableTextSelection:_a,disableImageDrag:Pd,enableImageDrag:Zt,preventOutline:j,restoreOutline:J,getSizedParentNode:oe,getScale:ve};function $e(l,d,g,b){if("object"==typeof d)for(var D in d)Od(l,D,d[D],g);else for(var I=0,z=(d=Cr(d)).length;I<z;I++)Od(l,d[I],g,b);return this}var tn="_leaflet_events";function Dt(l,d,g,b){if("object"==typeof d)for(var D in d)R(l,D,d[D],g);else if(d)for(var I=0,z=(d=Cr(d)).length;I<z;I++)R(l,d[I],g,b);else{for(var F in l[tn])R(l,F,l[tn][F]);delete l[tn]}return this}function Ci(){if(Ri)return!(Ni||Yo)}var va={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Od(l,d,g,b){var D=d+pt(g)+(b?"_"+pt(b):"");if(l[tn]&&l[tn][D])return this;var I=function(F){return g.call(b||l,F||window.event)},z=I;Ri&&0===d.indexOf("touch")?Md(l,d,I,D):Tt&&"dblclick"===d&&!Ci()?function ic(l,d,g){var b,D,I=!1;function F(k){if(Ri){if(!k.isPrimary||"mouse"===k.pointerType)return}else if(k.touches.length>1)return;var x=Date.now(),Ce=x-(b||x);D=k.touches?k.touches[0]:k,I=Ce>0&&Ce<=250,b=x}function K(k){if(I&&!D.cancelBubble){if(Ri){if("mouse"===k.pointerType)return;var Ce,$t,x={};for($t in D)x[$t]=(Ce=D[$t])&&Ce.bind?Ce.bind(D):Ce;D=x}D.type="dblclick",D.button=0,d(D),b=null}}return l[To+So+g]=F,l[To+Es+g]=K,l[To+"dblclick"+g]=d,l.addEventListener(So,F,!!Xo&&{passive:!1}),l.addEventListener(Es,K,!!Xo&&{passive:!1}),l.addEventListener("dblclick",d,!1),this}(l,I,D):"addEventListener"in l?"touchstart"===d||"touchmove"===d||"wheel"===d||"mousewheel"===d?l.addEventListener(va[d]||d,I,!!Xo&&{passive:!1}):"mouseenter"===d||"mouseleave"===d?l.addEventListener(va[d],I=function(F){F=F||window.event,Cf(l,F)&&z(F)},!1):l.addEventListener(d,z,!1):"attachEvent"in l&&l.attachEvent("on"+d,I),l[tn]=l[tn]||{},l[tn][D]=I}function R(l,d,g,b){var D=d+pt(g)+(b?"_"+pt(b):""),I=l[tn]&&l[tn][D];if(!I)return this;Ri&&0===d.indexOf("touch")?function yf(l,d,g){var b=l["_leaflet_"+d+g];return"touchstart"===d?l.removeEventListener(ma,b,!1):"touchmove"===d?l.removeEventListener(ne,b,!1):"touchend"===d&&(l.removeEventListener(Co,b,!1),l.removeEventListener(Qe,b,!1)),this}(l,d,D):Tt&&"dblclick"===d&&!Ci()?function Id(l,d){var b=l[To+Es+d],D=l[To+"dblclick"+d];return l.removeEventListener(So,l[To+So+d],!!Xo&&{passive:!1}),l.removeEventListener(Es,b,!!Xo&&{passive:!1}),l.removeEventListener("dblclick",D,!1),this}(l,D):"removeEventListener"in l?l.removeEventListener(va[d]||d,I,!1):"detachEvent"in l&&l.detachEvent("on"+d,I),l[tn][D]=null}function ya(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,A_(l),this}function rt(l){return Od(l,"wheel",ya),this}function ba(l){return $e(l,"mousedown touchstart dblclick",ya),Od(l,"click",kr),this}function pr(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function Er(l){return pr(l),ya(l),this}function P_(l,d){if(!d)return new Je(l.clientX,l.clientY);var g=ve(d),b=g.boundingClientRect;return new Je((l.clientX-b.left)/g.x-d.clientLeft,(l.clientY-b.top)/g.y-d.clientTop)}var C1=jc&&Ko?2*window.devicePixelRatio:Ds?window.devicePixelRatio:1;function O_(l){return Ni?l.wheelDeltaY/2:l.deltaY&&0===l.deltaMode?-l.deltaY/C1:l.deltaY&&1===l.deltaMode?20*-l.deltaY:l.deltaY&&2===l.deltaMode?60*-l.deltaY:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?20*-l.detail:l.detail?l.detail/-32765*60:0}var ts={};function kr(l){ts[l.type]=!0}function A_(l){var d=ts[l.type];return ts[l.type]=!1,d}function Cf(l,d){var g=d.relatedTarget;if(!g)return!0;try{for(;g&&g!==l;)g=g.parentNode}catch{return!1}return g!==l}var Eo={on:$e,off:Dt,stopPropagation:ya,disableScrollPropagation:rt,disableClickPropagation:ba,preventDefault:pr,stop:Er,getMousePosition:P_,getWheelDelta:O_,fakeStop:kr,skipped:A_,isExternalTarget:Cf,addListener:$e,removeListener:Dt},ns=pe.extend({run:function(l,d,g,b){this.stop(),this._el=l,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Ee(l),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=gn(this._animate,this),this._step()},_step:function(l){var d=+new Date-this._startTime,g=1e3*this._duration;d<g?this._runFrame(this._easeOut(d/g),l):(this._runFrame(1),this._complete())},_runFrame:function(l,d){var g=this._startPos.add(this._offset.multiplyBy(l));d&&g._round(),vn(this._el,g),this.fire("step")},_complete:function(){Mn(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),Ie=pe.extend({options:{crs:ci,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,d){d=Xt(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=jt(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),void 0!==d.zoom&&(this._zoom=this._limitZoom(d.zoom)),d.center&&void 0!==d.zoom&&this.setView(wn(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rc&&Tr&&!nc&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$e(this._proxy,ui,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,d,g){return d=void 0===d?this._zoom:this._limitZoom(d),l=this._limitCenter(wn(l),d,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&!0!==g&&(void 0!==g.animate&&(g.zoom=tt({animate:g.animate},g.zoom),g.pan=tt({animate:g.animate,duration:g.duration},g.pan)),this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,d,g.zoom):this._tryAnimatedPan(l,g.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(l,d),this)},setZoom:function(l,d){return this._loaded?this.setView(this.getCenter(),l,{zoom:d}):(this._zoom=l,this)},zoomIn:function(l,d){return this.setZoom(this._zoom+(l=l||(Tr?this.options.zoomDelta:1)),d)},zoomOut:function(l,d){return this.setZoom(this._zoom-(l=l||(Tr?this.options.zoomDelta:1)),d)},setZoomAround:function(l,d,g){var b=this.getZoomScale(d),D=this.getSize().divideBy(2),z=(l instanceof Je?l:this.latLngToContainerPoint(l)).subtract(D).multiplyBy(1-1/b),F=this.containerPointToLatLng(D.add(z));return this.setView(F,d,{zoom:g})},_getBoundsCenterZoom:function(l,d){d=d||{},l=l.getBounds?l.getBounds():ii(l);var g=xt(d.paddingTopLeft||d.padding||[0,0]),b=xt(d.paddingBottomRight||d.padding||[0,0]),D=this.getBoundsZoom(l,!1,g.add(b));if((D="number"==typeof d.maxZoom?Math.min(d.maxZoom,D):D)===1/0)return{center:l.getCenter(),zoom:D};var I=b.subtract(g).divideBy(2),z=this.project(l.getSouthWest(),D),F=this.project(l.getNorthEast(),D);return{center:this.unproject(z.add(F).divideBy(2).add(I),D),zoom:D}},fitBounds:function(l,d){if(!(l=ii(l)).isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(l,d);return this.setView(g.center,g.zoom,d)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,d){return this.setView(l,this._zoom,{pan:d})},panBy:function(l,d){if(d=d||{},!(l=xt(l).round()).x&&!l.y)return this.fire("moveend");if(!0!==d.animate&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ns,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),!1!==d.animate){it(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,g,d.duration||.25,d.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,d,g){if(!1===(g=g||{}).animate||!Tr)return this.setView(l,d,g);this._stop();var b=this.project(this.getCenter()),D=this.project(l),I=this.getSize(),z=this._zoom;l=wn(l),d=void 0===d?z:d;var F=Math.max(I.x,I.y),K=F*this.getZoomScale(z,d),k=D.distanceTo(b)||1,x=1.42,Ce=x*x;function $t(an){var iu=(K*K-F*F+(an?-1:1)*Ce*Ce*k*k)/(2*(an?K:F)*Ce*k),Bd=Math.sqrt(iu*iu+1)-iu;return Bd<1e-9?-18:Math.log(Bd)}function Or(an){return(Math.exp(an)-Math.exp(-an))/2}function Bi(an){return(Math.exp(an)+Math.exp(-an))/2}var os=$t(0);function xD(an){return F*(Bi(os)*function hc(an){return Or(an)/Bi(an)}(os+x*an)-Or(os))/Ce}var Ji=Date.now(),ss=($t(1)-os)/x,Z_=g.duration?1e3*g.duration:1e3*ss*.8;return this._moveStart(!0,g.noMoveStart),function hl(){var an=(Date.now()-Ji)/Z_,Vd=function Q_(an){return 1-Math.pow(1-an,1.5)}(an)*ss;an<=1?(this._flyToFrame=gn(hl,this),this._move(this.unproject(b.add(D.subtract(b).multiplyBy(xD(Vd)/k)),z),this.getScaleZoom(F/function Nf(an){return F*(Bi(os)/Bi(os+x*an))}(Vd),z),{flyTo:!0})):this._move(l,d)._moveEnd(!0)}.call(this),this},flyToBounds:function(l,d){var g=this._getBoundsCenterZoom(l,d);return this.flyTo(g.center,g.zoom,d)},setMaxBounds:function(l){return(l=ii(l)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(l){var d=this.options.minZoom;return this.options.minZoom=l,this._loaded&&d!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var d=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&d!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,d){this._enforcingBounds=!0;var g=this.getCenter(),b=this._limitCenter(g,this._zoom,ii(l));return g.equals(b)||this.panTo(b,d),this._enforcingBounds=!1,this},panInside:function(l,d){var g=xt((d=d||{}).paddingTopLeft||d.padding||[0,0]),b=xt(d.paddingBottomRight||d.padding||[0,0]),D=this.getCenter(),I=this.project(D),z=this.project(l),F=this.getPixelBounds(),K=F.getSize().divideBy(2),k=cr([F.min.add(g),F.max.subtract(b)]);if(!k.contains(z)){this._enforcingBounds=!0;var x=I.subtract(z),Ce=xt(z.x+x.x,z.y+x.y);(z.x<k.min.x||z.x>k.max.x)&&(Ce.x=I.x-x.x,x.x>0?Ce.x+=K.x-g.x:Ce.x-=K.x-b.x),(z.y<k.min.y||z.y>k.max.y)&&(Ce.y=I.y-x.y,x.y>0?Ce.y+=K.y-g.y:Ce.y-=K.y-b.y),this.panTo(this.unproject(Ce),d),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=tt({animate:!1,pan:!0},!0===l?{animate:!0}:l);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),b=d.divideBy(2).round(),D=g.divideBy(2).round(),I=b.subtract(D);return I.x||I.y?(l.animate&&l.pan?this.panBy(I):(l.pan&&this._rawPanBy(I),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(jt(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:g})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=tt({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=jt(this._handleGeolocationResponse,this),g=jt(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,g,l):navigator.geolocation.getCurrentPosition(d,g,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){var d=l.code,g=l.message||(1===d?"permission denied":2===d?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+g+"."})},_handleGeolocationResponse:function(l){var b=new Lt(l.coords.latitude,l.coords.longitude),D=b.toBounds(2*l.coords.accuracy),I=this._locateOptions;if(I.setView){var z=this.getBoundsZoom(D);this.setView(b,I.maxZoom?Math.min(z,I.maxZoom):z)}var F={latlng:b,bounds:D,timestamp:l.timestamp};for(var K in l.coords)"number"==typeof l.coords[K]&&(F[K]=l.coords[K]);this.fire("locationfound",F)},addHandler:function(l,d){if(!d)return this;var g=this[l]=new d(this);return this._handlers.push(g),this.options[l]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var l;for(l in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),zt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Mn(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[l].remove();for(l in this._panes)zt(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,d){var b=yt("div","leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),d||this._mapPane);return l&&(this._panes[l]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds();return new xn(this.unproject(l.getBottomLeft()),this.unproject(l.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,d,g){l=ii(l),g=xt(g||[0,0]);var b=this.getZoom()||0,D=this.getMinZoom(),I=this.getMaxZoom(),z=l.getNorthWest(),F=l.getSouthEast(),K=this.getSize().subtract(g),k=cr(this.project(F,b),this.project(z,b)).getSize(),x=Tr?this.options.zoomSnap:1,Ce=K.x/k.x,$t=K.y/k.y,Or=d?Math.max(Ce,$t):Math.min(Ce,$t);return b=this.getScaleZoom(Or,b),x&&(b=Math.round(b/(x/100))*(x/100),b=d?Math.ceil(b/x)*x:Math.floor(b/x)*x),Math.max(D,Math.min(I,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Je(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,d){var g=this._getTopLeftPoint(l,d);return new _n(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(void 0===l?this.getZoom():l)},getPane:function(l){return"string"==typeof l?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,d){var g=this.options.crs;return d=void 0===d?this._zoom:d,g.scale(l)/g.scale(d)},getScaleZoom:function(l,d){var g=this.options.crs,b=g.zoom(l*g.scale(d=void 0===d?this._zoom:d));return isNaN(b)?1/0:b},project:function(l,d){return d=void 0===d?this._zoom:d,this.options.crs.latLngToPoint(wn(l),d)},unproject:function(l,d){return d=void 0===d?this._zoom:d,this.options.crs.pointToLatLng(xt(l),d)},layerPointToLatLng:function(l){var d=xt(l).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(l){return this.project(wn(l))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(wn(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(ii(l))},distance:function(l,d){return this.options.crs.distance(wn(l),wn(d))},containerPointToLayerPoint:function(l){return xt(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return xt(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var d=this.containerPointToLayerPoint(xt(l));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wn(l)))},mouseEventToContainerPoint:function(l){return P_(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var d=this._container=nt(l);if(!d)throw new Error("Map container not found.");if(d._leaflet_id)throw new Error("Map container is already initialized.");$e(d,"scroll",this._onScroll,this),this._containerId=pt(d)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Tr,it(l,"leaflet-container"+(Tt?" leaflet-touch":"")+(Dr?" leaflet-retina":"")+(Ai?" leaflet-oldie":"")+(Yo?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=Do(l,"position");"absolute"!==d&&"relative"!==d&&"fixed"!==d&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),vn(this._mapPane,new Je(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(it(l.markerPane,"leaflet-zoom-hide"),it(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,d){vn(this._mapPane,new Je(0,0));var g=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var b=this._zoom!==d;this._moveStart(b,!1)._move(l,d)._moveEnd(b),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(l,d){return l&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(l,d,g){void 0===d&&(d=this._zoom);var b=this._zoom!==d;return this._zoom=d,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),(b||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Mn(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){vn(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[pt(this._container)]=this;var d=l?Dt:$e;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Tr&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Mn(this._resizeRequest),this._resizeRequest=gn(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,d){for(var b,g=[],D="mouseout"===d||"mouseover"===d,I=l.target||l.srcElement,z=!1;I;){if((b=this._targets[pt(I)])&&("click"===d||"preclick"===d)&&!l._simulated&&this._draggableMoved(b)){z=!0;break}if(b&&b.listens(d,!0)&&(D&&!Cf(I,l)||(g.push(b),D))||I===this._container)break;I=I.parentNode}return!g.length&&!z&&!D&&Cf(I,l)&&(g=[this]),g},_handleDOMEvent:function(l){if(this._loaded&&!A_(l)){var d=l.type;("mousedown"===d||"keypress"===d||"keyup"===d||"keydown"===d)&&j(l.target||l.srcElement),this._fireDOMEvent(l,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,d,g){if("click"===l.type){var b=tt({},l);b.type="preclick",this._fireDOMEvent(b,b.type,g)}if(!l._stopped&&(g=(g||[]).concat(this._findEventTargets(l,d))).length){var D=g[0];"contextmenu"===d&&D.listens(d,!0)&&pr(l);var I={originalEvent:l};if("keypress"!==l.type&&"keydown"!==l.type&&"keyup"!==l.type){var z=D.getLatLng&&(!D._radius||D._radius<=10);I.containerPoint=z?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(l),I.layerPoint=this.containerPointToLayerPoint(I.containerPoint),I.latlng=z?D.getLatLng():this.layerPointToLatLng(I.layerPoint)}for(var F=0;F<g.length;F++)if(g[F].fire(d,I,!0),I.originalEvent._stopped||!1===g[F].options.bubblingMouseEvents&&-1!==aa(this._mouseEvents,d))return}},_draggableMoved:function(l){return(l=l.dragging&&l.dragging.enabled()?l:this).dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,d=this._handlers.length;l<d;l++)this._handlers[l].disable()},whenReady:function(l,d){return this._loaded?l.call(d||this,{target:this}):this.on("load",l,d),this},_getMapPanePos:function(){return Ee(this._mapPane)||new Je(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,d){return(l&&void 0!==d?this._getNewPixelOrigin(l,d):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,d){var g=this.getSize()._divideBy(2);return this.project(l,d)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,d,g){var b=this._getNewPixelOrigin(g,d);return this.project(l,d)._subtract(b)},_latLngBoundsToNewLayerBounds:function(l,d,g){var b=this._getNewPixelOrigin(g,d);return cr([this.project(l.getSouthWest(),d)._subtract(b),this.project(l.getNorthWest(),d)._subtract(b),this.project(l.getSouthEast(),d)._subtract(b),this.project(l.getNorthEast(),d)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,d,g){if(!g)return l;var b=this.project(l,d),D=this.getSize().divideBy(2),I=new _n(b.subtract(D),b.add(D)),z=this._getBoundsOffset(I,g,d);return z.round().equals([0,0])?l:this.unproject(b.add(z),d)},_limitOffset:function(l,d){if(!d)return l;var g=this.getPixelBounds(),b=new _n(g.min.add(l),g.max.add(l));return l.add(this._getBoundsOffset(b,d))},_getBoundsOffset:function(l,d,g){var b=cr(this.project(d.getNorthEast(),g),this.project(d.getSouthWest(),g)),D=b.min.subtract(l.min),I=b.max.subtract(l.max);return new Je(this._rebound(D.x,-I.x),this._rebound(D.y,-I.y))},_rebound:function(l,d){return l+d>0?Math.round(l-d)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(d))},_limitZoom:function(l){var d=this.getMinZoom(),g=this.getMaxZoom(),b=Tr?this.options.zoomSnap:1;return b&&(l=Math.round(l/b)*b),Math.max(d,Math.min(g,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){sn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,d){var g=this._getCenterOffset(l)._trunc();return!(!0!==(d&&d.animate)&&!this.getSize().contains(g)||(this.panBy(g,d),0))},_createAnimProxy:function(){var l=this._proxy=yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(d){var g=Qc,b=this._proxy.style[g];Yr(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),b===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){zt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),d=this.getZoom();Yr(this._proxy,this.project(l,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,d,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||!1===g.animate||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(d),D=this._getCenterOffset(l)._divideBy(1-1/b);return!(!0!==g.animate&&!this.getSize().contains(D)||(gn(function(){this._moveStart(!0,!1)._animateZoom(l,d,!0)},this),0))},_animateZoom:function(l,d,g,b){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=d,it(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:d,noUpdate:b}),setTimeout(jt(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&sn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),gn(function(){this._moveEnd(!0)},this))}});var Mr=je.extend({options:{position:"topright"},initialize:function(l){Xt(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var d=this._map;return d&&d.removeControl(this),this.options.position=l,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var d=this._container=this.onAdd(l),g=this.getPosition(),b=l._controlCorners[g];return it(d,"leaflet-control"),-1!==g.indexOf("bottom")?b.insertBefore(d,b.firstChild):b.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(zt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),al=function(l){return new Mr(l)};Ie.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},d="leaflet-",g=this._controlContainer=yt("div",d+"control-container",this._container);function b(D,I){l[D+I]=yt("div",d+D+" "+d+I,g)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)zt(this._controlCorners[l]);zt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var wf=Mr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,d,g,b){return g<b?-1:b<g?1:0}},initialize:function(l,d,g){for(var b in Xt(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,l)this._addLayer(l[b],b);for(b in d)this._addLayer(d[b],b,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return Mr.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,d){return this._addLayer(l,d),this._map?this._update():this},addOverlay:function(l,d){return this._addLayer(l,d,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var d=this._getLayer(pt(l));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){it(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(it(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):sn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return sn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",d=this._container=yt("div",l),g=this.options.collapsed;d.setAttribute("aria-haspopup",!0),ba(d),rt(d);var b=this._section=yt("section",l+"-list");g&&(this._map.on("click",this.collapse,this),Kr||$e(d,{mouseenter:this.expand,mouseleave:this.collapse},this));var D=this._layersLink=yt("a",l+"-toggle",d);D.href="#",D.title="Layers",Tt?($e(D,"click",Er),$e(D,"click",this.expand,this)):$e(D,"focus",this.expand,this),g||this.expand(),this._baseLayersList=yt("div",l+"-base",b),this._separator=yt("div",l+"-separator",b),this._overlaysList=yt("div",l+"-overlays",b),d.appendChild(b)},_getLayer:function(l){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&pt(this._layers[d].layer)===l)return this._layers[d]},_addLayer:function(l,d,g){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:d,overlay:g}),this.options.sortLayers&&this._layers.sort(jt(function(b,D){return this.options.sortFunction(b.layer,D.layer,b.name,D.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;W(this._baseLayersList),W(this._overlaysList),this._layerControlInputs=[];var l,d,g,b,D=0;for(g=0;g<this._layers.length;g++)this._addItem(b=this._layers[g]),d=d||b.overlay,l=l||!b.overlay,D+=b.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(l=l&&D>1)?"":"none"),this._separator.style.display=d&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var d=this._getLayer(pt(l.target)),g=d.overlay?"add"===l.type?"overlayadd":"overlayremove":"add"===l.type?"baselayerchange":null;g&&this._map.fire(g,d)},_createRadioElement:function(l,d){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(d?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=g,b.firstChild},_addItem:function(l){var b,d=document.createElement("label"),g=this._map.hasLayer(l.layer);l.overlay?((b=document.createElement("input")).type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=g):b=this._createRadioElement("leaflet-base-layers_"+pt(this),g),this._layerControlInputs.push(b),b.layerId=pt(l.layer),$e(b,"click",this._onInputClick,this);var D=document.createElement("span");D.innerHTML=" "+l.name;var I=document.createElement("div");return d.appendChild(I),I.appendChild(b),I.appendChild(D),(l.overlay?this._overlaysList:this._baseLayersList).appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){var d,g,l=this._layerControlInputs,b=[],D=[];this._handlingClick=!0;for(var I=l.length-1;I>=0;I--)g=this._getLayer((d=l[I]).layerId).layer,d.checked?b.push(g):d.checked||D.push(g);for(I=0;I<D.length;I++)this._map.hasLayer(D[I])&&this._map.removeLayer(D[I]);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])||this._map.addLayer(b[I]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var d,g,l=this._layerControlInputs,b=this._map.getZoom(),D=l.length-1;D>=0;D--)g=this._getLayer((d=l[D]).layerId).layer,d.disabled=void 0!==g.options.minZoom&&b<g.options.minZoom||void 0!==g.options.maxZoom&&b>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),ll=Mr.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(l){var d="leaflet-control-zoom",g=yt("div",d+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,d+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,d+"-out",g,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,d,g,b,D){var I=yt("a",g,b);return I.innerHTML=l,I.href="#",I.title=d,I.setAttribute("role","button"),I.setAttribute("aria-label",d),ba(I),$e(I,"click",Er),$e(I,"click",D,this),$e(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var l=this._map,d="leaflet-disabled";sn(this._zoomInButton,d),sn(this._zoomOutButton,d),(this._disabled||l._zoom===l.getMinZoom())&&it(this._zoomOutButton,d),(this._disabled||l._zoom===l.getMaxZoom())&&it(this._zoomInButton,d)}});Ie.mergeOptions({zoomControl:!0}),Ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ll,this.addControl(this.zoomControl))});var ie=Mr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var d="leaflet-control-scale",g=yt("div",d),b=this.options;return this._addScales(b,d+"-line",g),l.on(b.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),g},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,d,g){l.metric&&(this._mScale=yt("div",d,g)),l.imperial&&(this._iScale=yt("div",d,g))},_update:function(){var l=this._map,d=l.getSize().y/2,g=l.distance(l.containerPointToLatLng([0,d]),l.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(g)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var d=this._getRoundNum(l);this._updateScale(this._mScale,d<1e3?d+" m":d/1e3+" km",d/l)},_updateImperial:function(l){var g,b,D,d=3.2808399*l;d>5280?(b=this._getRoundNum(g=d/5280),this._updateScale(this._iScale,b+" mi",b/g)):(D=this._getRoundNum(d),this._updateScale(this._iScale,D+" ft",D/d))},_updateScale:function(l,d,g){l.style.width=Math.round(this.options.maxWidth*g)+"px",l.innerHTML=d},_getRoundNum:function(l){var d=Math.pow(10,(Math.floor(l)+"").length-1),g=l/d;return d*(g>=10?10:g>=5?5:g>=3?3:g>=2?2:1)}}),Nd=Mr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(l){Xt(this,l),this._attributions={}},onAdd:function(l){for(var d in l.attributionControl=this,this._container=yt("div","leaflet-control-attribution"),ba(this._container),l._layers)l._layers[d].getAttribution&&this.addAttribution(l._layers[d].getAttribution());return this._update(),this._container},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var d in this._attributions)this._attributions[d]&&l.push(d);var g=[];this.options.prefix&&g.push(this.options.prefix),l.length&&g.push(l.join(", ")),this._container.innerHTML=g.join(" | ")}}});Ie.mergeOptions({attributionControl:!0}),Ie.addInitHook(function(){this.options.attributionControl&&(new Nd).addTo(this)});Mr.Layers=wf,Mr.Zoom=ll,Mr.Scale=ie,Mr.Attribution=Nd,al.layers=function(l,d,g){return new wf(l,d,g)},al.zoom=function(l){return new ll(l)},al.scale=function(l){return new ie(l)},al.attribution=function(l){return new Nd(l)};var Ge=je.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ge.addTo=function(l,d){return l.addHandler(d,this),this};var ct,T1={Events:Bn},Sf=Tt?"touchstart mousedown":"mousedown",de={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Zn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},At=pe.extend({options:{clickTolerance:3},initialize:function(l,d,g,b){Xt(this,b),this._element=l,this._dragStartTarget=d||l,this._preventOutline=g},enable:function(){this._enabled||($e(this._dragStartTarget,Sf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(At._dragging===this&&this.finishDrag(),Dt(this._dragStartTarget,Sf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(!l._simulated&&this._enabled&&(this._moved=!1,!ks(this._element,"leaflet-zoom-anim")&&!(At._dragging||l.shiftKey||1!==l.which&&1!==l.button&&!l.touches)&&(At._dragging=this,this._preventOutline&&j(this._element),Pd(),xs(),!this._moving))){this.fire("down");var d=l.touches?l.touches[0]:l,g=oe(this._element);this._startPoint=new Je(d.clientX,d.clientY),this._parentScale=ve(g),$e(document,Zn[l.type],this._onMove,this),$e(document,de[l.type],this._onUp,this)}},_onMove:function(l){if(!l._simulated&&this._enabled){if(l.touches&&l.touches.length>1)return void(this._moved=!0);var d=l.touches&&1===l.touches.length?l.touches[0]:l,g=new Je(d.clientX,d.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,pr(l),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Ee(this._element).subtract(g),it(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),it(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,Mn(this._animRequest),this._lastEvent=l,this._animRequest=gn(this._updatePosition,this,!0))}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),vn(this._element,this._newPos),this.fire("drag",l)},_onUp:function(l){l._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){for(var l in sn(document.body,"leaflet-dragging"),this._lastTarget&&(sn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Zn)Dt(document,Zn[l],this._onMove,this),Dt(document,de[l],this._onUp,this);Zt(),_a(),this._moved&&this._moving&&(Mn(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,At._dragging=!1}});function wi(l,d){if(!d||!l.length)return l.slice();var g=d*d;return function xr(l,d){var g=l.length,D=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(g);D[0]=D[g-1]=1,ko(l,D,d,0,g-1);var I,z=[];for(I=0;I<g;I++)D[I]&&z.push(l[I]);return z}(l=function Te(l,d){for(var g=[l[0]],b=1,D=0,I=l.length;b<I;b++)Li(l[b],l[D])>d&&(g.push(l[b]),D=b);return D<I-1&&g.push(l[I-1]),g}(l,g),g)}function Fi(l,d,g){return Math.sqrt(is(l,d,g,!0))}function ko(l,d,g,b,D){var z,F,K,I=0;for(F=b+1;F<=D-1;F++)(K=is(l[F],l[b],l[D],!0))>I&&(z=F,I=K);I>g&&(d[z]=1,ko(l,d,g,b,z),ko(l,d,g,z,D))}function In(l,d,g,b,D){var F,K,k,I=b?ct:Ir(l,g),z=Ir(d,g);for(ct=z;;){if(!(I|z))return[l,d];if(I&z)return!1;k=Ir(K=fr(l,d,F=I||z,g,D),g),F===I?(l=K,I=k):(d=K,z=k)}}function fr(l,d,g,b,D){var k,x,I=d.x-l.x,z=d.y-l.y,F=b.min,K=b.max;return 8&g?(k=l.x+I*(K.y-l.y)/z,x=K.y):4&g?(k=l.x+I*(F.y-l.y)/z,x=F.y):2&g?(k=K.x,x=l.y+z*(K.x-l.x)/I):1&g&&(k=F.x,x=l.y+z*(F.x-l.x)/I),new Je(k,x,D)}function Ir(l,d){var g=0;return l.x<d.min.x?g|=1:l.x>d.max.x&&(g|=2),l.y<d.min.y?g|=4:l.y>d.max.y&&(g|=8),g}function Li(l,d){var g=d.x-l.x,b=d.y-l.y;return g*g+b*b}function is(l,d,g,b){var k,D=d.x,I=d.y,z=g.x-D,F=g.y-I,K=z*z+F*F;return K>0&&((k=((l.x-D)*z+(l.y-I)*F)/K)>1?(D=g.x,I=g.y):k>0&&(D+=z*k,I+=F*k)),z=l.x-D,F=l.y-I,b?z*z+F*F:new Je(D,I)}function nn(l){return!Sr(l[0])||"object"!=typeof l[0][0]&&typeof l[0][0]<"u"}function Zc(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nn(l)}var Rd={simplify:wi,pointToSegmentDistance:Fi,closestPointOnSegment:function oc(l,d,g){return is(l,d,g)},clipSegment:In,_getEdgeIntersection:fr,_getBitCode:Ir,_sqClosestPointOnSegment:is,isFlat:nn,_flat:Zc};function mt(l,d,g){var b,I,z,F,K,k,x,Ce,$t,D=[1,4,2,8];for(I=0,x=l.length;I<x;I++)l[I]._code=Ir(l[I],d);for(F=0;F<4;F++){for(Ce=D[F],b=[],I=0,z=(x=l.length)-1;I<x;z=I++)k=l[z],(K=l[I])._code&Ce?k._code&Ce||(($t=fr(k,K,Ce,d,g))._code=Ir($t,d),b.push($t)):(k._code&Ce&&(($t=fr(k,K,Ce,d,g))._code=Ir($t,d),b.push($t)),b.push(K));l=b}return l}var Tf={clipPolygon:mt},cl={project:function(l){return new Je(l.lng,l.lat)},unproject:function(l){return new Lt(l.y,l.x)},bounds:new _n([-180,-90],[180,90])},Fd={R:6378137,R_MINOR:6356752.314245179,bounds:new _n([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(l){var d=Math.PI/180,g=this.R,b=l.lat*d,D=this.R_MINOR/g,I=Math.sqrt(1-D*D),z=I*Math.sin(b),F=Math.tan(Math.PI/4-b/2)/Math.pow((1-z)/(1+z),I/2);return b=-g*Math.log(Math.max(F,1e-10)),new Je(l.lng*d*g,b)},unproject:function(l){for(var k,d=180/Math.PI,g=this.R,b=this.R_MINOR/g,D=Math.sqrt(1-b*b),I=Math.exp(-l.y/g),z=Math.PI/2-2*Math.atan(I),F=0,K=.1;F<15&&Math.abs(K)>1e-7;F++)k=D*Math.sin(z),k=Math.pow((1-k)/(1+k),D/2),z+=K=Math.PI/2-2*Math.atan(I*k)-z;return new Lt(z*d,l.x*d/g)}},sc={LonLat:cl,Mercator:Fd,SphericalMercator:ri},$i=tt({},yo,{code:"EPSG:3395",projection:Fd,transformation:function(){var l=.5/(Math.PI*Fd.R);return on(l,.5,-l,.5)}()}),ac=tt({},yo,{code:"EPSG:4326",projection:cl,transformation:on(1/180,1,-1/180,.5)}),lc=tt({},ur,{projection:cl,transformation:on(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,d){var g=d.lng-l.lng,b=d.lat-l.lat;return Math.sqrt(g*g+b*b)},infinite:!0});ur.Earth=yo,ur.EPSG3395=$i,ur.EPSG3857=ci,ur.EPSG900913=ec,ur.EPSG4326=ac,ur.Simple=lc;var Kn=pe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[pt(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[pt(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var d=l.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var g=this.getEvents();d.on(g,this),this.once("remove",function(){d.off(g,this)},this)}this.onAdd(d),this.getAttribution&&d.attributionControl&&d.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),d.fire("layeradd",{layer:this})}}});Ie.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var d=pt(l);return this._layers[d]||(this._layers[d]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l)),this},removeLayer:function(l){var d=pt(l);return this._layers[d]?(this._loaded&&l.onRemove(this),l.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(l.getAttribution()),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return!!l&&pt(l)in this._layers},eachLayer:function(l,d){for(var g in this._layers)l.call(d,this._layers[g]);return this},_addLayers:function(l){for(var d=0,g=(l=l?Sr(l)?l:[l]:[]).length;d<g;d++)this.addLayer(l[d])},_addZoomLimit:function(l){(isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[pt(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var d=pt(l);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,d=-1/0,g=this._getZoomSpan();for(var b in this._zoomBoundLayers){var D=this._zoomBoundLayers[b].options;l=void 0===D.minZoom?l:Math.min(l,D.minZoom),d=void 0===D.maxZoom?d:Math.max(d,D.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=l===1/0?void 0:l,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var rs=Kn.extend({initialize:function(l,d){var g,b;if(Xt(this,d),this._layers={},l)for(g=0,b=l.length;g<b;g++)this.addLayer(l[g])},addLayer:function(l){var d=this.getLayerId(l);return this._layers[d]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var d=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(l){return!!l&&("number"==typeof l?l:this.getLayerId(l))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var g,b,d=Array.prototype.slice.call(arguments,1);for(g in this._layers)(b=this._layers[g])[l]&&b[l].apply(b,d);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,d){for(var g in this._layers)l.call(d,this._layers[g]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return pt(l)}}),Kt=rs.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),rs.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),rs.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new xn;for(var d in this._layers){var g=this._layers[d];l.extend(g.getBounds?g.getBounds():g.getLatLng())}return l}}),Ca=je.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(l){Xt(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,d){var g=this._getIconUrl(l);if(!g){if("icon"===l)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(g,d&&"IMG"===d.tagName?d:null);return this._setIconStyles(b,l),b},_setIconStyles:function(l,d){var g=this.options,b=g[d+"Size"];"number"==typeof b&&(b=[b,b]);var D=xt(b),I=xt("shadow"===d&&g.shadowAnchor||g.iconAnchor||D&&D.divideBy(2,!0));l.className="leaflet-marker-"+d+" "+(g.className||""),I&&(l.style.marginLeft=-I.x+"px",l.style.marginTop=-I.y+"px"),D&&(l.style.width=D.x+"px",l.style.height=D.y+"px")},_createImg:function(l,d){return(d=d||document.createElement("img")).src=l,d},_getIconUrl:function(l){return Dr&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});var wa=Ca.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return wa.imagePath||(wa.imagePath=this._detectIconPath()),(this.options.imagePath||wa.imagePath)+Ca.prototype._getIconUrl.call(this,l)},_detectIconPath:function(){var l=yt("div","leaflet-default-icon-path",document.body),d=Do(l,"background-image")||Do(l,"backgroundImage");return document.body.removeChild(l),null===d||0!==d.indexOf("url")?"":d.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Kc=Ge.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new At(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),it(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&sn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var d=this._marker,g=d._map,b=this._marker.options.autoPanSpeed,D=this._marker.options.autoPanPadding,I=Ee(d._icon),z=g.getPixelBounds(),F=g.getPixelOrigin(),K=cr(z.min._subtract(F).add(D),z.max._subtract(F).subtract(D));if(!K.contains(I)){var k=xt((Math.max(K.max.x,I.x)-K.max.x)/(z.max.x-K.max.x)-(Math.min(K.min.x,I.x)-K.min.x)/(z.min.x-K.min.x),(Math.max(K.max.y,I.y)-K.max.y)/(z.max.y-K.max.y)-(Math.min(K.min.y,I.y)-K.min.y)/(z.min.y-K.min.y)).multiplyBy(b);g.panBy(k,{animate:!1}),this._draggable._newPos._add(k),this._draggable._startPos._add(k),vn(d._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=gn(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(Mn(this._panRequest),this._panRequest=gn(this._adjustPan.bind(this,l)))},_onDrag:function(l){var d=this._marker,g=d._shadow,b=Ee(d._icon),D=d._map.layerPointToLatLng(b);g&&vn(g,b),d._latlng=D,l.latlng=D,l.oldLatLng=this._oldLatLng,d.fire("move",l).fire("drag",l)},_onDragEnd:function(l){Mn(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),Os=Kn.extend({options:{icon:new wa,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,d){Xt(this,d),this._latlng=wn(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var d=this._latlng;return this._latlng=wn(l),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=l.icon.createIcon(this._icon),b=!1;g!==this._icon&&(this._icon&&this._removeIcon(),b=!0,l.title&&(g.title=l.title),"IMG"===g.tagName&&(g.alt=l.alt||"")),it(g,d),l.keyboard&&(g.tabIndex="0"),this._icon=g,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var D=l.icon.createShadow(this._shadow),I=!1;D!==this._shadow&&(this._removeShadow(),I=!0),D&&(it(D,d),D.alt=""),this._shadow=D,l.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),D&&I&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),zt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&zt(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&vn(this._icon,l),this._shadow&&vn(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(it(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Kc)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Kc(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&bi(this._icon,l),this._shadow&&bi(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var ul=Kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return Xt(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Ui=ul.extend({options:{fill:!0,radius:10},initialize:function(l,d){Xt(this,d),this._latlng=wn(l),this._radius=this.options.radius},setLatLng:function(l){var d=this._latlng;return this._latlng=wn(l),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var d=l&&l.radius||this._radius;return ul.prototype.setStyle.call(this,l),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,d=this._radiusY||l,g=this._clickTolerance(),b=[l+g,d+g];this._pxBounds=new _n(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Yc=Ui.extend({initialize:function(l,d,g){if("number"==typeof d&&(d=tt({},g,{radius:d})),Xt(this,d),this._latlng=wn(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new xn(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:ul.prototype.setStyle,_project:function(){var l=this._latlng.lng,d=this._latlng.lat,g=this._map,b=g.options.crs;if(b.distance===yo.distance){var D=Math.PI/180,I=this._mRadius/yo.R/D,z=g.project([d+I,l]),F=g.project([d-I,l]),K=z.add(F).divideBy(2),k=g.unproject(K).lat,x=Math.acos((Math.cos(I*D)-Math.sin(d*D)*Math.sin(k*D))/(Math.cos(d*D)*Math.cos(k*D)))/D;(isNaN(x)||0===x)&&(x=I/Math.cos(Math.PI/180*d)),this._point=K.subtract(g.getPixelOrigin()),this._radius=isNaN(x)?0:K.x-g.project([k,l-x]).x,this._radiusY=K.y-z.y}else{var Ce=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Ce).x}this._updateBounds()}});var Jr=ul.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,d){Xt(this,d),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var D,I,d=1/0,g=null,b=is,z=0,F=this._parts.length;z<F;z++)for(var K=this._parts[z],k=1,x=K.length;k<x;k++){var Ce=b(l,D=K[k-1],I=K[k],!0);Ce<d&&(d=Ce,g=b(l,D,I))}return g&&(g.distance=Math.sqrt(d)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var l,d,g,b,D,I,z,F=this._rings[0],K=F.length;if(!K)return null;for(l=0,d=0;l<K-1;l++)d+=F[l].distanceTo(F[l+1])/2;if(0===d)return this._map.layerPointToLatLng(F[0]);for(l=0,b=0;l<K-1;l++)if((b+=g=(D=F[l]).distanceTo(I=F[l+1]))>d)return this._map.layerPointToLatLng([I.x-(z=(b-d)/g)*(I.x-D.x),I.y-z*(I.y-D.y)])},getBounds:function(){return this._bounds},addLatLng:function(l,d){return d=d||this._defaultShape(),l=wn(l),d.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new xn,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var d=[],g=nn(l),b=0,D=l.length;b<D;b++)g?(d[b]=wn(l[b]),this._bounds.extend(d[b])):d[b]=this._convertLatLngs(l[b]);return d},_project:function(){var l=new _n;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),d=new Je(l,l);this._pxBounds=new _n([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)])},_projectLatlngs:function(l,d,g){var I,z,D=l.length;if(l[0]instanceof Lt){for(z=[],I=0;I<D;I++)z[I]=this._map.latLngToLayerPoint(l[I]),g.extend(z[I]);d.push(z)}else for(I=0;I<D;I++)this._projectLatlngs(l[I],d,g)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(l)){if(this.options.noClip)return void(this._parts=this._rings);var g,b,D,I,z,F,K,d=this._parts;for(g=0,D=0,I=this._rings.length;g<I;g++)for(b=0,z=(K=this._rings[g]).length;b<z-1;b++)(F=In(K[b],K[b+1],l,b,!0))&&(d[D]=d[D]||[],d[D].push(F[0]),(F[1]!==K[b+1]||b===z-2)&&(d[D].push(F[1]),D++))}},_simplifyPoints:function(){for(var l=this._parts,d=this.options.smoothFactor,g=0,b=l.length;g<b;g++)l[g]=wi(l[g],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,d){var g,b,D,I,z,F,K=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(g=0,I=this._parts.length;g<I;g++)for(b=0,D=(z=(F=this._parts[g]).length)-1;b<z;D=b++)if((d||0!==b)&&Fi(l,F[D],F[b])<=K)return!0;return!1}});Jr._flat=Zc;var cc=Jr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var l,d,g,b,D,I,z,F,k=this._rings[0],x=k.length;if(!x)return null;for(I=z=F=0,l=0,d=x-1;l<x;d=l++)z+=((g=k[l]).x+(b=k[d]).x)*(D=g.y*b.x-b.y*g.x),F+=(g.y+b.y)*D,I+=3*D;return this._map.layerPointToLatLng(0===I?k[0]:[z/I,F/I])},_convertLatLngs:function(l){var d=Jr.prototype._convertLatLngs.call(this,l),g=d.length;return g>=2&&d[0]instanceof Lt&&d[0].equals(d[g-1])&&d.pop(),d},_setLatLngs:function(l){Jr.prototype._setLatLngs.call(this,l),nn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,d=this.options.weight,g=new Je(d,d);if(l=new _n(l.min.subtract(g),l.max.add(g)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(l)){if(this.options.noClip)return void(this._parts=this._rings);for(var I,b=0,D=this._rings.length;b<D;b++)(I=mt(this._rings[b],l,!0)).length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var g,b,D,I,z,F,K,k,d=!1;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(I=0,K=this._parts.length;I<K;I++)for(z=0,F=(k=(g=this._parts[I]).length)-1;z<k;F=z++)(b=g[z]).y>l.y!=(D=g[F]).y>l.y&&l.x<(D.x-b.x)*(l.y-b.y)/(D.y-b.y)+b.x&&(d=!d);return d||Jr.prototype._containsPoint.call(this,l,!0)}});var As=Kt.extend({initialize:function(l,d){Xt(this,d),this._layers={},l&&this.addData(l)},addData:function(l){var g,b,D,d=Sr(l)?l:l.features;if(d){for(g=0,b=d.length;g<b;g++)((D=d[g]).geometries||D.geometry||D.features||D.coordinates)&&this.addData(D);return this}var I=this.options;if(I.filter&&!I.filter(l))return this;var z=Df(l,I);return z?(z.feature=Mf(l),z.defaultOptions=z.options,this.resetStyle(z),I.onEachFeature&&I.onEachFeature(l,z),this.addLayer(z)):this},resetStyle:function(l){return void 0===l?this.eachLayer(this.resetStyle,this):(l.options=tt({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(d){this._setLayerStyle(d,l)},this)},_setLayerStyle:function(l,d){l.setStyle&&("function"==typeof d&&(d=d(l.feature)),l.setStyle(d))}});function Df(l,d){var F,K,k,x,g="Feature"===l.type?l.geometry:l,b=g?g.coordinates:null,D=[],I=d&&d.pointToLayer,z=d&&d.coordsToLatLng||L_;if(!b&&!g)return null;switch(g.type){case"Point":return D1(I,l,F=z(b),d);case"MultiPoint":for(k=0,x=b.length;k<x;k++)F=z(b[k]),D.push(D1(I,l,F,d));return new Kt(D);case"LineString":case"MultiLineString":return K=Ef(b,"LineString"===g.type?0:1,z),new Jr(K,d);case"Polygon":case"MultiPolygon":return K=Ef(b,"Polygon"===g.type?1:2,z),new cc(K,d);case"GeometryCollection":for(k=0,x=g.geometries.length;k<x;k++){var Ce=Df({geometry:g.geometries[k],type:"Feature",properties:l.properties},d);Ce&&D.push(Ce)}return new Kt(D);default:throw new Error("Invalid GeoJSON object.")}}function D1(l,d,g,b){return l?l(d,g):new Os(g,b&&b.markersInheritOptions&&b)}function L_(l){return new Lt(l[1],l[0],l[2])}function Ef(l,d,g){for(var z,b=[],D=0,I=l.length;D<I;D++)z=d?Ef(l[D],d-1,g):(g||L_)(l[D]),b.push(z);return b}function $_(l,d){return d="number"==typeof d?d:6,void 0!==l.alt?[ft(l.lng,d),ft(l.lat,d),ft(l.alt,d)]:[ft(l.lng,d),ft(l.lat,d)]}function kf(l,d,g,b){for(var D=[],I=0,z=l.length;I<z;I++)D.push(d?kf(l[I],d-1,g,b):$_(l[I],b));return!d&&g&&D.push(D[0]),D}function Xc(l,d){return l.feature?tt({},l.feature,{geometry:d}):Mf(d)}function Mf(l){return"Feature"===l.type||"FeatureCollection"===l.type?l:{type:"Feature",properties:{},geometry:l}}var U_={toGeoJSON:function(l){return Xc(this,{type:"Point",coordinates:$_(this.getLatLng(),l)})}};function E1(l,d){return new As(l,d)}Os.include(U_),Yc.include(U_),Ui.include(U_),Jr.include({toGeoJSON:function(l){var d=!nn(this._latlngs);return Xc(this,{type:(d?"Multi":"")+"LineString",coordinates:kf(this._latlngs,d?1:0,!1,l)})}}),cc.include({toGeoJSON:function(l){var d=!nn(this._latlngs),g=d&&!nn(this._latlngs[0]),b=kf(this._latlngs,g?2:d?1:0,!0,l);return d||(b=[b]),Xc(this,{type:(g?"Multi":"")+"Polygon",coordinates:b})}}),rs.include({toMultiPoint:function(l){var d=[];return this.eachLayer(function(g){d.push(g.toGeoJSON(l).geometry.coordinates)}),Xc(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(l){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===d)return this.toMultiPoint(l);var g="GeometryCollection"===d,b=[];return this.eachLayer(function(D){if(D.toGeoJSON){var I=D.toGeoJSON(l);if(g)b.push(I.geometry);else{var z=Mf(I);"FeatureCollection"===z.type?b.push.apply(b,z.features):b.push(z)}}}),g?Xc(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});var ED=E1,xf=Kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,d,g){this._url=l,this._bounds=ii(d),Xt(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(it(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){zt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&di(this._image),this},bringToBack:function(){return this._map&&Le(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=ii(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l="IMG"===this._url.tagName,d=this._image=l?this._url:yt("img");it(d,"leaflet-image-layer"),this._zoomAnimated&&it(d,"leaflet-zoom-animated"),this.options.className&&it(d,this.options.className),d.onselectstart=Qt,d.onmousemove=Qt,d.onload=jt(this.fire,this,"load"),d.onerror=jt(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(d.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l?this._url=d.src:(d.src=this._url,d.alt=this.options.alt)},_animateZoom:function(l){var d=this._map.getZoomScale(l.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Yr(this._image,g,d)},_reset:function(){var l=this._image,d=new _n(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=d.getSize();vn(l,d.min),l.style.width=g.x+"px",l.style.height=g.y+"px"},_updateOpacity:function(){bi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)}}),If=xf.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var l="VIDEO"===this._url.tagName,d=this._image=l?this._url:yt("video");if(it(d,"leaflet-image-layer"),this._zoomAnimated&&it(d,"leaflet-zoom-animated"),this.options.className&&it(d,this.options.className),d.onselectstart=Qt,d.onmousemove=Qt,d.onloadeddata=jt(this.fire,this,"load"),l){for(var g=d.getElementsByTagName("source"),b=[],D=0;D<g.length;D++)b.push(g[D].src);this._url=g.length>0?b:[d.src]}else{Sr(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted;for(var I=0;I<this._url.length;I++){var z=yt("source");z.src=this._url[I],d.appendChild(z)}}}});var k1=xf.extend({_initImage:function(){var l=this._image=this._url;it(l,"leaflet-image-layer"),this._zoomAnimated&&it(l,"leaflet-zoom-animated"),this.options.className&&it(l,this.options.className),l.onselectstart=Qt,l.onmousemove=Qt}});var Sa=Kn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(l,d){Xt(this,l),this._source=d},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&bi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&bi(this._container,1),this.bringToFront()},onRemove:function(l){l._fadeAnimated?(bi(this._container,0),this._removeTimeout=setTimeout(jt(zt,void 0,this._container),200)):zt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=wn(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&di(this._container),this},bringToBack:function(){return this._map&&Le(this._container),this},_prepareOpen:function(l,d,g){if(d instanceof Kn||(g=d,d=l),d instanceof Kt)for(var b in l._layers){d=l._layers[b];break}if(!g)if(d.getCenter)g=d.getCenter();else{if(!d.getLatLng)throw new Error("Unable to get source layer LatLng.");g=d.getLatLng()}return this._source=d,this.update(),g},_updateContent:function(){if(this._content){var l=this._contentNode,d="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof d)l.innerHTML=d;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),d=xt(this.options.offset),g=this._getAnchor();this._zoomAnimated?vn(this._container,l.add(g)):d=d.add(l).add(g);var b=this._containerBottom=-d.y,D=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=b+"px",this._container.style.left=D+"px"}},_getAnchor:function(){return[0,0]}}),Xr=Sa.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l.openPopup(this),this},onAdd:function(l){Sa.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ul||this._source.on("preclick",ya))},onRemove:function(l){Sa.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ul||this._source.off("preclick",ya))},getEvents:function(){var l=Sa.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this._close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var l="leaflet-popup",d=this._container=yt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=yt("div",l+"-content-wrapper",d);if(this._contentNode=yt("div",l+"-content",g),ba(d),rt(this._contentNode),$e(d,"contextmenu",ya),this._tipContainer=yt("div",l+"-tip-container",d),this._tip=yt("div",l+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=yt("a",l+"-close-button",d);b.href="#close",b.innerHTML="&#215;",$e(b,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var l=this._contentNode,d=l.style;d.width="",d.whiteSpace="nowrap";var g=l.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),d.width=g+1+"px",d.whiteSpace="",d.height="";var D=this.options.maxHeight,I="leaflet-popup-scrolled";D&&l.offsetHeight>D?(d.height=D+"px",it(l,I)):sn(l,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),g=this._getAnchor();vn(this._container,d.add(g))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var l=this._map,d=parseInt(Do(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+d,b=this._containerWidth,D=new Je(this._containerLeft,-g-this._containerBottom);D._add(Ee(this._container));var I=l.layerPointToContainerPoint(D),z=xt(this.options.autoPanPadding),F=xt(this.options.autoPanPaddingTopLeft||z),K=xt(this.options.autoPanPaddingBottomRight||z),k=l.getSize(),x=0,Ce=0;I.x+b+K.x>k.x&&(x=I.x+b-k.x+K.x),I.x-x-F.x<0&&(x=I.x-F.x),I.y+g+K.y>k.y&&(Ce=I.y+g-k.y+K.y),I.y-Ce-F.y<0&&(Ce=I.y-F.y),(x||Ce)&&l.fire("autopanstart").panBy([x,Ce])}},_onCloseButtonClick:function(l){this._close(),Er(l)},_getAnchor:function(){return xt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ie.mergeOptions({closePopupOnClick:!0}),Ie.include({openPopup:function(l,d,g){return l instanceof Xr||(l=new Xr(g).setContent(l)),d&&l.setLatLng(d),this.hasLayer(l)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=l,this.addLayer(l))},closePopup:function(l){return(!l||l===this._popup)&&(l=this._popup,this._popup=null),l&&this.removeLayer(l),this}}),Kn.include({bindPopup:function(l,d){return l instanceof Xr?(Xt(l,d),this._popup=l,l._source=this):((!this._popup||d)&&(this._popup=new Xr(d,this)),this._popup.setContent(l)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l,d){return this._popup&&this._map&&(d=this._popup._prepareOpen(this,l,d),this._map.openPopup(this._popup,d)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(l){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(l)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){var d=l.layer||l.target;if(this._popup&&this._map){if(Er(l),d instanceof ul)return void this.openPopup(l.layer||l.target,l.latlng);this._map.hasLayer(this._popup)&&this._popup._source===d?this.closePopup():this.openPopup(d,l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){13===l.originalEvent.keyCode&&this._openPopup(l)}});var Ft=Sa.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(l){Sa.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(l){Sa.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var l=Sa.prototype.getEvents.call(this);return Tt&&!this.options.permanent&&(l.preclick=this._close),l},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=yt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var d,g,b=this._map,D=this._container,I=b.latLngToContainerPoint(b.getCenter()),z=b.layerPointToContainerPoint(l),F=this.options.direction,K=D.offsetWidth,k=D.offsetHeight,x=xt(this.options.offset),Ce=this._getAnchor();"top"===F?(d=K/2,g=k):"bottom"===F?(d=K/2,g=0):"center"===F?(d=K/2,g=k/2):"right"===F?(d=0,g=k/2):"left"===F?(d=K,g=k/2):z.x<I.x?(F="right",d=0,g=k/2):(F="left",d=K+2*(x.x+Ce.x),g=k/2),l=l.subtract(xt(d,g,!0)).add(x).add(Ce),sn(D,"leaflet-tooltip-right"),sn(D,"leaflet-tooltip-left"),sn(D,"leaflet-tooltip-top"),sn(D,"leaflet-tooltip-bottom"),it(D,"leaflet-tooltip-"+F),vn(D,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&bi(this._container,l)},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(d)},_getAnchor:function(){return xt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ie.include({openTooltip:function(l,d,g){return l instanceof Ft||(l=new Ft(g).setContent(l)),d&&l.setLatLng(d),this.hasLayer(l)?this:this.addLayer(l)},closeTooltip:function(l){return l&&this.removeLayer(l),this}}),Kn.include({bindTooltip:function(l,d){return l instanceof Ft?(Xt(l,d),this._tooltip=l,l._source=this):((!this._tooltip||d)&&(this._tooltip=new Ft(d,this)),this._tooltip.setContent(l)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(l||!this._tooltipHandlersAdded){var d=l?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),Tt&&(g.click=this._openTooltip)),this[d](g),this._tooltipHandlersAdded=!l}},openTooltip:function(l,d){return this._tooltip&&this._map&&(d=this._tooltip._prepareOpen(this,l,d),this._map.openTooltip(this._tooltip,d),this._tooltip.options.interactive&&this._tooltip._container&&(it(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(sn(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(l){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(l)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_openTooltip:function(l){!this._tooltip||!this._map||this.openTooltip(l.layer||l.target,this._tooltip.options.sticky?l.latlng:void 0)},_moveTooltip:function(l){var g,b,d=l.latlng;this._tooltip.options.sticky&&l.originalEvent&&(g=this._map.mouseEventToContainerPoint(l.originalEvent),b=this._map.containerPointToLayerPoint(g),d=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(d)}});var H_=Ca.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var d=l&&"DIV"===l.tagName?l:document.createElement("div"),g=this.options;if(g.html instanceof Element?(W(d),d.appendChild(g.html)):d.innerHTML=!1!==g.html?g.html:"",g.bgPos){var b=xt(g.bgPos);d.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});Ca.Default=wa;var uc=Kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:pa,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){Xt(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),zt(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(di(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Kl(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof Je?l:new Je(l,l)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var I,d=this.getPane().children,g=-l(-1/0,1/0),b=0,D=d.length;b<D;b++)I=d[b].style.zIndex,d[b]!==this._container&&I&&(g=l(g,+I));isFinite(g)&&(this.options.zIndex=g+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ai){bi(this._container,this.options.opacity);var l=+new Date,d=!1,g=!1;for(var b in this._tiles){var D=this._tiles[b];if(D.current&&D.loaded){var I=Math.min(1,(l-D.loaded)/200);bi(D.el,I),I<1?d=!0:(D.active?g=!0:this._onOpaqueTile(D),D.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),d&&(Mn(this._fadeFrame),this._fadeFrame=gn(this._updateOpacity,this))}},_onOpaqueTile:Qt,_initContainer:function(){this._container||(this._container=yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,d=this.options.maxZoom;if(void 0!==l){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===l?(this._levels[g].el.style.zIndex=d-Math.abs(l-g),this._onUpdateLevel(g)):(zt(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var b=this._levels[l],D=this._map;return b||((b=this._levels[l]={}).el=yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=d,b.origin=D.project(D.unproject(D.getPixelOrigin()),l).round(),b.zoom=l,this._setZoomTransform(b,D.getCenter(),D.getZoom()),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:Qt,_onRemoveLevel:Qt,_onCreateLevel:Qt,_pruneTiles:function(){if(this._map){var l,d,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom)return void this._removeAllTiles();for(l in this._tiles)(d=this._tiles[l]).retain=d.current;for(l in this._tiles)if((d=this._tiles[l]).current&&!d.active){var b=d.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var d in this._tiles)this._tiles[d].coords.z===l&&this._removeTile(d)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)zt(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,d,g,b){var D=Math.floor(l/2),I=Math.floor(d/2),z=g-1,F=new Je(+D,+I);F.z=+z;var K=this._tileCoordsToKey(F),k=this._tiles[K];return k&&k.active?(k.retain=!0,!0):(k&&k.loaded&&(k.retain=!0),z>b&&this._retainParent(D,I,z,b))},_retainChildren:function(l,d,g,b){for(var D=2*l;D<2*l+2;D++)for(var I=2*d;I<2*d+2;I++){var z=new Je(D,I);z.z=g+1;var F=this._tileCoordsToKey(z),K=this._tiles[F];K&&K.active?K.retain=!0:(K&&K.loaded&&(K.retain=!0),g+1<b&&this._retainChildren(D,I,g+1,b))}},_resetView:function(l){var d=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var d=this.options;return void 0!==d.minNativeZoom&&l<d.minNativeZoom?d.minNativeZoom:void 0!==d.maxNativeZoom&&d.maxNativeZoom<l?d.maxNativeZoom:l},_setView:function(l,d,g,b){var D=Math.round(d);D=void 0!==this.options.maxZoom&&D>this.options.maxZoom||void 0!==this.options.minZoom&&D<this.options.minZoom?void 0:this._clampZoom(D),(!b||this.options.updateWhenZooming&&D!==this._tileZoom)&&(this._tileZoom=D,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==D&&this._update(l),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(l,d)},_setZoomTransforms:function(l,d){for(var g in this._levels)this._setZoomTransform(this._levels[g],l,d)},_setZoomTransform:function(l,d,g){var b=this._map.getZoomScale(g,l.zoom),D=l.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(d,g)).round();Tr?Yr(l.el,D,b):vn(l.el,D)},_resetGrid:function(){var l=this._map,d=l.options.crs,g=this._tileSize=this.getTileSize(),b=this._tileZoom,D=this._map.getPixelWorldBounds(this._tileZoom);D&&(this._globalTileRange=this._pxBoundsToTileRange(D)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,d.wrapLng[0]],b).x/g.x),Math.ceil(l.project([0,d.wrapLng[1]],b).x/g.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([d.wrapLat[0],0],b).y/g.x),Math.ceil(l.project([d.wrapLat[1],0],b).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var d=this._map,g=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),b=d.getZoomScale(g,this._tileZoom),D=d.project(l,this._tileZoom).floor(),I=d.getSize().divideBy(2*b);return new _n(D.subtract(I),D.add(I))},_update:function(l){var d=this._map;if(d){var g=this._clampZoom(d.getZoom());if(void 0===l&&(l=d.getCenter()),void 0!==this._tileZoom){var b=this._getTiledPixelBounds(l),D=this._pxBoundsToTileRange(b),I=D.getCenter(),z=[],F=this.options.keepBuffer,K=new _n(D.getBottomLeft().subtract([F,-F]),D.getTopRight().add([F,-F]));if(!(isFinite(D.min.x)&&isFinite(D.min.y)&&isFinite(D.max.x)&&isFinite(D.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var k in this._tiles){var x=this._tiles[k].coords;(x.z!==this._tileZoom||!K.contains(new Je(x.x,x.y)))&&(this._tiles[k].current=!1)}if(Math.abs(g-this._tileZoom)>1)return void this._setView(l,g);for(var Ce=D.min.y;Ce<=D.max.y;Ce++)for(var $t=D.min.x;$t<=D.max.x;$t++){var Or=new Je($t,Ce);if(Or.z=this._tileZoom,this._isValidTile(Or)){var Bi=this._tiles[this._tileCoordsToKey(Or)];Bi?Bi.current=!0:z.push(Or)}}if(z.sort(function(os,Nf){return os.distanceTo(I)-Nf.distanceTo(I)}),0!==z.length){this._loading||(this._loading=!0,this.fire("loading"));var hc=document.createDocumentFragment();for($t=0;$t<z.length;$t++)this._addTile(z[$t],hc);this._level.el.appendChild(hc)}}}},_isValidTile:function(l){var d=this._map.options.crs;if(!d.infinite){var g=this._globalTileRange;if(!d.wrapLng&&(l.x<g.min.x||l.x>g.max.x)||!d.wrapLat&&(l.y<g.min.y||l.y>g.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(l);return ii(this.options.bounds).overlaps(b)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var d=this._map,g=this.getTileSize(),b=l.scaleBy(g),D=b.add(g);return[d.unproject(b,l.z),d.unproject(D,l.z)]},_tileCoordsToBounds:function(l){var d=this._tileCoordsToNwSe(l),g=new xn(d[0],d[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var d=l.split(":"),g=new Je(+d[0],+d[1]);return g.z=+d[2],g},_removeTile:function(l){var d=this._tiles[l];d&&(zt(d.el),delete this._tiles[l],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){it(l,"leaflet-tile");var d=this.getTileSize();l.style.width=d.x+"px",l.style.height=d.y+"px",l.onselectstart=Qt,l.onmousemove=Qt,Ai&&this.options.opacity<1&&bi(l,this.options.opacity),Kr&&!pn&&(l.style.WebkitBackfaceVisibility="hidden")},_addTile:function(l,d){var g=this._getTilePos(l),b=this._tileCoordsToKey(l),D=this.createTile(this._wrapCoords(l),jt(this._tileReady,this,l));this._initTile(D),this.createTile.length<2&&gn(jt(this._tileReady,this,l,null,D)),vn(D,g),this._tiles[b]={el:D,coords:l,current:!0},d.appendChild(D),this.fire("tileloadstart",{tile:D,coords:l})},_tileReady:function(l,d,g){d&&this.fire("tileerror",{error:d,tile:g,coords:l});var b=this._tileCoordsToKey(l);(g=this._tiles[b])&&(g.loaded=+new Date,this._map._fadeAnimated?(bi(g.el,0),Mn(this._fadeFrame),this._fadeFrame=gn(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),d||(it(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ai||!this._map._fadeAnimated?gn(this._pruneTiles,this):setTimeout(jt(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var d=new Je(this._wrapX?Yl(l.x,this._wrapX):l.x,this._wrapY?Yl(l.y,this._wrapY):l.y);return d.z=l.z,d},_pxBoundsToTileRange:function(l){var d=this.getTileSize();return new _n(l.min.unscaleBy(d).floor(),l.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});var dc=uc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(l,d){this._url=l,(d=Xt(this,d)).detectRetina&&Dr&&d.maxZoom>0&&(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom++):(d.zoomOffset++,d.maxZoom--),d.minZoom=Math.max(0,d.minZoom)),"string"==typeof d.subdomains&&(d.subdomains=d.subdomains.split("")),Kr||this.on("tileunload",this._onTileRemove)},setUrl:function(l,d){return this._url===l&&void 0===d&&(d=!0),this._url=l,d||this.redraw(),this},createTile:function(l,d){var g=document.createElement("img");return $e(g,"load",jt(this._tileOnLoad,this,d,g)),$e(g,"error",jt(this._tileOnError,this,d,g)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(g.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),g.alt="",g.setAttribute("role","presentation"),g.src=this.getTileUrl(l),g},getTileUrl:function(l){var d={r:Dr?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-l.y;this.options.tms&&(d.y=g),d["-y"]=g}return wr(this._url,tt(d,this.options))},_tileOnLoad:function(l,d){Ai?setTimeout(jt(l,this,null,d),0):l(null,d)},_tileOnError:function(l,d,g){var b=this.options.errorTileUrl;b&&d.getAttribute("src")!==b&&(d.src=b),l(g,d)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom;return this.options.zoomReverse&&(l=this.options.maxZoom-l),l+this.options.zoomOffset},_getSubdomain:function(l){var d=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var l,d;for(l in this._tiles)this._tiles[l].coords.z!==this._tileZoom&&((d=this._tiles[l].el).onload=Qt,d.onerror=Qt,d.complete||(d.src=Vn,zt(d),delete this._tiles[l]))},_removeTile:function(l){var d=this._tiles[l];if(d)return Ed||d.el.setAttribute("src",Vn),uc.prototype._removeTile.call(this,l)},_tileReady:function(l,d,g){if(this._map&&(!g||g.getAttribute("src")!==Vn))return uc.prototype._tileReady.call(this,l,d,g)}});function Ld(l,d){return new dc(l,d)}var z_=dc.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,d){this._url=l;var g=tt({},this.defaultWmsParams);for(var b in d)b in this.options||(g[b]=d[b]);var D=(d=Xt(this,d)).detectRetina&&Dr?2:1,I=this.getTileSize();g.width=I.x*D,g.height=I.y*D,this.wmsParams=g},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,dc.prototype.onAdd.call(this,l)},getTileUrl:function(l){var d=this._tileCoordsToNwSe(l),g=this._crs,b=cr(g.project(d[0]),g.project(d[1])),D=b.min,I=b.max,z=(this._wmsVersion>=1.3&&this._crs===ac?[D.y,D.x,I.y,I.x]:[D.x,D.y,I.x,I.y]).join(","),F=dc.prototype.getTileUrl.call(this,l);return F+at(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(l,d){return tt(this.wmsParams,l),d||this.redraw(),this}});dc.WMS=z_,Ld.wms=function eo(l,d){return new z_(l,d)};var Io=Kn.extend({options:{padding:.1,tolerance:0},initialize:function(l){Xt(this,l),pt(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&it(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,d){var g=this._map.getZoomScale(d,this._zoom),b=Ee(this._container),D=this._map.getSize().multiplyBy(.5+this.options.padding),I=this._map.project(this._center,d),F=this._map.project(l,d).subtract(I),K=D.multiplyBy(-g).add(b).add(D).subtract(F);Tr?Yr(this._container,K,g):vn(this._container,K)},_reset:function(){for(var l in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,d=this._map.getSize(),g=this._map.containerPointToLayerPoint(d.multiplyBy(-l)).round();this._bounds=new _n(g,g.add(d.multiplyBy(1+2*l)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Pf=Io.extend({getEvents:function(){var l=Io.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Io.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");$e(l,"mousemove",this._onMouseMove,this),$e(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$e(l,"mouseout",this._handleMouseOut,this),this._ctx=l.getContext("2d")},_destroyContainer:function(){Mn(this._redrawRequest),delete this._ctx,zt(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var d in this._redrawBounds=null,this._layers)this._layers[d]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Io.prototype._update.call(this);var l=this._bounds,d=this._container,g=l.getSize(),b=Dr?2:1;vn(d,l.min),d.width=b*g.x,d.height=b*g.y,d.style.width=g.x+"px",d.style.height=g.y+"px",Dr&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Io.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[pt(l)]=l;var d=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var d=l._order,g=d.next,b=d.prev;g?g.prev=b:this._drawLast=b,b?b.next=g:this._drawFirst=g,delete l._order,delete this._layers[pt(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if("string"==typeof l.options.dashArray){var b,D,d=l.options.dashArray.split(/[, ]+/),g=[];for(D=0;D<d.length;D++){if(b=Number(d[D]),isNaN(b))return;g.push(b)}l.options._dashArray=g}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||gn(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var d=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new _n,this._redrawBounds.extend(l._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(l._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var d=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,d=this._redrawBounds;if(this._ctx.save(),d){var g=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)l=b.layer,(!d||l._pxBounds&&l._pxBounds.intersects(d))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,d){if(this._drawing){var g,b,D,I,z=l._parts,F=z.length,K=this._ctx;if(F){for(K.beginPath(),g=0;g<F;g++){for(b=0,D=z[g].length;b<D;b++)K[b?"lineTo":"moveTo"]((I=z[g][b]).x,I.y);d&&K.closePath()}this._fillStroke(K,l)}}},_updateCircle:function(l){if(this._drawing&&!l._empty()){var d=l._point,g=this._ctx,b=Math.max(Math.round(l._radius),1),D=(Math.max(Math.round(l._radiusY),1)||b)/b;1!==D&&(g.save(),g.scale(1,D)),g.beginPath(),g.arc(d.x,d.y/D,b,0,2*Math.PI,!1),1!==D&&g.restore(),this._fillStroke(g,l)}},_fillStroke:function(l,d){var g=d.options;g.fill&&(l.globalAlpha=g.fillOpacity,l.fillStyle=g.fillColor||g.color,l.fill(g.fillRule||"evenodd")),g.stroke&&0!==g.weight&&(l.setLineDash&&l.setLineDash(d.options&&d.options._dashArray||[]),l.globalAlpha=g.opacity,l.lineWidth=g.weight,l.strokeStyle=g.color,l.lineCap=g.lineCap,l.lineJoin=g.lineJoin,l.stroke())},_onClick:function(l){for(var g,b,d=this._map.mouseEventToLayerPoint(l),D=this._drawFirst;D;D=D.next)(g=D.layer).options.interactive&&g._containsPoint(d)&&("click"!==l.type&&"preclick"===l.type||!this._map._draggableMoved(g))&&(b=g);b&&(kr(l),this._fireEvent([b],l))},_onMouseMove:function(l){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var d=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,d)}},_handleMouseOut:function(l){var d=this._hoveredLayer;d&&(sn(this._container,"leaflet-interactive"),this._fireEvent([d],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,d){if(!this._mouseHoverThrottled){for(var g,b,D=this._drawFirst;D;D=D.next)(g=D.layer).options.interactive&&g._containsPoint(d)&&(b=g);b!==this._hoveredLayer&&(this._handleMouseOut(l),b&&(it(this._container,"leaflet-interactive"),this._fireEvent([b],l,"mouseover"),this._hoveredLayer=b)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],l),this._mouseHoverThrottled=!0,setTimeout(jt(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,d,g){this._map._fireDOMEvent(d,g||d.type,l)},_bringToFront:function(l){var d=l._order;if(d){var g=d.next,b=d.prev;if(!g)return;g.prev=b,b?b.next=g:g&&(this._drawFirst=g),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(l)}},_bringToBack:function(l){var d=l._order;if(d){var g=d.next,b=d.prev;if(!b)return;b.next=g,g?g.prev=b:b&&(this._drawLast=b),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(l)}}});function pi(l){return lt?new Pf(l):null}var eu=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),$d={_initContainer:function(){this._container=yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Io.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var d=l._container=eu("shape");it(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",l._path=eu("path"),d.appendChild(l._path),this._updateStyle(l),this._layers[pt(l)]=l},_addPath:function(l){var d=l._container;this._container.appendChild(d),l.options.interactive&&l.addInteractiveTarget(d)},_removePath:function(l){var d=l._container;zt(d),l.removeInteractiveTarget(d),delete this._layers[pt(l)]},_updateStyle:function(l){var d=l._stroke,g=l._fill,b=l.options,D=l._container;D.stroked=!!b.stroke,D.filled=!!b.fill,b.stroke?(d||(d=l._stroke=eu("stroke")),D.appendChild(d),d.weight=b.weight+"px",d.color=b.color,d.opacity=b.opacity,d.dashStyle=b.dashArray?Sr(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):"",d.endcap=b.lineCap.replace("butt","flat"),d.joinstyle=b.lineJoin):d&&(D.removeChild(d),l._stroke=null),b.fill?(g||(g=l._fill=eu("fill")),D.appendChild(g),g.color=b.fillColor||b.color,g.opacity=b.fillOpacity):g&&(D.removeChild(g),l._fill=null)},_updateCircle:function(l){var d=l._point.round(),g=Math.round(l._radius),b=Math.round(l._radiusY||g);this._setPath(l,l._empty()?"M0 0":"AL "+d.x+","+d.y+" "+g+","+b+" 0,23592600")},_setPath:function(l,d){l._path.v=d},_bringToFront:function(l){di(l._container)},_bringToBack:function(l){Le(l._container)}},Vi=fa?eu:la,tu=Io.extend({getEvents:function(){var l=Io.prototype.getEvents.call(this);return l.zoomstart=this._onZoomStart,l},_initContainer:function(){this._container=Vi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Vi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){zt(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Io.prototype._update.call(this);var l=this._bounds,d=l.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,g.setAttribute("width",d.x),g.setAttribute("height",d.y)),vn(g,l.min),g.setAttribute("viewBox",[l.min.x,l.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(l){var d=l._path=Vi("path");l.options.className&&it(d,l.options.className),l.options.interactive&&it(d,"leaflet-interactive"),this._updateStyle(l),this._layers[pt(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){zt(l._path),l.removeInteractiveTarget(l._path),delete this._layers[pt(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var d=l._path,g=l.options;d&&(g.stroke?(d.setAttribute("stroke",g.color),d.setAttribute("stroke-opacity",g.opacity),d.setAttribute("stroke-width",g.weight),d.setAttribute("stroke-linecap",g.lineCap),d.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?d.setAttribute("stroke-dasharray",g.dashArray):d.removeAttribute("stroke-dasharray"),g.dashOffset?d.setAttribute("stroke-dashoffset",g.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),g.fill?(d.setAttribute("fill",g.fillColor||g.color),d.setAttribute("fill-opacity",g.fillOpacity),d.setAttribute("fill-rule",g.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(l,d){this._setPath(l,ca(l._parts,d))},_updateCircle:function(l){var d=l._point,g=Math.max(Math.round(l._radius),1),D="a"+g+","+(Math.max(Math.round(l._radiusY),1)||g)+" 0 1,0 ",I=l._empty()?"M0 0":"M"+(d.x-g)+","+d.y+D+2*g+",0 "+D+2*-g+",0 ";this._setPath(l,I)},_setPath:function(l,d){l._path.setAttribute("d",d)},_bringToFront:function(l){di(l._path)},_bringToBack:function(l){Le(l._path)}});function Of(l){return Ue||fa?new tu(l):null}fa&&tu.include($d),Ie.include({getRenderer:function(l){var d=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(l){if("overlayPane"===l||void 0===l)return!1;var d=this._paneRenderers[l];return void 0===d&&(d=this._createRenderer({pane:l}),this._paneRenderers[l]=d),d},_createRenderer:function(l){return this.options.preferCanvas&&pi(l)||Of(l)}});var dl=cc.extend({initialize:function(l,d){cc.prototype.initialize.call(this,this._boundsToLatLngs(l),d)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return[(l=ii(l)).getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});tu.create=Vi,tu.pointsToPath=ca,As.geometryToLayer=Df,As.coordsToLatLng=L_,As.coordsToLatLngs=Ef,As.latLngToCoords=$_,As.latLngsToCoords=kf,As.getFeature=Xc,As.asFeature=Mf,Ie.mergeOptions({boxZoom:!0});var G_=Ge.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){$e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){zt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||1!==l.which&&1!==l.button)return!1;this._clearDeferredResetState(),this._resetState(),xs(),Pd(),this._startPoint=this._map.mouseEventToContainerPoint(l),$e(document,{contextmenu:Er,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=yt("div","leaflet-zoom-box",this._container),it(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var d=new _n(this._point,this._startPoint),g=d.getSize();vn(this._box,d.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(zt(this._box),sn(this._container,"leaflet-crosshair")),_a(),Zt(),Dt(document,{contextmenu:Er,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if((1===l.which||1===l.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(jt(this._resetState,this),0);var d=new xn(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(l){27===l.keyCode&&this._finish()}});Ie.addInitHook("addHandler","boxZoom",G_),Ie.mergeOptions({doubleClickZoom:!0});var nu=Ge.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var d=this._map,g=d.getZoom(),b=d.options.zoomDelta,D=l.originalEvent.shiftKey?g-b:g+b;"center"===d.options.doubleClickZoom?d.setZoom(D):d.setZoomAround(l.containerPoint,D)}});Ie.addInitHook("addHandler","doubleClickZoom",nu),Ie.mergeOptions({dragging:!0,inertia:!pn,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var W_=Ge.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new At(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}it(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){sn(this._map._container,"leaflet-grab"),sn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=ii(this._map.options.maxBounds);this._offsetLimit=cr(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var d=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(d),this._prunePositions(d)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,d){return l-(l-d)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var l=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;l.x<d.min.x&&(l.x=this._viscousLimit(l.x,d.min.x)),l.y<d.min.y&&(l.y=this._viscousLimit(l.y,d.min.y)),l.x>d.max.x&&(l.x=this._viscousLimit(l.x,d.max.x)),l.y>d.max.y&&(l.y=this._viscousLimit(l.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,d=Math.round(l/2),g=this._initialWorldOffset,b=this._draggable._newPos.x,D=(b-d+g)%l+d-g,I=(b+d+g)%l-d-g,z=Math.abs(D+g)<Math.abs(I+g)?D:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(l){var d=this._map,g=d.options,b=!g.inertia||this._times.length<2;if(d.fire("dragend",l),b)d.fire("moveend");else{this._prunePositions(+new Date);var D=this._lastPos.subtract(this._positions[0]),z=g.easeLinearity,F=D.multiplyBy(z/((this._lastTime-this._times[0])/1e3)),K=F.distanceTo([0,0]),k=Math.min(g.inertiaMaxSpeed,K),x=F.multiplyBy(k/K),Ce=k/(g.inertiaDeceleration*z),$t=x.multiplyBy(-Ce/2).round();$t.x||$t.y?($t=d._limitOffset($t,d.options.maxBounds),gn(function(){d.panBy($t,{duration:Ce,easeLinearity:z,noMoveStart:!0,animate:!0})})):d.fire("moveend")}}});Ie.addInitHook("addHandler","dragging",W_),Ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ns=Ge.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),$e(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,d=document.documentElement,g=l.scrollTop||d.scrollTop,b=l.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(b,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var b,D,d=this._panKeys={},g=this.keyCodes;for(b=0,D=g.left.length;b<D;b++)d[g.left[b]]=[-1*l,0];for(b=0,D=g.right.length;b<D;b++)d[g.right[b]]=[l,0];for(b=0,D=g.down.length;b<D;b++)d[g.down[b]]=[0,l];for(b=0,D=g.up.length;b<D;b++)d[g.up[b]]=[0,-1*l]},_setZoomDelta:function(l){var b,D,d=this._zoomKeys={},g=this.keyCodes;for(b=0,D=g.zoomIn.length;b<D;b++)d[g.zoomIn[b]]=l;for(b=0,D=g.zoomOut.length;b<D;b++)d[g.zoomOut[b]]=-l},_addHooks:function(){$e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var b,d=l.keyCode,g=this._map;if(d in this._panKeys)(!g._panAnim||!g._panAnim._inProgress)&&(b=this._panKeys[d],l.shiftKey&&(b=xt(b).multiplyBy(3)),g.panBy(b),g.options.maxBounds&&g.panInsideBounds(g.options.maxBounds));else if(d in this._zoomKeys)g.setZoom(g.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[d]);else{if(27!==d||!g._popup||!g._popup.options.closeOnEscapeKey)return;g.closePopup()}Er(l)}}});Ie.addInitHook("addHandler","keyboard",Ns),Ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Af=Ge.extend({addHooks:function(){$e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var d=O_(l),g=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var b=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(jt(this._performZoom,this),b),Er(l)},_performZoom:function(){var l=this._map,d=l.getZoom(),g=this._map.options.zoomSnap||0;l._stop();var D=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,I=g?Math.ceil(D/g)*g:D,z=l._limitZoom(d+(this._delta>0?I:-I))-d;this._delta=0,this._startTime=null,z&&("center"===l.options.scrollWheelZoom?l.setZoom(d+z):l.setZoomAround(this._lastMousePos,d+z))}});Ie.addInitHook("addHandler","scrollWheelZoom",Af),Ie.mergeOptions({tap:!0,tapTolerance:15});var Ud=Ge.extend({addHooks:function(){$e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(l.touches){if(pr(l),this._fireClick=!0,l.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var d=l.touches[0],g=d.target;this._startPos=this._newPos=new Je(d.clientX,d.clientY),g.tagName&&"a"===g.tagName.toLowerCase()&&it(g,"leaflet-active"),this._holdTimeout=setTimeout(jt(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",d))},this),1e3),this._simulateEvent("mousedown",d),$e(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(l){if(clearTimeout(this._holdTimeout),Dt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&l&&l.changedTouches){var d=l.changedTouches[0],g=d.target;g&&g.tagName&&"a"===g.tagName.toLowerCase()&&sn(g,"leaflet-active"),this._simulateEvent("mouseup",d),this._isTapValid()&&this._simulateEvent("click",d)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(l){var d=l.touches[0];this._newPos=new Je(d.clientX,d.clientY),this._simulateEvent("mousemove",d)},_simulateEvent:function(l,d){var g=document.createEvent("MouseEvents");g._simulated=!0,d.target._simulatedClick=!0,g.initMouseEvent(l,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(g)}});Tt&&(!Ri||Yo)&&Ie.addInitHook("addHandler","tap",Ud),Ie.mergeOptions({touchZoom:Tt&&!pn,bounceAtZoomLimits:!0});var et=Ge.extend({addHooks:function(){it(this._map._container,"leaflet-touch-zoom"),$e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){sn(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var d=this._map;if(l.touches&&2===l.touches.length&&!d._animatingZoom&&!this._zooming){var g=d.mouseEventToContainerPoint(l.touches[0]),b=d.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),"center"!==d.options.touchZoom&&(this._pinchStartLatLng=d.containerPointToLatLng(g.add(b)._divideBy(2))),this._startDist=g.distanceTo(b),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),$e(document,"touchmove",this._onTouchMove,this),$e(document,"touchend",this._onTouchEnd,this),pr(l)}},_onTouchMove:function(l){if(l.touches&&2===l.touches.length&&this._zooming){var d=this._map,g=d.mouseEventToContainerPoint(l.touches[0]),b=d.mouseEventToContainerPoint(l.touches[1]),D=g.distanceTo(b)/this._startDist;if(this._zoom=d.getScaleZoom(D,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&D<1||this._zoom>d.getMaxZoom()&&D>1)&&(this._zoom=d._limitZoom(this._zoom)),"center"===d.options.touchZoom){if(this._center=this._startLatLng,1===D)return}else{var I=g._add(b)._divideBy(2)._subtract(this._centerPoint);if(1===D&&0===I.x&&0===I.y)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),Mn(this._animRequest);var z=jt(d._move,d,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=gn(z,this,!0),pr(l)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Mn(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ie.addInitHook("addHandler","touchZoom",et),Ie.BoxZoom=G_,Ie.DoubleClickZoom=nu,Ie.Drag=W_,Ie.Keyboard=Ns,Ie.ScrollWheelZoom=Af,Ie.Tap=Ud,Ie.TouchZoom=et,ue.version="1.7.1",ue.Control=Mr,ue.control=al,ue.Browser=I_,ue.Evented=pe,ue.Mixin=T1,ue.Util=rl,ue.Class=je,ue.Handler=Ge,ue.extend=tt,ue.bind=jt,ue.stamp=pt,ue.setOptions=Xt,ue.DomEvent=Eo,ue.DomUtil=Ct,ue.PosAnimation=ns,ue.Draggable=At,ue.LineUtil=Rd,ue.PolyUtil=Tf,ue.Point=Je,ue.point=xt,ue.Bounds=_n,ue.bounds=cr,ue.Transformation=bo,ue.transformation=on,ue.Projection=sc,ue.LatLng=Lt,ue.latLng=wn,ue.LatLngBounds=xn,ue.latLngBounds=ii,ue.CRS=ur,ue.GeoJSON=As,ue.geoJSON=E1,ue.geoJson=ED,ue.Layer=Kn,ue.LayerGroup=rs,ue.layerGroup=function(l,d){return new rs(l,d)},ue.FeatureGroup=Kt,ue.featureGroup=function(l,d){return new Kt(l,d)},ue.ImageOverlay=xf,ue.imageOverlay=function(l,d,g){return new xf(l,d,g)},ue.VideoOverlay=If,ue.videoOverlay=function V_(l,d,g){return new If(l,d,g)},ue.SVGOverlay=k1,ue.svgOverlay=function MD(l,d,g){return new k1(l,d,g)},ue.DivOverlay=Sa,ue.Popup=Xr,ue.popup=function(l,d){return new Xr(l,d)},ue.Tooltip=Ft,ue.tooltip=function(l,d){return new Ft(l,d)},ue.Icon=Ca,ue.icon=function F_(l){return new Ca(l)},ue.DivIcon=H_,ue.divIcon=function x1(l){return new H_(l)},ue.Marker=Os,ue.marker=function Yi(l,d){return new Os(l,d)},ue.TileLayer=dc,ue.tileLayer=Ld,ue.GridLayer=uc,ue.gridLayer=function j_(l){return new uc(l)},ue.SVG=tu,ue.svg=Of,ue.Renderer=Io,ue.Canvas=Pf,ue.canvas=pi,ue.Path=ul,ue.CircleMarker=Ui,ue.circleMarker=function Mo(l,d){return new Ui(l,d)},ue.Circle=Yc,ue.circle=function Jc(l,d,g){return new Yc(l,d,g)},ue.Polyline=Jr,ue.polyline=function xo(l,d){return new Jr(l,d)},ue.Polygon=cc,ue.polygon=function DD(l,d){return new cc(l,d)},ue.Rectangle=dl,ue.rectangle=function Pr(l,d){return new dl(l,d)},ue.Map=Ie,ue.map=function Ad(l,d){return new Ie(l,d)};var q_=window.L;ue.noConflict=function(){return window.L=q_,this},window.L=ue}(vo)},731:tl=>{function vo(ue){return Promise.resolve().then(()=>{var Oi=new Error("Cannot find module '"+ue+"'");throw Oi.code="MODULE_NOT_FOUND",Oi})}vo.keys=()=>[],vo.resolve=vo,vo.id=731,tl.exports=vo}},tl=>{tl(tl.s=993)}]);